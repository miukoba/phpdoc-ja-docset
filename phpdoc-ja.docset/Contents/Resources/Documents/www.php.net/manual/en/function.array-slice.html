<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>配列の一部を展開する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-shift.html">array_shift</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-splice.html">array_splice</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-slice" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_slice</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_slice</span> &mdash; <span class="dc-title">配列の一部を展開する</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-slice-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_slice</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$offset</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$preserve_keys</code><span class="initializer"> = false</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
    <span class="function"><strong>array_slice()</strong></span>は、<em><code class="parameter">array</code></em>
   から引数 <em><code class="parameter">offset</code></em> および
   <em><code class="parameter">length</code></em> で指定された連続する要素を返します。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.array-slice-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">array</code></em></span>
     <dd>

      <p class="para">
       入力の配列。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">offset</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">offset</code></em> が負の値ではない場合、要素位置の計算は、
       配列 <em><code class="parameter">array</code></em> の offset から始められます。
       <em><code class="parameter">offset</code></em> が負の場合、要素位置の計算は
       <em><code class="parameter">array</code></em> の最後から行われます。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">length</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">length</code></em>が指定され、正の場合、
       配列の要素の中から最大でその数までの要素を返します。
       配列の要素数が <em><code class="parameter">length</code></em> より少ない場合は、
       配列から取得できる要素だけを返します。<em><code class="parameter">length</code></em>
       が指定され、負の場合、配列の末尾から連続する複数の要素が返されます。
       省略された場合、<em><code class="parameter">offset</code></em>
       から配列の最後までの全ての要素が返されます。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">preserve_keys</code></em></span>
     <dd>

      <p class="para">
        <span class="function"><strong>array_slice()</strong></span> はデフォルトで配列の数値キーを並べなおし、
       リセットすることに注意してください。
       <em><code class="parameter">preserve_keys</code></em> を <strong><code>TRUE</code></strong>
       にする事でこの動作を変更することができます。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-slice-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   切り取った部分を返します。
  </p>
 </div>

  <div class="refsect1 changelog" id="refsect1-function.array-slice-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.0.2</td>
       <td>
        オプションのパラメータ <em><code class="parameter">preserve_keys</code></em> が追加されました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-slice-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4955">
    <p><strong>例1  <span class="function"><strong>array_slice()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"e"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"c",&nbsp;"d",&nbsp;"e"&nbsp;を返す<br /></span><span style="color: #0000BB">$output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"d"&nbsp;を返す<br /></span><span style="color: #0000BB">$output&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"a",&nbsp;"b",&nbsp;"c"&nbsp;を返す<br /><br />//&nbsp;配列キーの違いに注意<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; c
    [1] =&gt; d
)
Array
(
    [2] =&gt; c
    [3] =&gt; d
)
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-slice-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.array-splice.html" class="function" rel="rdfs-seeAlso">array_splice()</a> - 配列の一部を削除し、他の要素で置換する</span></li>
    <li class="member"> <span class="function"><a href="function.unset.html" class="function" rel="rdfs-seeAlso">unset()</a> - 指定した変数の割当を解除する</span></li>
    <li class="member"> <span class="function"><a href="function.array-chunk.html" class="function" rel="rdfs-seeAlso">array_chunk()</a> - 配列を分割する</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112359""></a>
  <div class="note">
   <strong class="user">Ray.Paseur often uses Gmail</strong>
   <a href="#112359" class="date">06-Jun-2013 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// CHOP $num ELEMENTS OFF THE FRONT OF AN ARRAY<br />
// RETURN THE CHOP, SHORTENING THE SUBJECT ARRAY<br />
</span><span class="keyword">function </span><span class="default">array_chop</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$num</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104367""></a>
  <div class="note">
   <strong class="user">gary at wits dot sg</strong>
   <a href="#104367" class="date">11-Jun-2011 08:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found this useful. <br />
The following is a function used to shuffle a very specific part of the array, by providing start and end index.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_shuffle_section</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$head </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$body </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">-</span><span class="default">$s</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tail </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$body</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$head</span><span class="keyword">,</span><span class="default">$body</span><span class="keyword">,</span><span class="default">$tail</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103162""></a>
  <div class="note">
   <strong class="user">Nathan - thefiscster510 at gmail dot com</strong>
   <a href="#103162" class="date">29-Mar-2011 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to remove a specified entry from an array i made this mwethod...<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">"Entry1"</span><span class="keyword">,</span><span class="string">"entry2"</span><span class="keyword">,</span><span class="string">"entry3"</span><span class="keyword">);<br />
<br />
</span><span class="default">$int </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//Number of entries in the array<br />
</span><span class="default">$int2 </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="comment">//Starter array spot... it will begine its search at 0.<br />
</span><span class="default">$del_num </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//Represents the second entry in the array... which is the one we will happen to remove this time... i.e. 0 = first entry, 1 = second entry, 2 = third...........<br />
<br />
</span><span class="default">$newarray </span><span class="keyword">= array(); </span><span class="comment">//Empty array that will be the new array minus the specified entry...<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//print original array contents<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$newarray</span><span class="keyword">). </span><span class="string">"&lt;br&gt;"</span><span class="keyword">; </span><span class="comment">//print the new empty array<br />
<br />
</span><span class="keyword">do<br />
{<br />
</span><span class="default">$user </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$int2</span><span class="keyword">];<br />
</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$user</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
if (</span><span class="default">$key </span><span class="keyword">== </span><span class="default">$del_num</span><span class="keyword">)<br />
{<br />
<br />
}<br />
else<br />
{<br />
</span><span class="default">$newarray</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$int2</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">$int2 </span><span class="keyword">= </span><span class="default">$int2 </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
} while (</span><span class="default">$int2 </span><span class="keyword">&lt; </span><span class="default">$int</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$newarray</span><span class="keyword">). </span><span class="string">"&lt;br&gt;"</span><span class="keyword">; </span><span class="comment">//print the new array<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102383""></a>
  <div class="note">
   <strong class="user">delew</strong>
   <a href="#102383" class="date">11-Feb-2011 10:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
just a little tip.<br />
to preserve keys without providing length: use NULL<br />
<br />
array_slice($array, $my_offset, NULL, true);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102215""></a>
  <div class="note">
   <strong class="user">xananax at yelostudio dot com</strong>
   <a href="#102215" class="date">03-Feb-2011 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Reorders an array by keys according to a list of values.<br />
&nbsp;* @param array $array the array to reorder. Passed by reference<br />
&nbsp;* @param array $list the list to reorder by<br />
&nbsp;* @param boolean $keepRest if set to FALSE, anything not in the $list array will be removed.<br />
&nbsp;* @param boolean $prepend if set to TRUE, will prepend the remaining values instead of appending them<br />
&nbsp;* @author xananax AT yelostudio DOT com<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_reorder</span><span class="keyword">(array &amp;</span><span class="default">$array</span><span class="keyword">,array </span><span class="default">$list</span><span class="keyword">,</span><span class="default">$keepRest</span><span class="keyword">=</span><span class="default">TRUE</span><span class="keyword">,</span><span class="default">$prepend</span><span class="keyword">=</span><span class="default">FALSE</span><span class="keyword">,</span><span class="default">$preserveKeys</span><span class="keyword">=</span><span class="default">TRUE</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$list </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tempValue </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$preserveKeys<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$tempValue</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">$keepRest </span><span class="keyword">?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$prepend</span><span class="keyword">? <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">+</span><span class="default">$temp<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">:</span><span class="default">$temp</span><span class="keyword">+</span><span class="default">$array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; : </span><span class="default">$temp</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/** exemple ** /<br />
$a = array(<br />
&nbsp;&nbsp;&nbsp; 'a'&nbsp; &nbsp; =&gt;&nbsp; &nbsp; 'a',<br />
&nbsp;&nbsp;&nbsp; 'b'&nbsp; &nbsp; =&gt;&nbsp; &nbsp; 'b',<br />
&nbsp;&nbsp;&nbsp; 'c'&nbsp; &nbsp; =&gt;&nbsp; &nbsp; 'c',<br />
&nbsp;&nbsp;&nbsp; 'd'&nbsp; &nbsp; =&gt;&nbsp; &nbsp; 'd',<br />
&nbsp;&nbsp;&nbsp; 'e'&nbsp; &nbsp; =&gt;&nbsp; &nbsp; 'e'<br />
);<br />
$order = array('c','b','a');<br />
<br />
array_reorder($a,$order,TRUE);<br />
echo '&lt;pre&gt;';<br />
print_r($a);<br />
echo '&lt;/pre&gt;';<br />
/** exemple end **/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100496""></a>
  <div class="note">
   <strong class="user">joel dot a dot villarreal at gmail dot com</strong>
   <a href="#100496" class="date">20-Oct-2010 12:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An implementation of array_slice that do not resets the cursor.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_from_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sliced </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$start </span><span class="keyword">&lt;= </span><span class="default">$k </span><span class="keyword">&amp;&amp; </span><span class="default">$k </span><span class="keyword">&lt;= </span><span class="default">$start </span><span class="keyword">+ </span><span class="default">$length </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sliced</span><span class="keyword">[] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$sliced</span><span class="keyword">) == </span><span class="default">$length</span><span class="keyword">) break;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sliced</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Cheers,<br />
Joel A. Villarreal Bertoldi</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97145""></a>
  <div class="note">
   <strong class="user">yuwas at ht dot cx</strong>
   <a href="#97145" class="date">04-Apr-2010 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
By combining this with str_split() and implode(),slices can also be excerpted from strings with the following simple function:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">str_slice</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$offset</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">999</span><span class="keyword">,</span><span class="default">$preserve_keys</span><span class="keyword">=</span><span class="default">False</span><span class="keyword">){<br />
&nbsp; if( </span><span class="default">$length </span><span class="keyword">== </span><span class="default">999 </span><span class="keyword">){ </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)-</span><span class="default">$offset </span><span class="keyword">};<br />
&nbsp; </span><span class="default">$slice_arr </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">),</span><span class="default">$offset</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">,</span><span class="default">$preserve_keys</span><span class="keyword">);<br />
&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$slice_arr</span><span class="keyword">);<br />
};<br />
</span><span class="default">?&gt;<br />
</span><br />
Perhaps there's a better way to preset $length.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94138""></a>
  <div class="note">
   <strong class="user">jamie at jamiechong dot ca</strong>
   <a href="#94138" class="date">19-Oct-2009 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A flexible array_split function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// split the given array into n number of pieces<br />
</span><span class="keyword">function </span><span class="default">array_split</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">)<br />
{&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$pieces </span><span class="keyword">&lt; </span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newCount </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)/</span><span class="default">$pieces</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$newCount</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_split</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$newCount</span><span class="keyword">), </span><span class="default">$pieces</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(array(</span><span class="default">$a</span><span class="keyword">),</span><span class="default">$b</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// Examples:<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br />
</span><span class="default">array_split</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// array(array(1,2,3,4,5), array(6,7,8,9,10))<br />
</span><span class="default">array_split</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// array(array(1,2,3,4), array(5,6,7), array(8,9,10))<br />
</span><span class="default">array_split</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// array(array(1,2,3), array(4,5,6), array(7,8), array(9,10))<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90224""></a>
  <div class="note">
   <strong class="user">jamon at clearsightdesign dot com</strong>
   <a href="#90224" class="date">11-Apr-2009 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was trying to find a good way to find the previous several and next several results from an array created in a MySQL query. I found that most MySQL solutions to this problem were complex. Here is a simple function that returns the previous and next rows from the array.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*<br />
** function array_surround by Jamon Holmgren of ClearSight Design<br />
** Version 1.0 - 4/10/2009<br />
** Please direct comments and questions to my first name at symbol clearsightdesign.com<br />
**<br />
** Returns an array with only the $before and $after number of results<br />
** This is set to work best with MySQL data results<br />
** Use this to find the rows immediately before and after a particular row, as many as you want<br />
**<br />
** Example usage:<br />
**&nbsp;&nbsp; $mysql_ar is an array of results from a MySQL query and the current id is $cur_id<br />
**&nbsp;&nbsp; We want to get the row before this one and five rows afterward<br />
**<br />
** $near_rows = array_surround($mysql_ar, "id", $cur_id, 1, 5)<br />
**<br />
**&nbsp;&nbsp; Previous row is now $near_rows[-1]<br />
**&nbsp;&nbsp; Current row is now $near_rows[0]<br />
**&nbsp;&nbsp; Next row is $near_rows[1] ... etc<br />
**&nbsp;&nbsp; If there is no previous row, $near_rows[-1] will not be set...test for it with is_array($near_rows[-1])<br />
**<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_surround</span><span class="keyword">(</span><span class="default">$src_array</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$before </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">, </span><span class="default">$after </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$src_array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// reset all the keys to 0 through whatever in case they aren't sequential<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_array </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$src_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// now loop through and find the key in array that matches the criteria in $field and $value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$new_array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$s</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$s</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">] == </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Found the one we wanted<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ck </span><span class="keyword">= </span><span class="default">$k</span><span class="keyword">; </span><span class="comment">// put the key in the $ck (current key)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$ck</span><span class="keyword">)) { </span><span class="comment">// Found it!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result_start </span><span class="keyword">= </span><span class="default">$ck </span><span class="keyword">- </span><span class="default">$before</span><span class="keyword">; </span><span class="comment">// Set the start key<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result_length </span><span class="keyword">= </span><span class="default">$before </span><span class="keyword">+ </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">$after</span><span class="keyword">; </span><span class="comment">// Set the number of keys to return<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$result_start </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) { </span><span class="comment">// Oops, start key is before first result<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result_length </span><span class="keyword">= </span><span class="default">$result_length </span><span class="keyword">+ </span><span class="default">$result_start</span><span class="keyword">; </span><span class="comment">// Reduce the number of keys to return<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result_start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="comment">// Set the start key to the first result<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result_temp </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$result_start</span><span class="keyword">, </span><span class="default">$result_length</span><span class="keyword">); </span><span class="comment">// Slice out the results we want<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Now we have an array, but we want array[-$before] to array[$after] not 0 to whatever.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$result_temp </span><span class="keyword">as </span><span class="default">$rk </span><span class="keyword">=&gt; </span><span class="default">$rt</span><span class="keyword">) { </span><span class="comment">// set all the keys to -$before to +$after<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$result_start </span><span class="keyword">- </span><span class="default">$ck </span><span class="keyword">+ </span><span class="default">$rk</span><span class="keyword">] = </span><span class="default">$rt</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else { </span><span class="comment">// didn't find it!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else { </span><span class="comment">// They didn't send an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope you find this useful! I welcome constructive criticism or comments or of course praise ;) -- just e-mail me.<br />
<br />
- Jamon Holmgren</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87002""></a>
  <div class="note">
   <strong class="user">Mr. P</strong>
   <a href="#87002" class="date">14-Nov-2008 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that offset is not the same thing as key. Offset always starts at 0, while keys might be any number.<br />
<br />
So this:<br />
<br />
<span class="default">&lt;?php print_r</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(array(</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="default">13 </span><span class="keyword">=&gt; </span><span class="default">13</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">)); </span><span class="default">?&gt;<br />
</span><br />
will result in this:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 5<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 13<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85695""></a>
  <div class="note">
   <strong class="user">s0i0m at dreamevilconcepts dot com</strong>
   <a href="#85695" class="date">12-Sep-2008 04:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the varname function referenced from the array_search page, submitted by dcez at land dot ru. I created a multi-dimensional array splice function. It's usage is like so:<br />
<br />
$array['admin'] = array('blah1', 'blah2');<br />
$array['voice'] = array('blah3', 'blah4');<br />
array_cut('blah4', $array);<br />
<br />
...Would strip blah4 from the array, no matter where the position of it was in the array ^^ Returning this...<br />
<br />
Array ( [admin] =&gt; Array ( [0] =&gt; blah1 [1] =&gt; blah2 ) [voice] =&gt; Array ( [0] =&gt; blah3 ) ) <br />
<br />
Here is the code...<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">varname </span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// varname function by dcez at land dot ru<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return (isset(</span><span class="default">$var</span><span class="keyword">)) ? </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$GLOBALS</span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">array_cut</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$v</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] === </span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="default">varname</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)][</span><span class="default">$k</span><span class="keyword">], </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Check out dreamevilconcept's forum for more innovative creations!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82950""></a>
  <div class="note">
   <strong class="user">ted.devito at 9gmail9 dot 99com</strong>
   <a href="#82950" class="date">03-May-2008 06:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
based on worldclimb's arem(), here is a recursive array value removal tool that can work with multidimensional arrays.<br />
<br />
function remove_from_array($array,$value){<br />
&nbsp;&nbsp;&nbsp; $clear = true;<br />
&nbsp;&nbsp;&nbsp; $holding=array();<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach($array as $k =&gt; $v){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (is_array($v)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $holding [$k] = remove_from_array ($v, $value);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ($value == $v) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $clear = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif($value != $v){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $holding[$k]=$v; // removes an item by combing through the array in order and saving the good stuff<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if ($clear) return $holding; // only pass back the holding array if we didn't find the value <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81973""></a>
  <div class="note">
   <strong class="user">worldclimb at 99gmail99 dot com</strong>
   <a href="#81973" class="date">21-Mar-2008 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_slice can be used to remove elements from an array but it's pretty simple to use a custom function.<br />
<br />
One day array_remove() might become part of PHP and will likely be a reserved function name, hence the unobvious choice for this function's names.<br />
<br />
&lt;?<br />
function arem($array,$value){<br />
&nbsp;&nbsp;&nbsp; $holding=array();<br />
&nbsp;&nbsp;&nbsp; foreach($array as $k =&gt; $v){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($value!=$v){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $holding[$k]=$v;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return $holding;<br />
}<br />
<br />
function akrem($array,$key){<br />
&nbsp;&nbsp;&nbsp; $holding=array();<br />
&nbsp;&nbsp;&nbsp; foreach($array as $k =&gt; $v){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($key!=$k){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $holding[$k]=$v;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return $holding;<br />
}<br />
<br />
$lunch = array('sandwich' =&gt; 'cheese', 'cookie'=&gt;'oatmeal','drink' =&gt; 'tea','fruit' =&gt; 'apple');<br />
echo '&lt;pre&gt;';<br />
print_r($lunch);<br />
$lunch=arem($lunch,'apple');<br />
print_r($lunch);<br />
$lunch=akrem($lunch,'sandwich');<br />
print_r($lunch);<br />
echo '&lt;/pre&gt;';<br />
?&gt;<br />
<br />
(remove 9's in email)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78257""></a>
  <div class="note">
   <strong class="user">aexchecker at yahoo dot com</strong>
   <a href="#78257" class="date">04-Oct-2007 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* @desc<br />
&nbsp;* Combines two arrays by inserting one into the other at a given position then<br />
&nbsp;* returns the result.<br />
&nbsp;*<br />
&nbsp;* @since&nbsp;&nbsp; 2007/10/04<br />
&nbsp;* @version v0.7 2007/10/04 18:47:52<br />
&nbsp;* @author&nbsp; AexChecker &lt;AexChecker@yahoo.com&gt;<br />
&nbsp;* @param&nbsp;&nbsp; array $source<br />
&nbsp;* @param&nbsp;&nbsp; array $destination<br />
&nbsp;* @param&nbsp;&nbsp; int [optional] $offset<br />
&nbsp;* @param&nbsp;&nbsp; int [optional] $length<br />
&nbsp;* @return&nbsp; array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_insert</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$destination</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">) || empty(</span><span class="default">$source</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">) &amp;&amp; !empty(</span><span class="default">$destination</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$destination</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">$source</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">var2int</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$offset </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$offset </span><span class="keyword">=== -</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">), </span><span class="default">$source</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$source</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, ++</span><span class="default">$offset</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$offset </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$destination_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">var2int</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$offset </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$destination_count </span><span class="keyword">- </span><span class="default">$offset </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">$source</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; } else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$t </span><span class="keyword">= </span><span class="default">$destination_count </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">) &lt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$destination</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$t</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$length </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$length</span><span class="keyword">+= </span><span class="default">$offset</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; !(</span><span class="default">$length </span><span class="keyword">* -</span><span class="default">1 </span><span class="keyword">&lt; </span><span class="default">$destination_count</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$source</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">$offset</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$source</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76455""></a>
  <div class="note">
   <strong class="user">phpnotasp at gmail dot com</strong>
   <a href="#76455" class="date">16-Jul-2007 11:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted that this function does NOT modify the original array. So if you need to array_pop() or array_shift() without modifying the original array, you can use array_slice().<br />
<br />
<span class="default">&lt;?php<br />
<br />
$input </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">);<br />
</span><span class="default">$output </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; b<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; c<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; c<br />
)<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75595""></a>
  <div class="note">
   <strong class="user">cpa at NOSPAM dot conceptivator dot com</strong>
   <a href="#75595" class="date">07-Jun-2007 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
'gportlock at gembiz dot co dot uk' has an error in his limitText function. It simply takes a text string, then cuts off the first X words and returns the rest of the string. I believe the intended use is to return only the first X words and cut off the rest.<br />
<br />
The correct version should be (notice the inserted 0 offset):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">limitText</span><span class="keyword">( </span><span class="default">$text</span><span class="keyword">, </span><span class="default">$wordCount </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$wordArray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$wordArray</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$wordCount</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">( </span><span class="string">" "</span><span class="keyword">, </span><span class="default">$wordArray </span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75335""></a>
  <div class="note">
   <strong class="user">gportlock at gembiz dot co dot uk</strong>
   <a href="#75335" class="date">24-May-2007 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function returns a text string that is limited by the word count. This funtion is particularly useful for paid advertising where you pay by the word.<br />
<br />
function limitText( $text, $wordCount ){<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $wordArray = explode(" ", $text);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_splice($wordArray, $wordCount);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return implode( " ", $wordArray );<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73882""></a>
  <div class="note">
   
   <a href="#73882" class="date">14-Mar-2007 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noticed that some other people made supportive functions for maintaining numeric keys for PHP versions less than 5.0.2. So here is my version of it. <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//Slice an array but keep numeric keys<br />
</span><span class="keyword">function </span><span class="default">narray_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Check if this version already supports it<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">PHP_VERSION</span><span class="keyword">) &gt;= </span><span class="default">502</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$a </span><span class="keyword">&gt;= </span><span class="default">$offset </span><span class="keyword">&amp;&amp; </span><span class="default">$a </span><span class="keyword">- </span><span class="default">$offset </span><span class="keyword">&lt;= </span><span class="default">$length</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output_array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$output_array</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73572""></a>
  <div class="note">
   <strong class="user">aflavio at gmail dot com</strong>
   <a href="#73572" class="date">01-Mar-2007 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/**<br />
&nbsp;&nbsp;&nbsp; * Remove a value from a array<br />
&nbsp;&nbsp;&nbsp; * @param string $val<br />
&nbsp;&nbsp;&nbsp; * @param array $arr<br />
&nbsp;&nbsp;&nbsp; * @return array $array_remval<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; function array_remval($val, &amp;$arr)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_remval = $arr;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($x=0;$x&lt;count($array_remval);$x++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i=array_search($val,$array_remval);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (is_numeric($i)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_temp&nbsp; = array_slice($array_remval, 0, $i );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_temp2 = array_slice($array_remval, $i+1, count($array_remval)-1 );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_remval = array_merge($array_temp, $array_temp2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $array_remval;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
$stack=Array('apple','banana','pear','apple', 'cherry', 'apple');<br />
array_remval("apple", $stack);<br />
<br />
//output: Array('banana','pear', 'cherry')</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71852""></a>
  <div class="note">
   
   <a href="#71852" class="date">19-Dec-2006 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The version check on "ps at b1g dot de" function fails on my copy of PHP.&nbsp; My Version of PHP is "4.3.10-18", and it ends up checking 4310 &lt;=&gt; 502.<br />
Since we are looking for a version over 4.1.0, we cas use version_compare. <br />
&nbsp; <br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// PHP &gt;= 5.0.2 is able to do this itself<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'version_compare'</span><span class="keyword">) and </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">, </span><span class="string">'5.0.2'</span><span class="keyword">) &gt;= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70913""></a>
  <div class="note">
   <strong class="user">ps at b1g dot de</strong>
   <a href="#70913" class="date">03-Nov-2006 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following function is the same as array_slice with preserve_keys=true, but it works with PHP versions &lt; 5.0.2.<br />
When PHP &gt;= 5.0.2 is available, the function uses the faster PHP-own array_slice-function with preserve_keys=true, otherwise it uses its own&nbsp; implementation.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* array_slice with preserve_keys for every php version<br />
&nbsp;*<br />
&nbsp;* @param array $array Input array<br />
&nbsp;* @param int $offset Start offset<br />
&nbsp;* @param int $length Length<br />
&nbsp;* @return array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_slice_preserve_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// PHP &gt;= 5.0.2 is able to do this itself<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if((int)</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">phpversion</span><span class="keyword">()) &gt;= </span><span class="default">502</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// prepare input variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$offset </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) + </span><span class="default">$offset</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$length </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$endOffset </span><span class="keyword">= </span><span class="default">$offset </span><span class="keyword">+ </span><span class="default">$length</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else if(</span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$endOffset </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) + </span><span class="default">$length</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$endOffset </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// collect elements<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">$offset </span><span class="keyword">&amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$endOffset</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// return<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return(</span><span class="default">$result</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Good for backwards compatibility I hope somebody might find this useful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70502""></a>
  <div class="note">
   <strong class="user">david at bagnara dot org</strong>
   <a href="#70502" class="date">19-Oct-2006 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was trying to pass an argument list through the constructors. I tried various things such as func_get_args(). My conclusion is to pass the args to the constructor as an array. Each constructor can remove the fields it wants and pass the array on.<br />
<br />
Using the following prototype, each child class can have any number of parameters added to the beginning of the class constructor and the rest passed onto the parent.<br />
<br />
If the default value is desired for an argument, just pass NULL.<br />
<br />
This could possibly be better done with array_shift or the like.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">aChild </span><span class="keyword">extends </span><span class="default">aParent<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// TODO customise this list for this class<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$args </span><span class="keyword">= array() )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//set up default values for this class<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // TODO customise this list for this class<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$default </span><span class="keyword">= array( </span><span class="string">"a-def"</span><span class="keyword">, </span><span class="string">"b-def"</span><span class="keyword">, </span><span class="string">"c-def" </span><span class="keyword">) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// now overwrite the default with non NULL args<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$args </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// more args than needed?<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( !isset( </span><span class="default">$default</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// this arg not null<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( isset( </span><span class="default">$val </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$default</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// set this to the new values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // TODO customise this list for this class<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">list( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c </span><span class="keyword">) = </span><span class="default">$default </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// take off the ones we used<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">( </span><span class="default">$args</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">( </span><span class="default">$default </span><span class="keyword">) ) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$args </span><span class="keyword">) ;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$x </span><span class="keyword">= new </span><span class="default">aChild</span><span class="keyword">( array( </span><span class="string">"aChild a"</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="string">"aChild c"</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="string">"aParent second"</span><span class="keyword">, </span><span class="string">"aParent third" </span><span class="keyword">) ) ;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65711""></a>
  <div class="note">
   
   <a href="#65711" class="date">06-May-2006 09:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you specify the fourth argument (to not reassign the keys), then there appears to be no way to get the function to return all values to the end of the array. Assigning -0 or NULL or just putting two commas in a row won't return any results.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64122""></a>
  <div class="note">
   <strong class="user">taylorbarstow at the google mail service</strong>
   <a href="#64122" class="date">07-Apr-2006 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array slice function that works with associative arrays (keys):<br />
<br />
function array_slice_assoc($array,$keys) {<br />
&nbsp;&nbsp;&nbsp; return array_intersect_key($array,array_flip($keys));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56535""></a>
  <div class="note">
   <strong class="user">andreasblixt (at) msn (dot) com</strong>
   <a href="#56535" class="date">06-Sep-2005 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Combines two arrays by inserting one into the other at a given position then returns the result<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_insert</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">, </span><span class="default">$dest</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">) || !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">) || </span><span class="default">$pos </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">), </span><span class="default">$src</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55251""></a>
  <div class="note">
   <strong class="user">ssb45 at cornell dot edu</strong>
   <a href="#55251" class="date">28-Jul-2005 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reply to jenny at jennys dot info:<br />
<br />
Here is a much easier way to find the $offset of a $key in an $array:<br />
<br />
$offset = array_search($key, array_keys($array));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54604""></a>
  <div class="note">
   <strong class="user">fanfatal at fanfatal dot pl</strong>
   <a href="#54604" class="date">09-Jul-2005 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hmm ... i wrote an usefull function whitch is such like strpos but it works on arrays ;]<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;*&nbsp; &nbsp; Find position of first occurrence of a array <br />
&nbsp;*<br />
&nbsp;*&nbsp; &nbsp; @param array $haystack<br />
&nbsp;*&nbsp; &nbsp; @param array $needle<br />
&nbsp;*&nbsp; &nbsp; @return int<br />
&nbsp;*&nbsp; &nbsp; @author FanFataL<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_pos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$size </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sizeh </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$size </span><span class="keyword">&gt; </span><span class="default">$sizeh</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$scale </span><span class="keyword">= </span><span class="default">$sizeh </span><span class="keyword">- </span><span class="default">$size </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$scale</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$i</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Sample:<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="string">'aa'</span><span class="keyword">,</span><span class="string">'bb'</span><span class="keyword">,</span><span class="string">'cc'</span><span class="keyword">,</span><span class="string">'dd'</span><span class="keyword">,</span><span class="string">'ee'</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="string">'cc'</span><span class="keyword">,</span><span class="string">'dd'</span><span class="keyword">);<br />
</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">array_pos</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Greatings ;-)<br />
...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53590""></a>
  <div class="note">
   <strong class="user">liz at matrixmailing dot com</strong>
   <a href="#53590" class="date">06-Jun-2005 11:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those with PHP &lt; 5.0.2, and have a number as your array key, to avoid having the key reset with array_slice, add a blank character to the beginning or end of the key.<br />
&lt;?<br />
<br />
$array[" ".$key] = $value;<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48006""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#48006" class="date">08-Dec-2004 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you need to pick certain non-integer and/or non-sequential keys out of an array. Consider using the array_pick() implementation below to pull specific keys, in a specific order, out of a source array:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$a </span><span class="keyword">= array (</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'d' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_pick</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, array (</span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">));<br />
<br />
</span><span class="comment">// now:<br />
// $a = array ('a' =&gt; 1, 'c' =&gt; '3');<br />
// $b = array ('d' =&gt; 4, 'b' =&gt; '2');<br />
<br />
</span><span class="keyword">function &amp;</span><span class="default">array_pick</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$keys</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (! </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'First parameter must be an array'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (! (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">) || </span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">))) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Second parameter must be an array of keys or a scalar key'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// nothing to do<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} else if (</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= array (</span><span class="default">$keys</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$resultArray </span><span class="keyword">= array ();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$resultArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Supplied key is not scalar'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$resultArray</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45776""></a>
  <div class="note">
   <strong class="user">pies at sputnik dot pl</strong>
   <a href="#45776" class="date">18-Sep-2004 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My shot at Dams's array_slice_key() implementation:<br />
<br />
function array_slice_key($array, $offset, $len=-1){ <br />
<br />
&nbsp;&nbsp;&nbsp; if (!is_array($array)) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return FALSE; <br />
<br />
&nbsp;&nbsp;&nbsp; $length = $len &gt;= 0? $len: count($array);<br />
&nbsp;&nbsp;&nbsp; $keys = array_slice(array_keys($array), $offset, $length);<br />
&nbsp;&nbsp;&nbsp; foreach($keys as $key) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $return[$key] = $array[$key];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $return; <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41281""></a>
  <div class="note">
   <strong class="user">Samuele at norsam dot org</strong>
   <a href="#41281" class="date">05-Apr-2004 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that if $offset+$length&gt;count($array) then resulting array will NOT be filled with empty elements at his end, so it is not sure that it will have exactly $length elements. Example:<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=Array(</span><span class="default">7</span><span class="keyword">,</span><span class="default">32</span><span class="keyword">,</span><span class="default">11</span><span class="keyword">,</span><span class="default">24</span><span class="keyword">,</span><span class="default">65</span><span class="keyword">); </span><span class="comment">// count($a) is 5<br />
</span><span class="default">$b</span><span class="keyword">=</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);&nbsp; </span><span class="comment">// 2+4=6, and 6&gt;count($a)<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will return a 3-elements array:<br />
&nbsp; Array<br />
&nbsp; (<br />
&nbsp;&nbsp; &nbsp;&nbsp; [0] =&gt; 11<br />
&nbsp;&nbsp; &nbsp;&nbsp; [1] =&gt; 24<br />
&nbsp;&nbsp; &nbsp;&nbsp; [2] =&gt; 65<br />
&nbsp; )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40156""></a>
  <div class="note">
   
   <a href="#40156" class="date">23-Feb-2004 11:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use unset() to delete a associative array.<br />
<br />
Ex: <br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
$item</span><span class="keyword">[</span><span class="string">'chaise'</span><span class="keyword">] = array (</span><span class="string">'qty' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'desc' </span><span class="keyword">=&gt; </span><span class="string">'Chaise bercante 10"'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'avail' </span><span class="keyword">=&gt; </span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">$item</span><span class="keyword">[</span><span class="string">'divan'</span><span class="keyword">] = array (</span><span class="string">'qty' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'desc' </span><span class="keyword">=&gt; </span><span class="string">'Divan brun laitte"'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'avail' </span><span class="keyword">=&gt; </span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
if (isset(</span><span class="default">$item</span><span class="keyword">[</span><span class="string">'chaise'</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ++</span><span class="default">$item</span><span class="keyword">[</span><span class="string">'chaise'</span><span class="keyword">][</span><span class="string">'qty'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
unset(</span><span class="default">$item</span><span class="keyword">[</span><span class="string">'divan'</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
foreach (</span><span class="default">$item </span><span class="keyword">as </span><span class="default">$s</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;br /&gt;Commande " </span><span class="keyword">. </span><span class="default">$s</span><span class="keyword">[</span><span class="string">'qty'</span><span class="keyword">] . </span><span class="string">" " </span><span class="keyword">. </span><span class="default">$s</span><span class="keyword">[</span><span class="string">'desc'</span><span class="keyword">];<br />
}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40103""></a>
  <div class="note">
   <strong class="user">jenny at jennys dot info</strong>
   <a href="#40103" class="date">22-Feb-2004 07:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function which returns the array offset based on the array key.&nbsp; This is useful if you'd like to use array_slice to get all keys/values after key "foo".<br />
<br />
&lt;?<br />
function array_offset($array, $offset_key) {<br />
&nbsp; $offset = 0;<br />
&nbsp; foreach($array as $key=&gt;$val) {<br />
&nbsp;&nbsp;&nbsp; if($key == $offset_key)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return $offset;<br />
&nbsp;&nbsp;&nbsp; $offset++;<br />
&nbsp; }<br />
&nbsp; return -1;<br />
}<br />
<br />
$array = array('foo'=&gt;'foo', 'bar'=&gt;'bar', 'bash'=&gt;'bash', 'quux'=&gt;'quux');<br />
print_r($array);<br />
// Prints the following:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp;&nbsp; [foo] =&gt; foo<br />
//&nbsp; &nbsp;&nbsp; [bar] =&gt; bar<br />
//&nbsp; &nbsp;&nbsp; [bash] =&gt; bash<br />
//&nbsp; &nbsp;&nbsp; [quux] =&gt; quux<br />
// )<br />
<br />
$offset = array_offset($array,'bar');<br />
// $offset now contains '1'<br />
$new = array_slice($array,$offset+1);<br />
print_r($new);<br />
// Prints the following:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp;&nbsp; [bash] =&gt; bash<br />
//&nbsp; &nbsp;&nbsp; [quux] =&gt; quux<br />
// )<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26786""></a>
  <div class="note">
   <strong class="user">webmaster_nospam at wavesport dot com</strong>
   <a href="#26786" class="date">13-Nov-2002 01:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function may surprise you if you use arbitrary numeric values for keys, i.e.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//create an array<br />
</span><span class="default">$ar </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'42'</span><span class="keyword">=&gt;</span><span class="string">'pear'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">=&gt;</span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">);<br />
</span><span class="comment">// print_r describes the array as:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; [a] =&gt; apple<br />
//&nbsp; &nbsp; [b] =&gt; banana<br />
//&nbsp; &nbsp; [42] =&gt; pear<br />
//&nbsp; &nbsp; [d] =&gt; orange<br />
// )<br />
<br />
//use array_slice() to extract the first three elements<br />
</span><span class="default">$new_ar </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$new_ar</span><span class="keyword">);<br />
</span><span class="comment">// print_r describes the new array as:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; [a] =&gt; apple<br />
//&nbsp; &nbsp; [b] =&gt; banana<br />
//&nbsp; &nbsp; [0] =&gt; pear<br />
// )<br />
</span><span class="default">?&gt;<br />
</span><br />
The value 'pear' has had its key reassigned from '42' to '0'. <br />
<br />
When $ar is initially created the string '42' is automatically type-converted by array() into an integer.&nbsp; array_slice() and array_splice() reassociate string keys from the passed array to their values in the returned array but numeric keys are reindexed starting with 0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21012""></a>
  <div class="note">
   <strong class="user">t dot oddy at ic dot ac dot uk</strong>
   <a href="#21012" class="date">25-Apr-2002 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's Note:<br />
It is easier to do the same thing using array_values()<br />
]<br />
array_slice() can be used to "re-index" an array to start from key 0.&nbsp; For example, unpack creates an array with keys starting from 1;<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">unpack</span><span class="keyword">(</span><span class="string">"C*"</span><span class="keyword">,</span><span class="string">"AB"</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
produces<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">array(</span><span class="default">2</span><span class="keyword">) {<br />
&nbsp; [</span><span class="default">1</span><span class="keyword">]=&gt;<br />
&nbsp; </span><span class="default">int</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">)<br />
&nbsp; [</span><span class="default">2</span><span class="keyword">]=&gt;<br />
&nbsp; </span><span class="default">int</span><span class="keyword">(</span><span class="default">66</span><span class="keyword">)<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
and<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">unpack</span><span class="keyword">(</span><span class="string">"C*"</span><span class="keyword">,</span><span class="string">"AB"</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
give you<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">array(</span><span class="default">2</span><span class="keyword">) {<br />
&nbsp; [</span><span class="default">0</span><span class="keyword">]=&gt;<br />
&nbsp; </span><span class="default">int</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">)<br />
&nbsp; [</span><span class="default">1</span><span class="keyword">]=&gt;<br />
&nbsp; </span><span class="default">int</span><span class="keyword">(</span><span class="default">66</span><span class="keyword">)<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18741""></a>
  <div class="note">
   <strong class="user">developer at i-space dot org</strong>
   <a href="#18741" class="date">03-Feb-2002 05:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
remember that array_slice returns an array with the current element. you must use array_slice($array, $index+1) if you want to get the next elements.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18544""></a>
  <div class="note">
   <strong class="user">richardgere at jippii dot fi</strong>
   <a href="#18544" class="date">27-Jan-2002 06:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The same thing, written by a maladroit :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_slice2</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">)<br />
{<br />
&nbsp; if( </span><span class="default">$offset </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) + </span><span class="default">$offset</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$length </span><span class="keyword">= ( !</span><span class="default">$length </span><span class="keyword">? </span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) : ( </span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">? </span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) - </span><span class="default">$length </span><span class="keyword">: </span><span class="default">$length </span><span class="keyword">+ </span><span class="default">$offset </span><span class="keyword">) );<br />
<br />
&nbsp; for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$offset</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
<br />
&nbsp; return </span><span class="default">$tmp</span><span class="keyword">;&nbsp; &nbsp; &nbsp; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-shift.html">array_shift</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-splice.html">array_splice</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
