<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>配列と同様の形式で、複数の変数への代入を行う</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ksort.html">ksort</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.natcasesort.html">natcasesort</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.list" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">list</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">list</span> &mdash; <span class="dc-title">配列と同様の形式で、複数の変数への代入を行う</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.list-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>list</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var1</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$...</code></span>
  ] )</div>

  <p class="para rdfs-comment">
    <span class="function"><a href="function.array.html" class="function">array()</a></span> と同様に、
   この関数は実際には関数ではなく言語構造です。
    <span class="function"><strong>list()</strong></span> は、
   単一の操作で一連の変数に値を代入するために使われます。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.list-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">var1</code></em></span>
     <dd>

      <p class="para">
       変数。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.list-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   代入した配列を返します。
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.list-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4992">
    <p><strong>例1  <span class="function"><strong>list()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$info&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'コーヒー'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'茶色'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'カフェイン'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;すべての変数の取得<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$drink</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$color</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$power</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$drink</span><span style="color: #DD0000">&nbsp;の色は&nbsp;</span><span style="color: #0000BB">$color</span><span style="color: #DD0000">&nbsp;で、</span><span style="color: #0000BB">$power</span><span style="color: #DD0000">&nbsp;が含まれています。\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;一部の変数の取得<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$drink</span><span style="color: #007700">,&nbsp;,&nbsp;</span><span style="color: #0000BB">$power</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$drink</span><span style="color: #DD0000">&nbsp;には&nbsp;</span><span style="color: #0000BB">$power</span><span style="color: #DD0000">&nbsp;が含まれています。\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;三番目のみの取得<br /></span><span style="color: #007700">list(&nbsp;,&nbsp;,&nbsp;</span><span style="color: #0000BB">$power</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$power</span><span style="color: #DD0000">&nbsp;欲しい!\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;list()&nbsp;は文字列では動作しません<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #DD0000">"abcde"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;NULL<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4993">
    <p><strong>例2  <span class="function"><strong>list()</strong></span> の使用法の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
&lt;table&gt;<br />&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&lt;th&gt;社員氏名&lt;/th&gt;<br />&nbsp;&nbsp;&lt;th&gt;給与&lt;/th&gt;<br />&nbsp;&lt;/tr&gt;<br /><br /><span style="color: #0000BB">&lt;?php<br />$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$pdo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT&nbsp;id,&nbsp;name,&nbsp;salary&nbsp;FROM&nbsp;employees"</span><span style="color: #007700">);<br />while&nbsp;(list(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$salary</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch</span><span style="color: #007700">(</span><span style="color: #0000BB">PDO</span><span style="color: #007700">::</span><span style="color: #0000BB">FETCH_NUM</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;tr&gt;\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&lt;td&gt;&lt;a&nbsp;href=\"info.php?id=</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">\"&gt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&lt;/a&gt;&lt;/td&gt;\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&lt;td&gt;</span><span style="color: #0000BB">$salary</span><span style="color: #DD0000">&lt;/td&gt;\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;/tr&gt;\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;/table&gt;</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4994">
    <p><strong>例3 ネストした  <span class="function"><strong>list()</strong></span> の使用法</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;list(</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">))&nbsp;=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents screen">
<div class="cdata"><pre>
int(1)
int(2)
int(3)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4995">
    <p><strong>例4 配列の添字を使用した  <span class="function"><strong>list()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$info&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'coffee'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'brown'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'caffeine'</span><span style="color: #007700">);<br /><br />list(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">])&nbsp;=&nbsp;</span><span style="color: #0000BB">$info</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     次のような出力になります( <span class="function"><strong>list()</strong></span> の文法に書かれた
     順番と、要素の順番の違いに注意):
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(3) {
  [2]=&gt;
  string(8) &quot;caffeine&quot;
  [1]=&gt;
  string(5) &quot;brown&quot;
  [0]=&gt;
  string(6) &quot;coffee&quot;
}
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.list-notes">
  <h3 class="title">注意</h3>
  <div class="warning"><strong class="warning">警告</strong>
   <p class="para">
     <span class="function"><strong>list()</strong></span>は、最も右のパラメータから値を代入します。
    プレーンな変数を使用している場合には、このことを気にする必要はありません。
    しかし、添字配列を使用している場合には、配列の添字の順番が
     <span class="function"><strong>list()</strong></span>
    に書いたものと同じく左から右となることを通常は期待しますが、
    そうはなりません。この配列の添字は逆の順番となります。
   </p>
  </div>
  <div class="warning"><strong class="warning">警告</strong>
   <p class="para">
     <span class="function"><strong>list()</strong></span> を実行して配列を変更
    (<em>list($a, $b) = $b</em> など)
    した場合の挙動は未定義です。
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
     <span class="function"><strong>list()</strong></span> は数値添字の配列のみを生成します。
    添字は 0 から始まります。
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.list-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.each.html" class="function" rel="rdfs-seeAlso">each()</a> - 配列から現在のキーと値のペアを返して、カーソルを進める</span></li>
    <li class="member"> <span class="function"><a href="function.array.html" class="function" rel="rdfs-seeAlso">array()</a> - 配列を生成する</span></li>
    <li class="member"> <span class="function"><a href="function.extract.html" class="function" rel="rdfs-seeAlso">extract()</a> - 配列からシンボルテーブルに変数をインポートする</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113845""></a>
  <div class="note">
   <strong class="user">john at jbwalker dot com</strong>
   <a href="#113845" class="date">08-Dec-2013 09:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The list construct seems to look for a sequential list of indexes rather taking elements in sequence. What that obscure statement means is that if you unset an element, list will not simply jump to the next element and assign that to the variable but will treat the missing element as a null or empty variable:<br />
<br />
&nbsp;&nbsp;&nbsp; $test = array("a","b","c","d");<br />
&nbsp;&nbsp;&nbsp; unset($test[1]);<br />
&nbsp;&nbsp;&nbsp; list($a,$b,$c)=$test;<br />
&nbsp;&nbsp;&nbsp; print "\$a='$a' \$b='$b' \$c='$c'&lt;BR&gt;";<br />
<br />
results in:<br />
$a='a' $b='' $c='c'<br />
<br />
not:<br />
$a='a' $b='c' $c='d'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113189""></a>
  <div class="note">
   <strong class="user">megan at voices dot com</strong>
   <a href="#113189" class="date">11-Sep-2013 12:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As noted, list() will give an error if the input array is too short. This can be avoided by array_merge()'ing in some default values. For example:<br />
<br />
<span class="default">&lt;?php<br />
$parameter </span><span class="keyword">= </span><span class="string">'name'</span><span class="keyword">;<br />
list( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b </span><span class="keyword">) = </span><span class="default">array_merge</span><span class="keyword">( </span><span class="default">explode</span><span class="keyword">( </span><span class="string">'='</span><span class="keyword">, </span><span class="default">$parameter </span><span class="keyword">), array( </span><span class="default">true </span><span class="keyword">) );<br />
</span><span class="default">?&gt;<br />
</span><br />
However, you will have to array_merge with an array long enough to ensure there are enough elements (if $parameter is empty, the code above would still error).<br />
<br />
An alternate approach would be to use array_pad on the array to ensure its length (if all the defaults you need to add are the same).<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $parameter </span><span class="keyword">= </span><span class="string">'bob-12345'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; list( </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$fav_color</span><span class="keyword">, </span><span class="default">$age </span><span class="keyword">) = </span><span class="default">array_pad</span><span class="keyword">( </span><span class="default">explode</span><span class="keyword">( </span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$parameter </span><span class="keyword">), </span><span class="default">4</span><span class="keyword">, </span><span class="string">'' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$fav_color</span><span class="keyword">, </span><span class="default">$age</span><span class="keyword">);<br />
</span><span class="comment">/* outputs<br />
string(3) "bob"<br />
string(5) "12345"<br />
string(0) ""<br />
string(0) ""<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112871""></a>
  <div class="note">
   <strong class="user">Arne</strong>
   <a href="#112871" class="date">31-Jul-2013 10:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
list() will give an error if the input array is too short. This can be avoided by array_merge()'ing in some default values. For example:<br />
<br />
<span class="default">&lt;?php<br />
$parameter </span><span class="keyword">= </span><span class="string">'name'</span><span class="keyword">;<br />
list( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b </span><span class="keyword">) = </span><span class="default">array_merge</span><span class="keyword">( </span><span class="default">explode</span><span class="keyword">( </span><span class="string">'='</span><span class="keyword">, </span><span class="default">$parameter </span><span class="keyword">), array( </span><span class="default">true </span><span class="keyword">) );<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112696""></a>
  <div class="note">
   <strong class="user">Achilles at thegreatwarrior dot com</strong>
   <a href="#112696" class="date">14-Jul-2013 09:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Second, when you’re using the list() function, you must acknowledge each array element. You could not do this<br />
list($weekday, $month) = $date;<br />
<br />
But you can use empty values to ignore elements:<br />
list ($weekday, , $month) = $date;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112271""></a>
  <div class="note">
   <strong class="user">Matt</strong>
   <a href="#112271" class="date">26-May-2013 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can't type check within the list() parameters:<br />
<br />
list ( array $var1, $var2 ) = array ( array('one','two'), 'three');<br />
<br />
generates a parse error, unexpected 'array'.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111345""></a>
  <div class="note">
   <strong class="user">srikanth at networthindia dot com</strong>
   <a href="#111345" class="date">09-Feb-2013 09:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: list cannot assign array cast of object to variables straight away. first you need to convert the object to numeric indexed array.<br />
<br />
ex: <br />
list($a, $b, $d) = (array) $abc; // $abc is an object; this will not assign.<br />
list($a, $b, $c) = array_values((array) $abc); // This will work.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110921""></a>
  <div class="note">
   <strong class="user">svennd</strong>
   <a href="#110921" class="date">24-Dec-2012 04:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The list() definition won't throw an error if your array is longer then defined list. <br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">list(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">) = array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">); </span><span class="comment">// a<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">); </span><span class="comment">// b<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">); </span><span class="comment">// c<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110563""></a>
  <div class="note">
   <strong class="user">chris at chlab dot ch</strong>
   <a href="#110563" class="date">08-Nov-2012 12:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example states the following:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// list() doesn't work with strings<br />
</span><span class="keyword">list(</span><span class="default">$bar</span><span class="keyword">) = </span><span class="string">"abcde"</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">); <br />
</span><span class="comment">// output: NULL<br />
</span><span class="default">?&gt;<br />
</span><br />
If the string is in a variable however, it seems using list() will treat the string as an array:<br />
<span class="default">&lt;?php<br />
$string </span><span class="keyword">= </span><span class="string">"abcde"</span><span class="keyword">;<br />
list(</span><span class="default">$foo</span><span class="keyword">) = </span><span class="default">$string</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br />
</span><span class="comment">// output: string(1) "a"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ksort.html">ksort</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.natcasesort.html">natcasesort</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
