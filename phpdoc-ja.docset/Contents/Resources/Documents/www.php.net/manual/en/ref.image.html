<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>GD および Image 関数</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="image.examples.merged-watermark.html">imagecopymerge による半透明なすかしの作成</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gd-info.html">gd_info</a></div>
 <div class="up"><a href="book.image.html">GD</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="ref.image" class="reference">
 <h1 class="title">GD および Image 関数</h1>

 






















































































































































































































































































































































































































































































































































































































































































































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.gd-info.html">gd_info</a> — 現在インストールされているGDライブラリに関する情報を取得する</li><li><a href="function.getimagesize.html">getimagesize</a> — 画像の大きさを取得する</li><li><a href="function.getimagesizefromstring.html">getimagesizefromstring</a> — 画像の大きさを文字列から取得する</li><li><a href="function.image-type-to-extension.html">image_type_to_extension</a> — 画像形式からファイルの拡張子を取得する</li><li><a href="function.image-type-to-mime-type.html">image_type_to_mime_type</a> — getimagesize, exif_read_data, exif_thumbnail, exif_imagetypeから返される
   画像形式のMIMEタイプを取得する</li><li><a href="function.image2wbmp.html">image2wbmp</a> — 画像をブラウザあるいはファイルに出力する</li><li><a href="function.imageaffine.html">imageaffine</a> — 元の画像を、オプションのクリッピング領域を使ってアフィン変換した画像を返す</li><li><a href="function.imageaffinematrixconcat.html">imageaffinematrixconcat</a> — 二つの行列を連結する (複数の操作を一度に行う)</li><li><a href="function.imageaffinematrixget.html">imageaffinematrixget</a> — 元の画像を、オプションのクリッピング領域を使ってアフィン変換した画像を返す</li><li><a href="function.imagealphablending.html">imagealphablending</a> — イメージのブレンドモードを設定する</li><li><a href="function.imageantialias.html">imageantialias</a> — アンチエイリアス機能を使用すべきかどうかを判断する</li><li><a href="function.imagearc.html">imagearc</a> — 部分楕円を描画する</li><li><a href="function.imagechar.html">imagechar</a> — 水平に文字を描画する</li><li><a href="function.imagecharup.html">imagecharup</a> — 垂直に文字を描画する</li><li><a href="function.imagecolorallocate.html">imagecolorallocate</a> — 画像で使用する色を作成する</li><li><a href="function.imagecolorallocatealpha.html">imagecolorallocatealpha</a> — 画像で使用する色を透過度を指定して作成する</li><li><a href="function.imagecolorat.html">imagecolorat</a> — ピクセルの色のインデックスを取得する</li><li><a href="function.imagecolorclosest.html">imagecolorclosest</a> — 指定した色に最も近い色のインデックスを取得する</li><li><a href="function.imagecolorclosestalpha.html">imagecolorclosestalpha</a> — 指定した色+アルファ値に最も近い色のインデックスを取得する</li><li><a href="function.imagecolorclosesthwb.html">imagecolorclosesthwb</a> — 色合い、白、黒を有する色のインデックスを得る</li><li><a href="function.imagecolordeallocate.html">imagecolordeallocate</a> — イメージの色リソースを開放する</li><li><a href="function.imagecolorexact.html">imagecolorexact</a> — 指定した色のインデックスを取得する</li><li><a href="function.imagecolorexactalpha.html">imagecolorexactalpha</a> — 指定した色+アルファ値のインデックスを取得する</li><li><a href="function.imagecolormatch.html">imagecolormatch</a> — パレットイメージの色を True カラーイメージに近づける</li><li><a href="function.imagecolorresolve.html">imagecolorresolve</a> — 指定した色または出来るだけ近い色のインデックスを得る</li><li><a href="function.imagecolorresolvealpha.html">imagecolorresolvealpha</a> — 指定した色+アルファ値または最も近い色のインデックスを取得する</li><li><a href="function.imagecolorset.html">imagecolorset</a> — 指定したパレットインデックスの色を設定する</li><li><a href="function.imagecolorsforindex.html">imagecolorsforindex</a> — カラーインデックスからカラーを取得する</li><li><a href="function.imagecolorstotal.html">imagecolorstotal</a> — 画像パレットの色数を検出する</li><li><a href="function.imagecolortransparent.html">imagecolortransparent</a> — 透明色を定義する</li><li><a href="function.imageconvolution.html">imageconvolution</a> — div および offset の係数を使用し、3x3 の畳み込み配列を適用する</li><li><a href="function.imagecopy.html">imagecopy</a> — 画像の一部をコピーする</li><li><a href="function.imagecopymerge.html">imagecopymerge</a> — イメージの一部をコピー、マージする</li><li><a href="function.imagecopymergegray.html">imagecopymergegray</a> — グレースケールでイメージの一部をコピー、マージする</li><li><a href="function.imagecopyresampled.html">imagecopyresampled</a> — 再サンプリングを行いイメージの一部をコピー、伸縮する</li><li><a href="function.imagecopyresized.html">imagecopyresized</a> — 画像の一部をコピーしサイズを変更する</li><li><a href="function.imagecreate.html">imagecreate</a> — パレットを使用する新規画像を作成する</li><li><a href="function.imagecreatefromgd2.html">imagecreatefromgd2</a> — GD2 ファイルまたは URL から新規イメージを生成する</li><li><a href="function.imagecreatefromgd2part.html">imagecreatefromgd2part</a> — GD2 ファイルまたは URL の指定した部分から新規イメージを生成する</li><li><a href="function.imagecreatefromgd.html">imagecreatefromgd</a> — GD ファイルまたは URL から新規イメージを生成する</li><li><a href="function.imagecreatefromgif.html">imagecreatefromgif</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefromjpeg.html">imagecreatefromjpeg</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefrompng.html">imagecreatefrompng</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefromstring.html">imagecreatefromstring</a> — 文字列の中のイメージストリームから新規イメージを作成する</li><li><a href="function.imagecreatefromwbmp.html">imagecreatefromwbmp</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefromwebp.html">imagecreatefromwebp</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefromxbm.html">imagecreatefromxbm</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatefromxpm.html">imagecreatefromxpm</a> — 新しい画像をファイルあるいは URL から作成する</li><li><a href="function.imagecreatetruecolor.html">imagecreatetruecolor</a> — TrueColor イメージを新規に作成する</li><li><a href="function.imagecrop.html">imagecrop</a> — 座標とサイズを指定して、画像をクロップする</li><li><a href="function.imagecropauto.html">imagecropauto</a> — 利用可能なモードを指定して、画像を自動的にクロップする</li><li><a href="function.imagedashedline.html">imagedashedline</a> — 破線を描画する</li><li><a href="function.imagedestroy.html">imagedestroy</a> — 画像を破棄する</li><li><a href="function.imageellipse.html">imageellipse</a> — 楕円を描画する</li><li><a href="function.imagefill.html">imagefill</a> — 塗り潰す</li><li><a href="function.imagefilledarc.html">imagefilledarc</a> — 楕円弧を描画し、塗りつぶす</li><li><a href="function.imagefilledellipse.html">imagefilledellipse</a> — 塗りつぶされた楕円を描画する</li><li><a href="function.imagefilledpolygon.html">imagefilledpolygon</a> — 塗りつぶした多角形を描画する</li><li><a href="function.imagefilledrectangle.html">imagefilledrectangle</a> — 塗りつぶした矩形を描画する</li><li><a href="function.imagefilltoborder.html">imagefilltoborder</a> — 特定色で塗りつぶす</li><li><a href="function.imagefilter.html">imagefilter</a> — 画像にフィルタを適用する</li><li><a href="function.imageflip.html">imageflip</a> — 指定したモードで画像を反転させる</li><li><a href="function.imagefontheight.html">imagefontheight</a> — フォントの高さを取得する</li><li><a href="function.imagefontwidth.html">imagefontwidth</a> — フォントの幅を取得する</li><li><a href="function.imageftbbox.html">imageftbbox</a> — freetype2 によるフォントを用いたテキストを囲む箱を取得する</li><li><a href="function.imagefttext.html">imagefttext</a> — FreeType 2 によるフォントを用いてイメージにテキストを描画する</li><li><a href="function.imagegammacorrect.html">imagegammacorrect</a> — GD イメージにガンマ補正を適用する</li><li><a href="function.imagegd2.html">imagegd2</a> — GD2 イメージをブラウザまたはファイルに出力する</li><li><a href="function.imagegd.html">imagegd</a> — GD イメージをブラウザまたはファイルに出力する</li><li><a href="function.imagegif.html">imagegif</a> — 画像をブラウザあるいはファイルに出力する</li><li><a href="function.imagegrabscreen.html">imagegrabscreen</a> — 画面全体をキャプチャする</li><li><a href="function.imagegrabwindow.html">imagegrabwindow</a> — ウィンドウをキャプチャする</li><li><a href="function.imageinterlace.html">imageinterlace</a> — インターレースを有効もしくは無効にする</li><li><a href="function.imageistruecolor.html">imageistruecolor</a> — 画像が truecolor かどうか調べる</li><li><a href="function.imagejpeg.html">imagejpeg</a> — 画像をブラウザあるいはファイルに出力する</li><li><a href="function.imagelayereffect.html">imagelayereffect</a> — アルファブレンディングフラグを設定し、
   libgd にバンドルされているレイヤ効果を使用する</li><li><a href="function.imageline.html">imageline</a> — 直線を描画する</li><li><a href="function.imageloadfont.html">imageloadfont</a> — 新しいフォントを読み込む</li><li><a href="function.imagepalettecopy.html">imagepalettecopy</a> — あるイメージから他のイメージにパレットをコピーする</li><li><a href="function.imagepalettetotruecolor.html">imagepalettetotruecolor</a> — パレット形式の画像を true color に変換する</li><li><a href="function.imagepng.html">imagepng</a> — PNG イメージをブラウザまたはファイルに出力する</li><li><a href="function.imagepolygon.html">imagepolygon</a> — 多角形を描画する</li><li><a href="function.imagepsbbox.html">imagepsbbox</a> — PostScript Type1 フォントを用いてテキスト矩形のバウンディングボックスを指定する</li><li><a href="function.imagepsencodefont.html">imagepsencodefont</a> — フォントの文字エンコードベクトルを変更する</li><li><a href="function.imagepsextendfont.html">imagepsextendfont</a> — フォントを展開または圧縮する</li><li><a href="function.imagepsfreefont.html">imagepsfreefont</a> — PostScript Type 1 フォント用メモリを解放する</li><li><a href="function.imagepsloadfont.html">imagepsloadfont</a> — ファイルから PostScript Type 1 フォントをロードする</li><li><a href="function.imagepsslantfont.html">imagepsslantfont</a> — フォントを傾ける</li><li><a href="function.imagepstext.html">imagepstext</a> — PostScript Type1 フォントを用いて画像の上に文字列を描く</li><li><a href="function.imagerectangle.html">imagerectangle</a> — 矩形を描画する</li><li><a href="function.imagerotate.html">imagerotate</a> — 指定された角度で画像を回転する</li><li><a href="function.imagesavealpha.html">imagesavealpha</a> — PNG 画像を保存する際に（単一色の透過設定ではない）完全な
   アルファチャネル情報を保存するフラグを設定する</li><li><a href="function.imagescale.html">imagescale</a> — 幅と高さを指定して、画像の縮尺を変更する</li><li><a href="function.imagesetbrush.html">imagesetbrush</a> — 線の描画用にブラシイメージを設定する</li><li><a href="function.imagesetinterpolation.html">imagesetinterpolation</a> — 補間方法を設定する</li><li><a href="function.imagesetpixel.html">imagesetpixel</a> — 点を生成する</li><li><a href="function.imagesetstyle.html">imagesetstyle</a> — 線描画用のスタイルを設定する</li><li><a href="function.imagesetthickness.html">imagesetthickness</a> — 線描画用の線幅を設定する</li><li><a href="function.imagesettile.html">imagesettile</a> — 塗りつぶし用のイメージを設定する</li><li><a href="function.imagestring.html">imagestring</a> — 文字列を水平に描画する</li><li><a href="function.imagestringup.html">imagestringup</a> — 文字列を垂直に描画する</li><li><a href="function.imagesx.html">imagesx</a> — 画像の幅を取得する</li><li><a href="function.imagesy.html">imagesy</a> — 画像の高さを取得する</li><li><a href="function.imagetruecolortopalette.html">imagetruecolortopalette</a> — TrueColor イメージをパレットイメージに変換する</li><li><a href="function.imagettfbbox.html">imagettfbbox</a> — TypeType フォントを使用したテキストの bounding box を生成する</li><li><a href="function.imagettftext.html">imagettftext</a> — TrueType フォントを使用してテキストを画像に書き込む</li><li><a href="function.imagetypes.html">imagetypes</a> — この PHP がサポートしている画像形式を返す</li><li><a href="function.imagewbmp.html">imagewbmp</a> — 画像をブラウザあるいはファイルに出力する</li><li><a href="function.imagewebp.html">imagewebp</a> — WebP 画像をブラウザあるいはファイルに出力する</li><li><a href="function.imagexbm.html">imagexbm</a> — XBM 画像をブラウザあるいはファイルに出力する</li><li><a href="function.iptcembed.html">iptcembed</a> — バイナリ IPTC データを JPEG イメージに埋めこむ</li><li><a href="function.iptcparse.html">iptcparse</a> — バイナリの IPTC ブロックのタグをパースする</li><li><a href="function.jpeg2wbmp.html">jpeg2wbmp</a> — JPEG イメージファイルから WBMP イメージファイルに変換する</li><li><a href="function.png2wbmp.html">png2wbmp</a> — PNG イメージファイルから WBMP イメージファイルに変換する</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106150""></a>
  <div class="note">
   <strong class="user">ingo at jache dot de</strong>
   <a href="#106150" class="date">14-Oct-2011 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I know this might look somewhat superfluous to others, but i once came across a situation where i needed a *strong* blur on an image without having ImageMagick installed. Executing the convolution-filter several times on the same image is awfully slow and still doesn't give a good blur.<br />
<br />
The function below accepts a truecolor-image and a blur-factor between 0.0 and 1.0. Beware: It's still quite slow.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">blurImage</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$blur</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blur </span><span class="keyword">= </span><span class="default">$blur</span><span class="keyword">*</span><span class="default">$blur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blur </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">min</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$blur</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$srcw </span><span class="keyword">= </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$srch </span><span class="keyword">= </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dstimg </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$srcw</span><span class="keyword">,</span><span class="default">$srch</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f1a </span><span class="keyword">= </span><span class="default">$blur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f1b </span><span class="keyword">= </span><span class="default">1.0 </span><span class="keyword">- </span><span class="default">$blur</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$cg </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$cb </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$ng </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$nb </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // first line is a special case<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$srcw</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$srch</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$x</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//horizontal blurren<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$cr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$or </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$cg </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$og </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$cb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$ob </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,(</span><span class="default">$nr </span><span class="keyword">&lt;&lt; </span><span class="default">16</span><span class="keyword">) | (</span><span class="default">$ng </span><span class="keyword">&lt;&lt; </span><span class="default">8</span><span class="keyword">) | (</span><span class="default">$nb</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // now process the entire picture<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$srch</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$y</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$srcw</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$x</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//horizontal <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$cr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$or </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$cg </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$og </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$cb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$ob </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//vertical <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$nr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vr </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$ng </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vg </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$nb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vb </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vr </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vg </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vb </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,(</span><span class="default">$nr </span><span class="keyword">&lt;&lt; </span><span class="default">16</span><span class="keyword">) | (</span><span class="default">$ng </span><span class="keyword">&lt;&lt; </span><span class="default">8</span><span class="keyword">) | (</span><span class="default">$nb</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$dstimg</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$srcimg </span><span class="keyword">= </span><span class="default">imagecreatefromjpeg</span><span class="keyword">(</span><span class="string">"test.jpg"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dstimg </span><span class="keyword">= </span><span class="default">blurImage</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0.2</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: image/jpeg'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo( </span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; exit();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87238""></a>
  <div class="note">
   <strong class="user">chuckstudios at gmail dot com</strong>
   <a href="#87238" class="date">26-Nov-2008 06:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a simple function to convert an image resource to PGM (portable graymap) in order to feed it to an OCR program. It works just like the rest of the image output functions, and will convert to grayscale for you:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">imagepgm</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pgm </span><span class="keyword">= </span><span class="string">"P5 "</span><span class="keyword">.</span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">).</span><span class="string">" "</span><span class="keyword">.</span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">).</span><span class="string">" 255\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$y </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">); </span><span class="default">$y</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">); </span><span class="default">$x</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$colors </span><span class="keyword">= </span><span class="default">imagecolorsforindex</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pgm </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">0.3 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"red"</span><span class="keyword">] + </span><span class="default">0.59 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"green"</span><span class="keyword">] + </span><span class="default">0.11 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"blue"</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$filename </span><span class="keyword">!= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$pgm</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$pgm</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82138""></a>
  <div class="note">
   <strong class="user">dev at kingthief dot com</strong>
   <a href="#82138" class="date">28-Mar-2008 05:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've developed a well-documented, fairly rock-solid API for creating on the fly, anti-aliased, rounded corner images, including full alpha transparency support for all you PNG lovers.<br />
<br />
go here to download the package:<br />
<a href="http://sourceforge.net/projects/roundedphp/" rel="nofollow" target="_blank">http://sourceforge.net/projects/roundedphp/</a><br />
<br />
go here for a live demo:<br />
<a href="http://dev.kingthief.com/demos/roundedphp/" rel="nofollow" target="_blank">http://dev.kingthief.com/demos/roundedphp/</a><br />
<br />
Installation is similar to PEAR.<br />
<br />
Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79996""></a>
  <div class="note">
   <strong class="user">ph_corp at yahoo dot fr</strong>
   <a href="#79996" class="date">23-Dec-2007 12:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
HSL/RGB conversion functions<br />
very useful for a lot of applications<br />
**/<br />
<br />
</span><span class="keyword">function </span><span class="default">RBGtoHSL </span><span class="keyword">( </span><span class="default">$R</span><span class="keyword">, </span><span class="default">$G</span><span class="keyword">, </span><span class="default">$B </span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_R </span><span class="keyword">= ( </span><span class="default">$R </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_G </span><span class="keyword">= ( </span><span class="default">$G </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_B </span><span class="keyword">= ( </span><span class="default">$B </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_Min </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">( </span><span class="default">$var_R</span><span class="keyword">, </span><span class="default">$var_G</span><span class="keyword">, </span><span class="default">$var_B </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_Max </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">( </span><span class="default">$var_R</span><span class="keyword">, </span><span class="default">$var_G</span><span class="keyword">, </span><span class="default">$var_B </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$del_Max </span><span class="keyword">= </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_Min<br />
<br />
&nbsp;&nbsp;&nbsp; $L </span><span class="keyword">= ( </span><span class="default">$var_Max </span><span class="keyword">+ </span><span class="default">$var_Min </span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$del_Max </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$H </span><span class="keyword">= </span><span class="default">0<br />
&nbsp;&nbsp; &nbsp; &nbsp; $S </span><span class="keyword">= </span><span class="default">0<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$L </span><span class="keyword">&lt; </span><span class="default">0.5 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S </span><span class="keyword">= </span><span class="default">$del_Max </span><span class="keyword">/ ( </span><span class="default">$var_Max </span><span class="keyword">+ </span><span class="default">$var_Min </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S </span><span class="keyword">= </span><span class="default">$del_Max </span><span class="keyword">/ ( </span><span class="default">2 </span><span class="keyword">- </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_Min </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_R </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_R </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_G </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_G </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_B </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_B </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$var_R </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= </span><span class="default">$del_B </span><span class="keyword">- </span><span class="default">$del_G</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if ( </span><span class="default">$var_G </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) + </span><span class="default">$del_R </span><span class="keyword">- </span><span class="default">$del_B</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if ( </span><span class="default">$var_B </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= ( </span><span class="default">2 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) + </span><span class="default">$del_G </span><span class="keyword">- </span><span class="default">$del_R</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$H </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$H </span><span class="keyword">&gt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">-= </span><span class="default">1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return array( </span><span class="default">$H</span><span class="keyword">, </span><span class="default">$S</span><span class="keyword">, </span><span class="default">$L </span><span class="keyword">);<br />
<br />
}<br />
<br />
function </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$v1</span><span class="keyword">, </span><span class="default">$v2</span><span class="keyword">, </span><span class="default">$vH </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$vH </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vH </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$vH </span><span class="keyword">&gt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vH </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">6 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">+ ( </span><span class="default">$v2 </span><span class="keyword">- </span><span class="default">$v1 </span><span class="keyword">) * </span><span class="default">6 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v2 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">3 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">2 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">+ ( </span><span class="default">$v2 </span><span class="keyword">- </span><span class="default">$v1 </span><span class="keyword">) * ( ( </span><span class="default">2 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) - </span><span class="default">$vH </span><span class="keyword">) * </span><span class="default">6 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">)<br />
}<br />
<br />
function </span><span class="default">HSLtoRGB </span><span class="keyword">( </span><span class="default">$H</span><span class="keyword">, </span><span class="default">$S</span><span class="keyword">, </span><span class="default">$L </span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$S </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$G </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$B </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$L </span><span class="keyword">&lt; </span><span class="default">0.5 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_2 </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* ( </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">$S </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_2 </span><span class="keyword">= ( </span><span class="default">$L </span><span class="keyword">+ </span><span class="default">$S </span><span class="keyword">) - ( </span><span class="default">$S </span><span class="keyword">* </span><span class="default">$L </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_1 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$L </span><span class="keyword">- </span><span class="default">$var_2</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">+ ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$G </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$B </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">- ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return array( </span><span class="default">$R</span><span class="keyword">, </span><span class="default">$G</span><span class="keyword">, </span><span class="default">$B </span><span class="keyword">);<br />
<br />
}<br />
<br />
function </span><span class="default">distance </span><span class="keyword">( </span><span class="default">$R1</span><span class="keyword">, </span><span class="default">$G1</span><span class="keyword">, </span><span class="default">$B1</span><span class="keyword">, </span><span class="default">$R2</span><span class="keyword">, </span><span class="default">$G2</span><span class="keyword">, </span><span class="default">$B2 </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">sqrt </span><span class="keyword">( ( </span><span class="default">$R1 </span><span class="keyword">- </span><span class="default">$R2 </span><span class="keyword">)*( </span><span class="default">$R1 </span><span class="keyword">- </span><span class="default">$R2 </span><span class="keyword">) + ( </span><span class="default">$G1 </span><span class="keyword">- </span><span class="default">$G2 </span><span class="keyword">)*( </span><span class="default">$G1 </span><span class="keyword">- </span><span class="default">$G2 </span><span class="keyword">) + ( </span><span class="default">$B1 </span><span class="keyword">- </span><span class="default">$B2 </span><span class="keyword">)*( </span><span class="default">$B1 </span><span class="keyword">- </span><span class="default">$B2 </span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; return ( </span><span class="default">$result </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63689""></a>
  <div class="note">
   <strong class="user">shd at earthling dot net</strong>
   <a href="#63689" class="date">28-Mar-2006 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you happen to need a way to output a Windows BMP file (e.g. when using the PEAR ExcelWriter), feel free to use the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">imagebmp </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$fn </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$im</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$fn </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$fn </span><span class="keyword">= </span><span class="string">'php://output'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">fopen </span><span class="keyword">(</span><span class="default">$fn</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$f</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Image dimensions<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biWidth </span><span class="keyword">= </span><span class="default">imagesx </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biHeight </span><span class="keyword">= </span><span class="default">imagesy </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biBPLine </span><span class="keyword">= </span><span class="default">$biWidth </span><span class="keyword">* </span><span class="default">3</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biStride </span><span class="keyword">= (</span><span class="default">$biBPLine </span><span class="keyword">+ </span><span class="default">3</span><span class="keyword">) &amp; ~</span><span class="default">3</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biSizeImage </span><span class="keyword">= </span><span class="default">$biStride </span><span class="keyword">* </span><span class="default">$biHeight</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bfOffBits </span><span class="keyword">= </span><span class="default">54</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bfSize </span><span class="keyword">= </span><span class="default">$bfOffBits </span><span class="keyword">+ </span><span class="default">$biSizeImage</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//BITMAPFILEHEADER<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="string">'BM'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'VvvV'</span><span class="keyword">, </span><span class="default">$bfSize</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$bfOffBits</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//BITMAPINFO (BITMAPINFOHEADER)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'VVVvvVVVVVV'</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">, </span><span class="default">$biWidth</span><span class="keyword">, </span><span class="default">$biHeight</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">24</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$biSizeImage</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numpad </span><span class="keyword">= </span><span class="default">$biStride </span><span class="keyword">- </span><span class="default">$biBPLine</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$biHeight </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; --</span><span class="default">$y</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$biWidth</span><span class="keyword">; ++</span><span class="default">$x</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$col </span><span class="keyword">= </span><span class="default">imagecolorat </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'V'</span><span class="keyword">, </span><span class="default">$col</span><span class="keyword">), </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$numpad</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'C'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
It works the same way as regular imagejpeg/imagepng do and only supports GD2.0 true colour bitmaps (which is what's required by ExcelWriter).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63064""></a>
  <div class="note">
   <strong class="user">felipensp at gmail dot com</strong>
   <a href="#63064" class="date">13-Mar-2006 06:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Representation decimal of a color in hexadecimal for use on functions of library GD.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Representation hexadecimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="string">'#FFFFFF'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getRgbFromGd</span><span class="keyword">(</span><span class="default">$color_hex</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'hexdec'</span><span class="keyword">, </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">wordwrap</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color_hex</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">getRgbFromGd</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Output: Array ( [0] =&gt; 255 [1] =&gt; 255 [2] =&gt; 255 )<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60410""></a>
  <div class="note">
   <strong class="user">peter dot hulstaert at gmail dot com</strong>
   <a href="#60410" class="date">06-Jan-2006 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While I was searching for a good way to draw a graph, I stumbled on skumar2k15's script.<br />
<br />
I have taken the liberty to improve multiple aspects of it.<br />
<br />
1. The array can grow and shrink in size, the graph will adjust accordingly.<br />
2. All the values in the array are recalculated so they won't get bigger than the height of the graph.<br />
3. I inserted the possibility to keep a percentage off the height away from the edge.<br />
4. You can adjust the size of the grid.<br />
5. Everything will adjust when you change the height of width.<br />
<br />
&lt;? <br />
header("Content-type: image/png");<br />
<br />
// Define variables<br />
$Values=array(50,90,30,155,50,40,320,50,40,86,240,128,650,540,320);<br />
$imgWidth=500;<br />
$imgHeight=200;<br />
$grid=25;<br />
$graphspacing=0.05;<br />
<br />
//Creation of new array with hight adjusted values<br />
while (list($key, $val) = each($Values)) <br />
&nbsp;&nbsp;&nbsp; {if($val&gt;$max){$max=$val;}}<br />
<br />
for ($i=0; $i&lt;count($Values); $i++){<br />
$graphValues[$i] = $Values[$i] * (($imgHeight*(1-$graphspacing))/$max);<br />
}<br />
// Create image and define colors<br />
<br />
$image=imagecreate($imgWidth, $imgHeight);<br />
$colorWhite=imagecolorallocate($image, 255, 255, 255);<br />
$colorGrey=imagecolorallocate($image, 192, 192, 192);<br />
$colorBlue=imagecolorallocate($image, 0, 0, 255);<br />
<br />
// Create border around image<br />
imageline($image, 0, 0, 0, $imgHeight, $colorGrey);<br />
imageline($image, 0, 0, $imgWidth, 0, $colorGrey);<br />
imageline($image, $imgWidth-1, 0, $imgWidth-1, $imgHeight-1, $colorGrey);<br />
imageline($image, 0, $imgHeight-1, $imgWidth-1, $imgHeight-1, $colorGrey);<br />
<br />
// Create grid<br />
for ($i=1; $i&lt;($imgWidth/$grid); $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, $i*$grid, 0, $i*$grid, $imgHeight, $colorGrey);}<br />
for ($i=1; $i&lt;($imgHeight/$grid); $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, 0, $i*$grid, $imgWidth, $i*$grid, $colorGrey);}<br />
<br />
// Create line graph<br />
if($imgWidth/$grid&gt;count($graphValues)){$space=$grid;}<br />
else{$space = $imgWidth/(count($graphValues)-1);}<br />
<br />
for ($i=0; $i&lt;count($graphValues)-1; $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, $i*$space, ($imgHeight-$graphValues[$i]), ($i+1)*$space, ($imgHeight-$graphValues[$i+1]), $colorBlue);}<br />
<br />
// Output graph and clear image from memory<br />
imagepng($image);<br />
imagedestroy($image);<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57909""></a>
  <div class="note">
   <strong class="user">michal-ok at o2 dot pl</strong>
   <a href="#57909" class="date">18-Oct-2005 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The image sharpen function (by Alex R. Austin) provided below seems to be very resource hungry and I couldn't make it work on two different servers - trying to sharpen a 413 x 413 image I ended up with "Fatal error: Allowed memory size of 8388608 bytes exhausted" or "Internal Server Error" or the script terminated without notice. Because I had no priviliges to change the default memory limit on these servers I started looking for other sharpen functions. I have come across a php Unsharp Mask function which works like a charm on both of the servers I dealt with. It can be found at <a href="http://vikjavev.no/hovudsida/umtestside.php." rel="nofollow" target="_blank">http://vikjavev.no/hovudsida/umtestside.php.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57635""></a>
  <div class="note">
   <strong class="user">mslemko</strong>
   <a href="#57635" class="date">09-Oct-2005 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For fedora core 4 users that find that the gd library isn't installed, you can issue the command (as root)<br />
<br />
# yum install php-gd<br />
<br />
it should download and install the gd library. You will need to restart apache... phpinfo() should then tell you "GD Support&nbsp; &nbsp;&nbsp; enabled".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56144""></a>
  <div class="note">
   <strong class="user">timeshifting at gmail dot com</strong>
   <a href="#56144" class="date">25-Aug-2005 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To sharpen an image, rather than using the code below that produces a sharpening filter with php, use the built-in GD function "imageconvolution" which is designed for this purpose. Matrices can be used for sharpening, blurring, edge detection, etc, ala Photoshop.<br />
<br />
A sharpening example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$sharpenMatrix </span><span class="keyword">= array(-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$divisor </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">;<br />
</span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
</span><span class="default">imageconvolution</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">$sharpenMatrix</span><span class="keyword">, </span><span class="default">$divisor</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Below is some information on building different kinds of matrices. (If you have photoshop (or PSP, GIMP) you can test out your matrices before applying them in PHP)<br />
<br />
<a href="http://loriweb.pair.com/8udf-basics.html (covers blurs" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-basics.html (covers blurs</a>)<br />
<a href="http://loriweb.pair.com/8udf-sharpen.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-sharpen.html</a><br />
<a href="http://loriweb.pair.com/8udf-edges.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-edges.html</a><br />
<a href="http://loriweb.pair.com/8udf-emboss.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-emboss.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37131""></a>
  <div class="note">
   <strong class="user">jeff at lushmedia dot com</strong>
   <a href="#37131" class="date">04-Nov-2003 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote an online overview of the image functions that people might find useful. In addition to a general overview of the various function categories and code samples, I have included many interactive examples of the functions, allowing viewers to experiment with the parameters, and seeing the results in real time. The presentation is located at New York PHP<br />
<a href="http://www.nyphp.org/content/presentations/GDintro/" rel="nofollow" target="_blank">http://www.nyphp.org/content/presentations/GDintro/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31290""></a>
  <div class="note">
   <strong class="user">sellout at NoSpAm dot dharmadevil dot com</strong>
   <a href="#31290" class="date">16-Apr-2003 07:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A fun little function to output UPC-A 11-digit barcodes.<br />
Thanks to barcodeisland.com for the specs.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">UPCAbarcode</span><span class="keyword">(</span><span class="default">$code</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$lw </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$hi </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Lencode </span><span class="keyword">= array(</span><span class="string">'0001101'</span><span class="keyword">,</span><span class="string">'0011001'</span><span class="keyword">,</span><span class="string">'0010011'</span><span class="keyword">,</span><span class="string">'0111101'</span><span class="keyword">,</span><span class="string">'0100011'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'0110001'</span><span class="keyword">,</span><span class="string">'0101111'</span><span class="keyword">,</span><span class="string">'0111011'</span><span class="keyword">,</span><span class="string">'0110111'</span><span class="keyword">,</span><span class="string">'0001011'</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$Rencode </span><span class="keyword">= array(</span><span class="string">'1110010'</span><span class="keyword">,</span><span class="string">'1100110'</span><span class="keyword">,</span><span class="string">'1101100'</span><span class="keyword">,</span><span class="string">'1000010'</span><span class="keyword">,</span><span class="string">'1011100'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'1001110'</span><span class="keyword">,</span><span class="string">'1010000'</span><span class="keyword">,</span><span class="string">'1000100'</span><span class="keyword">,</span><span class="string">'1001000'</span><span class="keyword">,</span><span class="string">'1110100'</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$ends </span><span class="keyword">= </span><span class="string">'101'</span><span class="keyword">; </span><span class="default">$center </span><span class="keyword">= </span><span class="string">'01010'</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* UPC-A Must be 11 digits, we compute the checksum. */<br />
&nbsp; </span><span class="keyword">if ( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$code</span><span class="keyword">) != </span><span class="default">11 </span><span class="keyword">) { die(</span><span class="string">"UPC-A Must be 11 digits."</span><span class="keyword">); }<br />
&nbsp; </span><span class="comment">/* Compute the EAN-13 Checksum digit */<br />
&nbsp; </span><span class="default">$ncode </span><span class="keyword">= </span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$code</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$even </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$odd </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">12</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$x </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) { </span><span class="default">$odd </span><span class="keyword">+= </span><span class="default">$ncode</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]; } else { </span><span class="default">$even </span><span class="keyword">+= </span><span class="default">$ncode</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]; }<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$code</span><span class="keyword">.=(</span><span class="default">10 </span><span class="keyword">- ((</span><span class="default">$odd </span><span class="keyword">* </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">$even</span><span class="keyword">) % </span><span class="default">10</span><span class="keyword">)) % </span><span class="default">10</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* Create the bar encoding using a binary string */<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">=</span><span class="default">$ends</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Lencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]];<br />
&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">6</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Lencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]];<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$center</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">12</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Rencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]];<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$ends</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* Generate the Barcode Image */<br />
&nbsp; </span><span class="default">$img </span><span class="keyword">= </span><span class="default">ImageCreate</span><span class="keyword">(</span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$fg </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$bg </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br />
&nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">, </span><span class="default">$hi</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">, </span><span class="default">$bg</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$shift</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$bars</span><span class="keyword">);</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if ((</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">) || (</span><span class="default">$x</span><span class="keyword">&gt;=</span><span class="default">45 </span><span class="keyword">&amp;&amp; </span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">50</span><span class="keyword">) || (</span><span class="default">$x </span><span class="keyword">&gt;=</span><span class="default">85</span><span class="keyword">)) { </span><span class="default">$sh</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">; } else { </span><span class="default">$sh</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$bars</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">] == </span><span class="string">'1'</span><span class="keyword">) { </span><span class="default">$color </span><span class="keyword">= </span><span class="default">$fg</span><span class="keyword">; } else { </span><span class="default">$color </span><span class="keyword">= </span><span class="default">$bg</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, (</span><span class="default">$x</span><span class="keyword">*</span><span class="default">$lw</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,(</span><span class="default">$x</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$lw</span><span class="keyword">+</span><span class="default">14</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">+</span><span class="default">$sh</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">/* Add the Human Readable Label */<br />
&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">-</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">5</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*(</span><span class="default">13</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">*</span><span class="default">6</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*(</span><span class="default">53</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">*</span><span class="default">6</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">+</span><span class="default">6</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">17</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">-</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">11</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; </span><span class="comment">/* Output the Header and Content. */<br />
&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-Type: image/png"</span><span class="keyword">);<br />
&nbsp; </span><span class="default">ImagePNG</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">UPCAbarcode</span><span class="keyword">(</span><span class="string">'12345678901'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="image.examples.merged-watermark.html">imagecopymerge による半透明なすかしの作成</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gd-info.html">gd_info</a></div>
 <div class="up"><a href="book.image.html">GD</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
