<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>cURL ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆæœŸåŒ–ã™ã‚‹</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.curl-getinfo.html">curl_getinfo</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.curl-multi-add-handle.html">curl_multi_add_handle</a></div>
 <div class="up"><a href="ref.curl.html">cURL é–¢æ•°</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.curl-init" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">curl_init</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5)</p><p class="refpurpose"><span class="refname">curl_init</span> &mdash; <span class="dc-title">cURL ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆæœŸåŒ–ã™ã‚‹</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.curl-init-description">
  <h3 class="title">èª¬æ˜</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>curl_init</strong></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$url</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
  ] )</div>

  <p class="para rdfs-comment">
   æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆæœŸåŒ–ã—ã€cURL
   ãƒãƒ³ãƒ‰ãƒ«ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ãƒãƒ³ãƒ‰ãƒ«ã¯ã€é–¢æ•°
    <span class="function"><a href="function.curl-setopt.html" class="function">curl_setopt()</a></span>,  <span class="function"><a href="function.curl-exec.html" class="function">curl_exec()</a></span>,
    <span class="function"><a href="function.curl-close.html" class="function">curl_close()</a></span> ã§ä½¿ç”¨ã—ã¾ã™ã€‚
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.curl-init-parameters">
  <h3 class="title">ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">url</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">url</code></em>ã‚’æŒ‡å®šã—ãŸå ´åˆã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³
       CURLOPT_URL ãŒãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ã«è¨­å®šã•ã‚Œã¾ã™ã€‚é–¢æ•°
        <span class="function"><a href="function.curl-setopt.html" class="function">curl_setopt()</a></span> ã«ã‚ˆã‚Šã€
       ã“ã®å€¤ã‚’ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
      </p>
      <blockquote class="note"><p><strong class="note">æ³¨æ„</strong>: 
       <p class="para">
        <a href="ini.core.html#ini.open-basedir" class="link">open_basedir</a>
        ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€cURL ã§
        <em>file</em> ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯ä½¿ãˆãªããªã‚Šã¾ã™ã€‚
       </p>
      </p></blockquote>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.curl-init-returnvalues">
  <h3 class="title">è¿”ã‚Šå€¤</h3>
  <p class="para">
   æˆåŠŸã—ãŸå ´åˆã« cURL ãƒãƒ³ãƒ‰ãƒ«ã€ã‚¨ãƒ©ãƒ¼æ™‚ã« <strong><code>FALSE</code></strong> ã‚’è¿”ã—ã¾ã™ã€‚
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.curl-init-examples">
  <h3 class="title">ä¾‹</h3>
  <p class="para">
   <div class="example" id="example-4194">
    <p><strong>ä¾‹1 
     æ–°ã—ã„ cURL ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆæœŸåŒ–ã—ã€ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;æ–°ã—ã„&nbsp;cURL&nbsp;ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™<br /></span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_init</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;URL&nbsp;ã‚„ä»–ã®é©å½“ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¾ã™<br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"http://www.example.com/"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_HEADER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;URL&nbsp;ã‚’å–å¾—ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã«æ¸¡ã—ã¾ã™<br /></span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;cURL&nbsp;ãƒªã‚½ãƒ¼ã‚¹ã‚’é–‰ã˜ã€ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã—ã¾ã™<br /></span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.curl-init-seealso">
  <h3 class="title">å‚è€ƒ</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.curl-close.html" class="function" rel="rdfs-seeAlso">curl_close()</a> - cURL ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‰ã˜ã‚‹</span></li>
    <li class="member"> <span class="function"><a href="function.curl-multi-init.html" class="function" rel="rdfs-seeAlso">curl_multi_init()</a> - æ–°è¦ cURL ãƒãƒ«ãƒãƒãƒ³ãƒ‰ãƒ«ã‚’è¿”ã™</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112841""></a>
  <div class="note">
   <strong class="user">James P</strong>
   <a href="#112841" class="date">29-Jul-2013 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding spaces in URLs;<br />
Please read<br />
<a href="http://php.net/manual/en/function.urlencode.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.urlencode.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101233""></a>
  <div class="note">
   <strong class="user">jharris at et2brut dot us</strong>
   <a href="#101233" class="date">03-Dec-2010 11:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to clarify:<br />
<br />
Spaces in the URL need to be replaced with a %20.<br />
<br />
Spaces in the querystring need to be replaced with a +</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78746""></a>
  <div class="note">
   <strong class="user">rossixx at gmx dot net</strong>
   <a href="#78746" class="date">25-Oct-2007 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
e.g. you can check how many characters are on test_1.php<br />
<br />
or you can it use for more, i have used this function for a nagios check.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">echo </span><span class="string">"CURL - function test &lt;br&gt;" </span><span class="keyword">;<br />
if (</span><span class="default">$load </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br />
function </span><span class="default">webcheck </span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ch </span><span class="keyword">= </span><span class="default">curl_init </span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt </span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">= </span><span class="default">curl_exec </span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_close </span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">$res</span><span class="keyword">) ;<br />
}<br />
echo </span><span class="string">"url = </span><span class="default">$url</span><span class="string"> &lt;br&gt;" </span><span class="keyword">;<br />
<br />
</span><span class="default">$erg </span><span class="keyword">= </span><span class="default">webcheck</span><span class="keyword">(</span><span class="string">"my_page.php/test_1.php"</span><span class="keyword">) ;<br />
</span><span class="default">$zahl </span><span class="keyword">= </span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$erg</span><span class="keyword">) ;<br />
echo </span><span class="string">"length = </span><span class="default">$zahl</span><span class="string"> " </span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78700""></a>
  <div class="note">
   <strong class="user">ezyang at php dot net</strong>
   <a href="#78700" class="date">24-Oct-2007 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
curl_init() has undefined behavior if you pass 'false' to it and can crash when you try to copy the resulting handle using curl_copy_handle(). Keep this in mind if you create a wrapper object for CURL.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66523""></a>
  <div class="note">
   <strong class="user">darkstar_ae at hotmail dot com</strong>
   <a href="#66523" class="date">25-May-2006 05:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For some reason on some webservers it may not be able to understand what cURL is doing. If you're getting unexpected results (like getting no output when the URL is valid) while using curl_init(). Add a trailing slash '/' after the url if you haven't done so already.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49692""></a>
  <div class="note">
   <strong class="user">José Enrique Serrano Expósito</strong>
   <a href="#49692" class="date">04-Feb-2005 11:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; vWritePageToFile</span><span class="keyword">( </span><span class="string">'<a href="http://es.php.net" rel="nofollow" target="_blank">http://es.php.net</a>'</span><span class="keyword">, </span><span class="string">'es.php.net.txt' </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>... And the text file stand in the server in the same folder that the script.<br />
This is the function code.-<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">vWritePageToFile</span><span class="keyword">( </span><span class="default">$sHTMLpage</span><span class="keyword">, </span><span class="default">$sTxtfile </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$sh </span><span class="keyword">=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_init</span><span class="keyword">( </span><span class="default">$sHTMLpage </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$hFile </span><span class="keyword">=&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">FOpen</span><span class="keyword">( </span><span class="default">$sTxtfile</span><span class="keyword">, </span><span class="string">'w' </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">( </span><span class="default">$sh</span><span class="keyword">, </span><span class="default">CURLOPT_FILE</span><span class="keyword">, </span><span class="default">$hFile </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">( </span><span class="default">$sh</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">curl_exec&nbsp; </span><span class="keyword">( </span><span class="default">$sh </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$sAverageSpeedDownload </span><span class="keyword">= </span><span class="default">curl_getInfo</span><span class="keyword">( </span><span class="default">$sh</span><span class="keyword">, </span><span class="default">CURLINFO_SPEED_DOWNLOAD </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$sAverageSpeedUpload&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">curl_getInfo</span><span class="keyword">( </span><span class="default">$sh</span><span class="keyword">, </span><span class="default">CURLINFO_SPEED_UPLOAD </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'Average speed download == ' </span><span class="keyword">. </span><span class="default">$sAverageSpeedDownload </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'Average Speed upload&nbsp; &nbsp; == ' </span><span class="keyword">. </span><span class="default">$sAverageSpeedUpload&nbsp;&nbsp; </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$aCURLinfo </span><span class="keyword">= </span><span class="default">curl_getInfo</span><span class="keyword">( </span><span class="default">$sh </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$aCURLinfo </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">curl_close</span><span class="keyword">(&nbsp; </span><span class="default">$sh </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">FClose&nbsp; &nbsp; </span><span class="keyword">(&nbsp; </span><span class="default">$hFile </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'(&lt;b&gt;See the file&nbsp; "'</span><span class="keyword">.</span><span class="default">$sTxtfile</span><span class="keyword">.</span><span class="string">'"&nbsp; in the same path of the hosting'</span><span class="keyword">.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">' to where this script PHP&lt;/b&gt;).&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.curl-getinfo.html">curl_getinfo</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.curl-multi-add-handle.html">curl_multi_add_handle</a></div>
 <div class="up"><a href="ref.curl.html">cURL é–¢æ•°</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
