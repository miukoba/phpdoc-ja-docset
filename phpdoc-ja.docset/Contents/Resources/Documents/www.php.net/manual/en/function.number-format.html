<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>数字を千位毎にグループ化してフォーマットする</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.nl2br.html">nl2br</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ord.html">ord</a></div>
 <div class="up"><a href="ref.strings.html">String 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.number-format" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">number_format</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">number_format</span> &mdash; <span class="dc-title">数字を千位毎にグループ化してフォーマットする</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.number-format-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>number_format</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$number</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$decimals</code><span class="initializer"> = 0</span></span>
  ] )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>number_format</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$number</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$decimals</code><span class="initializer"> = 0</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$dec_point</code><span class="initializer"> = &#039;.&#039;</span></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$thousands_sep</code><span class="initializer"> = &#039;,&#039;</span></span>
   )</div>

  <p class="para rdfs-comment">
   この関数は 1 つか 2 つもしくは 4 つのパラメータを受け取ります
   (3 つはありません) :
  </p>
  <p class="para">
   パラメータが 1 つだけ渡された場合、
   <em><code class="parameter">number</code></em> は千位毎にカンマ (&quot;,&quot;) が追加され、
   小数なしでフォーマットされます。
  </p>
  <p class="para">
   パラメータが 2 つ渡された場合、<em><code class="parameter">number</code></em>
   は <em><code class="parameter">decimals</code></em> 桁の小数の前にドット (&quot;.&quot;) 、
   千位毎にカンマ (&quot;,&quot;) が追加されてフォーマットされます。
  </p>
  <p class="para">
   パラメータが 4 つ全て渡された場合、<em><code class="parameter">number</code></em>
   はドット (&quot;.&quot;) の代わりに <em><code class="parameter">dec_point</code></em> が
   <em><code class="parameter">decimals</code></em> 桁の小数の前に、千位毎にカンマ
    (&quot;,&quot;) の代わりに <em><code class="parameter">thousands_sep</code></em>
   が追加されてフォーマットされます。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.number-format-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">number</code></em></span>
     <dd>

      <p class="para">
       フォーマットする数値。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">decimals</code></em></span>
     <dd>

      <p class="para">
       小数点以下の桁数。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">dec_point</code></em></span>
     <dd>

      <p class="para">
       小数点を表す区切り文字。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">thousands_sep</code></em></span>
     <dd>

      <p class="para">
       千位毎の区切り文字。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.number-format-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <em><code class="parameter">number</code></em> をフォーマットした結果を返します。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.number-format-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.0</td>
       <td>
        この関数は、
        <em><code class="parameter">dec_point</code></em> や
        <em><code class="parameter">thousands_sep</code></em> に複数バイトを指定できるようになりました。
        それまでは、複数のバイトを指定しても先頭の 1 バイトしか使われませんでした。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.number-format-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4826">
    <p><strong>例1  <span class="function"><strong>number_format()</strong></span> の例</strong></p>
    <div class="example-contents"><p>
     例えばフランスの表記法では、通常カンマ (&#039;,&#039;)
     を小数の区切りとした二桁の小数と、千位毎の区切りとしてスペース
      (&#039; &#039;) を用います。これを実現するには次のようにします。
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234.56</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;英語での表記&nbsp;(デフォルト)<br /></span><span style="color: #0000BB">$english_format_number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1,235<br /><br />//&nbsp;フランスの表記<br /></span><span style="color: #0000BB">$nombre_format_francais&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1&nbsp;234,56<br /><br /></span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234.5678</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;千位毎の区切りがない英語での表記<br /></span><span style="color: #0000BB">$english_format_number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;1234.57<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.number-format-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.money-format.html" class="function" rel="rdfs-seeAlso">money_format()</a> - 数値を金額文字列にフォーマットする</span></li>
    <li class="member"> <span class="function"><a href="function.sprintf.html" class="function" rel="rdfs-seeAlso">sprintf()</a> - フォーマットされた文字列を返す</span></li>
    <li class="member"> <span class="function"><a href="function.printf.html" class="function" rel="rdfs-seeAlso">printf()</a> - フォーマット済みの文字列を出力する</span></li>
    <li class="member"> <span class="function"><a href="function.sscanf.html" class="function" rel="rdfs-seeAlso">sscanf()</a> - フォーマット文字列に基づき入力を処理する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113543""></a>
  <div class="note">
   <strong class="user">mobi dot lenoe at gmail dot com</strong>
   <a href="#113543" class="date">28-Oct-2013 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'd like to comment to the old notes of "stm555" and "woodynadobhar".<br />
They wrote about "number_format_unlimited_precision()".<br />
I guess many of us need that kind of function, which is the almost same function as number_format but don't round a number.<br />
<br />
Does Anyone know any new solution in a recent PHP version?<br />
<br />
...<br />
If no, how about the following function? (I fixed somethings like bugs of the function in the old comment.)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">=</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$dec_point</span><span class="keyword">==</span><span class="default">$thousands_sep</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'2 parameters for ' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() have the same value, that is "' </span><span class="keyword">. </span><span class="default">$dec_point </span><span class="keyword">. </span><span class="string">'" for $dec_point and $thousands_sep'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// It corresponds "PHP Warning:&nbsp; Wrong parameter count for number_format()", which occurs when you use $dec_point without $thousands_sep to number_format().<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'{\.\d+}'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)===</span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);<br />
}<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">1234.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">1234.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(</span><span class="default">12345678</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format_unchanged_precision</span><span class="keyword">(-</span><span class="default">0.5678</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">));&nbsp; </span><span class="comment">// It occurred a bug with the function in the old comment.<br />
</span><span class="default">?&gt;<br />
</span>output is:<br />
&nbsp;&nbsp;&nbsp; string(10) "1.234,5678"<br />
&nbsp;&nbsp;&nbsp; PHP Warning:&nbsp; 2 parameters for number_format_unchanged_precision() have the same value, that is "," for $dec_point and $thousands_sep in...<br />
&nbsp;&nbsp;&nbsp; string(10) "1,234,5678"<br />
&nbsp;&nbsp;&nbsp; string(10) "12,345,678"<br />
&nbsp;&nbsp;&nbsp; string(7) "-0,5678"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111552""></a>
  <div class="note">
   <strong class="user">tomislav at firmus-grupa dot hr</strong>
   <a href="#111552" class="date">04-Mar-2013 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When apply number_format on number with separator on thousands, result is wrong. This function accept number of any format<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">format_price</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$decPlaces</span><span class="keyword">,</span><span class="default">$decSep</span><span class="keyword">,</span><span class="default">$thouSep</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//$number - number for format<br />
&nbsp;&nbsp;&nbsp; //$decPlaces - number of decimal places<br />
&nbsp;&nbsp;&nbsp; //$decSep - separator for decimals<br />
&nbsp;&nbsp;&nbsp; //$thouSep - separator for thousands<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; //first remove all white spaces<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number</span><span class="keyword">=</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/\s+/'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//split string into array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArr </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//reverse array and not preserve key, keys will help to find decimal place<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArrRev</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$numberArr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//find first occurrence of non number character, that will be a decimal place<br />
&nbsp;&nbsp;&nbsp; //store $key into variable $decPointIsHere <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$numberArrRev </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$decPointIsHere</span><span class="keyword">==</span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decPointIsHere</span><span class="keyword">=</span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//decimal comma or whatever it is replace with dot<br />
&nbsp;&nbsp;&nbsp; //$decPointIsHere is the key of the element that will contain decimal separator dot <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$decPointIsHere</span><span class="keyword">!=</span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numberArrRev</span><span class="keyword">[</span><span class="default">$decPointIsHere</span><span class="keyword">]=</span><span class="string">"."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//again check through array for non numerical characters but skipping allready processed keys<br />
&nbsp;&nbsp;&nbsp; //if is not number remove from array<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$numberArrRev </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">$key</span><span class="keyword">&gt;</span><span class="default">$decPointIsHere</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$numberArrRev</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//reverse back, at the start reversed array $numberArrRev to $numberArr<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberArr</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$numberArrRev</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//create string from array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numberClean</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$numberArr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// apply php number_format function<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$numberClean</span><span class="keyword">,</span><span class="default">$decPlaces</span><span class="keyword">,</span><span class="default">$decSep</span><span class="keyword">,</span><span class="default">$thouSep</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1 225 552, 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1.225.552, 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1'225'552. 55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">format_price</span><span class="keyword">(</span><span class="string">"1225552.55"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>all results are: 1 225 552,55</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111397""></a>
  <div class="note">
   <strong class="user">rlerne at gmail dot com</strong>
   <a href="#111397" class="date">16-Feb-2013 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I came into a need to show two decimal places, but the desire to drop the decimal portion off if it is zero. This function is a direct replacement for number_format:<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">function </span><span class="default">number_format_clean</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$precision</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$dec_point</span><span class="keyword">=</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$thousands_sep</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; RETURN </span><span class="default">trim</span><span class="keyword">(</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$precision</span><span class="keyword">,</span><span class="default">$dec_point</span><span class="keyword">,</span><span class="default">$thousands_sep</span><span class="keyword">),</span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$dec_point</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">echo </span><span class="default">number_format_clean</span><span class="keyword">(</span><span class="default">25.00</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">number_format_clean</span><span class="keyword">(</span><span class="default">25.52</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">number_format_clean</span><span class="keyword">(</span><span class="default">50.10</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">number_format_clean</span><span class="keyword">(</span><span class="default">05.50</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
25<br />
25.52<br />
50.1<br />
5.5<br />
<br />
Good for weight conversions (1 oz vs. 1.00 oz). Feels less "automated."<br />
<br />
The above will trim all insignificant zeros from both ends of the string, though I'm not sure I've ever seen leading zeros returned.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108532""></a>
  <div class="note">
   <strong class="user">vgurudev at nikshepa dot com</strong>
   <a href="#108532" class="date">04-May-2012 05:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">convertNumberToWordsForIndia</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//A function to convert numbers into Indian readable words with Cores, Lakhs and Thousands.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$words </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'0'</span><span class="keyword">=&gt; </span><span class="string">'' </span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">=&gt; </span><span class="string">'one' </span><span class="keyword">,</span><span class="string">'2'</span><span class="keyword">=&gt; </span><span class="string">'two' </span><span class="keyword">,</span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,</span><span class="string">'4' </span><span class="keyword">=&gt; </span><span class="string">'four'</span><span class="keyword">,</span><span class="string">'5' </span><span class="keyword">=&gt; </span><span class="string">'five'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'6' </span><span class="keyword">=&gt; </span><span class="string">'six'</span><span class="keyword">,</span><span class="string">'7' </span><span class="keyword">=&gt; </span><span class="string">'seven'</span><span class="keyword">,</span><span class="string">'8' </span><span class="keyword">=&gt; </span><span class="string">'eight'</span><span class="keyword">,</span><span class="string">'9' </span><span class="keyword">=&gt; </span><span class="string">'nine'</span><span class="keyword">,</span><span class="string">'10' </span><span class="keyword">=&gt; </span><span class="string">'ten'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'11' </span><span class="keyword">=&gt; </span><span class="string">'eleven'</span><span class="keyword">,</span><span class="string">'12' </span><span class="keyword">=&gt; </span><span class="string">'twelve'</span><span class="keyword">,</span><span class="string">'13' </span><span class="keyword">=&gt; </span><span class="string">'thirteen'</span><span class="keyword">,</span><span class="string">'14' </span><span class="keyword">=&gt; </span><span class="string">'fouteen'</span><span class="keyword">,</span><span class="string">'15' </span><span class="keyword">=&gt; </span><span class="string">'fifteen'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'16' </span><span class="keyword">=&gt; </span><span class="string">'sixteen'</span><span class="keyword">,</span><span class="string">'17' </span><span class="keyword">=&gt; </span><span class="string">'seventeen'</span><span class="keyword">,</span><span class="string">'18' </span><span class="keyword">=&gt; </span><span class="string">'eighteen'</span><span class="keyword">,</span><span class="string">'19' </span><span class="keyword">=&gt; </span><span class="string">'nineteen'</span><span class="keyword">,</span><span class="string">'20' </span><span class="keyword">=&gt; </span><span class="string">'twenty'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'30' </span><span class="keyword">=&gt; </span><span class="string">'thirty'</span><span class="keyword">,</span><span class="string">'40' </span><span class="keyword">=&gt; </span><span class="string">'fourty'</span><span class="keyword">,</span><span class="string">'50' </span><span class="keyword">=&gt; </span><span class="string">'fifty'</span><span class="keyword">,</span><span class="string">'60' </span><span class="keyword">=&gt; </span><span class="string">'sixty'</span><span class="keyword">,</span><span class="string">'70' </span><span class="keyword">=&gt; </span><span class="string">'seventy'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'80' </span><span class="keyword">=&gt; </span><span class="string">'eighty'</span><span class="keyword">,</span><span class="string">'90' </span><span class="keyword">=&gt; </span><span class="string">'ninty'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//First find the length of the number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Initialize an empty array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$received_number_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Store all received numbers into an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$number_length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){&nbsp; &nbsp; </span><span class="default">$received_number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Populate the empty array with the numbers received - most critical operation<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">9</span><span class="keyword">-</span><span class="default">$number_length</span><span class="keyword">,</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++,</span><span class="default">$j</span><span class="keyword">++){ </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$received_number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_to_words_string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Finding out whether it is teen ? and then multiplying by 10, example 17 is seventeen, so if 1 is preceeded with 7 multiply 1 by 10 and add 7 to it.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$j</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++,</span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">4 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">7</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]==</span><span class="string">"1"</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">10</span><span class="keyword">+</span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">9</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">4 </span><span class="keyword">|| </span><span class="default">$i</span><span class="keyword">==</span><span class="default">7</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]*</span><span class="default">10</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{ </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];&nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){ </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$value</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">1 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Crores "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">3 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Lakhs "</span><span class="keyword">;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">5 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Thousand "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">6 </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">){&nbsp; &nbsp; </span><span class="default">$number_to_words_string</span><span class="keyword">.= </span><span class="string">"Hundred &amp;amp; "</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$number_length</span><span class="keyword">&gt;</span><span class="default">9</span><span class="keyword">){ </span><span class="default">$number_to_words_string </span><span class="keyword">= </span><span class="string">"Sorry This does not support more than 99 Crores"</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">ucwords</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="string">"Indian Rupees "</span><span class="keyword">.</span><span class="default">$number_to_words_string</span><span class="keyword">).</span><span class="string">" Only."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">convertNumberToWordsForIndia</span><span class="keyword">(</span><span class="string">"987654321"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Output ==&gt; Indian Rupees Ninty Eight Crores Seventy Six Lakhs Fifty Four Thousand Three Hundred &amp; Twenty One Only.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108456""></a>
  <div class="note">
   <strong class="user">before_i_sleep at hotmail dot co dot uk</strong>
   <a href="#108456" class="date">27-Apr-2012 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As many people state the number_format function will round. Now if your like me and you don't want stuff to round (and the functions below do not work for you) you can try a little regex:<br />
<br />
function convert_size_human($size){<br />
&nbsp;&nbsp;&nbsp; $unit=array('','KB','MB','GB','TB','PB');<br />
&nbsp;&nbsp;&nbsp; $byte_size = $size/pow(1024,($i=floor(log($size,1024))));<br />
<br />
&nbsp;&nbsp;&nbsp; if(is_really_int($byte_size)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $byte_size.' '.$unit[$i];<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; preg_match('/^[0-9]+\.[0-9]{2}/', $byte_size, $matches);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $matches[0].' '.$unit[$i];<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
The regex used when the number is not an int ensures that 3.99887 GB comes out as 3.99 GB instead of 4GB as it does from number_format or the functions below.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106560""></a>
  <div class="note">
   <strong class="user">liviu andrei (bls)</strong>
   <a href="#106560" class="date">18-Nov-2011 05:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To prevent the rounding that occurs when next digit after last significant decimal is 5 (mentioned by several people below):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">, </span><span class="default">$sep1</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">, </span><span class="default">$sep2</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$number </span><span class="keyword">* </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10 </span><span class="keyword">, </span><span class="default">$decimals </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) % </span><span class="default">10 </span><span class="keyword">) == </span><span class="default">5</span><span class="keyword">)&nbsp; </span><span class="comment">//if next not significant digit is 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">-= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10 </span><span class="keyword">, -(</span><span class="default">$decimals</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$sep1</span><span class="keyword">, </span><span class="default">$sep2</span><span class="keyword">);<br />
<br />
}<br />
<br />
</span><span class="default">$t</span><span class="keyword">=</span><span class="default">7.15</span><span class="keyword">;<br />
echo </span><span class="default">$t </span><span class="keyword">. </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) .&nbsp; </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
</span><span class="comment">//result is: 7.15 | 7.2 | 7.1<br />
<br />
</span><span class="default">$t</span><span class="keyword">=</span><span class="default">7.3215</span><span class="keyword">;<br />
echo </span><span class="default">$t </span><span class="keyword">. </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) .&nbsp; </span><span class="string">" | " </span><span class="keyword">. </span><span class="default">fnumber_format</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) . </span><span class="string">"\n\n"</span><span class="keyword">;<br />
</span><span class="comment">//result is: 7.3215 | 7.322 | 7.321<br />
</span><span class="keyword">} </span><span class="default">?&gt;<br />
</span><br />
have fun!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105574""></a>
  <div class="note">
   <strong class="user">t dot ulrich at airbus-pilots dot com</strong>
   <a href="#105574" class="date">29-Aug-2011 02:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
leading zero´s are easier to do with some small if statement<br />
<br />
<span class="default">&lt;?php<br />
$number </span><span class="keyword">= </span><span class="default">123.3</span><span class="keyword">;<br />
<br />
</span><span class="default">$number </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
<br />
if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">],</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">$number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] . </span><span class="string">"0"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$number </span><span class="keyword">= </span><span class="default">$number</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]. </span><span class="string">"." </span><span class="keyword">.</span><span class="default">$number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span><br />
easy...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103834""></a>
  <div class="note">
   <strong class="user">robmann at gmx dot li</strong>
   <a href="#103834" class="date">06-May-2011 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here a function to filter exponential notation like 6e-06. Turn it to 0,000006 for comfortable reading. Supporting various number of decimals!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">easy_number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%f'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">), </span><span class="string">"0"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$nummer</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_int_dec </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_int_dec</span><span class="keyword">= array(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$nummer</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$array_int_dec</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) &lt; </span><span class="default">2</span><span class="keyword">) ? (</span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">) : (</span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$array_int_dec</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);<br />
} <br />
</span><span class="default">?&gt;<br />
</span><br />
The maximum accuracy depends on sprintf('%f', $number). In this case 6 decimals. Expand it to 10 with '%.10f'.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102040""></a>
  <div class="note">
   <strong class="user">info at swedishboy dot se</strong>
   <a href="#102040" class="date">25-Jan-2011 12:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There has been some suggestions around on how to keep trailing zeros. Best way is to use the example for currency provided by the php-crew in the sprintf function help section.<br />
<br />
That is:<br />
<span class="default">&lt;?php<br />
$money1 </span><span class="keyword">= </span><span class="default">68.75</span><span class="keyword">;<br />
</span><span class="default">$money2 </span><span class="keyword">= </span><span class="default">54.35</span><span class="keyword">;<br />
</span><span class="default">$money </span><span class="keyword">= </span><span class="default">$money1 </span><span class="keyword">+ </span><span class="default">$money2</span><span class="keyword">;<br />
<br />
</span><span class="comment">// echo $money will output "123.1";<br />
<br />
</span><span class="default">$formatted </span><span class="keyword">= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%01.2f"</span><span class="keyword">, </span><span class="default">$money</span><span class="keyword">); </span><span class="comment">// &lt;&lt; this does the trick!<br />
<br />
// echo $formatted will output "123.10"<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100600""></a>
  <div class="note">
   <strong class="user">Ali Okan YKSEL</strong>
   <a href="#100600" class="date">26-Oct-2010 11:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function formats numbers of datetime type,<br />
<br />
<span class="default">&lt;?php<br />
$_GET</span><span class="keyword">[</span><span class="string">"zaman"</span><span class="keyword">]=</span><span class="string">"1983-8-28 5:5:5"</span><span class="keyword">;<br />
<br />
function </span><span class="default">_parseDatetimeToList</span><span class="keyword">(</span><span class="default">$datetimeStr</span><span class="keyword">) { </span><span class="comment">//datetime format: Y-m-d H-i-s<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$datetimeArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$datetimeStr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dateArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$datetimeArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$month</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$day</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$dateArray</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timeArray</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">":"</span><span class="keyword">,</span><span class="default">$datetimeArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hour</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$minute</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$second</span><span class="keyword">=</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$timeArray</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return array(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$hour</span><span class="keyword">, </span><span class="default">$minute</span><span class="keyword">, </span><span class="default">$second</span><span class="keyword">);<br />
}<br />
<br />
list(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$hour</span><span class="keyword">, </span><span class="default">$minute</span><span class="keyword">, </span><span class="default">$second</span><span class="keyword">) = </span><span class="default">_parseDatetimeToList</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"zaman"</span><span class="keyword">]);&nbsp; </span><span class="comment">// 1983-1-28 5:5:5<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100443""></a>
  <div class="note">
   <strong class="user">Ricky *@* Mataka [com]</strong>
   <a href="#100443" class="date">16-Oct-2010 08:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hey Guys, dont know if this is the best way but it worked for me as i faced a problem where I had to split any large number &gt; then 10K into into to exact split amounts.. so i wrote this this to do the trick.. hope it helps some one out there!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">divide22</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$valone </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$num </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$valtwo </span><span class="keyword">= </span><span class="default">$valone</span><span class="keyword">;<br />
&nbsp; if ((</span><span class="default">$num </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$valtwo</span><span class="keyword">++;<br />
&nbsp; return array(</span><span class="default">$valone</span><span class="keyword">, </span><span class="default">$valtwo</span><span class="keyword">);<br />
} <br />
function </span><span class="default">split2vals</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">,</span><span class="default">$split_amount</span><span class="keyword">)<br />
{&nbsp; <br />
&nbsp; </span><span class="default">$store</span><span class="keyword">=array();<br />
&nbsp; </span><span class="default">$times </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">((</span><span class="default">$num</span><span class="keyword">/</span><span class="default">$split_amount</span><span class="keyword">));<br />
&nbsp; </span><span class="default">$amount</span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">/</span><span class="default">$times</span><span class="keyword">;&nbsp;&nbsp; <br />
&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$times</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$store</span><span class="keyword">[]=</span><span class="default">round</span><span class="keyword">(</span><span class="default">$amount</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; foreach(</span><span class="default">$store </span><span class="keyword">as </span><span class="default">$index</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$value</span><span class="keyword">&gt;</span><span class="default">$split_amount</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$get_splits</span><span class="keyword">=</span><span class="default">divide22</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">//unset the split<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">unset(</span><span class="default">$store</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$store</span><span class="keyword">[]=</span><span class="default">$get_splits</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$store</span><span class="keyword">[]=</span><span class="default">$get_splits</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$sum</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp; if(</span><span class="default">$sum </span><span class="keyword">&gt; </span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sub</span><span class="keyword">=</span><span class="default">$sum</span><span class="keyword">-</span><span class="default">$num</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$end</span><span class="keyword">=</span><span class="default">end</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$store</span><span class="keyword">[]=</span><span class="default">$end</span><span class="keyword">-</span><span class="default">$sub</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; if(</span><span class="default">$sum </span><span class="keyword">&lt; </span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$store</span><span class="keyword">[]=(</span><span class="default">$num</span><span class="keyword">-</span><span class="default">$sum</span><span class="keyword">);&nbsp; <br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$store</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//USAGE<br />
<br />
</span><span class="default">$check_amount</span><span class="keyword">=</span><span class="default">50567.83</span><span class="keyword">;<br />
echo </span><span class="string">'Input Split = '</span><span class="keyword">.</span><span class="default">$check_amount</span><span class="keyword">.</span><span class="string">'&lt;br&gt;&lt;br&gt;'</span><span class="keyword">;<br />
</span><span class="default">$store</span><span class="keyword">=</span><span class="default">split2vals</span><span class="keyword">(</span><span class="default">$check_amount</span><span class="keyword">,</span><span class="default">10000</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">);<br />
</span><span class="default">$sum</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;br&gt;&lt;br&gt;Should Be Exact ='</span><span class="keyword">. </span><span class="default">$sum</span><span class="keyword">;<br />
exit();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99285""></a>
  <div class="note">
   <strong class="user">Cody G.</strong>
   <a href="#99285" class="date">08-Aug-2010 11:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, I'm sure, you guys are looking for a way to do the exact opposite of this function: convert a comma-filled number back to normal decimal.<br />
Here's a quick code that popped into my head today:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$mynumstr </span><span class="keyword">= </span><span class="string">"100,000,000.75"</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$mynum </span><span class="keyword">= </span><span class="default">doubleval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$mynumstr</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
This is especially useful when validating user input. Some people like to include comma's with their numbers.<br />
Some also like to include the dollar-sign when entering prices. Here's a modification:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$mynumstr </span><span class="keyword">= </span><span class="string">'$100,000,000.25'</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$arr1 </span><span class="keyword">= array(</span><span class="string">','</span><span class="keyword">,</span><span class="string">'$'</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$arr2 </span><span class="keyword">= array(</span><span class="string">''</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$mynum </span><span class="keyword">= </span><span class="default">doubleval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">,</span><span class="default">$arr2</span><span class="keyword">,</span><span class="default">$mynumstr</span><span class="keyword">));<br />
&nbsp;</span><span class="comment">//The arrays had to be defined in a<br />
&nbsp;//&nbsp; variable to shorten statement.<br />
</span><span class="default">?&gt;<br />
</span><br />
Okay, that takes care of it, I use the PHP4 array compatibility update to remove several characters.<br />
Don't forget to either use single-quotes or escape the dollar-sign!<br />
<br />
~Cody G.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98806""></a>
  <div class="note">
   <strong class="user">me dot nosp at m dot unreal4u dot com</strong>
   <a href="#98806" class="date">08-Jul-2010 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Maybe it is documented, but I just missed it. However, a comment is always useful. <br />
<br />
An array will always be converted into 1, so, if you have: <br />
<br />
<span class="default">&lt;?php<br />
$my_array </span><span class="keyword">= array(</span><span class="default">55</span><span class="keyword">);<br />
echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">);<br />
</span><span class="comment">// 1<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">));<br />
</span><span class="comment">// string(4) "1,00" <br />
</span><span class="default">?&gt;<br />
</span><br />
Since it took me a while to figure it out, I hope this will save somebody's time. <br />
<br />
Greetings !!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97042""></a>
  <div class="note">
   <strong class="user">isedc at yahoo dot com</strong>
   <a href="#97042" class="date">29-Mar-2010 09:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some programmers may have scripts that use the number_format function twice on a variable.&nbsp; However, if a number is 4 or more digits, using the function twice with only the decimals parameter will lose part of the value that follows the thousands separator.<br />
<br />
<span class="default">&lt;?php<br />
$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">2234</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="comment"># Expected Output: 2,234.00<br />
# Actual Output: 2.00<br />
</span><span class="default">?&gt;<br />
</span><br />
To fix, remove the thousands separator by setting the decimal point and thousands separator parameters like so:<br />
<br />
<span class="default">&lt;?php<br />
$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">2234</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
echo </span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="comment"># Expected Output: 2234.00<br />
# Actual Output: 2234.00<br />
</span><span class="default">?&gt;<br />
</span><br />
If it's 3 digits or less, then it works normally with only the decimals parameter since there is no thousands separator.<br />
<br />
<span class="default">&lt;?php<br />
$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">123</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
echo </span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="comment"># Expected Output: 123.00<br />
# Actual Output: 123.00<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97020""></a>
  <div class="note">
   <strong class="user">dipu dot ashok dot 17 at gmail dot com</strong>
   <a href="#97020" class="date">28-Mar-2010 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function to convert numbers to words<br />
indian: thousand,lakh,crore<br />
Note: function can only convert nos upto 99 crores<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;$words </span><span class="keyword">= array(</span><span class="string">'0'</span><span class="keyword">=&gt; </span><span class="string">'' </span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">=&gt; </span><span class="string">'one' </span><span class="keyword">,</span><span class="string">'2'</span><span class="keyword">=&gt; </span><span class="string">'two' </span><span class="keyword">,</span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,</span><span class="string">'4' </span><span class="keyword">=&gt; </span><span class="string">'four'</span><span class="keyword">,</span><span class="string">'5' </span><span class="keyword">=&gt; </span><span class="string">'five'</span><span class="keyword">,</span><span class="string">'6' </span><span class="keyword">=&gt; </span><span class="string">'six'</span><span class="keyword">,</span><span class="string">'7' </span><span class="keyword">=&gt; </span><span class="string">'seven'</span><span class="keyword">,</span><span class="string">'8' </span><span class="keyword">=&gt; </span><span class="string">'eight'</span><span class="keyword">,</span><span class="string">'9' </span><span class="keyword">=&gt; </span><span class="string">'nine'</span><span class="keyword">,</span><span class="string">'10' </span><span class="keyword">=&gt; </span><span class="string">'ten'</span><span class="keyword">,</span><span class="string">'11' </span><span class="keyword">=&gt; </span><span class="string">'eleven'</span><span class="keyword">,</span><span class="string">'12' </span><span class="keyword">=&gt; </span><span class="string">'twelve'</span><span class="keyword">,</span><span class="string">'13' </span><span class="keyword">=&gt; </span><span class="string">'thirteen'</span><span class="keyword">,</span><span class="string">'14' </span><span class="keyword">=&gt; </span><span class="string">'fouteen'</span><span class="keyword">,</span><span class="string">'15' </span><span class="keyword">=&gt; </span><span class="string">'fifteen'</span><span class="keyword">,</span><span class="string">'16' </span><span class="keyword">=&gt; </span><span class="string">'sixteen'</span><span class="keyword">,</span><span class="string">'17' </span><span class="keyword">=&gt; </span><span class="string">'seventeen'</span><span class="keyword">,</span><span class="string">'18' </span><span class="keyword">=&gt; </span><span class="string">'eighteen'</span><span class="keyword">,</span><span class="string">'19' </span><span class="keyword">=&gt; </span><span class="string">'nineteen'</span><span class="keyword">,</span><span class="string">'20' </span><span class="keyword">=&gt; </span><span class="string">'twenty'</span><span class="keyword">,</span><span class="string">'30' </span><span class="keyword">=&gt; </span><span class="string">'thirty'</span><span class="keyword">,</span><span class="string">'40' </span><span class="keyword">=&gt; </span><span class="string">'fourty'</span><span class="keyword">,</span><span class="string">'50' </span><span class="keyword">=&gt; </span><span class="string">'fifty'</span><span class="keyword">,</span><span class="string">'60' </span><span class="keyword">=&gt; </span><span class="string">'sixty'</span><span class="keyword">,</span><span class="string">'70' </span><span class="keyword">=&gt; </span><span class="string">'seventy'</span><span class="keyword">,</span><span class="string">'80' </span><span class="keyword">=&gt; </span><span class="string">'eighty'</span><span class="keyword">,</span><span class="string">'90' </span><span class="keyword">=&gt; </span><span class="string">'ninty'</span><span class="keyword">,</span><span class="string">'100' </span><span class="keyword">=&gt; </span><span class="string">'hundred &amp;'</span><span class="keyword">,</span><span class="string">'1000' </span><span class="keyword">=&gt; </span><span class="string">'thousand'</span><span class="keyword">,</span><span class="string">'100000' </span><span class="keyword">=&gt; </span><span class="string">'lakh'</span><span class="keyword">,</span><span class="string">'10000000' </span><span class="keyword">=&gt; </span><span class="string">'crore'</span><span class="keyword">);<br />
function </span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$no</span><span class="keyword">)<br />
{&nbsp; &nbsp; global </span><span class="default">$words</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$no </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">' '</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$novalue</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;</span><span class="default">$highno</span><span class="keyword">=</span><span class="default">$no</span><span class="keyword">;</span><span class="default">$remainno</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$value</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">;</span><span class="default">$value1</span><span class="keyword">=</span><span class="default">1000</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$no</span><span class="keyword">&gt;=</span><span class="default">100</span><span class="keyword">)&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">$value </span><span class="keyword">&lt;= </span><span class="default">$no</span><span class="keyword">) &amp;&amp;(</span><span class="default">$no&nbsp; </span><span class="keyword">&lt; </span><span class="default">$value1</span><span class="keyword">))&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$novalue</span><span class="keyword">=</span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$value</span><span class="string">"</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$highno </span><span class="keyword">= (int)(</span><span class="default">$no</span><span class="keyword">/</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$remainno </span><span class="keyword">= </span><span class="default">$no </span><span class="keyword">% </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">= </span><span class="default">$value1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value1 </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">"</span><span class="default">$highno</span><span class="string">"</span><span class="keyword">,</span><span class="default">$words</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$highno</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$novalue</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">.</span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$remainno</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$unit</span><span class="keyword">=</span><span class="default">$highno</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ten </span><span class="keyword">=(int)(</span><span class="default">$highno</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">)*</span><span class="default">10</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$ten</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$words</span><span class="keyword">[</span><span class="string">"</span><span class="default">$unit</span><span class="string">"</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$novalue</span><span class="keyword">.</span><span class="string">" "</span><span class="keyword">.</span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">$remainno</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
echo </span><span class="default">no_to_words</span><span class="keyword">(</span><span class="default">999978987</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93893""></a>
  <div class="note">
   <strong class="user">Horvath, Sandor [HU]</strong>
   <a href="#93893" class="date">05-Oct-2009 10:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Because I had a lot of problems with number_format, here is a working, simple and small replacement:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">FormatNumber</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$thousand_separator </span><span class="keyword">= </span><span class="string">'&amp;nbsp;'</span><span class="keyword">, </span><span class="default">$decimal_point </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$tmp1 </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">((float) </span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals</span><span class="keyword">);<br />
<br />
&nbsp; while ((</span><span class="default">$tmp2 </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/(\d+)(\d\d\d)/'</span><span class="keyword">, </span><span class="string">'\1 \2'</span><span class="keyword">, </span><span class="default">$tmp1</span><span class="keyword">)) != </span><span class="default">$tmp1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp1 </span><span class="keyword">= </span><span class="default">$tmp2</span><span class="keyword">;<br />
<br />
&nbsp; return </span><span class="default">strtr</span><span class="keyword">(</span><span class="default">$tmp1</span><span class="keyword">, array(</span><span class="string">' ' </span><span class="keyword">=&gt; </span><span class="default">$thousand_separator</span><span class="keyword">, </span><span class="string">'.' </span><span class="keyword">=&gt; </span><span class="default">$decimal_point</span><span class="keyword">));<br />
}<br />
<br />
echo </span><span class="default">FormatNumber</span><span class="keyword">(-</span><span class="default">913578.1415</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92971""></a>
  <div class="note">
   <strong class="user">Peter de Pijd</strong>
   <a href="#92971" class="date">17-Aug-2009 05:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use nbsp as decimal/thousand delimiter with UTF-8 you have to replace the whitespace after using number_format:<br />
<br />
<span class="default">&lt;?php<br />
$number </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">1000</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">); </span><span class="comment">// normal space<br />
</span><span class="keyword">echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="string">"\xA0"</span><span class="keyword">), </span><span class="default">$number</span><span class="keyword">);<br />
</span><span class="comment">// or<br />
</span><span class="keyword">echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">html_entity_decode</span><span class="keyword">(</span><span class="string">"&amp;nbsp;"</span><span class="keyword">, </span><span class="default">ENT_COMPAT</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">), </span><span class="default">$number</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91047""></a>
  <div class="note">
   <strong class="user">info at daniel-marschall dot de</strong>
   <a href="#91047" class="date">22-May-2009 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In my function my_number_format() [shown below] there was a bug.<br />
<br />
If a negative number which is smaller than 1 was entered (-0,...), then the result was wrongly positive because +0 is equal to -0 (the content of $tmp[0] which was interpretet as numeric value).<br />
<br />
Here is the corrected version:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">my_number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$was_neg </span><span class="keyword">= </span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">; </span><span class="comment">// Because +0 == -0<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">$dec_point</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$was_neg</span><span class="keyword">) </span><span class="default">$out </span><span class="keyword">= </span><span class="string">"-</span><span class="default">$out</span><span class="string">"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Thanks to Federico Cassinelli for the bug report.<br />
<br />
<br />
<br />
[EDIT BY danbrown AT php DOT net: The original note follows.]<br />
<br />
Let's say we got the number $inp = 1234.56<br />
<br />
By using<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$inp</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
you can get the German format 1.234,56. (Comma as decimal separator and point as thousand separator)<br />
<br />
But I have a problem with that: I want to add commas as thousand separators and change the decimal-separator (this could also be done with str_replace), but I do not want to change the amount of fractional digits!<br />
<br />
But since the 2nd argument of number_format is necessary to enter the 3rd and 4th argument, this cannot be done with number_format. You have to change the fractional digits with this function.<br />
<br />
But I want that 1234.56 changes into 1.234,56 and 1234.567890123456 changes into 1.234,567890123456<br />
<br />
So, I created following function, that doesn't change the amount of fractional digits:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$number</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">);<br />
&nbsp; if (isset(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">$dec_point</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89888""></a>
  <div class="note">
   <strong class="user">james at bandit dot co.nz</strong>
   <a href="#89888" class="date">27-Mar-2009 06:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Outputs a human readable number.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#&nbsp; &nbsp; Output easy-to-read numbers<br />
&nbsp;&nbsp;&nbsp; #&nbsp; &nbsp; by james at bandit.co.nz<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">bd_nice_number</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// first strip any formatting;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= (</span><span class="default">0</span><span class="keyword">+</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$n</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// is this a number?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// now filter it;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' trillion'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' billion'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' million'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$n</span><span class="keyword">&gt;</span><span class="default">1000</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">((</span><span class="default">$n</span><span class="keyword">/</span><span class="default">1000</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">).</span><span class="string">' thousand'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
<br />
247,704,360 -&gt; 247.7 million<br />
866,965,260,000 -&gt; 867 billion</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89655""></a>
  <div class="note">
   <strong class="user">IMSoP</strong>
   <a href="#89655" class="date">18-Mar-2009 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm not sure if this is the right place anyway, but "ben at last dot fm"'s ordinal function can be simplified further by removing the redundant "floor" (the result of floor is still a float, it's the "%" that's converting to int) and outer switch.<br />
<br />
Note that this version also returns the number with the suffix on the end, not just the suffix. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Special case "teenth"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( (</span><span class="default">$num </span><span class="keyword">/ </span><span class="default">10</span><span class="keyword">) % </span><span class="default">10 </span><span class="keyword">!= </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Handle 1st, 2nd, 3rd<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">switch( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'st'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'nd'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">: return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'rd'</span><span class="keyword">;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Everything else is "nth"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$num </span><span class="keyword">. </span><span class="string">'th'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89235""></a>
  <div class="note">
   <strong class="user">ben at last dot fm</strong>
   <a href="#89235" class="date">27-Feb-2009 01:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Writing a function to get English ordinals for numbers is a problem every computer science student will face. Here's my solution - nice, short and simple:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">st</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch( </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">) % </span><span class="default">10 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch( </span><span class="default">$i </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: return </span><span class="string">'st'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: return </span><span class="string">'nd'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">: return </span><span class="string">'rd'</span><span class="keyword">;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'th'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88486""></a>
  <div class="note">
   <strong class="user">Barbara</strong>
   <a href="#88486" class="date">26-Jan-2009 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for a SIMPLE way to format currency and account for negative values while not losing the calculation properties of my number.&nbsp; Here's my function - it's not rocket science, but maybe can help someone along the way.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">wims_currency</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {<br />
&nbsp;&nbsp; if (</span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$print_number </span><span class="keyword">= </span><span class="string">"($ " </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">number_format </span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">)) . </span><span class="string">")"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$print_number </span><span class="keyword">= </span><span class="string">"$ " </span><span class="keyword">.&nbsp; </span><span class="default">number_format </span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">) ;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$print_number</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Sample use:<br />
<br />
<span class="default">&lt;?php<br />
$pur_po_total </span><span class="keyword">=&nbsp; (</span><span class="default">$pur_po_total </span><span class="keyword">+ </span><span class="default">$pur_item_total</span><span class="keyword">);<br />
</span><span class="default">$print_pur_po_total </span><span class="keyword">= </span><span class="default">wims_currency</span><span class="keyword">(</span><span class="default">$pur_po_total</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Returns (for example)&nbsp; &nbsp; $ 44,561.00 or, if a negative ($ 407,250.00)<br />
<br />
This way, I use my 1st variable for calculations and my 2nd variable for output.&nbsp; I'm sure there are better ways to do it,&nbsp; but this got me back on track.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88424""></a>
  <div class="note">
   <strong class="user">thomas at weblizards dot de</strong>
   <a href="#88424" class="date">23-Jan-2009 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's not explicitly documented; number_format also rounds:<br />
<br />
<span class="default">&lt;?php<br />
$numbers </span><span class="keyword">= array(</span><span class="default">0.001</span><span class="keyword">, </span><span class="default">0.002</span><span class="keyword">, </span><span class="default">0.003</span><span class="keyword">, </span><span class="default">0.004</span><span class="keyword">, </span><span class="default">0.005</span><span class="keyword">, </span><span class="default">0.006</span><span class="keyword">, </span><span class="default">0.007</span><span class="keyword">, </span><span class="default">0.008</span><span class="keyword">, </span><span class="default">0.009</span><span class="keyword">);<br />
foreach (</span><span class="default">$numbers </span><span class="keyword">as </span><span class="default">$number</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$number</span><span class="keyword">.</span><span class="string">"-&gt;"</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
0.001-&gt;0.00<br />
0.002-&gt;0.00<br />
0.003-&gt;0.00<br />
0.004-&gt;0.00<br />
0.005-&gt;0.01<br />
0.006-&gt;0.01<br />
0.007-&gt;0.01<br />
0.008-&gt;0.01<br />
0.009-&gt;0.01</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87381""></a>
  <div class="note">
   <strong class="user">nospam at nospam dot com</strong>
   <a href="#87381" class="date">02-Dec-2008 11:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple function to show money as only dollars if no cents, but will show 2 decimals if cents exist.<br />
<br />
The 'cents' flag can force to never or always show 2 decimals<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// formats money to a whole number or with 2 decimals; includes a dollar sign in front<br />
</span><span class="keyword">function </span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$cents </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) { </span><span class="comment">// cents: 0=never, 1=if needed, 2=always<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">)) { </span><span class="comment">// a number<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">$number</span><span class="keyword">) { </span><span class="comment">// zero<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'0.00' </span><span class="keyword">: </span><span class="string">'0'</span><span class="keyword">); </span><span class="comment">// output zero<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} else { </span><span class="comment">// value<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) == </span><span class="default">$number</span><span class="keyword">) { </span><span class="comment">// whole number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="default">2 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">)); </span><span class="comment">// format<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">} else { </span><span class="comment">// cents<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$money </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">round</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), (</span><span class="default">$cents </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">? </span><span class="default">0 </span><span class="keyword">: </span><span class="default">2</span><span class="keyword">)); </span><span class="comment">// format<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">// integer or decimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">// value<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="string">'$'</span><span class="keyword">.</span><span class="default">$money</span><span class="keyword">;<br />
&nbsp; } </span><span class="comment">// numeric<br />
</span><span class="keyword">} </span><span class="comment">// formatMoney<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1234</span><span class="keyword">, </span><span class="default">1.5</span><span class="keyword">, </span><span class="default">1.234</span><span class="keyword">, </span><span class="default">2.345</span><span class="keyword">, </span><span class="default">2.001</span><span class="keyword">, </span><span class="default">2.100</span><span class="keyword">, </span><span class="string">'1.000'</span><span class="keyword">, </span><span class="string">'1.2345'</span><span class="keyword">, </span><span class="string">'12345'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">'0.00'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// show cents if needed ($cents=1)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234<br />
1.5 </span><span class="keyword">= $</span><span class="default">1.50<br />
1.234 </span><span class="keyword">= $</span><span class="default">1.23<br />
2.345 </span><span class="keyword">= $</span><span class="default">2.35<br />
2.001 </span><span class="keyword">= $</span><span class="default">2.00<br />
2.1 </span><span class="keyword">= $</span><span class="default">2.10<br />
1.000 </span><span class="keyword">= $</span><span class="default">1<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1.23<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345<br />
0 </span><span class="keyword">= $</span><span class="default">0<br />
0.00 </span><span class="keyword">= $</span><span class="default">0<br />
<br />
</span><span class="comment">// never show cents ($cents=0)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234<br />
1.5 </span><span class="keyword">= $</span><span class="default">2<br />
1.234 </span><span class="keyword">= $</span><span class="default">1<br />
2.345 </span><span class="keyword">= $</span><span class="default">2<br />
2.001 </span><span class="keyword">= $</span><span class="default">2<br />
2.1 </span><span class="keyword">= $</span><span class="default">2<br />
1.000 </span><span class="keyword">= $</span><span class="default">1<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345<br />
0 </span><span class="keyword">= $</span><span class="default">0<br />
0.00 </span><span class="keyword">= $</span><span class="default">0<br />
<br />
</span><span class="comment">// always show cents ($cents=2)<br />
</span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$b</span><span class="keyword">) echo (</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$b</span><span class="keyword">.</span><span class="string">' = '</span><span class="keyword">.</span><span class="default">formatMoney</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
</span><span class="default">1 </span><span class="keyword">= $</span><span class="default">1.00<br />
1234 </span><span class="keyword">= $</span><span class="default">1</span><span class="keyword">,</span><span class="default">234.00<br />
1.5 </span><span class="keyword">= $</span><span class="default">1.50<br />
1.234 </span><span class="keyword">= $</span><span class="default">1.23<br />
2.345 </span><span class="keyword">= $</span><span class="default">2.35<br />
2.001 </span><span class="keyword">= $</span><span class="default">2.00<br />
2.1 </span><span class="keyword">= $</span><span class="default">2.10<br />
1.000 </span><span class="keyword">= $</span><span class="default">1.00<br />
1.2345 </span><span class="keyword">= $</span><span class="default">1.23<br />
12345 </span><span class="keyword">= $</span><span class="default">12</span><span class="keyword">,</span><span class="default">345.00<br />
0 </span><span class="keyword">= $</span><span class="default">0.00<br />
0.00 </span><span class="keyword">= $</span><span class="default">0.00<br />
<br />
?&gt;<br />
</span><br />
Cheers :)<br />
<br />
And remember to always contribute custom functions if they might be useful to the rest of us or future versions of the php language.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87149""></a>
  <div class="note">
   <strong class="user">samuelpeixoto at gmail dot com</strong>
   <a href="#87149" class="date">21-Nov-2008 02:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Exemplo: Example:<br />
<br />
<span class="default">&lt;?php <br />
$number </span><span class="keyword">= </span><span class="default">1234567.896</span><span class="keyword">; <br />
echo </span><span class="string">'1: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'2: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'3: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'4: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'5: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'6: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">"'"</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
echo </span><span class="string">'7: '</span><span class="keyword">.</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">; <br />
</span><span class="default">?&gt;<br />
</span><br />
Resultado: Result:<br />
<br />
&nbsp;1: 1234567,90&nbsp;&nbsp; -&gt; Decimal separado por ,<br />
&nbsp;2: 1234567.90&nbsp;&nbsp; -&gt; Decimal separado por .<br />
&nbsp;3: 1.234.567,90 -&gt; Moeda Brasil, Alemanha<br />
&nbsp;4: 1,234,567.90 -&gt; Inglês, USA<br />
&nbsp;5: 1 234 567,90 -&gt; França<br />
&nbsp;6: 1'234'567,90 -&gt; Suíça<br />
&nbsp;7: 123456790&nbsp; &nbsp; -&gt; Sem decimal</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83852""></a>
  <div class="note">
   <strong class="user">isapoetra at gmail dot com</strong>
   <a href="#83852" class="date">15-Jun-2008 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is the code to convert number to Indonesian text, this code has limitation as is number_format function. sorry for this.<br />
/*<br />
* Created : Iwan Sapoetra - Jun 13, 2008<br />
* Project : Web<br />
* Package : cgaf<br />
*<br />
*/<br />
function terbilang( $num ,$dec=4){<br />
&nbsp;&nbsp;&nbsp; $stext = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Nol",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Satu",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Dua",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Tiga",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Empat",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Lima",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Enam",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Tujuh",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Delapan",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sembilan",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sepuluh",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Sebelas"<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; $say&nbsp; = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Ribu",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Juta",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Milyar",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Triliun",<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "Biliun", // remember limitation of float<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; "--apaan---" ///setelah biliun namanya apa?<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; $w = "";<br />
<br />
&nbsp;&nbsp;&nbsp; if ($num &lt;0 ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w&nbsp; = "Minus ";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //make positive<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num *= -1;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $snum = number_format($num,$dec,",",".");<br />
&nbsp;&nbsp;&nbsp; die($snum);<br />
&nbsp;&nbsp;&nbsp; $strnum =&nbsp; explode(".",substr($snum,0,strrpos($snum,",")));<br />
&nbsp;&nbsp;&nbsp; //parse decimalnya<br />
&nbsp;&nbsp;&nbsp; $koma = substr($snum,strrpos($snum,",")+1);<br />
<br />
&nbsp;&nbsp;&nbsp; $isone = substr($num,0,1)&nbsp; ==1;<br />
&nbsp;&nbsp;&nbsp; if (count($strnum)==1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num = $strnum[0];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (strlen($num)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 1:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 2:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!isset($stext[$strnum[0]])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($num&lt;19){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=$stext[substr($num,1)]." Belas";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .= $stext[substr($num,0,1)]." Puluh ".<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (intval(substr($num,1))==0 ? "" : $stext[substr($num,1)]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .= $stext[$strnum[0]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 3:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=&nbsp; ($isone ? "Seratus" : terbilang(substr($num,0,1)) .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " Ratus").<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " ".(intval(substr($num,1))==0 ? "" : terbilang(substr($num,1)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case 4:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w .=&nbsp; ($isone ? "Seribu" : terbilang(substr($num,0,1)) .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " Ribu").<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; " ".(intval(substr($num,1))==0 ? "" : terbilang(substr($num,1)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $text = $say[count($strnum)-2];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w = ($isone &amp;&amp; strlen($strnum[0])==1 &amp;&amp; count($strnum) &lt;=3? "Se".strtolower($text) : terbilang($strnum[0]).' '.$text);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_shift($strnum);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i =count($strnum)-2;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($strnum as $k=&gt;$v) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (intval($v)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $w.= ' '.terbilang($v).' '.($i &gt;=0 ? $say[$i] : "");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i--;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $w = trim($w);<br />
&nbsp;&nbsp;&nbsp; if ($dec = intval($koma)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $w .= " Koma ". terbilang($koma);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return trim($w);<br />
}<br />
//example<br />
echo terbilang(999999999999)."\n";<br />
/**<br />
&nbsp;* result : Sembilan Ratus Sembilan Puluh Sembilan Milyar Sembilan Ratus Sembilan Puluh Sembilan Juta Sembilan Ratus Sembilan Puluh Sembilan Ribu Sembilan Ratus Sembilan Puluh Sembilan<br />
&nbsp;*/<br />
echo terbilang(9999999999999999);<br />
/**<br />
&nbsp;* todo : fix this bug pleasese<br />
&nbsp;* problem : number_format(9999999999999999) &lt;--- 10.000.000.000.000.000,0000<br />
&nbsp;* Result : Sepuluh Biliun<br />
&nbsp;*/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83070""></a>
  <div class="note">
   <strong class="user">gabrielu at gmail dot com</strong>
   <a href="#83070" class="date">08-May-2008 06:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the number_format I'm having some unexpected results.&nbsp; 30% of 14.95 (14.95 * .3) = 4.485.&nbsp; Now 4.485 rounded to two decimal places should give me 4.49. <br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">14.95 </span><span class="keyword">* </span><span class="default">.3</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">4.485</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Unexpected Results:<br />
4.48<br />
4.49</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80760""></a>
  <div class="note">
   <strong class="user">eregon at msn dot com</strong>
   <a href="#80760" class="date">30-Jan-2008 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have seen some scripts here for format a filesize, but i think this can be useful:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">format_filesize</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">, </span><span class="default">$force_unit </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$dec_char </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$thousands_char </span><span class="keyword">= </span><span class="string">' '</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {</span><span class="comment">//string format_filesize(int(0,) $number, (bool(0), int(0,4)) $force_unit, int $decimals, char $dec_char, char $thousands_char)<br />
&nbsp;&nbsp;&nbsp; //format a filesize $number with unit (setted by $force_unit(see below for the number))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$units </span><span class="keyword">= array(</span><span class="string">'o'</span><span class="keyword">, </span><span class="string">'Ko'</span><span class="keyword">, </span><span class="string">'Mo'</span><span class="keyword">, </span><span class="string">'Go'</span><span class="keyword">, </span><span class="string">'To'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$force_unit </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$unit </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) / </span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$unit </span><span class="keyword">= </span><span class="default">$force_unit</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$unit </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$decimals </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number </span><span class="keyword">/ </span><span class="default">pow</span><span class="keyword">(</span><span class="default">1024</span><span class="keyword">, </span><span class="default">$unit</span><span class="keyword">), </span><span class="default">$decimals</span><span class="keyword">, </span><span class="default">$dec_char</span><span class="keyword">, </span><span class="default">$thousands_char</span><span class="keyword">).</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$units</span><span class="keyword">[</span><span class="default">$unit</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
ex:<br />
format_filesize(2540367) =&gt; '2,423 Mo'<br />
format_filesize(2540367, 2) =&gt; '2,42 Mo'<br />
format_filesize(2540367, 1, 1) =&gt; '2 480,8 Ko' //0=&gt;'o', 1=&gt;'Ko', 2=&gt;'Mo', 3=&gt;'Go', 4=&gt;'To' (see $units)<br />
format_filesize(2540687367, 2, 1, ',', '.') =&gt; '2.481.140,01 Ko'<br />
<br />
log($number, 2) / 10 = log($number, 1024) ;)<br />
Fast &amp; Easy, isn't it? :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80281""></a>
  <div class="note">
   <strong class="user">www.produkte24.com</strong>
   <a href="#80281" class="date">08-Jan-2008 09:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have to verify price data from several formats, eg:<br />
- 12.345,67 (German)<br />
- 12,345.67 (English)<br />
- 12 345,67 (French)<br />
- 12'345,67 (Swiss)<br />
<br />
Here is a quick function which helps me out of all this format mess, but please not the I only check for:<br />
- positive values<br />
- max 2 digits on the right side (.12)<br />
<br />
function mk_price_to_float($price){<br />
&nbsp;&nbsp;&nbsp; $price = trim($price);<br />
&nbsp;&nbsp;&nbsp; if(preg_match("~^([0-9]+|(?:(?:[0-9]{1,3}([.,' ]))+[0-9]{3})+)(([.,])[0-9]{1,2})?$~", $price, $r)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty($r['2'])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $pre = preg_replace("~[".$r['2']."]~", "", $r['1']);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $pre = $r['1'];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty($r['4'])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $post = ".".preg_replace("~[".$r['4']."]~", "", $r['3']);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $post = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $form_price = $pre.$post;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $form_price;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return false;<br />
}<br />
<br />
This code is used at <a href="http://www.produkte24.com/ and http://www.who-sells-it.com/ and works like a charm." rel="nofollow" target="_blank">http://www.produkte24.com/ and http://www.who-sells-it.com/ and works like a charm.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78314""></a>
  <div class="note">
   <strong class="user">uliciadrian01 at yahoo dot com</strong>
   <a href="#78314" class="date">06-Oct-2007 11:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple funtion to format american dollars.<br />
&lt;?<br />
function formatMoney($money) {<br />
&nbsp;&nbsp;&nbsp; if($money&lt;1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $money='&amp;cent;'.$money*100;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dollars=intval($money);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $cents=$money-$dollars;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $cents=$cents*100;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $money='$'.$dollars.' and &amp;cent;'.$cents;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $money;<br />
}<br />
echo formatmoney('52.342');<br />
?&gt;<br />
This will output: "&nbsp;&nbsp; $52 and ¢34.2&nbsp; ".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77037""></a>
  <div class="note">
   <strong class="user">eb1024 at gmail dot com</strong>
   <a href="#77037" class="date">12-Aug-2007 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To address the problems number_format has when dealing with big numbers I've created my own Number_Format method, it acts the same way as number_format and takes the same arguments but deals with numbers as strings solving the problems above referred.<br />
<br />
(The other methods are available at <a href="http://www.alixaxel.com/wordpress/2007/05/19/php-math-library/" rel="nofollow" target="_blank">http://www.alixaxel.com/wordpress/2007/05/19/php-math-library/</a>)<br />
<br />
function Number_Format($number, $decimal_precision = 0, $decimals_separator = '.', $thousands_separator = ',')<br />
{<br />
if ($this-&gt;Is_Negative($number))<br />
{<br />
&nbsp;&nbsp;&nbsp; $negative = true;<br />
<br />
&nbsp;&nbsp;&nbsp; $number = str_replace('-', '', $number);<br />
}<br />
<br />
$number = explode('.', str_replace(' ', '', $number));<br />
<br />
$number[0] = str_split(strrev($number[0]), 3);<br />
<br />
$total_segments = count($number[0]);<br />
<br />
for ($i = 0; $i &lt; $total_segments; $i++)<br />
{<br />
&nbsp;&nbsp;&nbsp; $number[0][$i] = strrev($number[0][$i]);<br />
}<br />
<br />
$number[0] = implode($thousands_separator, array_reverse($number[0]));<br />
<br />
if ($negative === true)<br />
{<br />
&nbsp;&nbsp;&nbsp; $number[0] = '-' . $number[0];<br />
}<br />
<br />
if (!empty($number[1]))<br />
{<br />
&nbsp;&nbsp;&nbsp; $number[1] = $this-&gt;Round($number[1], $decimal_precision);<br />
}<br />
<br />
$number = implode($decimals_separator, $number);<br />
<br />
return $number;<br />
}<br />
<br />
I hope this is useful for someone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76448""></a>
  <div class="note">
   <strong class="user">user at example dot net</strong>
   <a href="#76448" class="date">16-Jul-2007 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following function converts a string into Float or Integer while taking the given or locale number format into account.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">strtonumber</span><span class="keyword">( </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$dec_point</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$thousands_sep</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$dec_point</span><span class="keyword">) || </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$thousands_sep</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$locale </span><span class="keyword">= </span><span class="default">localeconv</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$dec_point</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dec_point </span><span class="keyword">= </span><span class="default">$locale</span><span class="keyword">[</span><span class="string">'decimal_point'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$thousands_sep</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thousands_sep </span><span class="keyword">= </span><span class="default">$locale</span><span class="keyword">[</span><span class="string">'thousands_sep'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$number </span><span class="keyword">= (float) </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$dec_point</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$thousands_sep</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$number </span><span class="keyword">== (int) </span><span class="default">$number </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (int) </span><span class="default">$number</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$number</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75145""></a>
  <div class="note">
   <strong class="user">alx at inbox dot lv</strong>
   <a href="#75145" class="date">15-May-2007 11:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
enjoy the PHP!<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">FormatPrice</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$price </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/[^0-9\.]/"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$price</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,-</span><span class="default">3</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)==</span><span class="string">'.'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sents </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$price </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">)-</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)==</span><span class="string">'.'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sents </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$price </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">)-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sents </span><span class="keyword">= </span><span class="string">'.00'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$price </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/[^0-9]/"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$price</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">.</span><span class="default">$sents</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73069""></a>
  <div class="note">
   <strong class="user">ted at qtis dot co dot nz</strong>
   <a href="#73069" class="date">08-Feb-2007 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use the following to get around the negative zero problem:<br />
<br />
function currency_format($amount, $precision = 2, $use_commas = true, $show_currency_symbol = false, $parentheses_for_negative_amounts = false) <br />
{<br />
&nbsp;&nbsp;&nbsp; /*<br />
&nbsp;&nbsp;&nbsp; **&nbsp; &nbsp; An improvement to number_format.&nbsp; Mainly to get rid of the annoying behaviour of negative zero amounts.&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; $amount = (float) $amount;<br />
&nbsp;&nbsp;&nbsp; // Get rid of negative zero<br />
&nbsp;&nbsp;&nbsp; $zero = round(0, $precision);<br />
&nbsp;&nbsp;&nbsp; if (round($amount, $precision) == $zero) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $amount = $zero;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if ($use_commas) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($parentheses_for_negative_amounts &amp;&amp; ($amount &lt; 0)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $amount = '('.number_format(abs($amount), $precision).')';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $amount = number_format($amount, $precision);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($parentheses_for_negative_amounts &amp;&amp; ($amount &lt; 0)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $amount = '('.round(abs($amount), $precision).')';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $amount = round($amount, $precision);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if ($show_currency_symbol) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $amount = '$'.$amount;&nbsp; // Change this to use the organization's country's symbol in the future<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $amount;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72969""></a>
  <div class="note">
   <strong class="user">zulisse at email dot it</strong>
   <a href="#72969" class="date">06-Feb-2007 11:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
simpler function to convert a number in bytes, kilobytes.... <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">bytes</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$unim </span><span class="keyword">= array(</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">"KB"</span><span class="keyword">,</span><span class="string">"MB"</span><span class="keyword">,</span><span class="string">"GB"</span><span class="keyword">,</span><span class="string">"TB"</span><span class="keyword">,</span><span class="string">"PB"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$a</span><span class="keyword">&gt;=</span><span class="default">1024</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">/</span><span class="default">1024</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,(</span><span class="default">$c </span><span class="keyword">? </span><span class="default">2 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">),</span><span class="string">","</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">).</span><span class="string">" "</span><span class="keyword">.</span><span class="default">$unim</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
you may also add others units over PeraBytes when the hard disks will reach 1024 PB :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71368""></a>
  <div class="note">
   <strong class="user">webmaster at WWW.ELLESSEWEB.NET</strong>
   <a href="#71368" class="date">24-Nov-2006 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a simple and useful function to convert a byte number in a KB&nbsp; or MB:<br />
<br />
&lt;?<br />
function filesize_format ($bytes) {<br />
&nbsp; $bytes=(float)$bytes;<br />
&nbsp; if ($bytes&lt;1024){<br />
&nbsp; $numero=number_format($bytes, 0, ',', '.')." Byte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
&nbsp; if ($bytes&lt;1048576){<br />
&nbsp;&nbsp; &nbsp;&nbsp; $numero=number_format($bytes/1024, 2, ',', '.')." KByte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
&nbsp; if ($bytes&gt;=1048576){<br />
&nbsp;&nbsp; &nbsp;&nbsp; $numero=number_format($bytes/1048576, 2, ',', '.')." MByte";<br />
&nbsp; return $numero;<br />
&nbsp; }<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70750""></a>
  <div class="note">
   <strong class="user">giovanni dot cappellini at gmail dot com</strong>
   <a href="#70750" class="date">26-Oct-2006 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
About the function of j-a-n at gmx dot de: it's useful, but the argument of the function is $number while the logic of the function requires it to be $in.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68783""></a>
  <div class="note">
   <strong class="user">j-a-n at gmx dot de</strong>
   <a href="#68783" class="date">10-Aug-2006 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function formats an decimal number to a String.<br />
But it does'n use an fixed count of decimals but calculates the needed count of decimals.<br />
<br />
&lt;?<br />
function formatNumber( $number, $decimals=2, $dec_point=".", $thousands_sep=",") {<br />
&nbsp;&nbsp;&nbsp; $nachkomma = abs($in - floor($in));<br />
&nbsp;&nbsp;&nbsp; $strnachkomma = number_format($nachkomma , $decimals, ".", "");<br />
<br />
&nbsp;&nbsp;&nbsp; for ($i = 1; $i &lt;= $decimals; $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (substr($strnachkomma, ($i * -1), 1) != "0") {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return number_format($in, ($decimals - $i +1), $dec_point, $thousands_sep);<br />
}<br />
?&gt;<br />
Example:<br />
<br />
formatNumber( 100.00 );<br />
--&gt; 100<br />
formatNumber( 100.50 );<br />
--&gt; 100.5<br />
formatNumber( 100.1234 );<br />
--&gt; 100.12<br />
formatNumber( 100.12, 4 );<br />
--&gt; 100.12<br />
formatNumber( 100.12345, 4 );<br />
--&gt; 100.1234</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67153""></a>
  <div class="note">
   
   <a href="#67153" class="date">04-Jun-2006 09:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The modification to number_format below does what I actually want it to do, with currency, for example. I want it to show $1.40 and not $1.4 or $1.400 - except in the rare case where I have $1.435 for something, in which case I *don't* want it to round. The ugliness below serves my purpose.<br />
<br />
function nof($number,$decimals) {<br />
if (number_format($number,$decimals,'.',',') != $number) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $number;<br />
} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format($number,$decimals,'.',',');<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66427""></a>
  <div class="note">
   <strong class="user">rudie at jouwmoeder dot nl</strong>
   <a href="#66427" class="date">22-May-2006 11:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
number_format is pretty fast. It's much slower than calculation though:<br />
<span class="default">&lt;?php<br />
<br />
$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">100000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$start</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
echo </span><span class="string">"&lt;hr /&gt;Parsetime: "</span><span class="keyword">.(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$start</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span>This takes 1.03 seconds all the time. Without the -$start in the number_format cmd, it takes exactly as long (I ran it about 20 times).<br />
The simple calculation inside number_format takes relatively no time. Defining the number before entering it into number_format also gives no change:<br />
{<br />
&nbsp;&nbsp;&nbsp; $num = microtime(true)-$start;<br />
&nbsp;&nbsp;&nbsp; echo number_format($num,25)."\n";<br />
}<br />
<br />
Which concludes it takes about .01 sec to do a thousand number_format.<br />
If you'd do the same routine without the number_format, it'd take .75 seconds -&gt; number_format very fast!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66098""></a>
  <div class="note">
   <strong class="user">gfinale at hotmail dot com</strong>
   <a href="#66098" class="date">14-May-2006 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Thanks to armstrong ~~at~~ rice ~~dot~~ edu for your number to words function.&nbsp; There does seem to be one glitch I've discovered, at least on my system.&nbsp; Hundreds work but hundreds of thousands and hundreds of millions do not.&nbsp; e.g. 100,000 or 100,000,000 hangs.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62587""></a>
  <div class="note">
   <strong class="user">Steve Neill</strong>
   <a href="#62587" class="date">04-Mar-2006 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
actually, you'd want to MOD the number to get it within a useful range first (1 .. 30).<br />
<br />
Enjoy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62478""></a>
  <div class="note">
   <strong class="user">mikesabatino at gmail dot com</strong>
   <a href="#62478" class="date">01-Mar-2006 04:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment"># Function to represent a number like '2nd', '10th', '101st' etc<br />
</span><span class="keyword">function </span><span class="default">text_number</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Array holding the teen numbers. If the last 2 numbers of $n are in this array, then we'll add 'th' to the end of $n<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$teen_array </span><span class="keyword">= array(</span><span class="default">11</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">13</span><span class="keyword">, </span><span class="default">14</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">, </span><span class="default">19</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Array holding all the single digit numbers. If the last number of $n, or if $n itself, is a key in this array, then we'll add that key's value to the end of $n<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$single_array </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'st'</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'nd'</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">'rd'</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">5 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">6 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">7 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">8 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">9 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'th'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Store the last 2 digits of $n in order to check if it's a teen number.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$if_teen </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Store the last digit of $n in order to check if it's a teen number. If $n is a single digit, $single will simply equal $n.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$single </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># If $if_teen is in array $teen_array, store $n with 'th' concantenated onto the end of it into $new_n<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$if_teen</span><span class="keyword">, </span><span class="default">$teen_array</span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_n </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">. </span><span class="string">'th'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $n is not a teen, so concant the appropriate value of it's $single_array key onto the end of $n and save it into $new_n<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">elseif ( </span><span class="default">$single_array</span><span class="keyword">[</span><span class="default">$single</span><span class="keyword">] )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_n </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">. </span><span class="default">$single_array</span><span class="keyword">[</span><span class="default">$single</span><span class="keyword">];&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># Return new <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$new_n</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62141""></a>
  <div class="note">
   <strong class="user">MarcM</strong>
   <a href="#62141" class="date">21-Feb-2006 07:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For Zero fill - just use the sprintf() function<br />
<br />
$pr_id = 1;<br />
$pr_id = sprintf("%03d", $pr_id);<br />
echo $pr_id;<br />
<br />
//outputs 001<br />
-----------------<br />
<br />
$pr_id = 10;<br />
$pr_id = sprintf("%03d", $pr_id);<br />
echo $pr_id;<br />
<br />
//outputs 010<br />
-----------------<br />
<br />
You can change %03d to %04d, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61291""></a>
  <div class="note">
   <strong class="user">adnan 'at' barakatdesigns 'dot' net</strong>
   <a href="#61291" class="date">30-Jan-2006 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note to the author of the "zerofill" function, you may find it easier using the str_pad function<br />
<br />
<span class="default">&lt;?php<br />
$num </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;<br />
</span><span class="default">$zerofill </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
<br />
echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$zerofill</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />
<br />
</span><span class="comment">/* Returns the same wanted result of '004' */<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60945""></a>
  <div class="note">
   
   <a href="#60945" class="date">20-Jan-2006 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function to return a number with needed zeros at the beginning. Called "zerofill"<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// $num = 4; $zerofill= 3; returns "004"<br />
</span><span class="keyword">function </span><span class="default">zerofill </span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">,</span><span class="default">$zerofill</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&lt;</span><span class="default">$zerofill</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="string">"0"</span><span class="keyword">.</span><span class="default">$num</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60564""></a>
  <div class="note">
   <strong class="user">YumYum</strong>
   <a href="#60564" class="date">11-Jan-2006 07:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Jarrat's example below has a problem.&nbsp; If the number is negative, the sign is dropped.&nbsp; It always returns positive numbers.&nbsp; The problem seems to be in the float cast in:<br />
<br />
return (float) $number[0].'.'.$decimal;<br />
<br />
I have not had a problem in PHP5 with:<br />
<br />
return $number[0].'.'.$decimal;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57656""></a>
  <div class="note">
   <strong class="user">kolnedra at gmail dot com</strong>
   <a href="#57656" class="date">10-Oct-2005 03:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A way to let a number (in this case an ammount of money) be shown in dutch annotation:<br />
&lt;?<br />
// geld(123) &gt;&gt;&gt; 123<br />
// geld(123456) &gt;&gt;&gt; 1.234.567<br />
function geld($nm) {<br />
&nbsp;&nbsp;&nbsp; for ($done=strlen($nm); $done &gt; 3;$done -= 3) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $returnNum = ".".substr($nm,$done-3,3).$returnNum;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return substr($nm,0,$done).$returnNum;<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57477""></a>
  <div class="note">
   <strong class="user">mikro_at_teppisti_dot_it</strong>
   <a href="#57477" class="date">05-Oct-2005 01:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function formats numbers 'human readable' better (IMHO) than mircea way: <br />
<br />
function humanReadable($val,$thousands=0){<br />
&nbsp;&nbsp; if($val&gt;=1000)<br />
&nbsp;&nbsp; &nbsp; $val=humanReadable($val/1024,++$thousands);<br />
&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; $unit=array('','K','M','T','P','E','Z','Y');<br />
&nbsp;&nbsp; &nbsp; $val=round($val,2).$unit[$thousands].'B';<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return $val;<br />
&nbsp;}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57376""></a>
  <div class="note">
   <strong class="user">Jeroen de Bruijn [NL]</strong>
   <a href="#57376" class="date">02-Oct-2005 12:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to display a number ending with ,- (like 200,-) when there are no decimal characters and display the decimals when there are decimal characters i use:<br />
<br />
function DisplayDouble($value)<br />
&nbsp; {<br />
&nbsp; list($whole, $decimals) = split ('[.,]', $value, 2);<br />
&nbsp; if (intval($decimals) &gt; 0)<br />
&nbsp;&nbsp;&nbsp; return number_format($value,2,".",",");<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return number_format($value,0,".",",") .",-";<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55369""></a>
  <div class="note">
   <strong class="user">astrolox at lawyersonline dot co dot uk</strong>
   <a href="#55369" class="date">01-Aug-2005 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Users should be aware of the following behaviour. <br />
I'm not sure if this is a PHP bug, libc bug, or if it's even a bug at all. So I thought I'd make a comment and allow everyone else to make up their own minds.<br />
<br />
FreeBSD 4.3 PHP 4.3.3<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// the comments show the output generated by this script<br />
<br />
</span><span class="keyword">echo </span><span class="string">"input 8.525 output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">( </span><span class="default">8.525</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">"input 8.525 output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">8.525</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// input 8.525 output = 8.53<br />
// input 8.525 output = 8.53<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">483.00</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">0.175</span><span class="keyword">;<br />
<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">$a </span><span class="keyword">* </span><span class="default">$b</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"input \$c = </span><span class="default">$c</span><span class="string"> type "</span><span class="keyword">. </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) .</span><span class="string">" output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">( </span><span class="default">$c</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// input $c = 84.525 type double output = 84.52<br />
<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">17.5</span><span class="keyword">;<br />
<br />
</span><span class="default">$e </span><span class="keyword">= ( </span><span class="default">$a </span><span class="keyword">/ </span><span class="default">100 </span><span class="keyword">) * </span><span class="default">$d</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"input \$e = </span><span class="default">$e</span><span class="string"> type "</span><span class="keyword">. </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) .</span><span class="string">" output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">( </span><span class="default">$e</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// input $e = 84.525 type double output = 84.53<br />
<br />
</span><span class="keyword">echo </span><span class="string">"input 63.745 output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">63.745</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">"input 64.745 output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">64.745</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">"input 65.745 output = "</span><span class="keyword">. </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">65.745</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// input 63.745 output = 63.74<br />
// input 64.745 output = 64.75<br />
// input 65.745 output = 65.75<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54799""></a>
  <div class="note">
   <strong class="user">jarratt at si-works dot net</strong>
   <a href="#54799" class="date">15-Jul-2005 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With one of the payment providers they required a monitary input of 12345.67 always with a 2 decimal placing even if .00<br />
<br />
if you have a number 12345.5 with only one decimal place i could find no sutable php function to guarentee two decimal palces and add a trailing zero if required, <br />
<br />
This fucntion should assist<br />
<br />
function format_number($str,$decimal_places='2',$decimal_padding="0"){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* firstly format number and shorten any extra decimal places */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Note this will round off the number pre-format $str if you dont want this fucntionality */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =&nbsp; number_format($str,$decimal_places,'.','');&nbsp; &nbsp;&nbsp; // will return 12345.67<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $number&nbsp; &nbsp; &nbsp;&nbsp; = explode('.',$str);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $number[1]&nbsp; &nbsp;&nbsp; = (isset($number[1]))?$number[1]:''; // to fix the PHP Notice error if str does not contain a decimal placing.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $decimal&nbsp; &nbsp;&nbsp; = str_pad($number[1],$decimal_places,$decimal_padding);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (float) $number[0].'.'.$decimal;<br />
}<br />
<br />
/* examples */<br />
<br />
format_number('1234');&nbsp; &nbsp; &nbsp;&nbsp; // --&gt;&nbsp;&nbsp; 1234.00<br />
format_number('1234.5');&nbsp; &nbsp;&nbsp; //--&gt;&nbsp;&nbsp; 1234.50<br />
format_number('1234.567');&nbsp; //--&gt;&nbsp;&nbsp; 1234.57</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54763""></a>
  <div class="note">
   <strong class="user">marc dot vanwoerkom at fernuni-hagen dot de</strong>
   <a href="#54763" class="date">14-Jul-2005 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
See also the documentation for localeconv, which will provide values for decimal point and thousands separator from the C standard library.<br />
<br />
Of course localeconv features many more locale information, like indicating to put the negative sign behind the value for some locale settings which can't be used to customize present number_format.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53651""></a>
  <div class="note">
   <strong class="user">venimus777 at yahoo dot com</strong>
   <a href="#53651" class="date">08-Jun-2005 02:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You could use the following regular expression to divide<br />
a number into parts:<br />
<br />
$1-number without fractal part<br />
$2-fractal part<br />
$3-first 2 digits of the fractal part<br />
$4-rest of the fractal part<br />
<br />
the regex removes any leading and trailing symbols and leading zeros. It doesnt validate the number, so 12 41 is considered to be correct input!<br />
<br />
english notation:<br />
/^.*?[0]*([\d\s]+)(([\.][\d]{0,2})([\d]*))?.*?$/<br />
<br />
french notation:<br />
/^.*?[0]*([\d\s]+)(([\,][\d]{0,2})([\d]*))?.*?$/<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// truncate the fractal part up to 2 digits of an "english number":<br />
</span><span class="default">$number </span><span class="keyword">= </span><span class="string">'01,234.50789'</span><span class="keyword">;<br />
</span><span class="default">$trunc </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'/^.*?[0]*([\d\,]+)(([\.][\d]{0,2})([\d]*))?.*?$/'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'$1$3'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$number<br />
</span><span class="keyword">);<br />
echo </span><span class="default">$trunc</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
1,234.50<br />
<br />
$number='e00012 41.100001e-4fasfd';<br />
would output:<br />
12 41.10</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52915""></a>
  <div class="note">
   <strong class="user">woodynadobhar at hotmail dot com</strong>
   <a href="#52915" class="date">17-May-2005 06:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
What do you do if some of your numbers have decimal places, and some don't?&nbsp; You can switch between functions, but if you're building it in a loop, that's not a good solution.&nbsp; Instead, we have the same as below, with a slight change:<br />
<br />
function number_format_unlimited_precision($number,$decimal = '.'){<br />
&nbsp;&nbsp;&nbsp; $broken_number = explode($decimal,$number);<br />
&nbsp;&nbsp;&nbsp; if($broken_number[1]==0){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format($broken_number[0]);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return number_format($broken_number[0]).$decimal.$broken_number[1];<br />
&nbsp;&nbsp;&nbsp; };<br />
};</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52311""></a>
  <div class="note">
   <strong class="user">stm555 at hotmail dot com</strong>
   <a href="#52311" class="date">27-Apr-2005 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I ran across an issue where I wanted to keep the entered precision of a real value, without arbitrarily rounding off what the user had submitted.<br />
<br />
I figured it out with a quick explode on the number before formatting. I could then format either side of the decimal.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">number_format_unlimited_precision</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">$decimal </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$broken_number </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$decimal</span><span class="keyword">,</span><span class="default">$number</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]).</span><span class="default">$decimal</span><span class="keyword">.</span><span class="default">$broken_number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51515""></a>
  <div class="note">
   <strong class="user">mike at phpeeb dot com</strong>
   <a href="#51515" class="date">02-Apr-2005 10:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since number_format returns a string, you must perform all mathmatical functions on the number before applying number_format:<br />
<br />
&lt;?<br />
$total = 100;<br />
$total = number_format($total, 2);<br />
$shipping = 20.00;<br />
$grand_total = $total + $shipping;<br />
<br />
echo number_format($grand_total, 2);<br />
<br />
/* The above will return 21.00 because $total is now a string, and no longer an integer or float. Since a string will have a value of 1,&nbsp; the addition of the two will return 21 and not 120. */<br />
<br />
$total = 100;<br />
$shipping = 20.00;<br />
$grand_total = $total + $shipping;<br />
<br />
echo number_format($grand_total, 2);<br />
<br />
/* This works, and will return 120.00 as intended */<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51467""></a>
  <div class="note">
   <strong class="user">php at mijav dot dk</strong>
   <a href="#51467" class="date">31-Mar-2005 03:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A bug was issued that -0,00 is invalid output from number_format(), but the bug was rejected since the number "-0.0000000000000000001E-999 is about -0". And the developer felt this was correct output.<br />
<br />
Please beware of negative numbers close to zero, as they might produce this unusable (and in my opinion incorrect/off-description) output.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51219""></a>
  <div class="note">
   <strong class="user">ChronoFish</strong>
   <a href="#51219" class="date">23-Mar-2005 08:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for an easy way to take a number (or string) and force into a specific format.&nbsp; I came up with.&nbsp; I apologize if this is redundant, but I could not find a simular function:<br />
<br />
/***********************************<br />
* string_format<br />
***********************************/<br />
function string_format($format, $string, $placeHolder = "#")<br />
{&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; $numMatches = preg_match_all("/($placeHolder+)/", $format, $matches);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach ($matches[0] as $match)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $matchLen = strlen($match);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $format = preg_replace("/$placeHolder+/", substr($string, 0, $matchLen), $format, 1);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $string = substr($string, $matchLen);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $format;<br />
} <br />
<br />
To Use:<br />
<br />
print string_format("(###)###-####", "4015551212");<br />
will print out:<br />
(401)555-1212<br />
<br />
Hope this helps someone,<br />
<br />
CF</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47619""></a>
  <div class="note">
   <strong class="user">keyg at auralplanet dot com</strong>
   <a href="#47619" class="date">23-Nov-2004 03:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you want &amp;nbsp; as a separator and use windows charset this piece of code may help:<br />
<br />
<span class="default">&lt;?php<br />
$number</span><span class="keyword">=</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xA0</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46420""></a>
  <div class="note">
   <strong class="user">brandonprudent at yahoo dot com</strong>
   <a href="#46420" class="date">10-Oct-2004 08:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To convert numbers to thier textual representations, you can use an adapted version of the Number::Spell Perl module. The PHP conversion can be found here: <a href="http://pear.php.net/package/Numbers_Words" rel="nofollow" target="_blank">http://pear.php.net/package/Numbers_Words</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46319""></a>
  <div class="note">
   <strong class="user">GeekPrices Dot Com</strong>
   <a href="#46319" class="date">07-Oct-2004 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this also works as well<br />
<br />
$number = "29346.99"; //value<br />
echo "$" .number_format($number, 2, '.', ',');<br />
<br />
produces $29,346.99</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45678""></a>
  <div class="note">
   <strong class="user">Svein Tjonndal (sveint at yahoo dot com)</strong>
   <a href="#45678" class="date">15-Sep-2004 04:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use space as a separator, it will break on that space in HTML tables...<br />
<br />
Furthermore, number_format doesn't like '&amp;nbsp;' as a fourth parameter. I wrote the following function to display the numbers in an HTML table.<br />
<br />
&nbsp; function numberfix($number)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; $number = number_format($number,0,","," ");<br />
&nbsp;&nbsp;&nbsp; return str_replace(" ", "&amp;nbsp;", $number);<br />
&nbsp; }<br />
<br />
For use in:<br />
&lt;table&gt;&lt;tr&gt;&lt;td&gt;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$number</span><span class="keyword">; </span><span class="default">?&gt;</span>&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44835""></a>
  <div class="note">
   <strong class="user">drew at zitnay dot com</strong>
   <a href="#44835" class="date">17-Aug-2004 08:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A more reliable and concise way of doing what S. Rahmel was trying to do below is as follows:<br />
<br />
<span class="default">&lt;?php<br />
$field_inhalt </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">"."</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">), array(</span><span class="string">""</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">), </span><span class="default">$field_inhalt</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The str_replace() call will first replace all dots with blanks, and then replace all commas with dots.&nbsp; That way, it doesn't break down when you try a number over one million (i.e. 1.010.453,21).<br />
<br />
Drew</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40704""></a>
  <div class="note">
   <strong class="user">S. Rahmel</strong>
   <a href="#40704" class="date">11-Mar-2004 11:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you converted a number to a German format with number_format() and want to save it in mySQL, you first have to change the number format back to an English format.<br />
<br />
For example <br />
10.453,21 &gt;&gt;&gt;&gt; 10453.21<br />
<br />
Here is an example how to do this:<br />
<br />
&nbsp;&nbsp;&nbsp; $field_array=explode(".", $field_inhalt);<br />
&nbsp;&nbsp;&nbsp; $field_inhalt=$field_array[0].$field_array[1];<br />
&nbsp;&nbsp;&nbsp; $foeld_array=explode(",", $field_inhalt);<br />
&nbsp;&nbsp;&nbsp; $field_inhalt=$field_array[0].".".$feld_array[1];<br />
&nbsp;&nbsp;&nbsp; $field_inhalt=sprintf($field_inhalt, 2);<br />
<br />
$field_inhalt is the variable of the actual number you want to change to the english format.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40558""></a>
  <div class="note">
   <strong class="user">chandu at chandu dot org</strong>
   <a href="#40558" class="date">08-Mar-2004 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
People here in India are more used to counting money in Lakhs &amp; Crores .. so here is the code for formatting the commas with thousands for the first time and then with hundred multiples from there after.<br />
<br />
Ex: 1234567&nbsp; -&gt;&nbsp; 12,34,567<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// This function is written by some anonymous person - I got it from Google<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)&lt;=</span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; { return </span><span class="default">$input</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$length</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$formatted_input </span><span class="keyword">= </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">).</span><span class="string">","</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$formatted_input</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">formatInIndianStyle</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// This is my function<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">((string)</span><span class="default">$num</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) { </span><span class="default">$decimalpart</span><span class="keyword">=</span><span class="string">"00"</span><span class="keyword">;}<br />
&nbsp;&nbsp;&nbsp; else { </span><span class="default">$decimalpart</span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="default">$num </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">); }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&gt;</span><span class="default">3 </span><span class="keyword">&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) &lt;= </span><span class="default">12</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last3digits </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$numexceptlastdigits </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">3 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$formatted </span><span class="keyword">= </span><span class="default">makecomma</span><span class="keyword">(</span><span class="default">$numexceptlastdigits</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">$formatted</span><span class="keyword">.</span><span class="string">","</span><span class="keyword">.</span><span class="default">$last3digits</span><span class="keyword">.</span><span class="string">"."</span><span class="keyword">.</span><span class="default">$decimalpart </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }elseif(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&lt;=</span><span class="default">3</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"."</span><span class="keyword">.</span><span class="default">$decimalpart </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }elseif(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&gt;</span><span class="default">12</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="default">number_format</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$stringtoreturn</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)==</span><span class="string">"-,"</span><span class="keyword">){</span><span class="default">$stringtoreturn </span><span class="keyword">= </span><span class="string">"-"</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$stringtoreturn</span><span class="keyword">,</span><span class="default">2 </span><span class="keyword">);}<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$stringtoreturn</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$num </span><span class="keyword">= </span><span class="default">1234567</span><span class="keyword">;<br />
echo&nbsp; </span><span class="default">formatInIndianStyle</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40136""></a>
  <div class="note">
   <strong class="user">armstrong ~~at~~ rice ~~dot~~ edu</strong>
   <a href="#40136" class="date">23-Feb-2004 01:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I submitted this question earlier, but I found the answer myself.&nbsp; To convert a number to its word form (e.g. 34 to "thirty four")&nbsp; try the function below.&nbsp; It turned out to be a lot more complex than I thought!<br />
<br />
I'm using it for printing dollar ammounts, so the cents get printed like 13/100<br />
<br />
I converted most of it from this java code <a href="http://mindprod.com/inwords.html so credit goes to him for doing the hard part." rel="nofollow" target="_blank">http://mindprod.com/inwords.html so credit goes to him for doing the hard part.</a><br />
<br />
&lt;?<br />
/**<br />
* convert long integer into American English words.<br />
* e.g. -12345 -&gt; "minus twelve thousand forty-five"<br />
* Handles negative and positive integers<br />
* on range -Long.MAX_VALUE .. Long.MAX_VALUE;<br />
* It cannot handle Long.MIN_VALUE;<br />
*/<br />
<br />
function num2words( $num ){<br />
&nbsp;&nbsp;&nbsp; $ZERO = "zero";<br />
&nbsp;&nbsp;&nbsp; $MINUS = "minus";<br />
&nbsp;&nbsp;&nbsp; $lowName = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* zero is shown as "" since it is never used in combined forms */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* 0 .. 19 */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "", "one", "two", "three", "four", "five",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "six", "seven", "eight", "nine", "ten",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "eleven", "twelve", "thirteen", "fourteen", "fifteen",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "sixteen", "seventeen", "eighteen", "nineteen");<br />
<br />
&nbsp;&nbsp;&nbsp; $tys = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* 0, 10, 20, 30 ... 90 */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "", "", "twenty", "thirty", "forty", "fifty",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "sixty", "seventy", "eighty", "ninety");<br />
<br />
&nbsp;&nbsp;&nbsp; $groupName = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* We only need up to a quintillion, since a long is about 9 * 10 ^ 18 */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* American: unit, hundred, thousand, million, billion, trillion, quadrillion, quintillion */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "", "hundred", "thousand", "million", "billion",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "trillion", "quadrillion", "quintillion");<br />
<br />
&nbsp;&nbsp;&nbsp; $divisor = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* How many of this group is needed to form one of the succeeding group. */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* American: unit, hundred, thousand, million, billion, trillion, quadrillion, quintillion */<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 100, 10, 1000, 1000, 1000, 1000, 1000, 1000) ;<br />
<br />
&nbsp;&nbsp;&nbsp; $num = str_replace(",","",$num);<br />
&nbsp;&nbsp;&nbsp; $num = number_format($num,2,'.','');<br />
&nbsp;&nbsp;&nbsp; $cents = substr($num,strlen($num)-2,strlen($num)-1);<br />
&nbsp;&nbsp;&nbsp; $num = (int)$num;<br />
<br />
&nbsp;&nbsp;&nbsp; $s = "";<br />
<br />
&nbsp;&nbsp;&nbsp; if ( $num == 0 ) $s = $ZERO;<br />
&nbsp;&nbsp;&nbsp; $negative = ($num &lt; 0 );<br />
&nbsp;&nbsp;&nbsp; if ( $negative ) $num = -$num;<br />
<br />
&nbsp;&nbsp;&nbsp; // Work least significant digit to most, right to left.<br />
&nbsp;&nbsp;&nbsp; // until high order part is all 0s.<br />
&nbsp;&nbsp;&nbsp; for ( $i=0; $num&gt;0; $i++ ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $remdr = (int)($num % $divisor[$i]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num = $num / $divisor[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // check for 1100 .. 1999, 2100..2999, ... 5200..5999<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // but not 1000..1099,&nbsp; 2000..2099, ...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Special case written as fifty-nine hundred.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // e.g. thousands digit is 1..5 and hundreds digit is 1..9<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Only when no further higher order.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( $i == 1 /* doing hundreds */ &amp;&amp; 1 &lt;= $num &amp;&amp; $num &lt;= 5 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( $remdr &gt; 0 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $remdr += $num * 10;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $num = 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } // end if<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } // end if<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( $remdr == 0 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $t = "";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( $remdr &lt; 20 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $t = $lowName[$remdr];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if ( $remdr &lt; 100 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $units = (int)$remdr % 10;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tens = (int)$remdr / 10;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $t = $tys [$tens];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( $units != 0 ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $t .= "-" . $lowName[$units];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $t = $inWords($remdr);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $s = $t . " " . $groupName[$i] . " "&nbsp; . $s;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num = (int)$num;<br />
&nbsp;&nbsp;&nbsp; } // end for<br />
&nbsp;&nbsp;&nbsp; $s = trim($s);<br />
&nbsp;&nbsp;&nbsp; if ( $negative ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $s = $MINUS . " " . $s;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; $s .= " and $cents/100";<br />
<br />
&nbsp;&nbsp;&nbsp; return $s;<br />
} // end inWords<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37251""></a>
  <div class="note">
   <strong class="user">cruzf_AT_fibertel.com.ar</strong>
   <a href="#37251" class="date">07-Nov-2003 08:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You could add padding zeros like this:<br />
<br />
&lt;?<br />
$number="129";<br />
$number=sprintf("%08d",$number);<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32121""></a>
  <div class="note">
   <strong class="user">sgj at dr dot com</strong>
   <a href="#32121" class="date">18-May-2003 03:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just an observation:<br />
The number_format rounds the value of the variable.<br />
<br />
$val1 = 1.233;<br />
$val2 = 1.235;<br />
$val3 = 1.237;<br />
<br />
echo number_format($val1,2,",","."); // returns: 1,23<br />
echo number_format($val2,2,",","."); // returns: 1,24<br />
echo number_format($val3,2,",","."); // returns: 1,24</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30643""></a>
  <div class="note">
   <strong class="user">Theo Diem</strong>
   <a href="#30643" class="date">24-Mar-2003 10:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
formatting numbers may be more easy if u use number_format function.<br />
<br />
I also wrote this :<br />
function something($number)<br />
{<br />
&nbsp;&nbsp;&nbsp; $locale = localeconv();<br />
&nbsp;&nbsp;&nbsp; return number_format($number,<br />
&nbsp;&nbsp; &nbsp; &nbsp; $locale['frac_digits'],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $locale['decimal_point'],<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $locale['thousands_sep']);<br />
}<br />
<br />
hope this helps =)<br />
[]'s</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="17958""></a>
  <div class="note">
   <strong class="user">andrew at crucible dot co dot nz</strong>
   <a href="#17958" class="date">05-Jan-2002 01:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember that number_format returns a string, so you shouldn't run a number_format on a variable that's already a product of number_format (it will only take the first token of the string)...<br />
<br />
eg. echo number_format("123,456.00", 2);<br />
produces: 123.00</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="17508""></a>
  <div class="note">
   <strong class="user">sctemplarknight at hotmail dot com</strong>
   <a href="#17508" class="date">12-Dec-2001 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
number_format($number,$precision,".","") should be used when setting the value of form elements because if you read the number into a double upon submission, it will only store digits before the comma.<br />
&lt;p&gt;<br />
ie. &lt;input type="text" value="<span class="default">&lt;?php </span><span class="keyword">echo(</span><span class="default">number_format</span><span class="keyword">(</span><span class="default">2.5343</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">)</span><span class="string">"&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.nl2br.html">nl2br</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.ord.html">ord</a></div>
 <div class="up"><a href="ref.strings.html">String 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
