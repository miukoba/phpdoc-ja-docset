<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>GMT/UTC の日付/時刻を書式化する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gettimeofday.html">gettimeofday</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gmmktime.html">gmmktime</a></div>
 <div class="up"><a href="ref.datetime.html">日付・時刻 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.gmdate" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">gmdate</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">gmdate</span> &mdash; <span class="dc-title">GMT/UTC の日付/時刻を書式化する</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.gmdate-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>gmdate</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timestamp</code><span class="initializer"> = time()</span></span>
  ] )</div>

  <p class="para rdfs-comment">
    <span class="function"><a href="function.date.html" class="function">date()</a></span> 関数と同じですが、返される時刻が
   グリニッジ標準時 (GMT) であるところが異なります。
  </p>
 </div>
 

 <div class="refsect1 parameters" id="refsect1-function.gmdate-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">format</code></em></span>
     <dd>

      <p class="para">
       出力される文字列の書式。 <span class="function"><a href="function.date.html" class="function">date()</a></span>
       関数の書式オプションを参照ください。
      </p>
     </dd>

    </dt>

    
    
<dt>
<span class="term"><em><code class="parameter">timestamp</code></em></span><dd>
<p class="para">
オプションのパラメータ <em><code class="parameter">timestamp</code></em> は、
<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> 型の Unix タイムスタンプです。
<em><code class="parameter">timestamp</code></em> が指定されなかった場合のデフォルト値は、
現在の時刻です。言い換えると、デフォルトは
 <span class="function"><a href="function.time.html" class="function">time()</a></span> の返り値となります。
</p></dd>
</dt>

   
   </dl>

  </p>
 </div>
   

 <div class="refsect1 returnvalues" id="refsect1-function.gmdate-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   日付を表す文字列を返します。
   <em><code class="parameter">timestamp</code></em> に数字以外が使用された場合は
   <strong><code>FALSE</code></strong> が返され、<strong><code>E_WARNING</code></strong>
   レベルのエラーが発生します。
  </p>
 </div>
   

 <div class="refsect1 changelog" id="refsect1-function.gmdate-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.1.0</td>
       <td>
        有効なタイムスタンプの範囲は、通常 Fri, 13 Dec 1901
        20:45:54 GMT から Tue, 19 Jan 2038 03:14:07 GMT までです
        (これらの日付は、32 ビット符号付き整数の最小および最大値に
        対応します)。
        しかし、PHP 5.1 より前のバージョンでは、システム環境によっては
        (例: Windows) この範囲が 1970 年 1 月 1 日から 2038 年 1 月 19 日
        までに制限されます。
       </td>
      </tr>

      <tr>
       <td>5.1.1</td>
       <td>
        PHP 5.1.1 以降、<em><code class="parameter">format</code></em> パラメータで標準的な
        日付/時刻フォーマットを指定する際に有用な <a href="datetime.constants.html" class="link">定数</a>がいくつか追加されました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.gmdate-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-2298">
    <p><strong>例1  <span class="function"><strong>gmdate()</strong></span> の例</strong></p>
    <div class="example-contents"><p>
     フィンランド (GMT +0200) で実行した場合、一行目の出力は &quot;Jan 01
     1998 00:00:00&quot;、二行目の出力は &quot;Dec 31 1997 22:00:00&quot; となります。
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">"M&nbsp;d&nbsp;Y&nbsp;H:i:s"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1998</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #0000BB">gmdate</span><span style="color: #007700">(</span><span style="color: #DD0000">"M&nbsp;d&nbsp;Y&nbsp;H:i:s"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1998</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.gmdate-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.date.html" class="function" rel="rdfs-seeAlso">date()</a> - ローカルの日付/時刻を書式化する</span></li>
    <li class="member"> <span class="function"><a href="function.mktime.html" class="function" rel="rdfs-seeAlso">mktime()</a> - 日付を Unix のタイムスタンプとして取得する</span></li>
    <li class="member"> <span class="function"><a href="function.gmmktime.html" class="function" rel="rdfs-seeAlso">gmmktime()</a> - GMT 日付から Unix タイムスタンプを取得する</span></li>
    <li class="member"> <span class="function"><a href="function.strftime.html" class="function" rel="rdfs-seeAlso">strftime()</a> - ロケールの設定に基づいてローカルな日付・時間をフォーマットする</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="84970""></a>
  <div class="note">
   <strong class="user">QED2000</strong>
   <a href="#84970" class="date">07-Aug-2008 08:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a very simple UTC timestamp:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;</span><span class="keyword">print </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y-m-d\TH:i:s\Z"</span><span class="keyword">); <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76656""></a>
  <div class="note">
   <strong class="user">jhechtf at gmail dot com</strong>
   <a href="#76656" class="date">25-Jul-2007 05:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My function for something like this is like so:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">actual_time</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">,</span><span class="default">$offset</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">){<br />
&nbsp;&nbsp; </span><span class="comment">//Offset is in hours from gmt, including a - sign if applicable. <br />
&nbsp;&nbsp; //So lets turn offset into seconds<br />
&nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$offset</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">$timestamp </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Remember, adding a negative is still subtraction ;)<br />
&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">gmdate</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>It's always worked fine for me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75772""></a>
  <div class="note">
   <strong class="user">Blazeme</strong>
   <a href="#75772" class="date">15-Jun-2007 12:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here, I wrote a function (from code above) for easy time zone<br />
settings.<br />
Regards.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">datum</span><span class="keyword">(</span><span class="default">$datum</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {<br />
</span><span class="default">$sign </span><span class="keyword">= </span><span class="string">"+"</span><span class="keyword">; </span><span class="comment">// Whichever direction from GMT to your timezone. + or -<br />
</span><span class="default">$h </span><span class="keyword">= </span><span class="string">"1"</span><span class="keyword">; </span><span class="comment">// offset for time (hours)<br />
</span><span class="default">$dst </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// true - use dst ; false - don't<br />
<br />
</span><span class="keyword">if (</span><span class="default">$dst</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$daylight_saving </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$daylight_saving</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else { </span><span class="default">$h</span><span class="keyword">=</span><span class="default">$h</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$hm </span><span class="keyword">= </span><span class="default">$h </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
</span><span class="default">$ms </span><span class="keyword">= </span><span class="default">$hm </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
if (</span><span class="default">$sign </span><span class="keyword">== </span><span class="string">"-"</span><span class="keyword">){ </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()-(</span><span class="default">$ms</span><span class="keyword">); }<br />
else { </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+(</span><span class="default">$ms</span><span class="keyword">); }<br />
</span><span class="default">$gmdate </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"m.d.Y. g:i A"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">);<br />
if(</span><span class="default">$datum</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">) {<br />
return </span><span class="default">$gmdate</span><span class="keyword">;<br />
}<br />
else {<br />
return </span><span class="default">$timestamp</span><span class="keyword">;<br />
}<br />
<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
If you set first argument to true, it'll return formated date.<br />
If false, will return $timestamp.<br />
Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63711""></a>
  <div class="note">
   <strong class="user">ttech5593 at gmail dot com</strong>
   <a href="#63711" class="date">28-Mar-2006 11:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For me most of the examples here needed the + or - seconds to set the time zone. I wanted a faster way to get the time zone in seconds. So I created this : <br />
<span class="default">&lt;?php <br />
$h </span><span class="keyword">= </span><span class="string">"3"</span><span class="keyword">;</span><span class="comment">// Hour for time zone goes here e.g. +7 or -4, just remove the + or -<br />
</span><span class="default">$hm </span><span class="keyword">= </span><span class="default">$h </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">; <br />
</span><span class="default">$ms </span><span class="keyword">= </span><span class="default">$hm </span><span class="keyword">* </span><span class="default">60</span><span class="keyword">;<br />
</span><span class="default">$gmdate </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"m/d/Y g:i:s A"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()-(</span><span class="default">$ms</span><span class="keyword">)); </span><span class="comment">// the "-" can be switched to a plus if that's what your time zone is.<br />
</span><span class="keyword">echo </span><span class="string">"Your current time now is :&nbsp; </span><span class="default">$gmdate</span><span class="string"> . "</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span> <br />
It works. Hope it helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62885""></a>
  <div class="note">
   <strong class="user">gefiltefishee at comcast dot net</strong>
   <a href="#62885" class="date">11-Mar-2006 10:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was struggling with how to get my browser to output MY local time using gmdate().<br />
<br />
I figured it out and here's what you do (ASSUMING THE SERVER IS ON GMT, If not, just echo a generic gmdate() without timezone setting and calculate the number of hours ahead or behind you are of that time, convert it to seconds and add [for ahead] or subtract [for behind] that value to time() ):<br />
<br />
NOTE: these are US times [setlocale(LC_TIME, 'en_US')]<br />
<br />
for Central Time (7 hours behind GMT):<br />
gmdate("format", time()-(25200));<br />
<br />
For Pacific Time (9 hours behind GMT):<br />
gmdate("format", time()-(32400));<br />
<br />
REMEMBER - THE VALUES ABOVE ASSUME THE SERVER IS ON GMT<br />
<br />
I used the following gmdate() format:<br />
"l, F jS, Y&nbsp; g:i a"<br />
but you can use what you like ;)<br />
<br />
Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60159""></a>
  <div class="note">
   <strong class="user">fernandobassani at gmail dot com</strong>
   <a href="#60159" class="date">28-Dec-2005 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have the same application running in different countries, you may have some troubles getting the local time..<br />
In my case, I was having troubles with a clock created with Macromedia Flash... the time shown by the clock was supposed to be set up by the server, passing the timestamp. When I moved the file to another country, I got a wrong time...<br />
You can use the timezone offset ( date("Z") ) to handle this kind of thing...<br />
<br />
<span class="default">&lt;?php<br />
$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Z"</span><span class="keyword">);<br />
echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y/m/d H:i:s"</span><span class="keyword">,</span><span class="default">$timestamp</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59054""></a>
  <div class="note">
   <strong class="user">Sir Derek G</strong>
   <a href="#59054" class="date">25-Nov-2005 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a nifty little function that returns a random timestamp between two dates.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//////////////////////////////////////////////////////////<br />
// Return a random timestamp between two dates (inclusive)<br />
// Example: Tue, 08 Nov 2004 06:47:10 GMT<br />
//<br />
// time - Starting time string<br />
// Valid Examples:<br />
// 10 September 2001<br />
// next Thursday<br />
// last Monday<br />
// now<br />
// <br />
// time2 - Ending time string<br />
</span><span class="keyword">function </span><span class="default">randomTimestamp</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">= </span><span class="string">"" </span><span class="keyword">, </span><span class="default">$time2 </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$time</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"10 September 2000"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$time2</span><span class="keyword">) </span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"24 November 2005"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">" D, d M Y"</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">( </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">, </span><span class="default">int</span><span class="keyword">) , </span><span class="default">settype</span><span class="keyword">(</span><span class="default">$time2 </span><span class="keyword">, </span><span class="default">int</span><span class="keyword">) )); </span><span class="comment">//Must be called once before becoming random, ???<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">" D, d M Y"</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">(</span><span class="default">$time </span><span class="keyword">, </span><span class="default">$time2</span><span class="keyword">)).</span><span class="string">" "</span><span class="keyword">;</span><span class="comment">//Now it's random<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$h </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$h</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$h </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$h</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">$h</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$d </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">29</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$d </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$d</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">.= </span><span class="default">$d</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">59</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) == </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$s </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$s</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">.= </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$timestamp </span><span class="keyword">.= </span><span class="default">$t</span><span class="keyword">.</span><span class="string">" GMT"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$timestamp</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58538""></a>
  <div class="note">
   <strong class="user">rob at geek dot co dot nz</strong>
   <a href="#58538" class="date">07-Nov-2005 09:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's worth noting the distinction between gmgate() and date() with regards to day light savings time. If your server uses universal time and makes an adjustment by locale for daylight savings time, you will want to use date(). gmdate will display the non-adjuisted time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57088""></a>
  <div class="note">
   <strong class="user">paul at sysnyx dot com</strong>
   <a href="#57088" class="date">23-Sep-2005 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Gives user the ability to use their timezone preferences.<br />
I had to create this script for a very large community. I first made any posts to the database that would display the date using just time();<br />
<br />
Example: mysql_query("INSERT INTO `table` (`datetime`) VALUES ('".time()."')");<br />
<br />
Also, for their timezone preference, I had the values as (example):<br />
(Eastern Timezone) -5 hours<br />
(Newfoundland) -3 hours -30 minutes<br />
<br />
This information would be saved in the users table.<br />
To display the date and time in their respective timezone preference:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">datetime</span><span class="keyword">(</span><span class="default">$datetime</span><span class="keyword">,</span><span class="default">$zone</span><span class="keyword">){<br />
if(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">)):</span><span class="default">$datetime</span><span class="keyword">+=</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">;endif;<br />
return </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'m-d-Y - h:i:sa'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$zone</span><span class="keyword">,</span><span class="default">$datetime</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
$datetime would be the information pulled from the database from a post for news, forums, etcetera (remember, the inserted table data for the time was using time();)<br />
$zone would be the information pulled from the database from the users timezone preference.<br />
<br />
I also used cookies to store their timezone:<br />
$sth=mysql_query("SELECT `datetime` FROM `table` LIMIT 1");<br />
$row=mysql_fetch_assoc($sth);<br />
echo datetime($row['datetime'],$_COOKIE['timezone']);<br />
<br />
Remember to set the 'm-d-Y - h:i:sa' to how you wish the time to display. Visit the manual about date().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53002""></a>
  <div class="note">
   <strong class="user">ncofreNOSPAMPLEASE at step2u dot com</strong>
   <a href="#53002" class="date">20-May-2005 01:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Want to put different International Times in your web?<br />
<br />
First create a database including the GMT and the DST (find it f.i. at timeanddate.com). Be careful, because there are several different DST dates and options.<br />
<br />
Once you have your function which calculates the GMT hour difference (it can be a decimal!!), sum it to the Unix Time (remember that unix time is GMT, not local: f.i. gmdate("U")===date("U)).<br />
<br />
Don't forget to recalculate the GMT difference to seconds before it.<br />
<br />
Then format your date using gmdate() (not date()!) and... you've got your International Time!<br />
<br />
<span class="default">&lt;?php<br />
<br />
$city</span><span class="keyword">[</span><span class="string">"Name"</span><span class="keyword">] = </span><span class="string">"Barcelona"</span><span class="keyword">;<br />
</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"GMT"</span><span class="keyword">] = </span><span class="default">1.0</span><span class="keyword">;<br />
</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"actualDST"</span><span class="keyword">] = </span><span class="default">1.0</span><span class="keyword">; </span><span class="comment">//Because it's summer time<br />
<br />
</span><span class="default">$gmt_diff </span><span class="keyword">= </span><span class="default">$city</span><span class="keyword">[</span><span class="string">"GMT"</span><span class="keyword">]+</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"actualDST"</span><span class="keyword">]; </span><span class="comment">//your functions for getting the hour difference betweer the city and the GMT<br />
</span><span class="default">$city_time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()+(</span><span class="default">$gmt_diff</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">); </span><span class="comment">//sum the timestamps<br />
</span><span class="keyword">echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"H:i"</span><span class="keyword">,</span><span class="default">$city_time</span><span class="keyword">); </span><span class="comment">//echo the formatted date<br />
</span><span class="keyword">echo </span><span class="string">" h. in the beautiful city of "</span><span class="keyword">.</span><span class="default">$city</span><span class="keyword">[</span><span class="string">"Name"</span><span class="keyword">];<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43921""></a>
  <div class="note">
   <strong class="user">Kogik inc dot  -- info at kogik dot com</strong>
   <a href="#43921" class="date">08-Jul-2004 11:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Wath out for summer time and winter time...<br />
<br />
If you want to get the current date and time based on GMT you could use this :<br />
<br />
<span class="default">&lt;?php<br />
$timezone&nbsp; </span><span class="keyword">= -</span><span class="default">5</span><span class="keyword">; </span><span class="comment">//(GMT -5:00) EST (U.S. &amp; Canada)<br />
</span><span class="keyword">echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"Y/m/j H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">*(</span><span class="default">$timezone</span><span class="keyword">+</span><span class="default">date</span><span class="keyword">(</span><span class="string">"I"</span><span class="keyword">))); <br />
</span><span class="default">?&gt;<br />
</span><br />
this would gives: 2004/07/8 14:35:19 in summer time<br />
and 2004/07/8 13:35:19 in winter time.<br />
<br />
Note that date("I") returns 1 in summer and 0 in winter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37401""></a>
  <div class="note">
   <strong class="user">www.l-serwis.wpt.pl</strong>
   <a href="#37401" class="date">13-Nov-2003 10:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to get time in your timezone try this:<br />
<br />
<span class="default">&lt;?php<br />
$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*</span><span class="default">0 </span><span class="comment">//GMT<br />
</span><span class="default">$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*</span><span class="default">1 </span><span class="comment">//CET<br />
</span><span class="default">$zone</span><span class="keyword">=</span><span class="default">3600</span><span class="keyword">*-</span><span class="default">5</span><span class="comment">//USA<br />
</span><span class="default">$date</span><span class="keyword">=</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D M Y H:i"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">$zone</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25031""></a>
  <div class="note">
   
   <a href="#25031" class="date">08-Sep-2002 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do not use the "T" timezone specifier to generate "GMT", as this may return "UTC" or "GMT+0000" or "Z" or something else which depends on the running platform, which would not be RFC1123 compliant.<br />
<br />
Use 'D, d M Y H:i:s \G\M\T' which forces the value of the timezone indicator.<br />
<br />
Note that RFC1123 requires the use of ENGLISH day and month abbreviations. They MUST NOT be localized!<br />
<br />
An example of the RFC1123 format for full dates is:<br />
Sun, 06 Nov 1994 08:49:37 GMT<br />
<br />
Note the presence of the leading 0 (RFC1123 dates have a fixed size, and space padding is prohibited because it causes problems with fixed size handling when such dates are used in HTTP headers that may compress whitespaces.<br />
<br />
Some proxies accept also the ISO 8601 format, but this is not documented in HTTP/1.1 specs (RFC2616).<br />
<br />
Examples:<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">'Date: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()));<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Last-Modified: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()));<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'Expires: '</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s \G\M\T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
or if you prefer double quotes and don't want to bother with double backslashes:<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">"Date: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">" GMT"</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Last-Modified: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">" GMT"</span><span class="keyword">);;<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Expires: "</span><span class="keyword">.</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">"D, d M Y H:i:s"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() + </span><span class="default">3600</span><span class="keyword">).</span><span class="string">" GMT"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22366""></a>
  <div class="note">
   
   <a href="#22366" class="date">15-Jun-2002 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For an RFC 1123 (HTTP header date) date, try:<br />
<br />
<span class="default">&lt;?php<br />
$rfc_1123_date </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'D, d M Y H:i:s T'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">());<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gettimeofday.html">gettimeofday</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.gmmktime.html">gmmktime</a></div>
 <div class="up"><a href="ref.datetime.html">日付・時刻 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
