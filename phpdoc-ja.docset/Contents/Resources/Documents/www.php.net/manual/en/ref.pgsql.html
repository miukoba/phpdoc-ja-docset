<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>PostgreSQL 関数</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="pgsql.examples-basic.html">基本的な使用法</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pg-affected-rows.html">pg_affected_rows</a></div>
 <div class="up"><a href="book.pgsql.html">PostgreSQL</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="ref.pgsql" class="reference">
 <h1 class="title">PostgreSQL 関数</h1>

 <div class="partintro">
  <div class="section" id="pgsql.notes">
  <h2 class="title">注意</h2>
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     すべての関数がすべての構築環境でサポートされるわけではありません。 
     サポートされる関数は、使用する libpq（PostgreSQL の C クライアント
     ライブラリ）のバージョンと libpq のコンパイル方法に依存します。 
     もし PHP の PostgreSQL 拡張モジュールに足りない関数がある場合、
     その原因は libpq はその関数をサポートしていないことです。
    </p>
   </p></blockquote>  
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     ほとんどの PostgreSQL 関数は、オプションの第 1 引数として
     <em><code class="parameter">connection</code></em> を受け付けます。もしこれを
     指定しなかった場合、直近にオープンされた接続を使用します。
     そのような接続が存在しなかった場合、関数は <strong><code>FALSE</code></strong> を返します。
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     PostgreSQL は、オブジェクトの生成時やクエリの実行時に
     識別子（例: テーブル名・カラム名）を自動的に小文字に変換します。
     この自動変換を防ぐには、識別子をダブルクォート（&quot;&quot;）でエスケープする
     必要があります。
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     PostgreSQL には、データベースのスキーマ情報（例: データベース内の
     すべてのテーブルなど）を取得するための特別なコマンドがありません。
     その代わりに、PostgreSQL 7.4 以降では <em>information_schema</em>
     という標準スキーマが存在し、必要な情報が検索しやすい形式で格納されています。
     詳しい情報は <a href="http://www.postgresql.org/docs/current/interactive/" class="link external" title="Link : http://www.postgresql.org/docs/current/interactive/">&raquo;&nbsp;PostgreSQL ドキュメンテーション</a>
     を参照ください。
    </p>
   </p></blockquote>
  </div>
 </div>
















































































































































































































































































































































































































































































































































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.pg-affected-rows.html">pg_affected_rows</a> — 変更されたレコード(タプル)の数を返す</li><li><a href="function.pg-cancel-query.html">pg_cancel_query</a> — 非同期クエリを取り消す</li><li><a href="function.pg-client-encoding.html">pg_client_encoding</a> — クライアントのエンコーディングを取得する</li><li><a href="function.pg-close.html">pg_close</a> — PostgreSQL 接続をクローズする</li><li><a href="function.pg-connect.html">pg_connect</a> — PostgreSQL 接続をオープンする</li><li><a href="function.pg-connection-busy.html">pg_connection_busy</a> — 接続がビジーかどうか調べる</li><li><a href="function.pg-connection-reset.html">pg_connection_reset</a> — 接続をリセット(再接続)する</li><li><a href="function.pg-connection-status.html">pg_connection_status</a> — 接続ステータスを取得する</li><li><a href="function.pg-convert.html">pg_convert</a> — 連想配列の値を、SQL 文として実行可能な形式に変換する</li><li><a href="function.pg-copy-from.html">pg_copy_from</a> — 配列からテーブルに挿入する</li><li><a href="function.pg-copy-to.html">pg_copy_to</a> — 配列にテーブルをコピーする</li><li><a href="function.pg-dbname.html">pg_dbname</a> — データベース名を取得する</li><li><a href="function.pg-delete.html">pg_delete</a> — レコードを削除する</li><li><a href="function.pg-end-copy.html">pg_end_copy</a> — PostgreSQL バックエンドと同期する</li><li><a href="function.pg-escape-bytea.html">pg_escape_bytea</a> — bytea フィールドに挿入するために文字列をエスケープする</li><li><a href="function.pg-escape-identifier.html">pg_escape_identifier</a> — テキスト型フィールドに挿入するために、識別子をエスケープする</li><li><a href="function.pg-escape-literal.html">pg_escape_literal</a> — テキスト型フィールドに挿入するために、リテラルをエスケープする</li><li><a href="function.pg-escape-string.html">pg_escape_string</a> — クエリに使う文字列をエスケープする</li><li><a href="function.pg-execute.html">pg_execute</a> — 指定したパラメータを用いてプリペアドステートメントを実行するリクエストを
   送信し、その結果を待つ</li><li><a href="function.pg-fetch-all-columns.html">pg_fetch_all_columns</a> — 指定したカラムの全ての行を配列として取得する</li><li><a href="function.pg-fetch-all.html">pg_fetch_all</a> — 取得されたすべての行を配列として取得する</li><li><a href="function.pg-fetch-array.html">pg_fetch_array</a> — 行を配列として取得する</li><li><a href="function.pg-fetch-assoc.html">pg_fetch_assoc</a> — 行を連想配列として取得する</li><li><a href="function.pg-fetch-object.html">pg_fetch_object</a> — 行をオブジェクトとして得る</li><li><a href="function.pg-fetch-result.html">pg_fetch_result</a> — 結果リソースから値を返す</li><li><a href="function.pg-fetch-row.html">pg_fetch_row</a> — 数値添字の配列として行を得る</li><li><a href="function.pg-field-is-null.html">pg_field_is_null</a> — フィールドが SQL の NULL かどうか調べる</li><li><a href="function.pg-field-name.html">pg_field_name</a> — フィールドの名前を返す</li><li><a href="function.pg-field-num.html">pg_field_num</a> — 指定されたフィールドのフィールド番号を返す</li><li><a href="function.pg-field-prtlen.html">pg_field_prtlen</a> — 表示される長さを返す</li><li><a href="function.pg-field-size.html">pg_field_size</a> — 指定したフィールドの内部記憶領域におけるサイズを返す</li><li><a href="function.pg-field-table.html">pg_field_table</a> — tables フィールドの名前あるいは oid を返す</li><li><a href="function.pg-field-type-oid.html">pg_field_type_oid</a> — フィールド番号に対応する型 ID（OID）を返す</li><li><a href="function.pg-field-type.html">pg_field_type</a> — フィールド番号に対応する型名を返す</li><li><a href="function.pg-free-result.html">pg_free_result</a> — メモリを開放する</li><li><a href="function.pg-get-notify.html">pg_get_notify</a> — SQL NOTIFY メッセージを取得する</li><li><a href="function.pg-get-pid.html">pg_get_pid</a> — バックエンドのプロセス ID を得る</li><li><a href="function.pg-get-result.html">pg_get_result</a> — 非同期クエリの結果を取得する</li><li><a href="function.pg-host.html">pg_host</a> — 接続に関連するホスト名を返す</li><li><a href="function.pg-insert.html">pg_insert</a> — テーブルに配列を挿入する</li><li><a href="function.pg-last-error.html">pg_last_error</a> — 特定の接続から直近のエラーメッセージ文字列を取得する</li><li><a href="function.pg-last-notice.html">pg_last_notice</a> — PostgreSQL サーバーからの直近の通知メッセージを返す</li><li><a href="function.pg-last-oid.html">pg_last_oid</a> — 直近の行のオブジェクト ID を返す</li><li><a href="function.pg-lo-close.html">pg_lo_close</a> — ラージオブジェクトをクローズする</li><li><a href="function.pg-lo-create.html">pg_lo_create</a> — ラージオブジェクトを生成する</li><li><a href="function.pg-lo-export.html">pg_lo_export</a> — ラージオブジェクトをファイルにエクスポートする</li><li><a href="function.pg-lo-import.html">pg_lo_import</a> — ファイルからラージオブジェクトをインポートする</li><li><a href="function.pg-lo-open.html">pg_lo_open</a> — ラージオブジェクトをオープンする</li><li><a href="function.pg-lo-read-all.html">pg_lo_read_all</a> — ラージオブジェクト全体を読み込みブラウザに直接送信する</li><li><a href="function.pg-lo-read.html">pg_lo_read</a> — ラージオブジェクトを読み込む</li><li><a href="function.pg-lo-seek.html">pg_lo_seek</a> — ラージオブジェクトの位置をシークする</li><li><a href="function.pg-lo-tell.html">pg_lo_tell</a> — ラージオブジェクトのカレントのシーク位置を返す</li><li><a href="function.pg-lo-unlink.html">pg_lo_unlink</a> — ラージオブジェクトを削除する</li><li><a href="function.pg-lo-write.html">pg_lo_write</a> — ラージオブジェクトを書く</li><li><a href="function.pg-meta-data.html">pg_meta_data</a> — テーブルからメタデータを取得する</li><li><a href="function.pg-num-fields.html">pg_num_fields</a> — フィールド数を返す</li><li><a href="function.pg-num-rows.html">pg_num_rows</a> — 行数を返す</li><li><a href="function.pg-options.html">pg_options</a> — 接続に関連するオプションを取得する</li><li><a href="function.pg-parameter-status.html">pg_parameter_status</a> — サーバーのパラメータ設定を検索する</li><li><a href="function.pg-pconnect.html">pg_pconnect</a> — 持続的な PostgreSQL 接続をオープンする</li><li><a href="function.pg-ping.html">pg_ping</a> — データベース接続を調べる</li><li><a href="function.pg-port.html">pg_port</a> — 接続に関連するポート番号を返す</li><li><a href="function.pg-prepare.html">pg_prepare</a> — 指定したパラメータでプリペアドステートメントを作成するリクエストを
   送信し、その完了を待つ</li><li><a href="function.pg-put-line.html">pg_put_line</a> — NULL で終わる文字列を PostgreSQL バックエンドに送信する</li><li><a href="function.pg-query-params.html">pg_query_params</a> — SQL コマンドとパラメータを分割してサーバーにを送信し、その結果を待つ</li><li><a href="function.pg-query.html">pg_query</a> — クエリを実行する</li><li><a href="function.pg-result-error-field.html">pg_result_error_field</a> — エラー報告の各フィールドを返す</li><li><a href="function.pg-result-error.html">pg_result_error</a> — 結果に関連するエラーメッセージを取得する</li><li><a href="function.pg-result-seek.html">pg_result_seek</a> — 結果リソースの内部行オフセットを設定する</li><li><a href="function.pg-result-status.html">pg_result_status</a> — クエリ結果のステータスを取得する</li><li><a href="function.pg-select.html">pg_select</a> — レコードを選択する</li><li><a href="function.pg-send-execute.html">pg_send_execute</a> — 指定したパラメータでプリペアドステートメントを実行するリクエストを
   送信し、その結果を待たない</li><li><a href="function.pg-send-prepare.html">pg_send_prepare</a> — 指定したパラメータでプリペアドステートメントを作成するリクエストを
   送信し、その結果を待たない</li><li><a href="function.pg-send-query-params.html">pg_send_query_params</a> — コマンドとパラメータを分割してサーバーに送信し、その結果を待たない</li><li><a href="function.pg-send-query.html">pg_send_query</a> — 非同期クエリを送信する</li><li><a href="function.pg-set-client-encoding.html">pg_set_client_encoding</a> — クライアントのエンコーディングを設定する</li><li><a href="function.pg-set-error-verbosity.html">pg_set_error_verbosity</a> — pg_last_error および pg_result_error
   が返すメッセージの詳細度を指定する</li><li><a href="function.pg-trace.html">pg_trace</a> — PostgreSQL 接続のトレースを有効にする</li><li><a href="function.pg-transaction-status.html">pg_transaction_status</a> — サーバー上で実行中のトランザクションの状態を返す</li><li><a href="function.pg-tty.html">pg_tty</a> — 接続に関する TTY 名を返す</li><li><a href="function.pg-unescape-bytea.html">pg_unescape_bytea</a> — bytea 型のバイナリをアンエスケープする</li><li><a href="function.pg-untrace.html">pg_untrace</a> — PostgreSQL 接続のトレースを無効にする</li><li><a href="function.pg-update.html">pg_update</a> — テーブルを更新する</li><li><a href="function.pg-version.html">pg_version</a> — クライアント・プロトコル・サーバーのバージョンを配列で返す</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="108639""></a>
  <div class="note">
   <strong class="user">Tony Murray</strong>
   <a href="#108639" class="date">13-May-2012 06:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple conversion for 1D PostgreSQL array data:<br />
<br />
// =====<br />
//Example #1 (An array of IP addresses):<br />
<span class="default">&lt;?php<br />
&nbsp; $pgsqlArr </span><span class="keyword">= </span><span class="string">'{192.168.1.1,10.1.1.1}'</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^{(.*)}$/'</span><span class="keyword">, </span><span class="default">$pgsqlArr</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$phpArr </span><span class="keyword">= </span><span class="default">str_getcsv</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
<br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$phpArr</span><span class="keyword">);<br />
}<br />
</span><span class="comment">// Output:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; [0] =&gt; 192.168.1.1<br />
//&nbsp; &nbsp; [1] =&gt; 10.1.1.1<br />
// )<br />
// =====<br />
<br />
// =====<br />
// Example #2 (An array of strings including spaces and commas):<br />
</span><span class="keyword">&lt;?</span><span class="default">php<br />
&nbsp; $pgsqlArr </span><span class="keyword">= </span><span class="string">'{string1,string2,"string,3","string 4"}'</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^{(.*)}$/'</span><span class="keyword">, </span><span class="default">$pgsqlArr</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$phpArr </span><span class="keyword">= </span><span class="default">str_getcsv</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
<br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$phpArr</span><span class="keyword">);<br />
}<br />
</span><span class="comment">// Output:<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; [0] =&gt; string1<br />
//&nbsp; &nbsp; [1] =&gt; string2<br />
//&nbsp; &nbsp; [2] =&gt; string,3<br />
//&nbsp; &nbsp; [3] =&gt; string 4<br />
// )<br />
// =====</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71221""></a>
  <div class="note">
   
   <a href="#71221" class="date">17-Nov-2006 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Chris KL: Will parse well {"\\"}? The second " will be treat as escaped while it shoudn't...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70596""></a>
  <div class="note">
   
   <a href="#70596" class="date">21-Oct-2006 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Lots of advice on stored procedures didn't work for me.&nbsp; This did:<br />
<br />
<span class="default">&lt;?php<br />
$response </span><span class="keyword">= </span><span class="default">pg_query</span><span class="keyword">( </span><span class="default">$connection</span><span class="keyword">, </span><span class="string">"BEGIN; DECLARE s CURSOR FOR SELECT get_consumer('harry'); FETCH ALL IN s; END;" </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
..where harry looks like this:<br />
<br />
CREATE OR REPLACE FUNCTION get_consumer( varchar )<br />
RETURNS refcursor<br />
AS '<br />
DECLARE<br />
&nbsp; _name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ALIAS FOR $1;<br />
&nbsp; r&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; refcursor;<br />
BEGIN<br />
&nbsp; OPEN r FOR SELECT name FROM consumer<br />
&nbsp; WHERE<br />
&nbsp;&nbsp;&nbsp; consumer.name = _name<br />
&nbsp; ;<br />
&nbsp; RETURN r;<br />
END<br />
' LANGUAGE 'plpgsql';</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58660""></a>
  <div class="note">
   <strong class="user">Chris KL</strong>
   <a href="#58660" class="date">11-Nov-2005 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a better array parser for PHP.&nbsp; It will work with 1-d arrays only.&nbsp; Unlike the example below it will work in all cases.<br />
<br />
&nbsp;&nbsp;&nbsp; /**<br />
&nbsp;&nbsp; &nbsp; * Change a db array into a PHP array<br />
&nbsp;&nbsp; &nbsp; * @param $arr String representing the DB array<br />
&nbsp;&nbsp; &nbsp; * @return A PHP array<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; function phpArray($dbarr) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Take off the first and last characters (the braces)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $arr = substr($dbarr, 1, strlen($dbarr) - 2);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Pick out array entries by carefully parsing.&nbsp; This is necessary in order<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // to cope with double quotes and commas, etc.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $elements = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $i = $j = 0;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $in_quotes = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ($i &lt; strlen($arr)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // If current char is a double quote and it's not escaped, then<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // enter quoted bit<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $char = substr($arr, $i, 1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($char == '"' &amp;&amp; ($i == 0 || substr($arr, $i - 1, 1) != '\\')) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $in_quotes = !$in_quotes;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif ($char == ',' &amp;&amp; !$in_quotes) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Add text so far to the array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $elements[] = substr($arr, $j, $i - $j);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $j = $i + 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $i++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Add final text to the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $elements[] = substr($arr, $j);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // Do one further loop over the elements array to remote double quoting<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // and escaping of double quotes and backslashes<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($i = 0; $i &lt; sizeof($elements); $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $v = $elements[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (strpos($v, '"') === 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $v = substr($v, 1, strlen($v) - 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $v = str_replace('\\"', '"', $v);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $v = str_replace('\\\\', '\\', $v);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $elements[$i] = $v;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $elements;<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57709""></a>
  <div class="note">
   <strong class="user">1413 at blargh dot com</strong>
   <a href="#57709" class="date">12-Oct-2005 02:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is some quick and dirty code to convert Postgres-returned arrays into PHP arrays.&nbsp; There's probably a billion bugs, but since I'm only dealing with variable-depth-and-length arrays of integers, it works for my needs.<br />
<br />
Most notably, any data that might have commas in it won't work right...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">PGArrayToPHPArray</span><span class="keyword">(</span><span class="default">$pgArray</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br />
&nbsp; </span><span class="default">$stack </span><span class="keyword">= array(&amp;</span><span class="default">$ret</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$pgArray </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pgArray</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$pgElements </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$pgArray</span><span class="keyword">);<br />
&nbsp; <br />
&nbsp; </span><span class="default">ArrayDump</span><span class="keyword">(</span><span class="default">$pgElements</span><span class="keyword">);<br />
<br />
&nbsp; foreach(</span><span class="default">$pgElements </span><span class="keyword">as </span><span class="default">$elem</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">) == </span><span class="string">"}"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$elem </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newSub </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) != </span><span class="string">"{"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newSub</span><span class="keyword">[] = </span><span class="default">$elem</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$elem </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newSub</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$newSub</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$elem</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53559""></a>
  <div class="note">
   <strong class="user">anis_wn at gawab dot com</strong>
   <a href="#53559" class="date">06-Jun-2005 06:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Setting up PostgreSQL for higher security PHP connection.<br />
<br />
Case:<br />
We want to connect to PostgreSQL database using username and password supplied by webuser at login time.<br />
<br />
Fact (Linux):<br />
Apache (perhaps other servers, too) running the server as (default to) apache user account. So if you connect to PostgreSQL using default user, apache will be assingned for it. If you hard code the user and password in your PHP script, you'll loose security restriction from PostgreSQL.<br />
<br />
Solution:<br />
(You are assumed to have enough privilege to do these things, though)<br />
1. Edit pg_hba.conf to have the line like the one below<br />
&nbsp;&nbsp;&nbsp; host&nbsp; &nbsp; db_Name&nbsp; &nbsp; [web_server_ip_address] [ip_address_mask] md5<br />
2. Add to you script the login page that submits username and password.<br />
3. Use those information to login to PostgreSQL like these...<br />
&lt;?<br />
&nbsp;&nbsp;&nbsp; $conn = "host=$DBHost port=$DBPort dbname=$DBName ".<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "user='{$_POST['dbUsername']}' password='{$_POST['dbPassword']}'";<br />
&nbsp;&nbsp;&nbsp; $db = pg_connect ($conn);<br />
[your other codes go here...]<br />
?&gt;<br />
4. You must add users in PostgreSQL properly.<br />
5. For your convenience, you can store the username and password to $_SESSION variable.<br />
<br />
Good luck.<br />
Anis WN</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53036""></a>
  <div class="note">
   <strong class="user">WillowCatkin at hotmail dot com</strong>
   <a href="#53036" class="date">21-May-2005 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is an example:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;* Define PostgreSQL database server connect parameters.<br />
&nbsp;*/<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGHOST'</span><span class="keyword">,</span><span class="string">'10.0.0.218'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGPORT'</span><span class="keyword">,</span><span class="default">5432</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGDATABASE'</span><span class="keyword">,</span><span class="string">'example'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGUSER'</span><span class="keyword">, </span><span class="string">'root'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGPASSWORD'</span><span class="keyword">, </span><span class="string">'nopass'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'PGCLIENTENCODING'</span><span class="keyword">,</span><span class="string">'UNICODE'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'ERROR_ON_CONNECT_FAILED'</span><span class="keyword">,</span><span class="string">'Sorry, can not connect the database server now!'</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* Merge connect string and connect db server with default parameters.<br />
&nbsp;*/<br />
</span><span class="default">pg_pconnect</span><span class="keyword">(</span><span class="string">'host=' </span><span class="keyword">. </span><span class="default">PGHOST </span><span class="keyword">. </span><span class="string">' port=' </span><span class="keyword">. </span><span class="default">PGPORT </span><span class="keyword">. </span><span class="string">' dbname=' </span><span class="keyword">. </span><span class="default">PGDATABASE </span><span class="keyword">. </span><span class="string">' user=' </span><span class="keyword">. </span><span class="default">PGUSER </span><span class="keyword">. </span><span class="string">' password=' </span><span class="keyword">. </span><span class="default">PGPASSWORD</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* generate sql statements to call db-server-side stored procedure(or function) <br />
&nbsp;* @parameter&nbsp; &nbsp; string&nbsp; &nbsp; $proc&nbsp; &nbsp; &nbsp; &nbsp; stored procedure name.<br />
&nbsp;* @parameter&nbsp; &nbsp; array&nbsp; &nbsp; $paras&nbsp; &nbsp; &nbsp; &nbsp; parameters, 2 dimensions array.<br />
&nbsp;* @return&nbsp; &nbsp; &nbsp; &nbsp; string&nbsp; &nbsp; $sql = 'select "proc"(para1,para2,para3);'<br />
&nbsp;* @example&nbsp; &nbsp; pg_prepare('userExists',<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array('userName','chin','string'),<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array('userId','7777','numeric')<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br />
&nbsp;* )<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">pg_prepare</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">, </span><span class="default">$paras</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">'select "' </span><span class="keyword">. </span><span class="default">$proc </span><span class="keyword">. </span><span class="string">'"('</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="default">$paras</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'numeric' </span><span class="keyword">? </span><span class="default">$paras</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] : </span><span class="string">"'" </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"'"</span><span class="keyword">,</span><span class="string">"''"</span><span class="keyword">,</span><span class="default">$paras</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]) . </span><span class="string">"'"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$paras</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="string">','</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="default">$paras</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'numeric' </span><span class="keyword">? </span><span class="default">$paras</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] : </span><span class="string">"'" </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"'"</span><span class="keyword">,</span><span class="string">"''"</span><span class="keyword">,</span><span class="default">$paras</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]) . </span><span class="string">"'"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="string">');'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$sql</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46209""></a>
  <div class="note">
   <strong class="user">adaml at mimuw edu pl</strong>
   <a href="#46209" class="date">02-Oct-2004 03:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yes, PHP does support stored procedures<br />
You have to add "select" before the name of the <br />
procedure, just like that:<br />
<br />
$result = pg_querry($conn, "SELECT procedure_x($aa)");<br />
<br />
if a procedure returns a cursor you do something like that:<br />
<br />
$result = pg_query($conn, "SELECT procedure_x('rcursor'); FETCH ALL IN rcursor");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43751""></a>
  <div class="note">
   <strong class="user">74012 dot 2773 at compuserve dot com</strong>
   <a href="#43751" class="date">02-Jul-2004 06:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for just a list of tables, this works with postgresql-7.2.1:<br />
<br />
function pg_list_tables($db) {<br />
&nbsp;&nbsp;&nbsp; $sql = "select relname from pg_stat_user_tables order by relname;";<br />
&nbsp;&nbsp;&nbsp; return pg_query($db, $sql);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42679""></a>
  <div class="note">
   <strong class="user">abondi at ijk dot it</strong>
   <a href="#42679" class="date">26-May-2004 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found another function to mimic the following mysql list tables function (<a href="http://www.php.net/manual/en/function.mysql-list-tables.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.mysql-list-tables.php</a>) that's more useful for my target:<br />
<br />
function pg_list_tables() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $sql = "SELECT a.relname AS Name<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; FROM pg_class a, pg_user b<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; WHERE ( relkind = 'r') and relname !~ '^pg_' AND relname !~ '^sql_'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; AND relname !~ '^xin[vx][0-9]+' AND b.usesysid = a.relowner<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; AND NOT (EXISTS (SELECT viewname FROM pg_views WHERE viewname=a.relname));";<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(pg_query($conn, $sql));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28047""></a>
  <div class="note">
   <strong class="user">daniel at bichara dot com dot br</strong>
   <a href="#28047" class="date">31-Dec-2002 02:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running RedHat Linux and Apache with suexec enabled you must include pgsql.so on each .php file using dl("pgsql.so") and remove "extension=pgsql.so" from php.ini, otherwise Apache (httpd) will not start.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27265""></a>
  <div class="note">
   <strong class="user">anonymous at unknown dot com</strong>
   <a href="#27265" class="date">29-Nov-2002 06:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just wanted to add to my previous post I've got the system up and running.<br />
Environment: Windows XP, Apache 1.3.23, Php 4.3 RC2, PostGreSQL beta4 native windows build<br />
<br />
Installation was fairly easy: <br />
1. read the readme.txt<br />
2. edit the setenv.bat as described in readme<br />
3. run 'initdb'<br />
&nbsp;&nbsp;&nbsp; all execs are in /bin<br />
&nbsp;&nbsp;&nbsp; help is accessed like &lt;command&gt; --help<br />
4. Start the psql deamon - you may want to create a batch file like<br />
&nbsp;&nbsp;&nbsp; 'D:\postgres_beta4\bin\postmaster -h localhost -D D:/postgres_beta4/data'<br />
<br />
&nbsp;&nbsp;&nbsp; --deamon should be up and running now--<br />
<br />
You can login into a shell from a console like<br />
&nbsp;&nbsp;&nbsp; 'psql -h localhost -d &lt;username&gt;'<br />
<br />
You must load the postgresql extension by editing the php.ini and restarting apache in order to access psql with php.<br />
<br />
And one final not: when running<br />
&nbsp;&nbsp;&nbsp; $dbconn = pg_connect ("host=localhost port=5432 dbname=$dbname user=$user");<br />
remember that $user and or $dbname is CASESENSITIVE.<br />
<br />
Oh yeah, I created the data dir manually - don't know whether that was necessary<br />
<br />
Grtz Vargo</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18749""></a>
  <div class="note">
   <strong class="user">mystran at wasteland dot pp dot htv dot fi</strong>
   <a href="#18749" class="date">04-Feb-2002 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Nice to know fact that I didn't find documented here.<br />
<br />
PHP will return values of PostgreSQL boolean datatype as single character strings "t" and "f", not PHP true and false.<br />
<br />
[Editor's Note]<br />
't' or 'f' is valid boolean expression for PostgreSQL.<br />
<br />
All values from PostgreSQL are strings, since PostgreSQL integer, float may be much larger than PHP's native int, double can handle. PostgreSQL array is not supported.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15521""></a>
  <div class="note">
   <strong class="user">saberit at home dot com</strong>
   <a href="#15521" class="date">15-Sep-2001 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I tried compiling PHP from source with PostgreSQL support (./configure --with-pgsql=/usr/local/pgsql) and ran into a bunch of problems when trying to 'make'. The problem was that some of the PostgreSQL headers were not installed by default when I installed PostgreSQL from source. When installing PostgreSQL make sure you 'make install-all-headers' after you 'make install'.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13904""></a>
  <div class="note">
   <strong class="user">hubert at hubertmuller dot com</strong>
   <a href="#13904" class="date">10-Jul-2001 01:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The best way to find the separated list of tables, sequences, keys etc is:<br />
<br />
SELECT relname FROM pg_class WHERE relkind='&lt;value&gt;' AND relname !~ '^pg_';<br />
<br />
&lt;value&gt; takes:<br />
i for keys,<br />
r for relations,<br />
S for sequences<br />
<br />
Note that all tables names that begins with 'pg_' are PostgreSQL internal tables (this explain why I use AND relname !~ '^pg_' condition).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13660""></a>
  <div class="note">
   <strong class="user">passion at monkey dot org</strong>
   <a href="#13660" class="date">28-Jun-2001 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've tried to mimic the following mysql database connection functions for postgres. <br />
<a href="http://www.php.net/manual/en/function.mysql-list-dbs.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.mysql-list-dbs.php</a><br />
<a href="http://www.php.net/manual/en/function.mysql-list-tables.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.mysql-list-tables.php</a><br />
<br />
These are assuming that you're passing in $link as the result from pg_connect:<br />
<br />
function pg_list_dbs($link)<br />
{&nbsp; <br />
&nbsp;&nbsp;&nbsp; $sql = 'SELECT datname FROM pg_database';<br />
&nbsp;&nbsp;&nbsp; return (pg_query($link, $sql));<br />
}&nbsp; <br />
<br />
function pg_list_tables($link)<br />
{&nbsp; <br />
&nbsp;&nbsp;&nbsp; $sql = "SELECT relname FROM pg_class WHERE relname !~ '^pg_'";<br />
&nbsp;&nbsp;&nbsp; return (pg_query($link, $sql));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12467""></a>
  <div class="note">
   <strong class="user">!spamcraig at ahdore dot com</strong>
   <a href="#12467" class="date">15-Apr-2001 10:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to extract data from select statements, you need to store the result index, and then apply pg_result to that value. Basically, do this<br />
<br />
$resultIdx = pg_query ($database, "select * from tablename");<br />
$mySelect = pg_fetch_result($resultIdx, 0, 0);&nbsp; // gets column 0 of tuple 0<br />
echo("My select: [".$mySelect."]");<br />
<br />
I'm new to php and had to do some fiddling around to work this out. It's reasonably elementary, but not demonstrated by the examples on these pages. Hopefully it will come in useful to someone else.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="4113""></a>
  <div class="note">
   <strong class="user">bleach at chek dot com</strong>
   <a href="#4113" class="date">02-Mar-2000 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to see all the objects in a database, you can find that information in the pg_class table. &lt;BR&gt;<br />
SELECT * FROM pg_class;&lt;BR&gt;<br />
Now this is going to be kind of long and complex, to see how psql command handles the \d and other things. use the syntax.&nbsp; psql -E &lt;Database&gt;, ie psql -E mydatabase &lt;BR&gt;<br />
What this will do is show the SQL command used for everything. So when you type a \d or something, it shows the SQL query used for the result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="pgsql.examples-basic.html">基本的な使用法</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pg-affected-rows.html">pg_affected_rows</a></div>
 <div class="up"><a href="book.pgsql.html">PostgreSQL</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
