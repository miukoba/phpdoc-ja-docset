<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Page Display Process</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="chm.skins.html">Skin development</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="chm.skins.elements.html">Page Elements</a></div>
 <div class="up"><a href="chm.skins.html">Skin development</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="chm.skins.display" class="sect1">
   <h2 class="title">Page Display Process</h2>

   <p class="para">
    If you are going to develop your own skin, you should know how one
    page is loaded and displayed to the user, and how a skin fits in
    this process. For these paragraphs, we assume that you have put
    your CHM into <var class="filename">c:\phpmanual</var>, so it&#039;s accessible
    as <var class="filename">c:\phpmanual\php_manual_LANG.chm</var> (where LANG
    is the language code), and you would like to see the function page
    of &quot;echo&quot;, which is <var class="filename">function.echo.html</var> inside
    the CHM. See the <a href="chm.integration.html" class="link">sections about
    integration</a> for more information on CHM contents.
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       First of all the HTML content is loaded in from
       <var class="filename">function.echo.html</var> from inside the CHM.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       At the top of this file, there is a HTML <em>&lt;script&gt;</em>
       tag, which loads in the <var class="filename">_script.js</var> file from the
       CHM. This file contains all the JS code needed to move on with the process.
       Most importantly this JS defines many variables (like where the CHM
       is, or what is the actual page viewed) and many functions to print
       out the context menu or handle online functions.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       At last <var class="filename">_script.js</var> loads in the preferences
       file from outside the CHM (<var class="filename">c:\phpmanual\php_manual_prefs.js</var>
       in our example). This JS file defines the preference variables, and
       calls back <em>prefHandler()</em> which is also defined in
       <var class="filename">_script.js</var>.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       That function loads in the skin JS file as the preferences
       dictate. The skin JS file should load in the needed CSS
       file, and define a <em>displayPage()</em> function,
       which displays the page if called.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       The HTML file (<var class="filename">function.echo.html</var> in this
       example) also contains a function call to load in the user notes,
       which simply puts the notes into this HTML file using DHTML to
       be displayed as if they were here before...
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       The HTML file also contains a body onload attribute which
       calls the skin-defined <em>displayPage()</em> function
       to show the page to the user. This is the last function called,
       it should present the page in it&#039;s complete form to the user.
      </span>
     </li>
    </ul>
    Every action is synchronized with calling back a function in
    the previously loaded file when the JS is in memory. The notes
    loading and skin JS loading is only synchronized with the page&#039;s
    onload event (which as the Microsoft documentation says only fires
    if the page is completely loaded).
   </p>
   <p class="para">
    This load and callback chain may seem to be too complicated, but
    so far this seemed to be the best way to do as many things as
    possible parallel, while also synchronize some calls.
   </p>
   <p class="para">
    As you can see your skin JavaScript file is loaded in by
    <var class="filename">_script.js</var> and it&#039;s <em>displayPage()</em>
    function is called by the body onload event.
   </p>
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
 <div class="note">There are no user contributed notes for this page.</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="chm.skins.html">Skin development</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="chm.skins.elements.html">Page Elements</a></div>
 <div class="up"><a href="chm.skins.html">Skin development</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
