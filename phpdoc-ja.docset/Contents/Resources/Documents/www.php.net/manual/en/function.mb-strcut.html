<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>文字列の一部を得る</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mb-split.html">mb_split</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mb-strimwidth.html">mb_strimwidth</a></div>
 <div class="up"><a href="ref.mbstring.html">マルチバイト文字列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mb-strcut" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mb_strcut</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5)</p><p class="refpurpose"><span class="refname">mb_strcut</span> &mdash; <span class="dc-title">文字列の一部を得る</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mb-strcut-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>mb_strcut</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$start</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code><span class="initializer"> = NULL</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$encoding</code><span class="initializer"> = mb_internal_encoding()</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
    <span class="function"><strong>mb_strcut()</strong></span> は、ある文字列からの部分文字列の抽出を
    <span class="function"><a href="function.mb-substr.html" class="function">mb_substr()</a></span> と同じ方法で行います。ただし、
   処理は文字単位ではなくバイト単位で行います。
   切り出し位置がたまたまマルチバイト文字の 2 バイト目以降だった場合、
   切り出しはその文字の最初のバイトから行われます。この挙動もまた
    <span class="function"><a href="function.substr.html" class="function">substr()</a></span> 関数と異なるところです。
    <span class="function"><a href="function.substr.html" class="function">substr()</a></span> の場合は、
   マルチバイト文字の 2 バイト目以降であってもその位置から切り出しを行い、
   結果的に壊れたバイト列を返すことになります。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mb-strcut-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">str</code></em></span>
     <dd>

      <p class="para">
       取り出しの対象となる文字列。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">start</code></em></span>
     <dd>

      <p class="para">
       <em class="emphasis">バイト</em>単位での開始位置。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">length</code></em></span>
     <dd>

      <p class="para">
       <em class="emphasis">バイト</em>単位での長さ。
       省略したり <em>NULL</em> を指定したりした場合は、
       文字列の最後までの全バイトを取り出します。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">encoding</code></em></span>
     <dd>

      <p class="para"><em><code class="parameter">encoding</code></em> 
パラメータには文字エンコーディングを指定します。省略した場合は、
内部文字エンコーディングを使用します。</p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mb-strcut-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
    <span class="function"><strong>mb_strcut()</strong></span> は、
   <em><code class="parameter">start</code></em> および
   <em><code class="parameter">length</code></em> パラメータで指定した
   <em><code class="parameter">str</code></em> の一部を返します。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mb-strcut-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.mb-substr.html" class="function" rel="rdfs-seeAlso">mb_substr()</a> - 文字列の一部を得る</span></li>
    <li class="member"> <span class="function"><a href="function.mb-internal-encoding.html" class="function" rel="rdfs-seeAlso">mb_internal_encoding()</a> - 内部文字エンコーディングを設定あるいは取得する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="100327""></a>
  <div class="note">
   <strong class="user">php_engineer_bk at yahoo dot com</strong>
   <a href="#100327" class="date">08-Oct-2010 12:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function cut_sense($matne_harf, $l_harf ,$return=1 ) {<br />
if ( strlen($matne_harf) &gt; $l_harf){<br />
$end='...';<br />
}else{<br />
$end='';<br />
}<br />
&nbsp;&nbsp;&nbsp; if ( function_exists('mb_strcut') ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $matne_harf = mb_strcut ( $matne_harf, 0 , $l_harf , "UTF-8" );<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $matne_harf =substr($matne_harf, 0, $l_harf);<br />
&nbsp;&nbsp;&nbsp; }<br />
$text=''.$matne_harf.''.$end.'';<br />
&nbsp; if ( $return == 1){<br />
&nbsp; return $text;<br />
&nbsp; }else{<br />
&nbsp; print $text;<br />
&nbsp; }<br />
}<br />
<br />
Iranian php programmer (farhad zand +989383015266)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45142""></a>
  <div class="note">
   <strong class="user">t dot starling at physics dot unimelb dot edu dot au</strong>
   <a href="#45142" class="date">27-Aug-2004 01:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
What the manual and the first commenter are trying to say is that mb_strcut uses byte offsets, as opposed to mb_substr which uses character offsets. <br />
<br />
Both mb_strcut and mb_substr appear to treat negative and out-of-range offsets and lengths in the basically the same way as substr. An exception is that if start is too large, an empty string will be returned rather than FALSE. Testing indicates that mb_strcut first works out start and end byte offsets, then moves each offset left to the nearest character boundary.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36115""></a>
  <div class="note">
   <strong class="user">oyag02 at yahoo dot co dot jp</strong>
   <a href="#36115" class="date">26-Sep-2003 12:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
diffrence between mb_substr and mb_substr<br />
<br />
example:<br />
mb_strcut('I_ROHA', 1, 2) returns 'I_'. Treated as byte stream.<br />
mb_substr('I_ROHA', 1, 2) returns 'ROHA' Treated as character stream.<br />
<br />
# 'I_' 'RO' 'HA' means multi-byte character</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mb-split.html">mb_split</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mb-strimwidth.html">mb_strimwidth</a></div>
 <div class="up"><a href="ref.mbstring.html">マルチバイト文字列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
