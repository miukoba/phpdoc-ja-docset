<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>ext_skel スクリプト</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="internals2.buildsys.environment.html">拡張モジュール開発用に PHP をビルドする方法</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="internals2.buildsys.configunix.html">UNIX 用のビルドシステム: config.m4</a></div>
 <div class="up"><a href="internals2.buildsys.html">PHP 5 ビルドシステム</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="internals2.buildsys.skeleton" class="sect1">
  <h2 class="title">ext_skel スクリプト</h2>
  <p class="para">
   PHP 拡張モジュールには、共通に含まれるファイルがいくつかあります。
   その多くは拡張モジュールの種類に関わらずほぼ同じ内容ですが、
   毎回それをコピーするのは面倒です。
   幸いなことに、そのような初期作業を代わりに行ってくれるスクリプトがあります。
   それが <strong class="command">ext_skel</strong> で、
   PHP 4.0 以降に同梱されています。
  </p>
  
  <p class="para">
   PHP 5.2.2 で、何もパラメータを指定せずに <strong class="command">ext_skel</strong>
   を実行した結果は、次のようになります。
   <div class="example-contents screen">
<div class="cdata"><pre>
php-5.2.2/ext$ ./ext_skel 
./ext_skel --extname=module [--proto=file] [--stubs=file] [--xml[=file]]
           [--skel=dir] [--full-xml] [--no-help]

  --extname=module   module is the name of your extension
  --proto=file       file contains prototypes of functions to create
  --stubs=file       generate only function stubs in file
  --xml              generate xml documentation to be added to phpdoc-cvs
  --skel=dir         path to the skeleton directory
  --full-xml         generate xml documentation for a self-contained extension
                     (not yet implemented)
  --no-help          don&#039;t try to be nice and create comments in the code
                     and helper functions to test if the module compiled
</pre></div></div>
   一般に、新しい拡張モジュールを開発する際に使うであろうパラメータは
   <em>--extname</em> と
   <em>--no-help</em> のみです。
   拡張モジュールの構成に慣れるまでは、
   <em>--no-help</em> を指定しないようにしましょう。
   そうすることで、<strong class="command">ext_skel</strong>
   が生成するファイルに有用なコメントがたくさん含められるようになります。
  </p>
  
  <p class="para">
   残ったオプションは <em>--extname</em> です。
   これは、作成する拡張モジュールの名前を <strong class="command">ext_skel</strong>
   に伝えるためのものです。ここで指定する名前は、すべて小文字からなるものです。
   使用できる文字は英字とアンダースコアのみで、PHP の
   <var class="filename">ext/</var> フォルダ配下で一意なものでなければなりません。
  </p>
  
  <p class="para">
   <em>--proto</em> オプションは、
   作成したい PHP 関数の情報を含むヘッダファイルを指定するためのものです。
   既存のライブラリを使用する拡張モジュールの開発時に使用できるということらしいですが、
   最近のヘッダファイルではうまく機能しないことが多いようです。
   試しに <var class="filename">zlib.h</var> を指定してみたところ、
   <strong class="command">ext_skel</strong> の出力に
   空っぽで何の意味もないプロトタイプが大量に含まれてしまいました。
   <em>--xml</em> と <em>--full-xml</em>
   は、まったく機能しません。<em>--skel</em>
   を使用すると、独自の雛形ファイル群を使用することができます。
   このオプションは、このセクションでは対象外とします。
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
 <div class="note">There are no user contributed notes for this page.</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="internals2.buildsys.environment.html">拡張モジュール開発用に PHP をビルドする方法</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="internals2.buildsys.configunix.html">UNIX 用のビルドシステム: config.m4</a></div>
 <div class="up"><a href="internals2.buildsys.html">PHP 5 ビルドシステム</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
