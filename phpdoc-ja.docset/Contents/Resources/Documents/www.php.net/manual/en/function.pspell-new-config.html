<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>指定した設定に基づき新規辞書をロードする</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.pspell-config-save-repl.html">pspell_config_save_repl</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pspell-new-personal.html">pspell_new_personal</a></div>
 <div class="up"><a href="ref.pspell.html">Pspell 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.pspell-new-config" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pspell_new_config</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5)</p><p class="refpurpose"><span class="refname">pspell_new_config</span> &mdash; <span class="dc-title">指定した設定に基づき新規辞書をロードする</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.pspell-new-config-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>pspell_new_config</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$config</code></span>
   )</div>

  <p class="simpara">
    <span class="function"><strong>pspell_new_config()</strong></span> は、
    <span class="function"><a href="function.pspell-config-create.html" class="function">pspell_config_create()</a></span> で作成され、
   関数  <span class="function"><strong>pspell_config_*()</strong></span> で修正された設定を使用して
   新規辞書をオープンします。この方法は最も柔軟で、
    <span class="function"><a href="function.pspell-new.html" class="function">pspell_new()</a></span> および
    <span class="function"><a href="function.pspell-new-personal.html" class="function">pspell_new_personal()</a></span> で提供された全ての機能を有しています。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pspell-new-config-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">config</code></em></span>
     <dd>

      <p class="para">
       パラメータ <em><code class="parameter">config</code></em> は、config が作成された際に
        <span class="function"><a href="function.pspell-config-create.html" class="function">pspell_config_create()</a></span> により返されたパラメータです。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pspell-new-config-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功した場合に辞書リンク ID を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.pspell-new-config-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-2725">
    <p><strong>例1  <span class="function"><strong>pspell_new_config()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$pspell_config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pspell_config_create</span><span style="color: #007700">(</span><span style="color: #DD0000">"en"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">pspell_config_personal</span><span style="color: #007700">(</span><span style="color: #0000BB">$pspell_config</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/var/dictionaries/custom.pws"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">pspell_config_repl</span><span style="color: #007700">(</span><span style="color: #0000BB">$pspell_config</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/var/dictionaries/custom.repl"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$pspell_link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pspell_new_config</span><span style="color: #007700">(</span><span style="color: #0000BB">$pspell_config</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="85191""></a>
  <div class="note">
   <strong class="user">soapergem at gmail dot com</strong>
   <a href="#85191" class="date">19-Aug-2008 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Today I ran into an interesting problem that I thought I'd share here to save the next developer that ends up in the same situation a whole lot of trouble. I have been running PHP5 as a FastCGI module on a Windows IIS server, and I recently installed the Aspell library and enabled the pspell extension in my php.ini file. I also installed the English Aspell dictionary. But when I went to use pspell, I was getting ambiguous errors that would terminate script execution without warning.<br />
<br />
So I started to break things down, and came to the conclusion that the following code successfully executed its first line, but broke on the last line with the call to pspell_new_config:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$pspell_config </span><span class="keyword">= </span><span class="default">pspell_config_create</span><span class="keyword">(</span><span class="string">'en'</span><span class="keyword">);<br />
</span><span class="default">$pspell_link </span><span class="keyword">= </span><span class="default">pspell_new_config</span><span class="keyword">(</span><span class="default">$pspell_config</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This returned a FastCGI error in the browser, with error number -2147467259 (0x80004005). By luck, I happened to think to try the same script via the command line, which gave a much more descriptive error. What happened was that the dictionary installer created the *.dat files in the Aspell\data directory using the Windows standard CRLF "\r\n" instead of the UNIX standard "\n" for line feeds. By changing these all back to the UNIX standard, everything worked. It's apparently very touchy about these line feeds, so if you're wracking your brain over why pspell_new_config is breaking your scripts and you're using a Windows server, start by ensuring that there aren't any extraneous "\r" characters in your dictionary files.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.pspell-config-save-repl.html">pspell_config_save_repl</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pspell-new-personal.html">pspell_new_personal</a></div>
 <div class="up"><a href="ref.pspell.html">Pspell 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
