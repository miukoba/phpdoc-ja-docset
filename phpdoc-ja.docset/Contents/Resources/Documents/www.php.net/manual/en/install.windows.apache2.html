<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Apache 2.x （Microsoft Windows 用）</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.apache1.html">Apache 1.3.x （Microsoft Windows 用）</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.sun.html">Sun, iPlanet, Netscape サーバー（Microsoft Windows 用）</a></div>
 <div class="up"><a href="install.windows.html">Windows システムへのインストール</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="install.windows.apache2" class="sect1">
    <h2 class="title">Apache 2.x （Microsoft Windows 用）</h2>
    <p class="para">
     このセクションでは、Microsoft Windows 上の Apache 2.x で PHP
     を使用する場合について説明します。
     <a href="install.windows.apache1.html" class="link">Apache 1.3.x で PHP を使用する場合</a>
     については別に記載されています。
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <p class="para">
      まず始めに、<a href="install.windows.manual.html" class="link">マニュアルインストールの手順</a> 
      をお読みください。
     </p>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <strong>Apache 2.2 のサポート</strong><br />
     <p class="para">
      Apache 2.2 を利用している方は、Apache 2.2 用の DLL ファイルの名前が
      <var class="filename">php5apache2.dll</var> ではなく
      <var class="filename">php5apache2_2.dll</var> であることに注意しましょう。
      このファイルは PHP 5.2.0 以降にしか含まれません。
      <a href="http://snaps.php.net/" class="link external" title="Link : http://snaps.php.net/">&raquo;&nbsp;http://snaps.php.net/</a>
      も参照ください。
     </p>
    </p></blockquote>
    
    <p class="para">
     <a href="http://httpd.apache.org/docs/current/" class="link external" title="Link : http://httpd.apache.org/docs/current/">&raquo;&nbsp;Apache ドキュメンテーション</a>
     を参照し、Apache 2.x サーバーの基本を理解しておくことを強く推奨します。
     また、以下の解説を読む前に、Apache 2.x に関する
     <a href="http://httpd.apache.org/docs/current/platform/windows.html" class="link external" title="Link : http://httpd.apache.org/docs/current/platform/windows.html">&raquo;&nbsp;Windows 固有の情報</a>
     についても参照するとよいでしょう。
    </p>
    
     <p class="para">
      Apache 2.x は、サーバープラットフォーム用の Windows、
      つまり Windows NT 4.0, Windows 2000, Windows XP および
      Windows 7 で動作するように設計されています。Apache 2.x
      は Windows 9x でもそれなりに動作しますが、サポートは不完全です。
      また、一部うまく動作しない機能もあります。
      この問題の解決策はありません。
     </p>

    <p class="para">
     最新の <a href="http://httpd.apache.org/" class="link external" title="Link : http://httpd.apache.org/">&raquo;&nbsp;Apache 2.x</a> と、
     対応するバージョンの PHP をダウンロードしてください。
     <a href="install.windows.manual.html" class="link">マニュアルインストールの手順</a>
     を実施したら、引き続き以下のとおり PHP と Apache の設定を行ってください。
    </p>

    <p class="para">
     PHP を Windows 上の Apache 2.x で動かすには三通りの方法があります。
     PHP をハンドラとして動かす方法、CGI として動かす方法、そして
     FastCGI で動かす方法です。
    </p>
    
    <blockquote class="note"><p><strong class="note">注意</strong>: <span class="simpara">Windows 上で
Apache 設定ファイルにパスの値を追加する際、例えば
<var class="filename">c:\directory\file.ext</var> に含まれるすべてのバックスラッシュは
<var class="filename">c:/directory/file.ext</var> のように前向きスラッシュに変換する必要があります。
また、ディレクトリを表す際には最後にスラッシュをつけなければなりません。
</span></p></blockquote>
    
    <div class="sect2" id="install.windows.apache2.module">
     <h3 class="title">Apache ハンドラとしてのインストール</h3>
     <p class="para">
      以下の行を Apache 設定ファイル <var class="filename">httpd.conf</var> に追加して
      Apache 2.x 用の PHP モジュールを読み込まなければなりません。
      <div class="example" id="example-53">
       <p><strong>例1 PHP を Apache 2.x ハンドラとして使う設定</strong></p>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># 
LoadModule php5_module &quot;c:/php/php5apache2.dll&quot;
AddHandler application/x-httpd-php .php

# php.ini へのパスを設定します
PHPIniDir &quot;C:/php&quot;</pre>
</div>
       </div>

      </div>
     </p>
     <blockquote class="note"><p><strong class="note">注意</strong>: 
      <span class="simpara">
       上の例の <var class="filename">C:/php/</var> は実際のパスにあわせて修正してください。
       LoadModule ディレクティブで <var class="filename">php5apache2.dll</var> と
       <var class="filename">php5apache2_2.dll</var> のどちらを使うのかに注意し、
       指定したファイルが実際にその場所にあるかどうかを忘れずに確認しましょう。
      </span>
     </p></blockquote>
      <p class="para">
      上の設定は、拡張子 .php を含むすべてのファイルを PHP で処理するようにします。
      たとえそれ以外の拡張子が含まれていたとしてもです。たとえば
      <var class="filename">example.php.txt</var> という名前のファイルも
      PHP ハンドラが処理します。ファイル名の <em class="emphasis">最後が</em>
      <var class="filename">.php</var> であるものだけを処理させたい場合は、次のように設定します。
      </p>

      <div class="example" id="example-54">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
      SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;</pre>
</div>
       </div>

      </div>
    </div>

    <div class="sect2" id="install.windows.apache2.cgi">
     <h3 class="title">CGI としての PHP の実行</h3>

     <p class="para">
      <a href="http://httpd.apache.org/docs/current/howto/cgi.html" class="link external" title="Link : http://httpd.apache.org/docs/current/howto/cgi.html">&raquo;&nbsp;Apache CGI
      ドキュメント</a> を読み、Apache 上の CGI について理解しておきましょう。
     </p>
   
     <p class="para">
      PHP を CGI として実行するには、ScriptAlias
      ディレクティブで CGI ディレクトリとして指定した場所に
      php-cgi ファイルを置かなければなりません。
     </p>

     <p class="para">
      さらに、PHP ファイルに #! の行を追加して PHP バイナリの場所を指定しなければなりません。

      <div class="example" id="example-55">
       <p><strong>例2 PHP を Apache 2.x 上で CGI として動かす例</strong></p>
        <div class="example-contents">
<div class="cdata"><pre>
#!C:/php/php.exe
&lt;?php
  phpinfo();
?&gt;
</pre></div>
       </div>

      </div>
     </p>
     <div class="warning"><strong class="warning">警告</strong><p class="para">
CGI モードで公開したサーバーは、いくつかの脆弱性の標的となる可能性があります。
これらの攻撃からサーバーを守る方法については、
<a href="security.cgi-bin.html" class="link">CGI セキュリティ</a>
のセクションを参照してください。</p></div>
    </div>

    <div class="sect2" id="install.windows.apache2.fastcgi">
     <h3 class="title">PHP を FastCGI で実行する</h3>

     <p class="para">
     PHP を FastCGI で動かすのには、CGI として動かすのにくらべると多くの利点があります。
     設定方法は単純明快です。
     </p>
     <p class="para">
     まず mod_fcgid を
     <a href="http://httpd.apache.org/mod_fcgid/" class="link external" title="Link : http://httpd.apache.org/mod_fcgid/">&raquo;&nbsp;http://httpd.apache.org/mod_fcgid/</a>
     から取得します。Win32 用のバイナリがこのサイトからダウンロードできます。
     そして、説明に従ってモジュールをインストールしましょう。
     </p>
     <p class="para">
     次にウェブサーバーを以下のように設定します。
     パスの部分は適切に変更し、インストールするシステム上の環境にあわせましょう。

     <div class="example" id="example-56">
     <p><strong>例3 PHP を FastCGI として動かす Apache の設定</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
LoadModule fcgid_module modules/mod_fcgid.so  

# Where is your php.ini file?
FcgidInitialEnv PHPRC        &quot;c:/php&quot; 

AddHandler fcgid-script .php  
FcgidWrapper &quot;c:/php/php-cgi.exe&quot; .php  
</pre></div>
     </div>

     </div>

     これで、拡張子 .php のファイルは PHP FastCGI
     ラッパーが処理するようになります。
     </p>

    </div>

   </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113487""></a>
  <div class="note">
   <strong class="user">adameliot1 at gmail dot com</strong>
   <a href="#113487" class="date">18-Oct-2013 02:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I got PHP 5.2.10 working on Apache 2.2 NOT using the .msi for PHP after a half day of trying different versions of PHP and Apache as well as changing everything from paths to folders. <br />
<br />
Eventually from reading many of the notes listed here I thought I'd download the threadsafe version but all I used from it were two .dll files. I took the php5apache2_2.dll and the php5ts.dll and swaped them out in my PHP folder and bingo! started working like a charm. The php5apache2_2.dll was probably unnecessary but I switched it out anyway.<br />
<br />
Summary... Add php5ts to your PHP folder</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113320""></a>
  <div class="note">
   <strong class="user">compleatguru at gmail dot com</strong>
   <a href="#113320" class="date">27-Sep-2013 12:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am using Windows 8 x64, running Apache 2.2 and php 5.4.20<br />
<br />
I found that it is necessary to add System Environment Variable PHPRC=[PHP path], so that php.ini is loaded using your PHP path, instead of C:\Windows.<br />
<br />
This is how I do for my laptop<br />
Go to Control Panel\System and Security\System\Advanced System Settings\Environment Variables<br />
<br />
Add New System Variable<br />
Name: PHPRC<br />
Value: C:\php-5.4.20<br />
<br />
Hope it relieve those who keep having empty string for Loaded Configuration File under phpinfo();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112895""></a>
  <div class="note">
   <strong class="user">Guillermo Tallano</strong>
   <a href="#112895" class="date">04-Aug-2013 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi guys, <br />
In my case, it work right away when I change the version to thread-safe. <br />
I spent some time trying the different things that were posted here and I was kind of lazy about downloading a different version, but once I test it with a thead-safe it started right away. So be sure you try this.<br />
<br />
I was on Apache 2.2, XP and php 5.2.17 thread-safe<br />
<br />
This is my conf: <br />
LoadModule php5_module "c:/php5/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
#configure the path to php.ini<br />
PHPIniDir 'C:\php5\'<br />
<br />
Good luck!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112775""></a>
  <div class="note">
   <strong class="user">So Happy - phpinfo now loads correctly</strong>
   <a href="#112775" class="date">22-Jul-2013 04:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After installing Apache 2.2 and PHP 5.3.7 I could not get the phpinfo.php to display. When i attempted to pull up the php info page my browser would load the php script instead. I had added the following line to the Apache conf file<br />
<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
AddHandler application/x-http-php .php<br />
PHPIniDir "c:/php"<br />
<br />
The issue was in the second line of code for the AddHandler, the code was missing a d after x-http, when I saw this typo I added the d, saved the conf file, cleared the cache of firefox, stopped Apache then started Apache again and the php info displayed correctly so make sure the line reads as follows<br />
<br />
AddHandler application/x-httpd-php .php</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111787""></a>
  <div class="note">
   <strong class="user">Amaroq</strong>
   <a href="#111787" class="date">28-Mar-2013 07:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Like someone else mentioned, on the Windows download page for PHP, ignore the warning about not downloading the VC9 compiled installers for the Apache.org version of Apache.<br />
<br />
Whoever wrote that is guaranteeing that people install a PHP that breaks their Apache server. (On Windows 7 anyway.) The installer failed to write the correct path info to httpd.conf, and even after fixing that manually, Apache wouldn't start because of missing dlls.<br />
<br />
Ignore that dumb warning and get the newest installer anyway. Everything just plain works with no hassle and no hunting down dll files over google.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111269""></a>
  <div class="note">
   <strong class="user">Maw</strong>
   <a href="#111269" class="date">01-Feb-2013 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Good God finally I was able to make PHP 5.2 work on Apache 2.4. For those still having problems with "You don't have permission to run php-cgi.exe", you must replace "Order allow,deny" and "Allow from all" from the PHP directory block with "Require all granted". They must have changed the format with Apache 2.4 since the old method used to work just fine for me before.<br />
<br />
So the usual method of setting up CGI, I'm sure you already know that you should add these 3 lines to httpd.conf:<br />
ScriptAlias /php/ "c:/php/" <br />
AddType application/x-httpd-php .php<br />
Action application/x-httpd-php "/php/php-cgi.exe"<br />
<br />
And now add the directory for PHP:<br />
&lt;Directory "c:/php"&gt;<br />
&nbsp;&nbsp;&nbsp; AllowOverride None<br />
&nbsp;&nbsp;&nbsp; Options None<br />
&nbsp;&nbsp;&nbsp; Require all granted<br />
&lt;/Directory&gt;<br />
<br />
Important: Notice that instead of "Order allow,deny" and "Allow from all" added into the PHP directory as usual, I replaced them with "Require all granted" as I mentioned above.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110531""></a>
  <div class="note">
   <strong class="user">o.machala[at]email[dot]cz</strong>
   <a href="#110531" class="date">02-Nov-2012 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have a problem "The requested operation has failed!" and LOG says "Module php5apache2_2.dll not found" and have:<br />
<br />
PHPIniDir "P:\PHP\"<br />
LoadModule php5_module "P:\PHP\php5apache2_2.dll"<br />
<br />
in httpd.conf make sure you have installed the apache2.2 (not apache 2.0 or earlier versions). It was my problem and i downloaded correct version from <a href="http://www.apache.org/dist/httpd/binaries/win32/ and everything just works." rel="nofollow" target="_blank">http://www.apache.org/dist/httpd/binaries/win32/ and everything just works.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109794""></a>
  <div class="note">
   <strong class="user">kriss266 at o2 dot pl</strong>
   <a href="#109794" class="date">21-Aug-2012 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[For the error:] You don’t have permission to access /php/php-cgi.exe/index.php on this server.<br />
<br />
In order to fix the forbidden error I had to change this line in httpd.conf:<br />
<br />
&lt;Directory “C:/Server/Apache2.2/cgi-bin/”&gt;<br />
AllowOverride None<br />
Options None<br />
Order allow,deny<br />
Allow from all<br />
&lt;/Directory&gt;<br />
<br />
to this:<br />
<br />
&lt;Directory “c:/Server/php”&gt;<br />
AllowOverride None<br />
Options None<br />
Order allow,deny<br />
Allow from all<br />
&lt;/Directory&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108429""></a>
  <div class="note">
   <strong class="user">a solution for simpletons like me</strong>
   <a href="#108429" class="date">26-Apr-2012 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Installing Apache and PHP on Windows 7 Home Premium on a Gateway NV75S laptop with a quad AMD A6-3400M<br />
<br />
All I need to do with these programs is to test my website out on my laptop.&nbsp; I have HTML and PHP files. I do not need MySQL as I use html5 storage.<br />
<br />
Getting and installing Apache<br />
<br />
1&nbsp; In your browser go to h t t p : / / h t t p d . a p a c h e . o r g / d o w n l o a d . c g i<br />
&nbsp;&nbsp; (without the spaces)<br />
2&nbsp; Click on&nbsp; httpd-2.2.22-win32-x86-no_ssl.msi<br />
&nbsp;&nbsp; (this is a self-installing executable file without crypto ... no Secure Socket Layer)<br />
&nbsp;&nbsp; (2.2.22 was the latest version on April 25, 2012)<br />
3&nbsp; Click on the httpd-2.2.22-win32-x86-no_ssl.msi file after it downloads <br />
&nbsp;&nbsp; (single click on the file tab in Chrome or double click on the actual file in Downloads)<br />
4&nbsp; Click Next<br />
5&nbsp; Click I accept the terms in the license agreement<br />
6&nbsp; Click Next<br />
7&nbsp; Click Next<br />
8&nbsp; Type localhost in the top box<br />
9&nbsp; Type localhost in the middle box<br />
10 Type admin@localhost.com in the bottom box<br />
11 Click Next<br />
12 Click Next<br />
13 Click Next<br />
14 Click Install and wait<br />
15 Cick Yes to allow the program to make changes<br />
16 Click Finish<br />
<br />
Testing Apache<br />
<br />
1&nbsp; Type localhost in your browser location box (I use Chrome) or type h t t p : / / l o c a l h o s t<br />
&nbsp;&nbsp; (without the spaces)<br />
2&nbsp; The message It works! should appear.<br />
<br />
Getting and installing PHP<br />
<br />
1&nbsp; In your browser go to h t t p : / / w i n d o w s . p h p . n e t / d o w n l o a d /<br />
&nbsp;&nbsp; (without the spaces)<br />
2&nbsp; Click on the Installer link under PHP 5.3 (5.3.10)&nbsp;&nbsp; VC9 x86 Thread Safe<br />
&nbsp;&nbsp; (Ignore the Do NOT use VC9 version with apache.org binaries comment on the side panel)<br />
3&nbsp; Click on the php-5.3.10-Win32-VC9-x86.msi file after in downloads<br />
&nbsp;&nbsp; (single click on the file tab in Chrome or double click on the actual file in Downloads)<br />
4&nbsp; Click Next<br />
5&nbsp; Click I accept the terms in the License Agreement<br />
6&nbsp; Click Next<br />
7&nbsp; Click Next<br />
8&nbsp; Click Apache 2.2.x Module<br />
9&nbsp; Click Next<br />
10 Click Browse<br />
11 Double click Apache Software Foundation<br />
12 Double click Apache 2.2<br />
13 Double click conf<br />
14 Click OK<br />
15 Click Next<br />
16 Click Next<br />
17 Click Install and wait<br />
18 Cick Yes to allow the program to make changes<br />
19 Click Finish<br />
<br />
Testing PHP with Apache<br />
<br />
1&nbsp; Open Notepad<br />
2&nbsp; Type 'left bracket character'?php phpinfo(); ?'right bracket character'<br />
3&nbsp; Save the file to C:\Program Files (x86)\Apache Software Foundation\Apache2.2\htdocs as test.php<br />
4&nbsp; Type localhost/test.php in your browser location box (I use Chrome) or type h t t p : / / l o c a l h o s t / t e s t . p h p<br />
5&nbsp; A table with title PHP Version ... should appear<br />
<br />
DONE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108298""></a>
  <div class="note">
   <strong class="user">Gedi</strong>
   <a href="#108298" class="date">15-Apr-2012 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was struggling with configuring PHP 5.2.17. (msi version) for<br />
Apache 2.2.22. on Windows 7. Apache was working before fine.<br />
The following failure message came as I tried to start Apache:<br />
"The requested operation has failed!"<br />
After many hours finally the comment from "bdav 05-Mar-2012 02:23" helped me and the following code in httpd.conf made Apache working with PHP:<br />
<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
PHPIniDir 'c:\php\'<br />
<br />
I hope I can save some hours of frustration to some beginners like me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107936""></a>
  <div class="note">
   <strong class="user">Bechesa at gmail dot com</strong>
   <a href="#107936" class="date">15-Mar-2012 08:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note <br />
It might be important you include the absolute path to the php.ini&nbsp; file inside the httpd.conf file so that php may load all the module(s).<br />
<br />
below is an example <br />
<br />
#BEGIN PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
PHPIniDir 'C:\PHP\php.ini'<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
#END PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
<br />
OS: windows 2008<br />
webserver: apache2.2</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107935""></a>
  <div class="note">
   <strong class="user">Bechesa at gmail dot com</strong>
   <a href="#107935" class="date">15-Mar-2012 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note <br />
It might be important you include the absolute path to the php.ini&nbsp; file inside the httpd.conf file so that php may load all the module(s).<br />
<br />
below is an example <br />
<br />
#BEGIN PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
PHPIniDir 'C:\PHP\php.ini'<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
#END PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
<br />
OS: windows 2008<br />
webserver: apache2.2</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107796""></a>
  <div class="note">
   <strong class="user">bdav</strong>
   <a href="#107796" class="date">05-Mar-2012 11:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After spending few hours finally figured out that PHPINIDir path should be in single quotes and with backslash and php module with double quotes and regular slashes:<br />
<br />
PHPIniDir 'c:\apps\php\'<br />
LoadModule php5_module "c:/apps/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107376""></a>
  <div class="note">
   <strong class="user">Z Carlos at Fortaleza</strong>
   <a href="#107376" class="date">05-Feb-2012 07:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A Thread Safe version should be used if you install PHP as an Apache module. The Non Thread Safe version should be used if you install PHP as a CGI binary.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106906""></a>
  <div class="note">
   <strong class="user">robert dot nevinger at sbcglobal dot net</strong>
   <a href="#106906" class="date">18-Dec-2011 06:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Apache 2.2 crashing on WindowsXP/Apache2.2/php5.3.8_Win32.VC9-x86<br />
<br />
There is a distinction between LoadFile and LoadModule.<br />
<br />
LoadModule is typically used to load&nbsp; Shared Objects (.so), and comes in very handy for Dynamically Shared Objects<br />
LoadFile on windows it typically used to load DLL<br />
<br />
Please note:&nbsp; In order for a LoadMoudle directive to work on a DLL the module must be compiled into the library.&nbsp; If you use VI you can usually locate the module, but the file is compiled, don't write it!<br />
<br />
A dll can be located anywhere on the system.<br />
A .so should be located in your Apache install modules folder.<br />
<br />
What worked for me for Windows XP/Apache2.2/php5.3.8_Win32.VC9-x86<br />
<br />
PHPIniDir "C:/PHP/"<br />
LoadFile "C:/PHP/libeay32.dll"<br />
LoadFile "C:/PHP/libpq.dll"<br />
LoadFile "C:/PHP/libsasl.dll"<br />
LoadModule php5_module "C:\PHP\php5apache2_2.dll"<br />
<br />
This comment is to support the Apache startup, NOT serve PHP pages.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106370""></a>
  <div class="note">
   <strong class="user">bradley dot henke at colorado dot edu</strong>
   <a href="#106370" class="date">31-Oct-2011 10:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was able to get apache up and running without any problems. Then I tried installing php and it crashed trying to read "C:/php/php5apache2.dll".<br />
<br />
Fixed the problem by switching it to "C:/php/php5apache2_2.dll"<br />
<br />
Hope that helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105610""></a>
  <div class="note">
   <strong class="user">Cooldude</strong>
   <a href="#105610" class="date">31-Aug-2011 04:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Also had an exception problem when trying to use mysql with apache and php5. <br />
<br />
I had to add:<br />
<br />
"&lt;my MySQL folder&gt;\bin" folder to path<br />
"&lt;my php folder&gt;\ext" to path<br />
<br />
that fixed it</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105141""></a>
  <div class="note">
   <strong class="user">tcombass at gmail dot com</strong>
   <a href="#105141" class="date">29-Jul-2011 11:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are having problems with php5ts.dll...<br />
<br />
php5ts.dll is php5.dll but thread safe, hence the 'ts' at the end.&nbsp; <br />
<br />
Software Details:<br />
MySQL&nbsp; 5.5<br />
PHP 5.2.17 VC6 Non-thread safe<br />
Apache 2.2.19<br />
Win XP SP3<br />
<br />
Here's how I fixed the problem:<br />
<br />
I've been looking online on how to integrate Apache with PHP right so I come across this code to put in my httpd.conf apache configuration file:<br />
<br />
LoadModule php5_module "C:/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
PhpIniDir "C:/php"<br />
<br />
I paste it in a voila! it crashes!&nbsp; I know its not news, but I looked and lo and behold its that darn php5ts.dll file!<br />
<br />
In short:<br />
<br />
I installed PHP 5.2.17 VC6 Non-Thread Safe.&nbsp; I then installed the PHP 5.2.17 VC6 thread safe so I could copy these files from the thread safe installation into the PHP 5.2.17 VC6 Non-Thread safe installation directory:<br />
<br />
php5apache2_2.dll<br />
php5apache2_2filter.dll<br />
<br />
Not sure if that last file is needed but I added it anyway.<br />
<br />
Then I uninstalled the thread safe installation.<br />
<br />
The Apache service started right up.<br />
<br />
Had some problems with MySQL too:<br />
<br />
When I installed it the first time it was fine.&nbsp; Then I uninstalled it and got that "Service could not be started Error: 0" message.<br />
<br />
To do a complete deletion do this:<br />
<br />
1) Use MySQLInstanceconfig.exe to remove the service<br />
2) Use the "Add/Remove programs" to uninstall MySQL<br />
3) Delete the "c:\program files\MySQL directory"<br />
4) Delete the "c:\documents and settings\All Users\Application Data\MySql\" directory<br />
5) Launch regedit.exe from START&gt;RUN and press ctrl+f for the find function and type in MYSQL to find and get rid of anything "MySQL" in there.&nbsp; Press F3 to find repeat instances of "MySQL"<br />
<br />
I hope this helps you.&nbsp; I spent about 30hrs uninstalling and reinstalling this crap...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103976""></a>
  <div class="note">
   <strong class="user">Cameron</strong>
   <a href="#103976" class="date">15-May-2011 08:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is yet another aspect of the "faulting module php5ts.dll" crash when trying to start apache.<br />
I installed Apache 2.2.18, Mysql 5.1.57 and PHP 5.2.17 (apache module, VC6 thread-safe - initially with no extensions) on a fresh WinXP SP3 system. The versions chosen were because I was trying to replicate as near as possible apps on my Linux server.<br />
<br />
Everything configured and ran properly without php extensions, so I then reran the msi installer and chose the necessary extensions.&nbsp; I reconfigured httpd.conf&nbsp; but apache then just kept crashing.<br />
Eventually I came across the "fix" mentioned elsewhere "copy libmysql.dll to apache folder" and suddenly it worked. But why? I checked and the php installation folder was in the system path. The answer was simply that I had never rebooted. It seems that whatever process controls windows services only reads the path at boot time.&nbsp; I was thrown by assuming that if I started httpd from the command line then it would inherit that path.<br />
<br />
Here are a few diagnostic tips that helped me along the way:<br />
<br />
Try the CLI command:<br />
php -m<br />
and see that the command line version loads all the modules you asked for.<br />
<br />
in php.ini, enable <br />
display_errors = On<br />
and<br />
display_startup_errors = On<br />
The latter pops up a window saying which extension it has trouble loading. Of course it is not perfectly clear, because it says something like 'unable to load "C:\php\ext\php_mysql.dll" - The specified module could not be found'. It lies - it really does find that dll, but it must have failed on the dependency of libmysql.dll.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103704""></a>
  <div class="note">
   <strong class="user">mike at supergrowlasers dot com</strong>
   <a href="#103704" class="date">29-Apr-2011 03:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just spent 5 hours repeatedly trying, usuccessfully, to get Apache to parse php files instead of sending them to the browser.&nbsp; I am setting up a Win 7 Pro box, and went through the configuration several times, as well as trying other configuration directives I found elsewhere by searching.<br />
<br />
Nothing worked. I was tearing my hair out and ready to cry.&nbsp; I have set this up numerous times on XP with no problem.&nbsp; But on Win 7 Pro it wasn't happening.<br />
<br />
Eventually I found this code, which worked perfectly (after taking out directives from httpd.conf that weren't working, of course)<br />
<br />
LoadFile "C:/php/php5ts.dll"<br />
LoadModule php5_module "C:/php/php5apache2.dll"<br />
<br />
&lt;IfModule php5_module&gt;<br />
&nbsp;&nbsp;&nbsp; #PHPIniDir "C:/Windows"<br />
&nbsp;&nbsp;&nbsp; #PHPIniDir "C:/Winnt"<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;Location /&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; AddType text/html .php .phps<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; AddHandler application/x-httpd-php .php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; AddHandler application/x-httpd-php-source .phps<br />
&nbsp;&nbsp;&nbsp; &lt;/Location&gt;<br />
<br />
&lt;/IfModule&gt;<br />
<br />
If you've been having the same problem, try this. <br />
<br />
You're welcome.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102292""></a>
  <div class="note">
   <strong class="user">brokenarrow218 at rochester dot rr dot com</strong>
   <a href="#102292" class="date">07-Feb-2011 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
man I had a heck of time.. I was really starting to think I was just too simple minded.. I run PHP on iis7 as well as apache.. my os is win7 pro.. my host uses php 5.2 sooooo..<br />
<br />
to run on apache 2.2 download nonthread safe version (my case VC6 x86 Non Thread Safe (2011-Jan-06 18:38:35)) and add this to the end of your apache httpd.conf file<br />
<br />
#BEGIN PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
PHPIniDir "c:/php/"<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
AddHandler application/x-httpd-php .php<br />
&lt;FilesMatch \.php$&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; SetHandler application/x-httpd-php<br />
&nbsp;&lt;/FilesMatch&gt;<br />
<br />
#END PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
<br />
fired right up..</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102064""></a>
  <div class="note">
   <strong class="user">yakfish</strong>
   <a href="#102064" class="date">25-Jan-2011 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If Apache won't start after PHP install, check for this scenario:<br />
<br />
When I followed the instructions for the Windows installer, using Apache HTTP server 2.2.17, the install completed normally but Apache would then fail to start. It turned out that the installer was not properly configuring the last section of Apache's httpd.conf file:<br />
<br />
#BEGIN PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
PHPIniDir "c:/php/"<br />
LoadModule php5_module "c:/php/php5apache2_2.dll"<br />
#END PHP INSTALLER EDITS - REMOVE ONLY ON UNINSTALL<br />
<br />
The text above is the correct configuration (in my case, I had asked the installer to place PHP into directory C:/PHP.)&nbsp; However, the installer omitted the string "c:/php/" from the two lines above where you can see them. I had to edit the file, and add that string in manually, before Apache would start correctly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101625""></a>
  <div class="note">
   <strong class="user">pkay(number42) at gmail dot com</strong>
   <a href="#101625" class="date">30-Dec-2010 06:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running Apache2.2 on Windows 7.&nbsp; There was no php5apache2_2.dll on my system, and all I got was a message box "The requested operation has failed!" (no, that's not OK).<br />
<br />
Finally realized that thread-safe version (VC6, mind!) was necessary - it had the dll in it.<br />
<br />
Downloaded that, apache runs with <br />
<br />
LoadModule php5_module 'C:/Program Files (x86)/PHP/php5apache2_2.dll'<br />
#etc</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101019""></a>
  <div class="note">
   <strong class="user">farinspace</strong>
   <a href="#101019" class="date">20-Nov-2010 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running PHP under FastCGI:<br />
<br />
Besides the following in your httpd.conf<br />
<br />
&nbsp;&nbsp;&nbsp; LoadModule fcgid_module modules/mod_fcgid.so&nbsp; <br />
&nbsp;&nbsp;&nbsp; FcgidInitialEnv PHPRC "c:/php" <br />
&nbsp;&nbsp;&nbsp; AddHandler fcgid-script .php&nbsp; <br />
&nbsp;&nbsp;&nbsp; FcgidWrapper "c:/php/php-cgi.exe" .php<br />
<br />
Remember to add the following to the default &lt;Directory "C:/apache/htdocs"&gt; block (or virtual host blocks):<br />
<br />
&nbsp;&nbsp;&nbsp; Options ExecCGI</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100953""></a>
  <div class="note">
   <strong class="user">lebovskiy at ua dot fm</strong>
   <a href="#100953" class="date">17-Nov-2010 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I install httpd-2.2.17-win32-x86-openssl-0.9.8o.msi and after<br />
php-5.3.3-Win32-VC9-x86.msi on WinXP SP3. PHP installation add to httpd.conf next lines:<br />
<br />
LoadModule php5_module "C:/PHP/php5apache2_2.dll<br />
"PHPIniDir "C:/PHP"<br />
<br />
After it Apache don`t starts. If remove PHPIniDir line Apache&nbsp; starts ok, but C:/PHP/php.ini don`t loaded. So you can`t use any extension (for me it's MySQL).<br />
<br />
I uninstall VC9 version and install VC6 (php-5.3.3-Win32-VC6-x86.msi) version. All works fine now.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100918""></a>
  <div class="note">
   <strong class="user">halmai</strong>
   <a href="#100918" class="date">15-Nov-2010 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wanted to install PHP5.3 for Apache2.2 with PostgreSql 9.0 support on WindowsXP. It took me hours to solve it. <br />
<br />
The following possible problems occur:<br />
- You should use the VC6-compiled version of php instead of VC9. The later one does not work properly with apache.<br />
- the postgres handler dlls are not working in PHP5.3. <br />
<br />
The symptom was a misleading and very confusing error message:<br />
<br />
Unable to load dynamic library 'c:\Progra~1\PHP\ext\php_pgsql.dll'<br />
<br />
The dll itself was there but when it started to load the other dll (libpq.dll) from the php directory then this caused an error. This error was misinterpreted internally in the above message.<br />
<br />
The solution was NOT to use the libpq.dll from php but use it from postgres distribution instead. <br />
<br />
For this purpose I inserted the following line into the apache httpd conf:<br />
<br />
LoadFile "C:/Progra~1/PostgreSQL/9.0/bin/libpq.dll"<br />
<br />
This preloads the dll. When php_pgsql.dll would load his own libpq.dll, then there is the preloaded version of this file in the memory already. This prevents us from using the bad version of dll.<br />
<br />
I hope I helped.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98454""></a>
  <div class="note">
   <strong class="user">Nick</strong>
   <a href="#98454" class="date">16-Jun-2010 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
After using the Windows installer for Apache 2.2 and PHP 5.3.2, and installing PHP as an Apache module (not CGI), Apache would crash and fail to start. There were two problems with the configuration files for Apache and PHP.<br />
<br />
First, make sure your Apache configuration file reads something similar to:<br />
<br />
LoadModule php5_module "C:/Program Files/PHP/php5apache2_2.dll"<br />
PHPIniDir "C:/Program Files/PHP/"<br />
<br />
While other users have disabled some or all of the MySQL extensions to prevent all three from running at the same time, I have all of them enabled. However, I do not have PostgreSQL, so I needed to comment out loading the php_pgsql.dll in my php.ini file, as follows:<br />
<br />
;[PHP_PGSQL]<br />
;extension=php_pgsql.dll<br />
<br />
This stopped Apache from crashing and started successfully.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96529""></a>
  <div class="note">
   <strong class="user">Michael</strong>
   <a href="#96529" class="date">03-Mar-2010 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The value for FcgidWrapper cannot contain spaces..<br />
<br />
This won't work:<br />
FcgidWrapper "c:/program files (x86)/php/php-cgi.exe" .php<br />
<br />
But this will:<br />
FcgidWrapper "c:/progra~2/php/php-cgi.exe" .php</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96376""></a>
  <div class="note">
   <strong class="user">Steve</strong>
   <a href="#96376" class="date">24-Feb-2010 01:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I also had a problem with the PHPIniDir declaration.&nbsp; This is with Apache 2.2 on XP.&nbsp; I had to include a final slash, as in PHPIniDir "C:\Program Files\php\".&nbsp; Apache failed to start if I did not include the slash after php.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95105""></a>
  <div class="note">
   <strong class="user">Kerry Kobashi</strong>
   <a href="#95105" class="date">14-Dec-2009 07:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you find that Apache crashes when you attempt to start it, its likely that one of the PHP extensions is the cause. This is likely the case if you use the PHP Windows installer and choose all extensions in the setup program to be installed on disk. Unfortunately, it will also enable all extensions too causing potential problems.<br />
<br />
For example, after installing PHP 5.2.11 and Apache 2.2 under Windows XP, Apache kept crashing. This was due to using all three versiosn of mysql extensions attempting to run:<br />
<br />
[PHP_MYSQL]<br />
extension=php_mysql.dll<br />
[PHP_MYSQLI]<br />
extension=php_mysqli.dll<br />
[PHP_PDO_MYSQL]<br />
extension=php_pdo_mysql.dll</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95039""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#95039" class="date">10-Dec-2009 10:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If anybody here encounters an error regarding PHPIniDir, change PHPIniDir "C:/php/" to PHPIniDir "C:\php\".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92064""></a>
  <div class="note">
   <strong class="user">nicolas dot grasset at gmail dot com</strong>
   <a href="#92064" class="date">07-Jul-2009 07:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is how I created a silent install for Apache2.2 and PHP5.2.10 on Windows XP (running on a MacBook Pro):<br />
<br />
Download Apache2 and PHP5 installer files in a directory and update the msi file names in the following commands.<br />
<br />
To have PHP installer find Apache2, do not forget APACHEDIR!<br />
<br />
msiexec /i apache_2.2.11-win32-x86-no_ssl.msi /passive ALLUSERS=1 SERVERADMIN=admin@localhost SERVERNAME=localhost SERVERDOMAIN=localhost SERVERPORT=80 INSTALLDIR=c:\apache<br />
msiexec /i php-5.2.10-win32-installer.msi /qn APACHEDIR=c:\apache INSTALLDIR=c:\php ADDLOCAL=ext_php_mssql,apache22<br />
net stop "Apache2.2"<br />
net start "Apache2.2"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90332""></a>
  <div class="note">
   <strong class="user">CP</strong>
   <a href="#90332" class="date">16-Apr-2009 08:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is old news to some. But people with Apache 2.0.55 / PHP 5.1.2 might like a reminder before they pull their hair out! (Some of us have ISPs using older version and need to test on a like version before we upload.)<br />
<br />
If using PHP 5.1.2, to run Apache as a module, do *not* use Stephan's "php5apache2.dll" from <a href="http://www.ApacheLounge.com. That is for pre-5.1.2!" rel="nofollow" target="_blank">http://www.ApacheLounge.com. That is for pre-5.1.2!</a><br />
<br />
**There is a "php5apache2.dll" included with Windows PHP 5.1.2 zip file by default.**<br />
<br />
If you forget this and overwrite the included DLL with Stephan's (as I did) you'll spend hours attempting to escape "DLL hell", with no success.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89208""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#89208" class="date">26-Feb-2009 03:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i followed henke37's way to for the httpd.conf<br />
<br />
I added all this at the very end of httpd.conf<br />
<br />
# For PHP 5 <br />
#load the php main library to avoid dll hell<br />
Loadfile "C:\php-5.2.8-Win32\php5ts.dll"<br />
<br />
#load the sapi so that apache can use php<br />
LoadModule php5_module "C:\php-5.2.8-Win32\php5apache2_2.dll"<br />
<br />
#set the php.ini location so that you don't have to waste time guessing where it is<br />
PHPIniDir "C:\php-5.2.8-Win32"<br />
<br />
#Hook the php file extensions<br />
AddHandler application/x-httpd-php .php<br />
AddHandler application/x-httpd-php-source .phps <br />
<br />
Also i didn't use short open tags as they are disabled in <br />
"php.ini-recommended" if you don't change anything<br />
So use this to test <br />
<span class="default">&lt;?php<br />
&nbsp;phpinfo</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span>NOT <br />
&lt;? phpinfo(); ?&gt; short open tags<br />
<br />
added my php directory to the PATH system variable and i start apache manually not as a service<br />
<br />
It works for me hope it helps you!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82654""></a>
  <div class="note">
   <strong class="user">cormac at kernan dot eu</strong>
   <a href="#82654" class="date">21-Apr-2008 03:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
All good advice from henke, except where it says "Do not edit the system path".&nbsp; You will NOT be able to load extensions that have dependencies e.g. MySQL, without adding PHP to your system path.&nbsp; This threw me for some time as other extensions without dependencies will work without this requirement.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80994""></a>
  <div class="note">
   <strong class="user">cfoesterle at yahoo dot com</strong>
   <a href="#80994" class="date">10-Feb-2008 05:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I do not have IIS installed on my server, only Apache. So I had to edit the PHP.ini file and comment out (add leading ";") to the following line "extension=php_iisfunc.dll" as I was getting "Faulting application httpd.exe, faulting module php_iisfunc.dll" errors when this line was active. I also added an additional&nbsp; "AddType application/x-httpd-php .html" to my httpd.conf file so that inline php would work with files ending with an extension of ".html" on my server.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80644""></a>
  <div class="note">
   <strong class="user">mjm at alum dot mit dot edu</strong>
   <a href="#80644" class="date">27-Jan-2008 05:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use the PHP 5 installer, you'll notice that it uses the wrong type of slash on Windows!<br />
<br />
Change C:/Program Files/PHP/" to C:\Program Files\PHP\" and everything works great!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78203""></a>
  <div class="note">
   <strong class="user">packard_bell_nec at hotmail dot com</strong>
   <a href="#78203" class="date">03-Oct-2007 05:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you install PHP as an Apache CGI binary, you can add: <br />
AddHandler cgi-script .php<br />
into Apache httpd.conf, and add shebang line to every PHP scripts like: <br />
#!php<br />
<span class="default">&lt;?php<br />
phpinfo</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span>. But adding shebang line has a disadvantage that if you decided to install PHP as an Apache module afterwards, then the shebang line WILL appear in the web page. <br />
In fact, you do NOT need to add shebang line to every PHP script even if you install PHP as an Apache CGI binary, because you can add: <br />
ScriptInterpreterSource Registry-Strict<br />
into Apache httpd.conf, and make the registry file and merge it like: <br />
Windows Registry Editor Version 5.00<br />
[HKEY_CLASSES_ROOT\.php\Shell\ExecCGI\Command]<br />
@="\"C:\\Program Files\\PHP\\php-cgi.exe\""<br />
. Then you will NOT need to change the PHP scripts which do not contain shebang line.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76814""></a>
  <div class="note">
   <strong class="user">philippeboucher at newlogiccanada dot com dot com</strong>
   <a href="#76814" class="date">31-Jul-2007 11:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To do a silent install of PHP wich correctly modify the httpd.conf file, you HAVE (I find no other way) to put the directory of the Apache inside the INSTALLDIR's MSI option.&nbsp; the APACHEDIR doesn't seem to work.&nbsp; That's the only way I've make it work.&nbsp; Maybe it's because my Apache is not in the default directory, I don't know, but there is a solution for people who cannot make work the silent install (for those who are told by the php setup that it cannot find the httpd.conf file).<br />
<br />
Hope it helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75779""></a>
  <div class="note">
   <strong class="user">anonymousness</strong>
   <a href="#75779" class="date">15-Jun-2007 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Verrrrrrrry important note:<br />
<br />
If you enable multi-byte strings for your installation of PHP, the extension loaded MUST be the first extension in the list.<br />
<br />
Apache, NOR PHP will generate any error messages or warning information in the error log or in system logs about this.<br />
<br />
This information needs to be included in the Readme or in the distributed INI files.<br />
<br />
The recommended PHP ini's should place extension=php_mbstring.dll&nbsp; at the top of the list of extensions.<br />
<br />
I had completely forgotten about this when recently upgrading php on a test server; and almost set out to re-install apache.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73259""></a>
  <div class="note">
   <strong class="user">charlie at oblivion dot cz</strong>
   <a href="#73259" class="date">15-Feb-2007 01:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
..try to set the extension_dir in php.ini to the absolute path.. (when you are pretty sure that you have set the PHPIniDir the right way)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72280""></a>
  <div class="note">
   <strong class="user">Jim Keller</strong>
   <a href="#72280" class="date">11-Jan-2007 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
it's important to note that on Apache 2.2.3 (probably other 2.x versions as well) on Windows, the PHPIniDir directive must use forward slashes to delimit directories, not the backslashes commonly used for Windows path strings. If PHP seems to be ignoring the directive, this may be why.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70228""></a>
  <div class="note">
   <strong class="user">pcdinh at phpvietnam dot net</strong>
   <a href="#70228" class="date">07-Oct-2006 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP 6 is under active development but for those whose want to try out the new features or just want to keep updated with the development progress of PHP 6.0, you can follow my instructions below to install it on Windows XP and Apache 2.2.3<br />
<br />
# For PHP 6 do something like this:<br />
LoadModule php5_module "c:/server/php6/php6apache2_2.dll"<br />
AddType application/x-httpd-php .php<br />
PHPIniDir "c:/server/php6"<br />
<br />
You should change the path as in your system. The directive LoadModule php5_module seems a bit strange to you. It should be LoadModule php6_module instead. However, I have just taken a look at php.internals and came across a message that said it should be changed in the near future after the PHP 5.2 is official released. At the time I write this, PHP 5.2 RC6 is planned to be released in the next few days.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68649""></a>
  <div class="note">
   <strong class="user">subajawa at yahoo dot com</strong>
   <a href="#68649" class="date">04-Aug-2006 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To install PHP as Apache 2 CGI script, add these lines in addition to the 3 lines mentioned in the document.<br />
<br />
&lt;Directory "C:/php"&gt;<br />
&nbsp;&nbsp;&nbsp; AllowOverride None<br />
&nbsp;&nbsp;&nbsp; Options None<br />
&nbsp;&nbsp;&nbsp; Order allow,deny<br />
&nbsp;&nbsp;&nbsp; Allow from all<br />
&lt;/Directory&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52910""></a>
  <div class="note">
   <strong class="user">Isaac dot Brown at ArvinMeritor dot com</strong>
   <a href="#52910" class="date">17-May-2005 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some XP machines are having troubles with the PHPIniDir derective not finding the php.ini (or so they think). Directories that do contain a php.ini file are returned as empty and it defaults to the next method of finding php.ini (often C:/windows or C:/winnt). <br />
<br />
This is likely caused by read permissions not being set correctly on NTFS file systems, however, it has occurred when no cause could be identified. If setting correct file permissions doesn't work, the easiest way around this problem is moving php.ini to the Apache directory or adding the HKEY_LOCAL_MACHINE\SOFTWARE\PHP\IniFilePath string to your registry and setting it to the correct directory.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.windows.apache1.html">Apache 1.3.x （Microsoft Windows 用）</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.windows.sun.html">Sun, iPlanet, Netscape サーバー（Microsoft Windows 用）</a></div>
 <div class="up"><a href="install.windows.html">Windows システムへのインストール</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
