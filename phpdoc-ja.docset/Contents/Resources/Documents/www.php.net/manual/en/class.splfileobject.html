<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>SplFileObject クラス</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="splfileinfo.tostring.html">SplFileInfo::__toString</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="splfileobject.construct.html">SplFileObject::__construct</a></div>
 <div class="up"><a href="spl.files.html">ファイル操作</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="class.splfileobject" class="reference">

 <h1 class="title">SplFileObject クラス</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.1.0)</p>


  <div class="section" id="splfileobject.intro">
   <h2 class="title">導入</h2>
   <p class="para">
    SplFileObject クラスはファイルのためのオブジェクト指向のインターフェイスを提供します。
   </p>
  </div>


  <div class="section" id="splfileobject.synopsis">
   <h2 class="title">クラス概要</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">SplFileObject</strong>
     </span>
     
     <span class="ooclass">
      <span class="modifier">extends</span>
      <a href="class.splfileinfo.html" class="classname">SplFileInfo</a>
     </span>
     
     <span class="oointerface">implements 
      <span class="interfacename"><a href="class.recursiveiterator.html" class="interfacename">RecursiveIterator</a></span>
     </span>

     <span class="oointerface">, 
      <span class="interfacename"><a href="class.seekableiterator.html" class="interfacename">SeekableIterator</a></span>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 定数 */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.splfileobject.html#splfileobject.constants.drop-new-line"><var class="varname">DROP_NEW_LINE</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.splfileobject.html#splfileobject.constants.read-ahead"><var class="varname">READ_AHEAD</var></a></var>
     <span class="initializer"> = 2</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.splfileobject.html#splfileobject.constants.skip-empty"><var class="varname">SKIP_EMPTY</var></a></var>
     <span class="initializer"> = 4</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.splfileobject.html#splfileobject.constants.read-csv"><var class="varname">READ_CSV</var></a></var>
     <span class="initializer"> = 8</span>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* メソッド */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname"><a href="splfileobject.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$open_mode</code><span class="initializer"> = &quot;r&quot;</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$use_include_path</code><span class="initializer"> = false</span></span>
   [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$context</code></span>
  ]]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string|array</span> <span class="methodname"><a href="splfileobject.current.html" class="methodname">current</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.eof.html" class="methodname">eof</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.fflush.html" class="methodname">fflush</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileobject.fgetc.html" class="methodname">fgetc</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><a href="splfileobject.fgetcsv.html" class="methodname">fgetcsv</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$delimiter</code><span class="initializer"> = &quot;,&quot;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$enclosure</code><span class="initializer"> = &quot;\&quot;&quot;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$escape</code><span class="initializer"> = &quot;\\&quot;</span></span>
  ]]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileobject.fgets.html" class="methodname">fgets</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileobject.fgetss.html" class="methodname">fgetss</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$allowable_tags</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.flock.html" class="methodname">flock</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$operation</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$wouldblock</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.fpassthru.html" class="methodname">fpassthru</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.fputcsv.html" class="methodname">fputcsv</a></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$fields</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$delimiter</code><span class="initializer"> = &#039;,&#039;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$enclosure</code><span class="initializer"> = &#039;&quot;&#039;</span></span>
  ]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">mixed</span> <span class="methodname"><a href="splfileobject.fscanf.html" class="methodname">fscanf</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&$...</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.fseek.html" class="methodname">fseek</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$offset</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$whence</code><span class="initializer"> = SEEK_SET</span></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><a href="splfileobject.fstat.html" class="methodname">fstat</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.ftell.html" class="methodname">ftell</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.ftruncate.html" class="methodname">ftruncate</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.fwrite.html" class="methodname">fwrite</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.getchildren.html" class="methodname">getChildren</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><a href="splfileobject.getcsvcontrol.html" class="methodname">getCsvControl</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.getflags.html" class="methodname">getFlags</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.getmaxlinelen.html" class="methodname">getMaxLineLen</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.haschildren.html" class="methodname">hasChildren</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileobject.key.html" class="methodname">key</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.next.html" class="methodname">next</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.rewind.html" class="methodname">rewind</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.seek.html" class="methodname">seek</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$line_pos</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.setcsvcontrol.html" class="methodname">setCsvControl</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$delimiter</code><span class="initializer"> = &quot;,&quot;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$enclosure</code><span class="initializer"> = &quot;\&quot;&quot;</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$escape</code><span class="initializer"> = &quot;\\&quot;</span></span>
  ]]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.setflags.html" class="methodname">setFlags</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.setmaxlinelen.html" class="methodname">setMaxLineLen</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$max_len</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileobject.tostring.html" class="methodname">__toString</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileobject.valid.html" class="methodname">valid</a></span>
    ( <span class="methodparam">void</span>
   )</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 継承したメソッド */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname"><a href="splfileinfo.construct.html" class="methodname">SplFileInfo::__construct</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$file_name</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getatime.html" class="methodname">SplFileInfo::getATime</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getbasename.html" class="methodname">SplFileInfo::getBasename</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$suffix</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getctime.html" class="methodname">SplFileInfo::getCTime</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getextension.html" class="methodname">SplFileInfo::getExtension</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">SplFileInfo</span> <span class="methodname"><a href="splfileinfo.getfileinfo.html" class="methodname">SplFileInfo::getFileInfo</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getfilename.html" class="methodname">SplFileInfo::getFilename</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getgroup.html" class="methodname">SplFileInfo::getGroup</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getinode.html" class="methodname">SplFileInfo::getInode</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getlinktarget.html" class="methodname">SplFileInfo::getLinkTarget</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getmtime.html" class="methodname">SplFileInfo::getMTime</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getowner.html" class="methodname">SplFileInfo::getOwner</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getpath.html" class="methodname">SplFileInfo::getPath</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">SplFileInfo</span> <span class="methodname"><a href="splfileinfo.getpathinfo.html" class="methodname">SplFileInfo::getPathInfo</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getpathname.html" class="methodname">SplFileInfo::getPathname</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getperms.html" class="methodname">SplFileInfo::getPerms</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.getrealpath.html" class="methodname">SplFileInfo::getRealPath</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="splfileinfo.getsize.html" class="methodname">SplFileInfo::getSize</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="splfileinfo.gettype.html" class="methodname">SplFileInfo::getType</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.isdir.html" class="methodname">SplFileInfo::isDir</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.isexecutable.html" class="methodname">SplFileInfo::isExecutable</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.isfile.html" class="methodname">SplFileInfo::isFile</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.islink.html" class="methodname">SplFileInfo::isLink</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.isreadable.html" class="methodname">SplFileInfo::isReadable</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="splfileinfo.iswritable.html" class="methodname">SplFileInfo::isWritable</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">SplFileObject</span> <span class="methodname"><a href="splfileinfo.openfile.html" class="methodname">SplFileInfo::openFile</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$open_mode</code><span class="initializer"> = r</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$use_include_path</code><span class="initializer"> = false</span></span>
   [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$context</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
  ]]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileinfo.setfileclass.html" class="methodname">SplFileInfo::setFileClass</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileinfo.setinfoclass.html" class="methodname">SplFileInfo::setInfoClass</a></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$class_name</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="splfileinfo.tostring.html" class="methodname">SplFileInfo::__toString</a></span>
    ( <span class="methodparam">void</span>
   )</div>


   }</div>


  </div>
  

  <div class="section" id="splfileobject.constants">
   <h2 class="title">定義済み定数</h2>
   <dl>

    <dt id="splfileobject.constants.drop-new-line">
     <span class="term"><strong><code>SplFileObject::DROP_NEW_LINE</code></strong></span>
     <dd>

      <p class="para">行末の改行を読み飛ばします。</p>
     </dd>

    </dt>

    <dt id="splfileobject.constants.read-ahead">
     <span class="term"><strong><code>SplFileObject::READ_AHEAD</code></strong></span>
     <dd>

      <p class="para">先読み/巻き戻しで読み出します。</p>
     </dd>

    </dt>

    <dt id="splfileobject.constants.skip-empty">
     <span class="term"><strong><code>SplFileObject::SKIP_EMPTY</code></strong></span>
     <dd>

      <p class="para">ファイルの空行を読み飛ばします。期待通りに動作させるには、<strong><code>READ_AHEAD</code></strong> フラグを有効にしないといけません。</p>
     </dd>

    </dt>

    <dt id="splfileobject.constants.read-csv">
     <span class="term"><strong><code>SplFileObject::READ_CSV</code></strong></span>
     <dd>

      <p class="para">CSV 列として行を読み込みます。</p>
     </dd>

    </dt>

   </dl>

  </div>


 <div class="section">
  <h2 class="title">変更履歴</h2>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.9</td>
       <td>
        <strong><code>SplFileObject::SKIP_EMPTY</code></strong> の値が 4
        に変わりました。前のバージョンでは、値は 6 でした。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 </div>

 


































































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="splfileobject.construct.html">SplFileObject::__construct</a> — 新しいファイルオブジェクトを作成する</li><li><a href="splfileobject.current.html">SplFileObject::current</a> — ファイルの現在の行を取得する</li><li><a href="splfileobject.eof.html">SplFileObject::eof</a> — ファイルの終端に到達しているか調べる</li><li><a href="splfileobject.fflush.html">SplFileObject::fflush</a> — 出力をファイルにフラッシュする</li><li><a href="splfileobject.fgetc.html">SplFileObject::fgetc</a> — ファイルから文字を取り出す</li><li><a href="splfileobject.fgetcsv.html">SplFileObject::fgetcsv</a> — ファイルから行を取り出し CSV フィールドとして処理する</li><li><a href="splfileobject.fgets.html">SplFileObject::fgets</a> — ファイルから 1 行取り出す</li><li><a href="splfileobject.fgetss.html">SplFileObject::fgetss</a> — ファイルから 1 行取り出し HTML タグを取り除く</li><li><a href="splfileobject.flock.html">SplFileObject::flock</a> — 簡易なファイルロックを行う</li><li><a href="splfileobject.fpassthru.html">SplFileObject::fpassthru</a> — ファイルポインタに残っているデータをすべて出力する</li><li><a href="splfileobject.fputcsv.html">SplFileObject::fputcsv</a> — フィールドの配列を CSV の行として書き出す</li><li><a href="splfileobject.fscanf.html">SplFileObject::fscanf</a> — フォーマットに従ってファイルからの入力をパースする</li><li><a href="splfileobject.fseek.html">SplFileObject::fseek</a> — ファイルポインタを移動させる</li><li><a href="splfileobject.fstat.html">SplFileObject::fstat</a> — ファイルの情報を得る</li><li><a href="splfileobject.ftell.html">SplFileObject::ftell</a> — ファイルポインタの現在位置を返す</li><li><a href="splfileobject.ftruncate.html">SplFileObject::ftruncate</a> — ファイルを指定した長さに丸める</li><li><a href="splfileobject.fwrite.html">SplFileObject::fwrite</a> — ファイルに書き込む</li><li><a href="splfileobject.getchildren.html">SplFileObject::getChildren</a> — 用途はなし</li><li><a href="splfileobject.getcsvcontrol.html">SplFileObject::getCsvControl</a> — CSV の区切りと囲み文字を取得する</li><li><a href="splfileobject.getcurrentline.html">SplFileObject::getCurrentLine</a> — SplFileObject::fgets のエイリアス</li><li><a href="splfileobject.getflags.html">SplFileObject::getFlags</a> — SplFileObject のフラグを取得する</li><li><a href="splfileobject.getmaxlinelen.html">SplFileObject::getMaxLineLen</a> — 行の最大バイト数を取得する</li><li><a href="splfileobject.haschildren.html">SplFileObject::hasChildren</a> — SplFileObject は子を持ちません</li><li><a href="splfileobject.key.html">SplFileObject::key</a> — 行番号を取得する</li><li><a href="splfileobject.next.html">SplFileObject::next</a> — 次の行を読み出す</li><li><a href="splfileobject.rewind.html">SplFileObject::rewind</a> — ファイルポインタを先頭に巻き戻す</li><li><a href="splfileobject.seek.html">SplFileObject::seek</a> — ファイルポインタを指定行に移動させる</li><li><a href="splfileobject.setcsvcontrol.html">SplFileObject::setCsvControl</a> — CSV の区切り文字と囲み文字をセットする</li><li><a href="splfileobject.setflags.html">SplFileObject::setFlags</a> — SplFileObject のフラグをセットする</li><li><a href="splfileobject.setmaxlinelen.html">SplFileObject::setMaxLineLen</a> — 読み込む行の最大バイト数をセットする</li><li><a href="splfileobject.tostring.html">SplFileObject::__toString</a> — SplFileObject::current のエイリアス</li><li><a href="splfileobject.valid.html">SplFileObject::valid</a> — ファイル終端でないかチェックする</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113149""></a>
  <div class="note">
   <strong class="user">Lars Gyrup Brink Nielsen</strong>
   <a href="#113149" class="date">05-Sep-2013 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this class has a private (and thus, not documented) property that holds the file pointer. Combine this with the fact that there is no method to close the file handle, and you get into situations where you are not able to delete the file with unlink(), etc., because an SplFileObject still has a handle open.<br />
<br />
To get around this issue, delete the SplFileObject like this:<br />
<br />
---------------------------------------------------------------------<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="string">"Declaring file object\n"</span><span class="keyword">;<br />
</span><span class="default">$file </span><span class="keyword">= new </span><span class="default">SplFileObject</span><span class="keyword">(</span><span class="string">'example.txt'</span><span class="keyword">);<br />
<br />
print </span><span class="string">"Trying to delete file...\n"</span><span class="keyword">;<br />
</span><span class="default">unlink</span><span class="keyword">(</span><span class="string">'example.txt'</span><span class="keyword">);<br />
<br />
print </span><span class="string">"Closing file object\n"</span><span class="keyword">;<br />
</span><span class="default">$file </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
<br />
print </span><span class="string">"Deleting file...\n"</span><span class="keyword">;<br />
</span><span class="default">unlink</span><span class="keyword">(</span><span class="string">'example.txt'</span><span class="keyword">);<br />
<br />
print </span><span class="string">'File deleted!'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>---------------------------------------------------------------------<br />
<br />
which will output:<br />
<br />
---------------------------------------------------------------------<br />
Declaring file object <br />
Trying to delete file... <br />
<br />
Warning: unlink(example.txt): Permission denied in file.php on line 6<br />
Closing file object <br />
Deleting file... <br />
File deleted!<br />
---------------------------------------------------------------------</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="splfileinfo.tostring.html">SplFileInfo::__toString</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="splfileobject.construct.html">SplFileObject::__construct</a></div>
 <div class="up"><a href="spl.files.html">ファイル操作</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
