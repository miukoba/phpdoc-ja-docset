<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>配列から重複した値を削除する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-uintersect.html">array_uintersect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-unshift.html">array_unshift</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-unique" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_unique</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5)</p><p class="refpurpose"><span class="refname">array_unique</span> &mdash; <span class="dc-title">配列から重複した値を削除する</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.array-unique-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_unique</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$sort_flags</code><span class="initializer"> = SORT_STRING</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   <em><code class="parameter">array</code></em> を入力とし、値に重複のない新規配列を返します。
  </p>
  <p class="para">
   キーは保持されることに注意してください。
    <span class="function"><strong>array_unique()</strong></span> はまず文字列として値をソートし、
   各値の最初のキーを保持し、2回目以降の全てのキーを無視します。
   これは、ソート前の <em><code class="parameter">array</code></em>
   で最初の関連する値のキーが保持されるという意味ではありません。
  </p>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <span class="simpara">
    <em>(string) $elem1 === (string) $elem2</em>
    の場合のみ二つの要素は等しいとみなされます。
    言い換えると、文字列表現が同じ場合となります。
   </span>
   <span class="simpara">
    最初の要素が使用されます。
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-unique-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">array</code></em></span>
     <dd>

      <p class="para">
       入力の配列。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">sort_flags</code></em></span>
     <dd>

      <p class="para">
       オプションの 2 番目のパラメータ <em><code class="parameter">sort_flags</code></em>
       にこれらの値を使用して、ソートの挙動を変更します。
      </p>
      <p class="para">
       ソート形式のフラグは次のとおりです。
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_REGULAR</code></strong> - 通常の比較
         (型変換をしない) を行います</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_NUMERIC</code></strong> - 数値として比較します</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_STRING</code></strong> - 文字列として比較します</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_LOCALE_STRING</code></strong> -
          現在のロケールにもとづいて文字列として比較します。
          
         </span>
        </li>
       </ul>
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-unique-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   処理済の配列を返します。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.array-unique-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.10</td>
       <td>
        <em><code class="parameter">sort_flags</code></em> のデフォルト値を
        <strong><code>SORT_STRING</code></strong> に戻しました。
       </td>
      </tr>

      <tr>
       <td>5.2.9</td>
       <td>
        オプションの <em><code class="parameter">sort_flags</code></em> が追加され、
        デフォルトは <strong><code>SORT_REGULAR</code></strong> となりました。5.2.9 より前のバージョンでは、
        この関数は内部的に <strong><code>SORT_STRING</code></strong> によるソートを行っていました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-unique-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4966">
    <p><strong>例1  <span class="function"><strong>array_unique()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [a] =&gt; green
    [0] =&gt; red
    [1] =&gt; blue
)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4967">
    <p><strong>例2  <span class="function"><strong>array_unique()</strong></span> と型</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"4"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"3"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(2) {
  [0] =&gt; int(4)
  [2] =&gt; string(1) &quot;3&quot;
}
</pre></div>
    </div>
   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.array-unique-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.array-count-values.html" class="function" rel="rdfs-seeAlso">array_count_values()</a> - 配列の値の数を数える</span></li>
   </ul>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-unique-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <span class="simpara">
     <span class="function"><strong>array_unique()</strong></span> は、
    多次元配列での使用を想定したものではないことに注意しましょう。
   </span>
  </p></blockquote>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113870""></a>
  <div class="note">
   <strong class="user">Felipe CWB</strong>
   <a href="#113870" class="date">12-Dec-2013 01:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_unique only compares with the string,<br />
But to compare with various types of variables I used like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
* master ArrayUnique<br />
* now compare all types<br />
* @param array $array<br />
* @return array<br />
*/<br />
</span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k2 </span><span class="keyword">=&gt; </span><span class="default">$v2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$v2 </span><span class="keyword">== </span><span class="default">$v</span><span class="keyword">) &amp;&amp; (</span><span class="default">$k </span><span class="keyword">!= </span><span class="default">$k2</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= [];<br />
<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Bob'</span><span class="keyword">];<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Peter'</span><span class="keyword">];<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Jhon'</span><span class="keyword">];<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'James'</span><span class="keyword">];<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'David'</span><span class="keyword">];<br />
</span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Bob'</span><span class="keyword">]; </span><span class="comment">// repeated<br />
<br />
</span><span class="keyword">if (</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="default">$a</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]) { </span><span class="comment">// true<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">'yes'</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'not'</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"\n\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113775""></a>
  <div class="note">
   <strong class="user">CertaiN</strong>
   <a href="#113775" class="date">29-Nov-2013 11:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Let's implement array_unique_callback() !<br />
<br />
Function:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_unique_callback</span><span class="keyword">(array </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">callable $callback</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_filter</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function (</span><span class="default">$item</span><span class="keyword">) use (</span><span class="default">$strict</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$haystack </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needle </span><span class="keyword">= </span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$haystack</span><span class="keyword">[] = </span><span class="default">$needle</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; );<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Usage:<br />
<span class="default">&lt;?php<br />
<br />
$companies </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Foo - Ltd.'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'XXX-YYY-ZZZ'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'supplyment'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Bar - Ltd.'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'xxx-yyy-zzz'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'supplyment'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Baz - Ltd.'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'AAA-BBB-CCC'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'alcohol'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ),<br />
);<br />
<br />
</span><span class="default">$companies </span><span class="keyword">= </span><span class="default">array_unique_callback</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$companies</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; function (</span><span class="default">$company</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$company</span><span class="keyword">[</span><span class="string">'category'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$companies</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Result:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Foo - Ltd.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [phone] =&gt; XXX-YYY-ZZZ<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [category] =&gt; supplyment<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Baz - Ltd.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [phone] =&gt; AAA-BBB-CCC<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [category] =&gt; alcohol<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112473""></a>
  <div class="note">
   <strong class="user">Tim S.</strong>
   <a href="#112473" class="date">20-Jun-2013 04:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had to write a bunch of results to an array with a high probability of duplicates.<br />
The array was written to the file in chunks, using a for loop. It occurred to me that I often had blank lines in my file.<br />
<br />
Because this function preserve keys, I had gaps in my numeric keys. If you don't want to preserve keys, like me, you can use the following function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_unique_ignore_keys</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$sort_flags </span><span class="keyword">= </span><span class="default">SORT_STRING</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$sort_flags</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112398""></a>
  <div class="note">
   <strong class="user">bx16soupapes at gmail dot com</strong>
   <a href="#112398" class="date">12-Jun-2013 04:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another form to make an array unique (manual):<br />
<br />
This is my array<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 40665<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 40665<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 40665<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; 40665<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] =&gt; 40666<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [5] =&gt; 40666<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [6] =&gt; 40666<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [7] =&gt; 40666<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [8] =&gt; 40667<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [9] =&gt; 40667<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [10] =&gt; 40667<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [11] =&gt; 40667<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [12] =&gt; 40667<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [13] =&gt; 40668<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [14] =&gt; 40668<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [15] =&gt; 40668<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [16] =&gt; 40668<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [17] =&gt; 40668<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [18] =&gt; 40669<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [19] =&gt; 40669<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [20] =&gt; 40670<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [21] =&gt; 40670<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [22] =&gt; 40670<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [23] =&gt; 40670<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [24] =&gt; 40671<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [25] =&gt; 40671<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [26] =&gt; 40671<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [27] =&gt; 40671<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [28] =&gt; 40671<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 40672<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 40672<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 40672<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; 40672<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)<br />
<br />
this is my script:<br />
<br />
&nbsp;&nbsp;&nbsp; $anterior = 0;<br />
&nbsp;&nbsp;&nbsp; foreach($item as $array_key =&gt; $array_value)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "&lt;li&gt;$array_key";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "&lt;ul&gt;";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($array_value as $xarray_key =&gt; $xarray_value){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($xarray_value != $anterior) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "&lt;li&gt;$xarray_key =&gt; $xarray_value";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $item_nuevo[$array_key][] = $xarray_value;&nbsp; &nbsp; // or to use the same key number $item_nuevo[$array_key][$xarray_key] = $xarray_value;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $anterior = $xarray_value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo "&lt;/ul&gt;";&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp;&nbsp; <br />
<br />
result:<br />
<br />
0<br />
&nbsp;&nbsp;&nbsp; 0 =&gt; 40665<br />
&nbsp;&nbsp;&nbsp; 4 =&gt; 40666<br />
&nbsp;&nbsp;&nbsp; 8 =&gt; 40667<br />
&nbsp;&nbsp;&nbsp; 13 =&gt; 40668<br />
&nbsp;&nbsp;&nbsp; 18 =&gt; 40669<br />
&nbsp;&nbsp;&nbsp; 20 =&gt; 40670<br />
&nbsp;&nbsp;&nbsp; 24 =&gt; 40671<br />
<br />
1<br />
&nbsp;&nbsp;&nbsp; 0 =&gt; 40672<br />
<br />
saludos desde chile.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111814""></a>
  <div class="note">
   <strong class="user">yosef_cool_ha at hotmail dot com</strong>
   <a href="#111814" class="date">01-Apr-2013 06:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you wish to unique the arrays recusively(multi dimensional) no matter how deep hope this function can help you:<br />
<br />
function array_unique_recusive($arr){<br />
foreach($arr as $key=&gt;$value)<br />
if(gettype($value)=='array')<br />
&nbsp;&nbsp;&nbsp; $arr[$key]=array_unique_recusive($value);<br />
return array_unique($arr,SORT_REGULAR);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108421""></a>
  <div class="note">
   <strong class="user">sashasimkin at gmail dot com</strong>
   <a href="#108421" class="date">25-Apr-2012 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My object unique function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">object_unique</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$objArray </span><span class="keyword">= (array) </span><span class="default">$obj</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$objArray </span><span class="keyword">= </span><span class="default">array_intersect_assoc</span><span class="keyword">( </span><span class="default">array_unique</span><span class="keyword">( </span><span class="default">$objArray </span><span class="keyword">), </span><span class="default">$objArray </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach( </span><span class="default">$obj </span><span class="keyword">as </span><span class="default">$n </span><span class="keyword">=&gt; </span><span class="default">$f </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( !</span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="default">$n</span><span class="keyword">, </span><span class="default">$objArray </span><span class="keyword">) ) unset( </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">$n </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$obj</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
And these code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Test</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$pr0 </span><span class="keyword">= </span><span class="string">'string'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$pr1 </span><span class="keyword">= </span><span class="string">'string1'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$pr2 </span><span class="keyword">= </span><span class="string">'string'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$pr3 </span><span class="keyword">= </span><span class="string">'string2'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">;<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">object_unique</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">) );<br />
</span><span class="default">?&gt;<br />
</span><br />
returns:<br />
object(Test)[1]<br />
&nbsp; public 'pr0' =&gt; string 'string' (length=6)<br />
&nbsp; public 'pr1' =&gt; string 'string1' (length=7)<br />
&nbsp; public 'pr3' =&gt; string 'string2' (length=7)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106480""></a>
  <div class="note">
   <strong class="user">gma (at) qoob (dot) gr</strong>
   <a href="#106480" class="date">12-Nov-2011 07:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Lets say that you want to capture unique values from multidimensional arrays and flatten them in 0 depth. <br />
<br />
i.e. <br />
<span class="default">&lt;?php<br />
$tmp </span><span class="keyword">= array( </span><span class="string">'a' </span><span class="keyword">=&gt; array( </span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4 </span><span class="keyword">), </span><span class="string">'b' </span><span class="keyword">=&gt; array( </span><span class="string">'c' </span><span class="keyword">=&gt; array( </span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7 </span><span class="keyword">) ) );<br />
</span><span class="default">?&gt;<br />
</span><br />
will return with array_flat( $tmp ) --&gt; array( 1,2,3,4,5,6,7 );<br />
<br />
I hope that the function will help someone<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* @params&nbsp; &nbsp; &nbsp; : $a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the recursion array<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $s&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; storage array <br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; integer&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the depth level<br />
&nbsp;*<br />
&nbsp;*/<br />
</span><span class="keyword">if( !</span><span class="default">function_exists</span><span class="keyword">( </span><span class="string">'array_flat' </span><span class="keyword">) )<br />
{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">array_flat</span><span class="keyword">( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$s </span><span class="keyword">= array( ), </span><span class="default">$l </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># check if this is an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">) )&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># go through the array values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># check if the contained values are arrays<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$v </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># store the value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s</span><span class="keyword">[ ]&nbsp; &nbsp; &nbsp;&nbsp; = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># move to the next node<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># increment depth level<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># replace the content of stored values<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">array_flat</span><span class="keyword">( </span><span class="default">$v</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># decrement depth level<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># get only unique values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( </span><span class="default">$l </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) </span><span class="default">$s </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">( </span><span class="default">array_unique</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># return stored values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; } </span><span class="comment"># end of function array_flat( ...<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105169""></a>
  <div class="note">
   <strong class="user">Friendly Code</strong>
   <a href="#105169" class="date">01-Aug-2011 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I required a function that removed a specific duplicate entry from an array and ignoring all others so came up with this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">specified_array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$array_key </span><span class="keyword">=&gt; </span><span class="default">$array_value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) &amp;&amp; (</span><span class="default">$array_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$array_key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$array_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) </span><span class="default">$count</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104102""></a>
  <div class="note">
   <strong class="user">0cool.f</strong>
   <a href="#104102" class="date">23-May-2011 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hope this can help...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_unique_key_group</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="default">$temp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!empty(</span><span class="default">$i</span><span class="keyword">) &amp;&amp; </span><span class="default">$key </span><span class="keyword">!= </span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$temp</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
this function return an array that is unique, but preserve every key for the element...<br />
sorry for bad english I'm italian...<br />
<br />
$array['asd'] = 'value';<br />
$array['lol'] = 'value';<br />
$array['foo'] = 'val';<br />
$array['bar'] = 'val';<br />
<br />
var_dump(array_unique_key_group($array));<br />
// will be output<br />
array(2) { ["asd,lol"]=&gt; string(5) "value" ["foo,bar"]=&gt; string(3) "val" }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103195""></a>
  <div class="note">
   <strong class="user">mykelscappin at gmail dot com</strong>
   <a href="#103195" class="date">31-Mar-2011 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I made an array_unique function to handle deep arrays:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$values</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//ideally there would be some is_array() testing for $array here...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$part</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">)) </span><span class="default">$values</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$values</span><span class="keyword">[]=</span><span class="default">$part</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test</span><span class="keyword">=array(</span><span class="default">123</span><span class="keyword">,</span><span class="default">456</span><span class="keyword">,array(</span><span class="default">789</span><span class="keyword">,</span><span class="default">123</span><span class="keyword">,array(</span><span class="default">456</span><span class="keyword">),</span><span class="default">789</span><span class="keyword">),array(</span><span class="default">123</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
outputs<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 123<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 456<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 789<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98501""></a>
  <div class="note">
   <strong class="user">michiel ed thalent nl</strong>
   <a href="#98501" class="date">19-Jun-2010 02:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use SORT_NUMERIC on this kind of filtering it will be significantly faster.<br />
However the array_flip method still is twice as fast.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98453""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#98453" class="date">16-Jun-2010 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's often faster to use a foreache and array_keys than array_unique:<br />
<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $max </span><span class="keyword">= </span><span class="default">1000000</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr2 </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">$arr2</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">= -</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res1 </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">+= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"deduped to "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$res1</span><span class="keyword">).</span><span class="string">" in "</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// deduped to 666667 in 32.300781965256<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">= -</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res2 </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">) {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res2</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res2 </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$res2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">+= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;br /&gt;deduped to "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$res2</span><span class="keyword">).</span><span class="string">" in "</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// deduped to 666667 in 0.84372591972351<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97285""></a>
  <div class="note">
   <strong class="user">regeda at inbox dot ru</strong>
   <a href="#97285" class="date">12-Apr-2010 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
recursive array unique for multiarrays<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">super_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">"unserialize"</span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">"serialize"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)));<br />
<br />
&nbsp; foreach (</span><span class="default">$result </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">super_unique</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96396""></a>
  <div class="note">
   <strong class="user">brendel at krumedia dot de</strong>
   <a href="#96396" class="date">24-Feb-2010 08:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Prior to 5.2.9 you may create a list of unique objects this way:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (; ; ) {<br />
&nbsp; </span><span class="comment">// ...<br />
&nbsp; </span><span class="default">$uniqueObjectList</span><span class="keyword">[</span><span class="default">spl_object_hash</span><span class="keyword">(</span><span class="default">$myObject</span><span class="keyword">)] = </span><span class="default">$myObject</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95203""></a>
  <div class="note">
   <strong class="user">amri [ at t] dhstudio dot eu</strong>
   <a href="#95203" class="date">18-Dec-2009 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I searched how to show only the duplicate elements from array, but failed. <br />
Here is my solution:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">arrayDuplicate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_diff_assoc</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">,</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">)));<br />
};<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<span class="default">&lt;?php<br />
$arr1 </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,<br />
</span><span class="string">'baz'</span><span class="keyword">, </span><span class="string">'bat'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'plugh'</span><span class="keyword">,<br />
</span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'foobar'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'plonk'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,<br />
</span><span class="string">'apples'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'oranges'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,<br />
</span><span class="string">'pears'</span><span class="keyword">,</span><span class="string">'foobar'</span><span class="keyword">);<br />
<br />
</span><span class="default">$result</span><span class="keyword">=</span><span class="default">arrayDuplicate</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);exit;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
Array<br />
(<br />
[4] =&gt; xyzzy<br />
[12] =&gt; |<br />
[16] =&gt; &amp;<br />
[21] =&gt; foobar<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95173""></a>
  <div class="note">
   <strong class="user">Youssef Omar</strong>
   <a href="#95173" class="date">16-Dec-2009 08:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is how to merge 2 comma separated lists with unique value only.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $list1 </span><span class="keyword">= </span><span class="string">"4444, 5555, 6666"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$list2 </span><span class="keyword">= </span><span class="string">"4444, 5555, 7777"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// combine both lists with unique values only<br />
&nbsp; </span><span class="default">$list3 </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"," </span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="default">$list1</span><span class="keyword">),</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$list2</span><span class="keyword">))));<br />
<br />
&nbsp; echo </span><span class="default">$list3</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
The result is: 4444,5555,6666,7777</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91134""></a>
  <div class="note">
   <strong class="user">steve at visual77 dot com</strong>
   <a href="#91134" class="date">27-May-2009 01:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One way to use array_unique() to handle the multidimensional array issue is to use an md5 hash of the serialized array as the key. I've seen some solutions listed here that stored the serialized string, but that requires unserialization, and moving data back and forth between two states for little reason is just a bad idea. Instead, you could try this method:<br />
<br />
<span class="default">&lt;?php<br />
$values </span><span class="keyword">= array();<br />
<br />
foreach(</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$d</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$values</span><span class="keyword">[</span><span class="default">md5</span><span class="keyword">(</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">))] = </span><span class="default">$d</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This will serialize and hash the value, and store the value with the hash as they key. This will ensure that each piece is only stored once, as the second attempt to store will just overwrite the first attempt with identical data.<br />
<br />
The sort() at the end is a bit unnecessary, but I had to use it on my project, because the function I was passing the array to couldn't handle keys that weren't valid XML node names (and some md5 hash strings will start with numbers, which is invalid for XML).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90614""></a>
  <div class="note">
   <strong class="user">dirk dot avery a t gmail</strong>
   <a href="#90614" class="date">30-Apr-2009 05:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Although array_unique is not intended to work with multi-dimensional arrays, it does on 5.2.9.&nbsp; However, it does not for 5.2.5.&nbsp; Beware.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90405""></a>
  <div class="note">
   <strong class="user">Ultimater at gmail dot com</strong>
   <a href="#90405" class="date">21-Apr-2009 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Let's say you have<br />
<span class="default">&lt;?php<br />
$v</span><span class="keyword">=array(</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">);<br />
if(</span><span class="default">$v</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] &amp;&amp; </span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] &amp;&amp; </span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])<br />
echo </span><span class="string">"Y"</span><span class="keyword">; else echo </span><span class="string">"N"</span><span class="keyword">;</span><span class="comment">//Y<br />
</span><span class="default">?&gt;<br />
</span><br />
It works but the if-statement gets a bit messy if the number of array elements gets massive.<br />
I find it is easier to use array_unique like so:<br />
<span class="default">&lt;?php<br />
$v</span><span class="keyword">=array(</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">);<br />
echo </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">))==</span><span class="default">1</span><span class="keyword">?</span><span class="string">"Y"</span><span class="keyword">:</span><span class="string">"N"</span><span class="keyword">;</span><span class="comment">//Y<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89519""></a>
  <div class="note">
   <strong class="user">inithello at gmail dot com</strong>
   <a href="#89519" class="date">12-Mar-2009 08:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noticed there was no way to tell array_unique() to ignore certain duplicated keys, so I wrote the following. I imagine there's half a dozen more efficient ways to do this, but here goes:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'baz'</span><span class="keyword">, </span><span class="string">'bat'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'plugh'</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'foobar'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'plonk'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'apples'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'oranges'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'pears'</span><span class="keyword">);<br />
<br />
</span><span class="default">$ignore_values </span><span class="keyword">= array(</span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">make_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$ignore_values</span><span class="keyword">));<br />
<br />
function </span><span class="default">make_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$ignore</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$values </span><span class="keyword">= </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$ignore</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dupes </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$dupes </span><span class="keyword">as </span><span class="default">$rmv</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$rmv</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>OUTPUT:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; foo<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; bar<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; xyzzy<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; &amp;<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; baz<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; bat<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; |<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; plugh<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; foobar<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; |<br />
&nbsp;&nbsp;&nbsp; [13] =&gt; plonk<br />
&nbsp;&nbsp;&nbsp; [15] =&gt; apples<br />
&nbsp;&nbsp;&nbsp; [16] =&gt; &amp;<br />
&nbsp;&nbsp;&nbsp; [18] =&gt; oranges<br />
&nbsp;&nbsp;&nbsp; [20] =&gt; pears<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88769""></a>
  <div class="note">
   <strong class="user">serg dot podtynnyi at gmail dot com</strong>
   <a href="#88769" class="date">06-Feb-2009 08:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
//Remove duplicates from a text files and dump result in one file for example: emails list, links list etc<br />
<br />
<span class="default">&lt;?php<br />
<br />
$data1 </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="string">"data1.txt"</span><span class="keyword">);<br />
</span><span class="default">$data2 </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="string">"data2.txt"</span><span class="keyword">);<br />
<br />
</span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">'unique.txt'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$data1</span><span class="keyword">,</span><span class="default">$data2</span><span class="keyword">))));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86848""></a>
  <div class="note">
   <strong class="user">jusvalceanu - SPAM at SPAM - yahoo dot com</strong>
   <a href="#86848" class="date">06-Nov-2008 11:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
so .... my problem was multidimensional sort.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; $new </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$exclude </span><span class="keyword">= array(</span><span class="string">""</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]) ,</span><span class="default">$exclude</span><span class="keyword">)) { </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; </span><span class="default">$exclude</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]); }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Array $attribs is an array contaning arrays. Each array in the $attrib array consists in multiple fields (ex: name, lenght, price, etc.) to be more simpler in speech think that $attrib is the array resulted by a search sql query done by a visitator on your online shoopping website ... (so ... each array in the $attrib is a product :P) if you want to sort only the uniq results use the above or use this:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/* Our Array of products */<br />
&nbsp;&nbsp; </span><span class="default">$attribs</span><span class="keyword">[] = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"name"&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Test Product 1"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"length"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"42 cm"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"weight"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"0,5 kg"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"price"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"10 $"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"stock"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"100"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
&nbsp;&nbsp; </span><span class="default">$attribs</span><span class="keyword">[] = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"name"&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Test Product 2"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"length"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"42 cm"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"weight"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"1,5 kg"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"price"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"10 $"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"stock"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"200"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/* The nice stuff */<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$new </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$exclude </span><span class="keyword">= array(</span><span class="string">""</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]) ,</span><span class="default">$exclude</span><span class="keyword">)) { </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; </span><span class="default">$exclude</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]); }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">); </span><span class="comment">// $new is our sorted array<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Have fun tweaking this ;)) i know you will ;))<br />
<br />
From Romania With Love</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86210""></a>
  <div class="note">
   <strong class="user">florian at box dot net</strong>
   <a href="#86210" class="date">08-Oct-2008 10:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I came across one limitation of array_unique: it doesn't work properly if you have arrays inside your main array.<br />
<br />
The reason is that to compare two values, the function tests if (string) $value1 == (string) $value2. So if $value1 and $value2 are both arrays, the function will evaluate the test to 'Array' == 'Array', and decide that the $values are repeated even if the arrays are different.<br />
<br />
So a work around is to find a better conversion of an array to a string, which can be done with json:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="string">"define an array with repeated scalar '1' and repeated 'array(1)':"</span><span class="keyword">;<br />
</span><span class="default">$a_not_unique </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'d' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'e' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'f' </span><span class="keyword">=&gt; array(</span><span class="default">2</span><span class="keyword">),<br />
);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_not_unique</span><span class="keyword">);<br />
<br />
print </span><span class="string">"try to use simply array_unique, which will not work since it exludes 'array(2)':"</span><span class="keyword">;<br />
</span><span class="default">$a_unique_wrong </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$a_not_unique</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_unique_wrong</span><span class="keyword">);<br />
<br />
print </span><span class="string">"convert to json before applying array_unique, and convert back to array, which will successfully keep 'array(2)':"</span><span class="keyword">;<br />
</span><span class="default">$a_unique_right </span><span class="keyword">= </span><span class="default">$a_not_unique</span><span class="keyword">;<br />
</span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'&amp;$value,$key'</span><span class="keyword">, </span><span class="string">'$value = json_encode($value);'</span><span class="keyword">));<br />
</span><span class="default">$a_unique_right </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">);<br />
</span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'&amp;$value,$key'</span><span class="keyword">, </span><span class="string">'$value = json_decode($value, true);'</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Results:<br />
define an array with repeated scalar '1' and repeated 'array(1)':<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [d] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [e] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [f] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
try to use simply array_unique, which will not work since it exludes 'array(2)':<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [d] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
convert to json before applying array_unique, and convert back to array, which will successfully keep 'array(2)':<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [c] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [d] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [f] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85320""></a>
  <div class="note">
   <strong class="user">quecoder at gmail</strong>
   <a href="#85320" class="date">26-Aug-2008 07:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
another method to get unique values is :<br />
<br />
<span class="default">&lt;?php<br />
$alpha</span><span class="keyword">=array(</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">,</span><span class="string">'c'</span><span class="keyword">,</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">,</span><span class="string">'d'</span><span class="keyword">,</span><span class="string">'e'</span><span class="keyword">,</span><span class="string">'f'</span><span class="keyword">,</span><span class="string">'f'</span><span class="keyword">);<br />
<br />
</span><span class="default">$alpha</span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">));<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
Array ( [0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d [4] =&gt; e [5] =&gt; f )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85109""></a>
  <div class="note">
   <strong class="user">soapergem at gmail dot com</strong>
   <a href="#85109" class="date">14-Aug-2008 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's another solution for returning an array that only includes repeated values. There is one given below but it only works on numerically indexed arrays; this one is more comprehensive since I used the foreach iterator. Also, this one preserves keys--in that the returned result contains a distinct list of repeats (storing only the first instance it encounters of each duplicate value).<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_repeated</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if ( !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$duplicates </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach ( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ( </span><span class="default">$k </span><span class="keyword">!== </span><span class="default">$key </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$v </span><span class="keyword">=== </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$duplicates</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$duplicates</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84750""></a>
  <div class="note">
   <strong class="user">Dorphalsig</strong>
   <a href="#84750" class="date">28-Jul-2008 06:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a problem with array_unique and multidimensional arrays ... Maybe there's a better way to do this, but this will work for any dimensional arrays.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$myArray</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$myArray </span><span class="keyword">as &amp;</span><span class="default">$myvalue</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$myvalue</span><span class="keyword">=</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$myvalue</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$myArray</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$myArray </span><span class="keyword">as &amp;</span><span class="default">$myvalue</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$myvalue</span><span class="keyword">=</span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$myvalue</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$myArray</span><span class="keyword">;<br />
<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83927""></a>
  <div class="note">
   <strong class="user">ali at zkurd dot org</strong>
   <a href="#83927" class="date">19-Jun-2008 10:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a lot of people create functions just to fix a notice error about an undefined index and removes blank array value.<br />
<br />
why not using foreach instead of the for loop?<br />
<br />
example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach (</span><span class="default">$arrayname </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//do what you want with $value withaout index stress<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82508""></a>
  <div class="note">
   <strong class="user">PHP Expert</strong>
   <a href="#82508" class="date">14-Apr-2008 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
case insensitive for PHP v4.x and up.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">in_iarray</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">){<br />
foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">){<br />
if(</span><span class="default">strcasecmp</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">){return </span><span class="default">true</span><span class="keyword">;}<br />
}<br />
return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">){<br />
</span><span class="default">$n </span><span class="keyword">= array();<br />
foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">){<br />
if(!</span><span class="default">in_iarray</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">)){</span><span class="default">$n</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;}<br />
}<br />
return </span><span class="default">$n</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$input </span><span class="keyword">= array(</span><span class="string">"aAa"</span><span class="keyword">,</span><span class="string">"bBb"</span><span class="keyword">,</span><span class="string">"cCc"</span><span class="keyword">,</span><span class="string">"AaA"</span><span class="keyword">,</span><span class="string">"ccC"</span><span class="keyword">,</span><span class="string">"ccc"</span><span class="keyword">,</span><span class="string">"CCC"</span><span class="keyword">,</span><span class="string">"bBB"</span><span class="keyword">,</span><span class="string">"AAA"</span><span class="keyword">,</span><span class="string">"XXX"</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; aAa<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; bBb<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; cCc<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; XXX<br />
)<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81513""></a>
  <div class="note">
   <strong class="user">Ray dot Paseur at SometimesUsesGmail dot com</strong>
   <a href="#81513" class="date">02-Mar-2008 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to identify email addresses in a data table that were replicated, so I wrote the array_not_unique() function:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_not_unique</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dupes </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">natcasesort</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">reset </span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$old_key&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$old_value&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$raw_array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">NULL</span><span class="keyword">) { continue; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$old_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">$old_key</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$old_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]&nbsp; &nbsp; &nbsp; &nbsp; = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$old_value&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$old_key&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
return </span><span class="default">$dupes</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$raw_array&nbsp; &nbsp;&nbsp; </span><span class="keyword">= array();<br />
</span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'abc@xyz.com'</span><span class="keyword">;<br />
</span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'def@xyz.com'</span><span class="keyword">;<br />
</span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'ghi@xyz.com'</span><span class="keyword">;<br />
</span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'abc@xyz.com'</span><span class="keyword">; </span><span class="comment">// Duplicate<br />
<br />
</span><span class="default">$common_stuff&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">array_not_unique</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$common_stuff</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79920""></a>
  <div class="note">
   <strong class="user">php_array_unique [at] peterwarnock.com</strong>
   <a href="#79920" class="date">19-Dec-2007 08:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To clarify the note above Example #1, the function appears to cast the elements to strings for comparison and then return the type of the first unique element encountered.&nbsp; <br />
<br />
<span class="default">&lt;?php<br />
$input </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">"9"</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
array(4) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; int(0)<br />
&nbsp; [1]=&gt;<br />
&nbsp; int(2)<br />
&nbsp; [3]=&gt;<br />
&nbsp; int(3)<br />
&nbsp; [4]=&gt;<br />
&nbsp; string(1) "9"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78801""></a>
  <div class="note">
   <strong class="user">mnbayazit</strong>
   <a href="#78801" class="date">28-Oct-2007 11:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
case insensitive<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_intersect_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">array_unique</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77743""></a>
  <div class="note">
   <strong class="user">xjazey at hotmail dot com</strong>
   <a href="#77743" class="date">11-Sep-2007 08:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a solution to remove duplicate values from an array<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"Green"</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"Blue"</span><span class="keyword">;<br />
</span><span class="default">$array</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br />
<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
<br />
</span><span class="comment">//$array will output Yellow Green Blue<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76769""></a>
  <div class="note">
   <strong class="user">webmaster at jukkis dot net</strong>
   <a href="#76769" class="date">30-Jul-2007 01:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another way to 'unique column' an array, in this case an array of objects: <br />
Keep the desired unique column values in a static array inside the callback function for array_filter.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* example object */<br />
</span><span class="keyword">class </span><span class="default">myObj </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$id</span><span class="keyword">;<br />
&nbsp; public </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; function </span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$id</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="comment">/* callback function */<br />
</span><span class="keyword">function </span><span class="default">uniquecol</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">) {<br />
&nbsp; static </span><span class="default">$idlist </span><span class="keyword">= array();<br />
<br />
&nbsp; if ( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">id</span><span class="keyword">, </span><span class="default">$idlist </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$idlist</span><span class="keyword">[] = </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">id</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">true</span><span class="keyword">;&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="comment">/* a couple of arrays with second array having an element with same id as the first */<br />
</span><span class="default">$list&nbsp; </span><span class="keyword">= array( new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">1&nbsp; </span><span class="keyword">), new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">2</span><span class="keyword">, </span><span class="default">100 </span><span class="keyword">) );<br />
</span><span class="default">$list2 </span><span class="keyword">= array( new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">10 </span><span class="keyword">), new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">3</span><span class="keyword">, </span><span class="default">100 </span><span class="keyword">) );<br />
</span><span class="default">$list3 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">( </span><span class="default">$list</span><span class="keyword">, </span><span class="default">$list2 </span><span class="keyword">);<br />
<br />
</span><span class="default">$unique </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">( </span><span class="default">$list3</span><span class="keyword">, </span><span class="string">'uniquecol' </span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$list3 </span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$unique </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
In addition, use array_merge( $unique ) to reindex.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70869""></a>
  <div class="note">
   <strong class="user">arr1</strong>
   <a href="#70869" class="date">01-Nov-2006 05:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to note that array_unique, treats null values as none unique values. So if your using array_unique to detect duplicate values it will also detect multiple null values.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70786""></a>
  <div class="note">
   <strong class="user">Ome_Henk</strong>
   <a href="#70786" class="date">27-Oct-2006 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For people looking at the flip flip method for getting unique values in a simple array. This is the absolute fastest method:<br />
<br />
<span class="default">&lt;?php<br />
$unique </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
It's marginally faster as:<br />
<span class="default">&lt;?php<br />
$unique </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span><br />
And it's marginally slower as:<br />
<span class="default">&lt;?php<br />
$unique array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)); </span><span class="comment">// leaves gaps<br />
</span><span class="default">?&gt;<br />
</span><br />
It's still about twice as fast or fast as array_unique.<br />
<br />
This tested on several different machines with 100000 random arrays. All machines used a version of PHP5.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70273""></a>
  <div class="note">
   <strong class="user">geuis dot teses at gmail dot com</strong>
   <a href="#70273" class="date">09-Oct-2006 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's the shortest line of code I could find/create to remove all duplicate entries from an array and then reindex the keys.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Fruits, vegetables, and other food:<br />
</span><span class="default">$var </span><span class="keyword">= array(</span><span class="string">'apple'</span><span class="keyword">,</span><span class="string">'banana'</span><span class="keyword">,</span><span class="string">'carrot'</span><span class="keyword">,</span><span class="string">'cat'</span><span class="keyword">,</span><span class="string">'dog'</span><span class="keyword">,</span><span class="string">'egg'</span><span class="keyword">,</span><span class="string">'eggplant'</span><span class="keyword">,</span><span class="string">'fish'</span><span class="keyword">);<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70034""></a>
  <div class="note">
   <strong class="user">keneks at gmail dot com</strong>
   <a href="#70034" class="date">30-Sep-2006 04:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Taking the advantage of array_unique, here is a simple function to check if an array has duplicate values.<br />
<br />
It simply compares the number of elements between the original array and the array_uniqued array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_search_dups</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dup_array </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dup_array </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$dup_array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$dup_array</span><span class="keyword">) != </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68157""></a>
  <div class="note">
   <strong class="user">uditsawhney at yahoo dot com</strong>
   <a href="#68157" class="date">15-Jul-2006 09:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//Fn for array_unique column-wise for multi-dimensioanl array without losing keys | Start<br />
</span><span class="keyword">function </span><span class="default">array_uniquecolumn</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rows&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$columns </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$columnkeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$columns</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$rows</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$k </span><span class="keyword">= </span><span class="default">$j</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">&lt;</span><span class="default">$rows</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] == </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]])<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] = </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
return (</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
}<br />
</span><span class="comment">//Fn for array_unique column-wise for multi-dimensioanl array without losing keys | Stop<br />
<br />
</span><span class="default">$arrUGCourse</span><span class="keyword">[]= array(&nbsp; </span><span class="string">"CTR" </span><span class="keyword">=&gt; </span><span class="string">"1"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"UGCOURSE"</span><span class="keyword">=&gt;</span><span class="string">"ABC"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"TSINITIATE"</span><span class="keyword">=&gt;</span><span class="string">"540"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"COUNT"</span><span class="keyword">=&gt;</span><span class="string">"34"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"ENTRY_DT"</span><span class="keyword">=&gt;</span><span class="string">"2006-05-01"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"CUMULATIVE"</span><span class="keyword">=&gt; </span><span class="default">44</span><span class="keyword">);<br />
<br />
&nbsp;<br />
<br />
</span><span class="default">$arrUGCourse</span><span class="keyword">[]= array(&nbsp; </span><span class="string">"CTR" </span><span class="keyword">=&gt; </span><span class="string">"2"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"UGCOURSE"</span><span class="keyword">=&gt;</span><span class="string">"ABC"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"TSINITIATE"</span><span class="keyword">=&gt;</span><span class="string">"5401"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"COUNT"</span><span class="keyword">=&gt;</span><span class="string">"341"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"ENTRY_DT"</span><span class="keyword">=&gt;</span><span class="string">"2006-05-11"</span><span class="keyword">,<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"CUMULATIVE"</span><span class="keyword">=&gt; </span><span class="default">44</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_uniquecolumn</span><span class="keyword">(</span><span class="default">$arrUGCourse</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64454""></a>
  <div class="note">
   <strong class="user">MoD</strong>
   <a href="#64454" class="date">14-Apr-2006 06:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The shortest way i found to remove duplicate array from a column,<br />
For example if you parse Multiple XML sources, you can remove duplicate items that contain the same link.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">function&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">remove_duplicate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">)<br />
{<br />
&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$sub</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cmp</span><span class="keyword">[] = </span><span class="default">$sub</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">];<br />
&nbsp; </span><span class="default">$unique </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$cmp</span><span class="keyword">);<br />
&nbsp; foreach (</span><span class="default">$unique </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$rien</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />
&nbsp; return </span><span class="default">$new</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63819""></a>
  <div class="note">
   <strong class="user">agarcia at rsn dot com dot co</strong>
   <a href="#63819" class="date">31-Mar-2006 09:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a script for multi_dimensional arrays<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">remove_dup</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aux_ini</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$entrega</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">);</span><span class="default">$n</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aux_ini</span><span class="keyword">[]=</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mat</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$aux_ini</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">);</span><span class="default">$n</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$entrega</span><span class="keyword">[]=</span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$entrega</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61179""></a>
  <div class="note">
   <strong class="user">mcmeijer at yahoo dot com</strong>
   <a href="#61179" class="date">27-Jan-2006 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a recursive arrayUnique function for arrays of any dimension. (tested with 4-dimensional array)<br />
The line '$newArray=deleteEmpty($newArray);' is optional and removes empty keys and values<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newArray </span><span class="keyword">= Array();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$myArray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val2 </span><span class="keyword">= </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val2 </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray</span><span class="keyword">=</span><span class="default">deleteEmpty</span><span class="keyword">(</span><span class="default">$newArray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!empty(</span><span class="default">$val2</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$newArray</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
function </span><span class="default">deleteEmpty</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retArray</span><span class="keyword">= Array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$myArray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$key</span><span class="keyword">&lt;&gt;</span><span class="string">""</span><span class="keyword">) &amp;&amp; (</span><span class="default">$val</span><span class="keyword">&lt;&gt;</span><span class="string">""</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retArray</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60323""></a>
  <div class="note">
   <strong class="user">memandeemail at gmail dot com</strong>
   <a href="#60323" class="date">03-Jan-2006 07:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Problem:<br />
I have loaded an array with the results of a database<br />
query.&nbsp; The Fields are 'FirstName' and 'LastName'.<br />
<br />
I would like to find a way to contactenate the two<br />
fields, and then return only unique values for the<br />
array.&nbsp; For example, if the database query returns<br />
three instances of a record with the FirstName John<br />
and the LastName Smith in two distinct fields, I would<br />
like to build a new array that would contain all the<br />
original fields, but with John Smith in it only once.<br />
Thanks for: Colin Campbell<br />
<br />
Solution:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* The same thing than implode function, but return the keys so<br />
&nbsp;*<br />
&nbsp;* &lt;code&gt;<br />
&nbsp;* $_GET = array('id' =&gt; '4587','with' =&gt; 'key');<br />
&nbsp;* ...<br />
&nbsp;* echo shared::implode_with_key('&amp;',$_GET,'='); // Resultado: id=4587&amp;with=key<br />
&nbsp;* ...<br />
&nbsp;* &lt;/code&gt;<br />
&nbsp;*<br />
&nbsp;* @param string $glue Oque colocar entre as chave =&gt; valor<br />
&nbsp;* @param array $pieces Valores<br />
&nbsp;* @param string $hifen Separar chave da array do valor<br />
&nbsp;* @return string<br />
&nbsp;* @author memandeemail at gmail dot com<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$glue </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">, </span><span class="default">$hifen </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; foreach (</span><span class="default">$pieces </span><span class="keyword">as </span><span class="default">$tk </span><span class="keyword">=&gt; </span><span class="default">$tv</span><span class="keyword">) </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$glue</span><span class="keyword">.</span><span class="default">$tk</span><span class="keyword">.</span><span class="default">$hifen</span><span class="keyword">.</span><span class="default">$tv</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Return unique values from a tree of values<br />
&nbsp;*<br />
&nbsp;* @param array $array_tree<br />
&nbsp;* @return array<br />
&nbsp;* @author memandeemail at gmail dot com<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_unique_tree</span><span class="keyword">(</span><span class="default">$array_tree</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$will_return </span><span class="keyword">= array(); </span><span class="default">$vtemp </span><span class="keyword">= array();<br />
&nbsp; foreach (</span><span class="default">$array_tree </span><span class="keyword">as </span><span class="default">$tkey </span><span class="keyword">=&gt; </span><span class="default">$tvalue</span><span class="keyword">) </span><span class="default">$vtemp</span><span class="keyword">[</span><span class="default">$tkey</span><span class="keyword">] = </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="string">'&amp;'</span><span class="keyword">,</span><span class="default">$tvalue</span><span class="keyword">,</span><span class="string">'='</span><span class="keyword">);<br />
&nbsp; foreach (</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$vtemp</span><span class="keyword">)) as </span><span class="default">$tvalue</span><span class="keyword">) </span><span class="default">$will_return</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">] = </span><span class="default">$array_tree</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">];<br />
&nbsp; return </span><span class="default">$will_return</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$problem </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,<br />
array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'John'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'Smith'</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">$problem</span><span class="keyword">[] = array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'Davi'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'S. Mesquita'</span><span class="keyword">);<br />
</span><span class="default">$problem</span><span class="keyword">[] = array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'John'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'Tom'</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$problem</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_unique_tree</span><span class="keyword">(</span><span class="default">$problem</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57006""></a>
  <div class="note">
   <strong class="user">passtschu AT freenet DOT de</strong>
   <a href="#57006" class="date">21-Sep-2005 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_unique for multidimensional arrays. similar to the DISTINCT in SQL function.<br />
the function can group, sum and count keys<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="comment">/*<br />
$array - nothing to say<br />
$group_keys - columns which have to be grouped - can be STRING or ARRAY (STRING, STRING[, ...])<br />
$sum_keys - columns which have to be summed - can be STRING or ARRAY (STRING, STRING[, ...])<br />
$count_key - must be STRING - count the grouped keys<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_distinct </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$group_keys</span><span class="keyword">, </span><span class="default">$sum_keys </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$count_key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">){<br />
&nbsp; if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$group_keys</span><span class="keyword">)) </span><span class="default">$group_keys </span><span class="keyword">= array (</span><span class="default">$group_keys</span><span class="keyword">);<br />
&nbsp; if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$sum_keys</span><span class="keyword">)) </span><span class="default">$sum_keys </span><span class="keyword">= array (</span><span class="default">$sum_keys</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="default">$existing_sub_keys </span><span class="keyword">= array ();<br />
&nbsp; </span><span class="default">$output </span><span class="keyword">= array ();<br />
<br />
&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$sub_array</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#group keys<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$group_keys </span><span class="keyword">as </span><span class="default">$group_key</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$puffer </span><span class="keyword">.= </span><span class="default">$sub_array</span><span class="keyword">[</span><span class="default">$group_key</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">serialize </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">in_array </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">, </span><span class="default">$existing_sub_keys</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$existing_sub_keys</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$puffer</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$sub_array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">array_search </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">, </span><span class="default">$existing_sub_keys</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">#sum keys<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$sum_keys </span><span class="keyword">as </span><span class="default">$sum_key</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_string </span><span class="keyword">(</span><span class="default">$sum_key</span><span class="keyword">)) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$sum_key</span><span class="keyword">] += </span><span class="default">$sub_array</span><span class="keyword">[</span><span class="default">$sum_key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">#count grouped keys<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">array_key_exists </span><span class="keyword">(</span><span class="default">$count_key</span><span class="keyword">, </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">])) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$count_key</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">is_string </span><span class="keyword">(</span><span class="default">$count_key</span><span class="keyword">)) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$count_key</span><span class="keyword">]++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55923""></a>
  <div class="note">
   <strong class="user">muddmonkey@harveyMcoldotedu</strong>
   <a href="#55923" class="date">17-Aug-2005 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're doing numeric arrays etc. I found flip-flip to work much better than array_unique:<br />
<br />
<span class="default">&lt;?PHP<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">microtime_float</span><span class="keyword">(){ </span><span class="comment">//timing<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">list(</span><span class="default">$usec</span><span class="keyword">, </span><span class="default">$sec</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">microtime</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp; return ((float)</span><span class="default">$usec </span><span class="keyword">+ (float)</span><span class="default">$sec</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//make an arry and fill it up<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$final</span><span class="keyword">=array(); <br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">50000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$final</span><span class="keyword">[]=</span><span class="default">$i</span><span class="keyword">%</span><span class="default">13</span><span class="keyword">; </span><span class="comment">//make sure there are some dupes<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//try array unique<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start1 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stop1</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="default">$stop1</span><span class="keyword">-</span><span class="default">$start1</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//try my flip-flip<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start2</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stop2</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="default">$stop2</span><span class="keyword">-</span><span class="default">$start2</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Running this with only ints in the array (as above) I get runtimes such as: <br />
1.6195669174194 (using unique)<br />
0.017037868499756 (using flip flip)<br />
which is two orders of magnitude faster!<br />
<br />
Appending a string:<br />
($final[]='test'.$i%13;)<br />
gives:<br />
0.42909598350525 (using unique)<br />
0.023258924484253 (using flip-flip)<br />
Which is not AS great, but still 20x faster than unique. <br />
<br />
In both cases the flip-flip seems to use less memory than the unique.<br />
<br />
Granted the flip-flip doesn't work for all cases, but if you're doing simple stuff like this, the flip-flip will give you better run times.<br />
<br />
~JF</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51941""></a>
  <div class="note">
   <strong class="user">memandeemail at gmail dot com</strong>
   <a href="#51941" class="date">15-Apr-2005 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Removes duplicate keys from an array<br />
&nbsp;*<br />
&nbsp;* @param array $array<br />
&nbsp;* @return array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_unique_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) as </span><span class="default">$tvalue</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51607""></a>
  <div class="note">
   <strong class="user">Ric</strong>
   <a href="#51607" class="date">05-Apr-2005 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A very simple way of getting rid of duplicate entries and re-indexing with key starting at 0:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $temp</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$main</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$main</span><span class="keyword">=</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49627""></a>
  <div class="note">
   <strong class="user">trigger at e-mail dot ru</strong>
   <a href="#49627" class="date">03-Feb-2005 11:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a simple implementation for JavaScript:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">thearray</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">thearray</span><span class="keyword">.</span><span class="default">sort</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//reset($thearray);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">newarray </span><span class="keyword">= new Array();<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">n</span><span class="keyword">&lt;</span><span class="default">thearray</span><span class="keyword">.</span><span class="default">length</span><span class="keyword">;</span><span class="default">n</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">unique</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="comment">//by default<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">nn</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">nn</span><span class="keyword">&lt;</span><span class="default">newarray</span><span class="keyword">.</span><span class="default">length</span><span class="keyword">;</span><span class="default">nn</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">thearray</span><span class="keyword">[</span><span class="default">n</span><span class="keyword">] == </span><span class="default">newarray</span><span class="keyword">[</span><span class="default">nn</span><span class="keyword">])<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">unique</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="comment">//already exists<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">unique</span><span class="keyword">)</span><span class="comment">//dont exists<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">newarray</span><span class="keyword">.</span><span class="default">push</span><span class="keyword">(</span><span class="default">thearray</span><span class="keyword">[</span><span class="default">n</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">newarray</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46871""></a>
  <div class="note">
   <strong class="user">lucas.bickel AT purplehaze DOT ch</strong>
   <a href="#46871" class="date">26-Oct-2004 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I quite like the following code for making multidimensional arrays unique:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach (</span><span class="default">$arrAddressList </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$arrAddress</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrAddressList</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$arrAddress</span><span class="keyword">);<br />
}<br />
</span><span class="default">$arrAddressList </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$arrAdressList</span><span class="keyword">);<br />
foreach (</span><span class="default">$arrAddressList </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$strAddress</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrAddressList</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$strAddress</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This gets me a unique array while not minding wether the the original array contains arrays or just strings (or whatever...).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43272""></a>
  <div class="note">
   <strong class="user">wernerlistas at terra dot com dot br</strong>
   <a href="#43272" class="date">16-Jun-2004 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Following the code copies of a little function I've wrote that actually works with multidimensional arrays.<br />
It also resets the array indexes.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( !</span><span class="default">function_exists</span><span class="keyword">( </span><span class="string">"arrayUnique" </span><span class="keyword">) ){<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">arrayUnique </span><span class="keyword">( </span><span class="default">$rArray </span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rReturn </span><span class="keyword">= array ();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ( list( </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val </span><span class="keyword">) = </span><span class="default">each </span><span class="keyword">( </span><span class="default">$rArray </span><span class="keyword">) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( !</span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$val</span><span class="keyword">, </span><span class="default">$rReturn </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">( </span><span class="default">$rReturn</span><span class="keyword">, </span><span class="default">$val </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$rReturn</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43114""></a>
  <div class="note">
   <strong class="user">csaba at alum dot mit dot edu</strong>
   <a href="#43114" class="date">10-Jun-2004 04:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following is an efficient, adaptable implementation of array_unique which always retains the first key having a given value:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_unique2</span><span class="keyword">(&amp;</span><span class="default">$aray</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aHash </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$aray </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$val</span><span class="keyword">) if (@</span><span class="default">$aHash</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">]++) unset (</span><span class="default">$aray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
It is also adaptable to multi dimensional arrays.&nbsp; For example, if your array is a sequence of (multidimensional) points, then in place of @$aHash[$val]++ you could use @$aHash[implode("X",$val)]++<br />
If you want to not have holes in your array, you can do an array_merge($aray) at the end.<br />
<br />
Csaba Gabor</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40685""></a>
  <div class="note">
   <strong class="user">patrikG at home dot net</strong>
   <a href="#40685" class="date">11-Mar-2004 04:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to have the keys of the duplicates in an array returned, you may find this function useful:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">unique_events</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">){ <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//checks $array for duplicate values and returns an <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //array containing the keys of duplicates<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">= </span><span class="default">array_intersect_assoc</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">][]=</span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<br />
Input:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 44<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 23<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 23<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 23<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; 9<br />
)<br />
<br />
Function returns:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [23] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; 6<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; 7<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] =&gt; 8<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [5] =&gt; 9<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [6] =&gt; 10<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [7] =&gt; 11<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32344""></a>
  <div class="note">
   <strong class="user">kay_rules at yahoo dot com</strong>
   <a href="#32344" class="date">24-May-2003 11:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this function will return an array with unique value and proper key increment start from 0.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*******************************/<br />
</span><span class="keyword">function </span><span class="default">my_array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmparr </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$tmparr </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newarr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$newarr</span><span class="keyword">;<br />
}<br />
</span><span class="comment">/********************************/<br />
</span><span class="default">?&gt;<br />
</span><br />
eg:<br />
<br />
<span class="default">&lt;?php<br />
$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">'bb'<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =</span><span class="string">'aa'<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =</span><span class="string">'dd'<br />
</span><span class="default">?&gt;<br />
</span><br />
normal array_unique will return:<br />
<br />
<span class="default">&lt;?php<br />
$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =</span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =</span><span class="string">'dd'<br />
</span><span class="default">?&gt;<br />
</span><br />
my_array_unique will return:<br />
<br />
<span class="default">&lt;?php<br />
$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'</span><span class="keyword">;<br />
</span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">'dd'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28892""></a>
  <div class="note">
   <strong class="user">martin at lucas-smith dot co dot uk</strong>
   <a href="#28892" class="date">27-Jan-2003 02:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get a list of the duplicated values in an array, array_unique isn't much help. Instead, use array_filter in conjunction with a callback function, as below:<br />
<br />
<span class="default">&lt;?php<br />
$checkKeysUniqueComparison </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$value'</span><span class="keyword">,</span><span class="string">'if ($value &gt; 1) return true;'</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_keys </span><span class="keyword">(</span><span class="default">array_filter </span><span class="keyword">(</span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$checkKeysUniqueComparison</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
These two lines therefore will create $result, an array of duplicated values in the array $array, once each. E.g. the array<br />
$array = array ("a", "b", "a", "b", "x", "y", "z", "x");<br />
gives the result<br />
Array([0] =&gt; a [1] =&gt; b [2] =&gt; x)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25428""></a>
  <div class="note">
   <strong class="user">deigo at swirve dot NOSPAM dot com</strong>
   <a href="#25428" class="date">23-Sep-2002 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Before I found the mysql distinct I had to make a nicer array from the keys/values that I got from array_unique so.<br />
<br />
<span class="default">&lt;?php<br />
$groups</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);<br />
</span><span class="default">$newgroup</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);<br />
for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);</span><span class="default">$x</span><span class="keyword">++)<br />
{<br />
&nbsp; </span><span class="default">$newgroup</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]=</span><span class="default">next</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24831""></a>
  <div class="note">
   <strong class="user">php at hp-site dot dk</strong>
   <a href="#24831" class="date">29-Aug-2002 08:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Try this:<br />
array_flip(array_flip($array));<br />
<br />
It gives the same result as the old array_unique()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24818""></a>
  <div class="note">
   
   <a href="#24818" class="date">29-Aug-2002 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$truc </span><span class="keyword">= array(</span><span class="string">"l810u00"</span><span class="keyword">,</span><span class="string">"l810u00"</span><span class="keyword">,</span><span class="string">"l810q00"</span><span class="keyword">); <br />
</span><span class="default">$machin </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$truc</span><span class="keyword">); <br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$machin</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++){ <br />
print </span><span class="default">$machin</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"<br />
"</span><span class="keyword">; <br />
} <br />
</span><span class="default">?&gt;</span> <br />
result : <br />
l810u00 <br />
<br />
This is not strange: $machin (as returned by array unique), contains "l810u00" either in key[0] or key[1] but not both (the key depends on the ersion of PHP), and "l810q00" in key[2].<br />
The returned array has TWO elements so count($machin)==2.<br />
The returned array has a hole in it, and you're not displaying its full content. You could verify it by using this display loop instead:<br />
foreach($machine as $key=&gt;$value){ <br />
print '[' . $key . '] =&gt; ' . $value . '<br />
"; <br />
} <br />
result:<br />
[0] =&gt; l810q00<br />
[2] =&gt; l810u00<br />
(the first line may display [1] instead of [0] for PHP 4.0.1p3, but you'll get the same order of values and two lines, as expected). When calling array_values() on the result, you're building a new array with the same values in the same order, but with renumbered keys (without holes in numeric keys).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="16802""></a>
  <div class="note">
   <strong class="user">spunk at dasspunk dot NOSPAM dot com</strong>
   <a href="#16802" class="date">14-Nov-2001 01:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a way of retaining the original array's keys in the new, unique array. I came up with this. It works for my purposes but may need refinement.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$currentarrayvar </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$somearray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$var</span><span class="keyword">) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">next</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">) != </span><span class="default">$currentarrayvar</span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$uniquearray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$currentarrayvar</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$currentarrayvar </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$uniquearray</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$uniquearray</span><span class="keyword">; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13927""></a>
  <div class="note">
   <strong class="user">az at top-webdesign dot de</strong>
   <a href="#13927" class="date">10-Jul-2001 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Attention!<br />
If you use array_unique be aware of data-types! (I spent hours of debugging because of that ...).<br />
<br />
For example, if you've got an array containing a '3' as number and another '3' as string it won't be eliminated by array_unique.<br />
<br />
An Example where this can happen, without really thinking about it:<br />
<br />
I've got an article-list with product-numbers where the third and fourth digit is the code for the producer. So I read in the file an process it line by line and put each producer-code into an array:<br />
------------------------------<br />
<span class="default">&lt;?php<br />
$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
while(</span><span class="default">$line </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">, </span><span class="default">10000</span><span class="keyword">) {<br />
</span><span class="comment">// splitting the line, product_no is the first part:<br />
<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">";"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);<br />
<br />
</span><span class="comment">// putting the producer_code into an array:<br />
<br />
</span><span class="default">$producer_id</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
<br />
</span><span class="comment">// make a special exception:<br />
<br />
</span><span class="keyword">if(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)) == </span><span class="default">40</span><span class="keyword">) {<br />
</span><span class="default">$producer_id</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="string">'30'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// in the above line if you leave the 30 without the ''<br />
// array_unique won't work!<br />
<br />
</span><span class="default">$i</span><span class="keyword">++;<br />
}<br />
<br />
</span><span class="default">$producer_ids </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$producer_id</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span>-------------------------------<br />
Result is to have all producer-ID's in an array without dupes.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12566""></a>
  <div class="note">
   <strong class="user">rein at velt dot net</strong>
   <a href="#12566" class="date">21-Apr-2001 09:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Following code copies unique values from MyArray to TempArray.<br />
Then copies non-empty elements from TempArray to UniqueArray.<br />
<br />
Not the most elegant solution, but it works.<br />
<br />
<span class="default">&lt;?php<br />
$TempArray </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$MyArray</span><span class="keyword">);<br />
while (list(</span><span class="default">$index</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$TempArray</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">isempty</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$UniqueArray</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]=</span><span class="default">$data</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8717""></a>
  <div class="note">
   <strong class="user">jllamas at bal dot com dot mx</strong>
   <a href="#8717" class="date">26-Sep-2000 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems that array_unique creates an exact copy of the original array and then elimitates duplicate values. It does NOT change the "internal references" of the array. For example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $test_alfa </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="string">"cc"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test_beta</span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$test_alfa</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numValues </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$test_beta</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">7 </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo(</span><span class="string">"test_beta[</span><span class="default">$i</span><span class="string">] = </span><span class="default">$test_beta</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]</span><span class="string"> &lt;br&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo (</span><span class="string">"Number of elements in test_beta = </span><span class="default">$numValues</span><span class="string"> "</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will give you the following output:<br />
<br />
test_beta[0] = <br />
test_beta[1] = aa <br />
test_beta[2] = <br />
test_beta[3] = <br />
test_beta[4] = <br />
test_beta[5] = bb <br />
test_beta[6] = cc <br />
test_beta[7] = <br />
Number of elements in test_beta = 3 <br />
<br />
The point is that you won't get the output you'd expect if you think that the values of the non duplicate elements are located in the first three array locations.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $numValues </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$test_beta</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$numValues</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo(</span><span class="string">"test_beta[</span><span class="default">$i</span><span class="string">] = </span><span class="default">$test_beta</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]</span><span class="string"> &lt;br&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo (</span><span class="string">"Number of elements in test_beta = </span><span class="default">$numValues</span><span class="string"> "</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
will give you:<br />
<br />
test_beta[0] = <br />
test_beta[1] = aa <br />
test_beta[2] = <br />
Number of elements in test_beta = 3 <br />
<br />
Hope that saves u some debugging time!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-uintersect.html">array_uintersect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-unshift.html">array_unshift</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
