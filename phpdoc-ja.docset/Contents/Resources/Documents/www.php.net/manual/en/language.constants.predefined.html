<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>自動的に定義される定数</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.constants.syntax.html">構文</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.expressions.html">式</a></div>
 <div class="up"><a href="language.constants.html">定数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.constants.predefined" class="sect1">
   <h2 class="title">自動的に定義される定数</h2>

   <p class="simpara">
    PHPには実行されるスクリプトで使用可能な多くの
    <a href="reserved.constants.html" class="link">定義済みの定数</a>があります。
    しかし、これらの定数の多くは、種々の拡張モジュールにより作成され、
    動的なロードやコンパイル時の組込みにより、これらの拡張モジュールが
    使用可能である場合にのみ定義されます。
   </p>

   <p class="para">
    使われ方によって変化する自動的に定義される定数（マジカル定数）が 8 つあります。
    例えば、<strong><code>__LINE__</code></strong>はスクリプト上において
    呼び出された行番号です。特別定数は大文字小文字を区別しません。
    内容は以下のとおりです:
   </p>
   <p class="para">
    <table class="doctable table">
     <caption><strong>PHP の &quot;マジック&quot; 定数</strong></caption>
     
      <thead>
       <tr>
        <th>名前</th>
        <th>説明</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr id="constant.line">
        <td><strong><code>__LINE__</code></strong></td>
        <td>
         ファイル上の現在の行番号。
        </td>
       </tr>

       <tr id="constant.file">
        <td><strong><code>__FILE__</code></strong></td>
        <td>
         ファイルのフルパスとファイル名。インクルードされるファイルの
         中で使用された場合、インクルードされるファイルの名前が返されます。
         PHP 4.0.2 以降では <strong><code>__FILE__</code></strong>
         は常に絶対パスで、シンボリックリンクは解決されます。
         それより前のバージョンでは、場合によっては相対パスが返されることもあります。
        </td>
       </tr>

       <tr id="constant.dir">
        <td><strong><code>__DIR__</code></strong></td>
        <td>
         そのファイルの存在するディレクトリ。include の中で使用すると、
         インクルードされるファイルの存在するディレクトリを返します。
         つまり、これは <em>dirname(__FILE__)</em> と同じ意味です。
         ルートディレクトリである場合を除き、ディレクトリ名の末尾にスラッシュはつきません
         (PHP 5.3.0 で追加されました)。
        </td>
       </tr>

       <tr id="constant.function">
        <td><strong><code>__FUNCTION__</code></strong></td>
        <td>
         関数名（PHP4.3.0で追加されました）。
         PHP 5以降、この定数は宣言時の関数名(ケース依存)を返します。
         PHP 4では、この値は常に小文字で返されました。
        </td>
       </tr>

       <tr id="constant.class">
        <td><strong><code>__CLASS__</code></strong></td>
        <td>
         クラス名（PHP4.3.0で追加されました）。
         PHP 5以降、この定数は宣言時のクラス名(ケース依存)を返します。
         PHP 4では、この値は常に小文字で返されました。
         クラス名には、そのクラスが宣言されている名前空間も含みます
         (例 <em>Foo\Bar</em>)。
         PHP 5.4 以降では、__CLASS__ がトレイトでも使えることに注意しましょう。トレイトのメソッド内で
         __CLASS__ を使うと、そのトレイトを use しているクラスの名前を返します。
        </td>
       </tr>

       <tr id="constant.trait">
        <td><strong><code>__TRAIT__</code></strong></td>
        <td>
         トレイト名 (PHP 5.4.0 で追加されました)。PHP 5.4 以降では、
         この定数はトレイト名を宣言時のままで返します (大文字小文字を区別します)。
         トレイト名には、宣言された名前空間も含みます
         (例 <em>Foo\Bar</em>)。
        </td>
       </tr>

       
       <tr id="constant.method">
        <td><strong><code>__METHOD__</code></strong></td>
        <td>
         クラスのメソッド名（PHP5.0.0で追加されました）。
         メソッド名は宣言時と同じ(ケース依存)を返します。
        </td>
       </tr>

       <tr id="constant.namespace">
        <td><strong><code>__NAMESPACE__</code></strong></td>
        <td>
         現在の名前空間の名前 (大文字小文字を区別します)。
         この定数はコンパイル時に定義されます (PHP 5.3.0 で追加されました)。
        </td>
       </tr>

      </tbody>
     
    </table>

   </p>
   <p class="para">
     <span class="function"><a href="function.get-class.html" class="function">get_class()</a></span>,
     <span class="function"><a href="function.get-object-vars.html" class="function">get_object_vars()</a></span>,
     <span class="function"><a href="function.file-exists.html" class="function">file_exists()</a></span>,
     <span class="function"><a href="function.function-exists.html" class="function">function_exists()</a></span>も参照してください。
   </p>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113736""></a>
  <div class="note">
   <strong class="user">skoobiedu at gmail dot com</strong>
   <a href="#113736" class="date">23-Nov-2013 05:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
__DIR__ is actually equivalent to realpath(dirname(__FILE__)).<br />
<br />
Here's a modified version of the one-liner eyecatchup at gmail dot com[1] wrote:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// ensure the __DIR__ constant is defined for PHP 4.0.6 and newer<br />
</span><span class="keyword">(@</span><span class="default">__DIR__ </span><span class="keyword">== </span><span class="string">'__DIR__'</span><span class="keyword">) &amp;&amp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'__DIR__'</span><span class="keyword">, </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span><br />
Their version also works on PHP 4.0.6, but doesn't use realpath. __DIR__ is an absolute path to the current file.<br />
<br />
[1] <a href="http://www.php.net/manual/en/language.constants.predefined.php#113233" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.constants.predefined.php#113233</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113233""></a>
  <div class="note">
   <strong class="user">eyecatchup at gmail dot com</strong>
   <a href="#113233" class="date">16-Sep-2013 07:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As pointed out by david at thegallagher dot net[1], you can NOT use the defined() function to check if a *magic* constant is defined.&nbsp; Often seen, but will not work:<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'__MAGIC_CONSTANT__'</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// FAIL! even if __MAGIC_CONSTANT__ is defined, <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // defined('__MAGIC_CONSTANT__') will ALWAYS return (bool)false.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="default">?&gt;</span> <br />
<br />
Now, raat1979 at gmail dot com[2] pointed out a solution to check if a magic constant is defined or not (which actually works reliable). Thanks to dynamic typecasting in PHP, if a constant lookup fails PHP interprets the given constant name as string (note that a notice is thrown nonetheless. thus, use "@" to suppress it).<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; var_dump</span><span class="keyword">(@</span><span class="default">UNDEFINED_CONSTANT_NAME</span><span class="keyword">);&nbsp; </span><span class="comment">//prints: string(23) "UNDEFINED_CONSTANT_NAME" <br />
</span><span class="default">?&gt;<br />
</span><br />
Meaning we can check for all constants - including magic constants (eg __DIR__) - as follows:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (@</span><span class="default">__DIR__ </span><span class="keyword">== </span><span class="string">'__DIR__'</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// __DIR__ was interpreted as string. thus, (magic) constant __DIR__ is not defined. <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
However, what is wrong in raat1979 at gmail dot com's note[2] is this comment:<br />
&gt; "remember that because they are MAGIC constants defining __DIR__ is completely useless" <br />
<br />
In fact, you *can* define magic constants (as long as they haven't been defined before, of course).<br />
<br />
Based on all I've read and tested today, here is my code I use to make the `__DIR__` magic constant work with all PHP versions (4.3.1 - 5.5.3):<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Ensure that PHP's magic constant __DIR__ is defined - no matter of the PHP version.<br />
<br />
&nbsp;&nbsp;&nbsp; // If magic __DIR__ constant is not defined, define it.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">(@</span><span class="default">__DIR__ </span><span class="keyword">== </span><span class="string">'__DIR__'</span><span class="keyword">) &amp;&amp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'__DIR__'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// All PHP versions (&gt;= 4.3.1) can use the magic __DIR__ constant now..<br />
&nbsp;&nbsp;&nbsp; // Demo (outputs and VLD opcodes) here: <a href="http://3v4l.org/bm6e1" rel="nofollow" target="_blank">http://3v4l.org/bm6e1</a><br />
</span><span class="default">?&gt;<br />
</span><br />
[1] <a href="http://us2.php.net/manual/en/language.constants.predefined.php#107614" rel="nofollow" target="_blank">http://us2.php.net/manual/en/language.constants.predefined.php#107614</a><br />
[2] <a href="http://us2.php.net/manual/en/language.constants.predefined.php#113130" rel="nofollow" target="_blank">http://us2.php.net/manual/en/language.constants.predefined.php#113130</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113130""></a>
  <div class="note">
   <strong class="user">raat1979 at gmail dot com</strong>
   <a href="#113130" class="date">03-Sep-2013 09:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Magic constants can not be tested with defined($name)<br />
<br />
<span class="default">&lt;?php <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">defined</span><span class="keyword">(</span><span class="default">__DIR__</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//will not work<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
</span><span class="default">?&gt;</span> <br />
<br />
when __DIR__ is not defined and you use it anyway php assumes you meant '__DIR__' and&nbsp; throws a notice.<br />
because of this assumption we can do:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(@</span><span class="default">__DIR__ </span><span class="keyword">== </span><span class="string">'__DIR__'</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'magic __DIR__ constant NOT defined'</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="comment">//insert this code where needed, remember that because they are MAGIC constants defining __DIR__ is completely useless <br />
</span><span class="keyword">}echo{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'magic __DIR__ constant IS defined'</span><span class="keyword">;<br />
&nbsp; <br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107614""></a>
  <div class="note">
   <strong class="user">david at thegallagher dot net</strong>
   <a href="#107614" class="date">22-Feb-2012 10:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You cannot check if a magic constant is defined. This means there is no point in checking if __DIR__ is defined then defining it. `defined('__DIR__')` always returns false. Defining __DIR__ will silently fail in PHP 5.3+. This could cause compatibility issues if your script includes other scripts.<br />
<br />
Here is proof:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo (</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'__DIR__'</span><span class="keyword">) ? </span><span class="string">'__DIR__ is defined' </span><span class="keyword">: </span><span class="string">'__DIR__ is NOT defined' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">);<br />
echo (</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'__FILE__'</span><span class="keyword">) ? </span><span class="string">'__FILE__ is defined' </span><span class="keyword">: </span><span class="string">'__FILE__ is NOT defined' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">);<br />
echo (</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'PHP_VERSION'</span><span class="keyword">) ? </span><span class="string">'PHP_VERSION is defined' </span><span class="keyword">: </span><span class="string">'PHP_VERSION is NOT defined'</span><span class="keyword">) . </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">'PHP Version: ' </span><span class="keyword">. </span><span class="default">PHP_VERSION </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
__DIR__ is NOT defined<br />
__FILE__ is NOT defined<br />
PHP_VERSION is defined<br />
PHP Version: 5.3.6</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107002""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#107002" class="date">27-Dec-2011 05:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further clarification on the __TRAIT__ magic constant.<br />
<br />
<span class="default">&lt;?php<br />
trait PeanutButter </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">traitName</span><span class="keyword">() {echo </span><span class="default">__TRAIT__</span><span class="keyword">;}<br />
}<br />
<br />
</span><span class="default">trait PeanutButterAndJelly </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; use </span><span class="default">PeanutButter</span><span class="keyword">;<br />
}<br />
<br />
class </span><span class="default">Test </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; use </span><span class="default">PeanutButterAndJelly</span><span class="keyword">;<br />
}<br />
<br />
(new </span><span class="default">Test</span><span class="keyword">)-&gt;</span><span class="default">traitName</span><span class="keyword">(); </span><span class="comment">//PeanutButter<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104842""></a>
  <div class="note">
   <strong class="user">user9 at voloreport dot com</strong>
   <a href="#104842" class="date">10-Jul-2011 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that __FILE__ has a quirk when used inside an eval() call. It will tack on something like "(80) : eval()'d code" (the number may change) on the end of the string at run-time. The workaround is:<br />
<br />
$script = php_strip_whitespace('myprogram.php');<br />
$script = str_replace('__FILE__',"preg_replace('@\(.*\(.*$@', '', __FILE__,1)",$script);<br />
eval($script);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103556""></a>
  <div class="note">
   <strong class="user">chris dot kistner at gmail dot com</strong>
   <a href="#103556" class="date">20-Apr-2011 02:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no way to implement a backwards compatible __DIR__ in versions prior to 5.3.0.<br />
<br />
The only thing that you can do is to perform a recursive search and replace to dirname(__FILE__):<br />
find . -type f -print0 | xargs -0 sed -i 's/__DIR__/dirname(__FILE__)/'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99849""></a>
  <div class="note">
   <strong class="user">madboyka at yahoo dot com</strong>
   <a href="#99849" class="date">10-Sep-2010 04:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since namespace were introduced, it would be nice to have a magic constant or function (like get_class()) which would return the class name without the namespaces.<br />
<br />
On windows I used basename(__CLASS__). (LOL)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75894""></a>
  <div class="note">
   <strong class="user">php at kennel17 dot co dot uk</strong>
   <a href="#75894" class="date">20-Jun-2007 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further to my previous note, the 'object' element of the array can be used to get the parent object.&nbsp; So changing the get_class_static() function to the following will make the code behave as expected:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">get_class_static</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bt </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'class'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
HOWEVER, it still fails when being called statically.&nbsp; Changing the last two lines of my previous example to<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; foo</span><span class="keyword">::</span><span class="default">printClassName</span><span class="keyword">();<br />
&nbsp; </span><span class="default">bar</span><span class="keyword">::</span><span class="default">printClassName</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
...still gives the same problematic result in PHP5, but in this case the 'object' property is not set, so that technique is unavailable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71064""></a>
  <div class="note">
   <strong class="user">Tomek Perlak [tomekperlak at tlen pl]</strong>
   <a href="#71064" class="date">10-Nov-2006 11:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The __CLASS__ magic constant nicely complements the get_class() function.<br />
<br />
Sometimes you need to know both:<br />
- name of the inherited class<br />
- name of the class actually executed<br />
<br />
Here's an example that shows the possible solution:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">base_class<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">say_a</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"'a' - said the " </span><span class="keyword">. </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">say_b</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"'b' - said the " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">) . </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
<br />
class </span><span class="default">derived_class </span><span class="keyword">extends </span><span class="default">base_class<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">say_a</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">say_a</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"'a' - said the " </span><span class="keyword">. </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">say_b</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">say_b</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"'b' - said the " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">) . </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj_b </span><span class="keyword">= new </span><span class="default">derived_class</span><span class="keyword">();<br />
<br />
</span><span class="default">$obj_b</span><span class="keyword">-&gt;</span><span class="default">say_a</span><span class="keyword">();<br />
echo </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />
</span><span class="default">$obj_b</span><span class="keyword">-&gt;</span><span class="default">say_b</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The output should look roughly like this:<br />
<br />
'a' - said the base_class<br />
'a' - said the derived_class<br />
<br />
'b' - said the derived_class<br />
'b' - said the derived_class</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57033""></a>
  <div class="note">
   <strong class="user">vijaykoul_007 at rediffmail dot com</strong>
   <a href="#57033" class="date">22-Sep-2005 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
the difference between <br />
__FUNCTION__ and __METHOD__ as in PHP 5.0.4 is that<br />
<br />
__FUNCTION__ returns only the name of the function<br />
<br />
while as __METHOD__ returns the name of the class alongwith the name of the function<br />
<br />
class trick<br />
{<br />
&nbsp;&nbsp; &nbsp;&nbsp; function doit()<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo __FUNCTION__;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; function doitagain()<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo __METHOD__;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
}<br />
$obj=new trick();<br />
$obj-&gt;doit();<br />
output will be ----&nbsp; doit<br />
$obj-&gt;doitagain();<br />
output will be ----- trick::doitagain</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44214""></a>
  <div class="note">
   <strong class="user">claude at NOSPAM dot claude dot nl</strong>
   <a href="#44214" class="date">18-Jul-2004 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that __CLASS__ contains the class it is called in; in lowercase. So the code:<br />
<br />
class A<br />
{<br />
&nbsp;&nbsp;&nbsp; function showclass()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo __CLASS__;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class B extends A<br />
{<br />
}<br />
<br />
$a = new A();<br />
$b = new B();<br />
<br />
$a-&gt;showclass();<br />
$b-&gt;showclass();<br />
A::showclass();<br />
B::showclass();<br />
<br />
results in "aaaa";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.constants.syntax.html">構文</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.expressions.html">式</a></div>
 <div class="up"><a href="language.constants.html">定数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
