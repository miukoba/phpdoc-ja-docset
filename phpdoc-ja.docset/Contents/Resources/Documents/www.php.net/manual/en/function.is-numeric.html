<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>変数が数字または数値形式の文字列であるかを調べる</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.is-null.html">is_null</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.is-object.html">is_object</a></div>
 <div class="up"><a href="ref.var.html">変数操作 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.is-numeric" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">is_numeric</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">is_numeric</span> &mdash; <span class="dc-title">
   変数が数字または数値形式の文字列であるかを調べる
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.is-numeric-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>is_numeric</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
   )</div>

  <p class="para rdfs-comment">
   指定した変数が数値であるかどうかを調べます。数値形式の文字列は以下の要素から
   なります。（オプションの）符号、任意の数の数字、（オプションの）小数部、
   そして（オプションの）指数部。つまり、<em>+0123.45e6</em>
   は数値として有効な値です。十六進表記（<em>0xf4c3b00c</em> など)
   や二進表記 (<em>0b10100111001</em> など)、そして八進表記
   (<em>0777</em> など) も認められますが、この場合は符号や小数部、指数部を含めることはできません。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.is-numeric-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">var</code></em></span>
     <dd>

      <p class="para">
       評価する変数。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.is-numeric-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <em><code class="parameter">var</code></em> が数値または数値形式の文字列である場合に
   <strong><code>TRUE</code></strong>、それ以外の場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.is-numeric-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5233">
    <p><strong>例1  <span class="function"><strong>is_numeric()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$tests&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"42"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1337</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0x539</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">02471</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0b10100111001</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1337e0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"not&nbsp;numeric"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;array(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">9.1<br /></span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$tests&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$element</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$element</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'</span><span style="color: #007700">{</span><span style="color: #0000BB">$element</span><span style="color: #007700">}</span><span style="color: #DD0000">'&nbsp;is&nbsp;numeric"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'</span><span style="color: #007700">{</span><span style="color: #0000BB">$element</span><span style="color: #007700">}</span><span style="color: #DD0000">'&nbsp;is&nbsp;NOT&nbsp;numeric"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
&#039;42&#039; is numeric
&#039;1337&#039; is numeric
&#039;1337&#039; is numeric
&#039;1337&#039; is numeric
&#039;1337&#039; is numeric
&#039;1337&#039; is numeric
&#039;not numeric&#039; is NOT numeric
&#039;Array&#039; is NOT numeric
&#039;9.1&#039; is numeric
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.is-numeric-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.ctype-digit.html" class="function" rel="rdfs-seeAlso">ctype_digit()</a> - 数字かどうかを調べる</span></li>
    <li class="member"> <span class="function"><a href="function.is-bool.html" class="function" rel="rdfs-seeAlso">is_bool()</a> - 変数が boolean であるかを調べる</span></li>
    <li class="member"> <span class="function"><a href="function.is-null.html" class="function" rel="rdfs-seeAlso">is_null()</a> - 変数が NULL かどうか調べる</span></li>
    <li class="member"> <span class="function"><a href="function.is-float.html" class="function" rel="rdfs-seeAlso">is_float()</a> - 変数の型が float かどうか調べる</span></li>
    <li class="member"> <span class="function"><a href="function.is-int.html" class="function" rel="rdfs-seeAlso">is_int()</a> - 変数が整数型かどうかを検査する</span></li>
    <li class="member"> <span class="function"><a href="function.is-string.html" class="function" rel="rdfs-seeAlso">is_string()</a> - 変数の型が文字列かどうかを調べる</span></li>
    <li class="member"> <span class="function"><a href="function.is-object.html" class="function" rel="rdfs-seeAlso">is_object()</a> - 変数がオブジェクトかどうかを検査する</span></li>
    <li class="member"> <span class="function"><a href="function.is-array.html" class="function" rel="rdfs-seeAlso">is_array()</a> - 変数が配列かどうかを検査する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112436""></a>
  <div class="note">
   <strong class="user">Je oma.</strong>
   <a href="#112436" class="date">17-Jun-2013 02:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
oefening 3<br />
#!/usr/bin/php5<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $tijd </span><span class="keyword">= </span><span class="default">getdate</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$tijd</span><span class="keyword">[</span><span class="string">"wday"</span><span class="keyword">] == </span><span class="default">0</span><span class="keyword">) exit;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dag&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$tijd</span><span class="keyword">[</span><span class="string">"mday" </span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$maand </span><span class="keyword">= </span><span class="default">$tijd</span><span class="keyword">[</span><span class="string">"month"</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$jaar&nbsp; </span><span class="keyword">= </span><span class="default">$tijd</span><span class="keyword">[</span><span class="string">"year" </span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$cmd </span><span class="keyword">= </span><span class="string">"tar -czf backup-" </span><span class="keyword">. </span><span class="default">$jaar <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">. </span><span class="string">"_" </span><span class="keyword">. </span><span class="default">$maand </span><span class="keyword">. </span><span class="string">"_" </span><span class="keyword">. </span><span class="default">$dag<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">. </span><span class="string">".tar /var/log"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Oefening 4<br />
#!/usr/bin/php5<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$argc </span><span class="keyword">&lt; </span><span class="default">2</span><span class="keyword">) exit;<br />
<br />
&nbsp;&nbsp;&nbsp; for (;;) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Hoera\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; exit;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">60</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span>Oefening 5<br />
#!/usr/bin/php5<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">for (;;) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="string">"clear"</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"1. kalender\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"2. backup\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"3. manpage\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"4. exit\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"maak een keuze: "</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$input </span><span class="keyword">== </span><span class="string">"1"</span><span class="keyword">) </span><span class="default">kalender</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$input </span><span class="keyword">== </span><span class="string">"2"</span><span class="keyword">) </span><span class="default">backup</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$input </span><span class="keyword">== </span><span class="string">"3"</span><span class="keyword">) </span><span class="default">manpage</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$input </span><span class="keyword">== </span><span class="string">"4"</span><span class="keyword">) exit;<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">kalender</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$maand </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$maand </span><span class="keyword">&lt; </span><span class="default">13</span><span class="keyword">; </span><span class="default">$maand</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="string">"clear"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="string">"cal -m </span><span class="default">$maand</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"druk enter om verder te gaan"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">backup</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; for (;;) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"De naam van je backup: "</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$dir&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"Directory voor backup: "</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ((!empty(</span><span class="default">$filename</span><span class="keyword">)) &amp;&amp; (!empty(</span><span class="default">$dir</span><span class="keyword">))) break;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$command </span><span class="keyword">= </span><span class="string">"tar -czf backup-" </span><span class="keyword">. </span><span class="default">$filename<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">. </span><span class="string">".tgz " </span><span class="keyword">. </span><span class="default">$dir </span><span class="keyword">. </span><span class="string">" &gt; /dev/null"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">$command</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo(</span><span class="string">"De map bestaat niet. \n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">manpage</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$command </span><span class="keyword">= </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"Kies een commando: "</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="string">"man " </span><span class="keyword">. </span><span class="default">$command</span><span class="keyword">, </span><span class="default">$returnvalue</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$returnvalue </span><span class="keyword">!= </span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo(</span><span class="string">"Geen manpage gevonden\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">readline</span><span class="keyword">(</span><span class="string">"Druk een toets om verder te gaan"</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span>Oefening 6<br />
#!/usr/bin/php5<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$argc </span><span class="keyword">&lt; </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"je moet een naam opgeven\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; exit;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$naam </span><span class="keyword">= </span><span class="default">$argv</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
&nbsp; </span><span class="default">$content </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="string">"namen.txt"</span><span class="keyword">, </span><span class="default">FILE_IGNORE_NEW_LINES</span><span class="keyword">);<br />
&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">);<br />
<br />
&nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$naam</span><span class="keyword">, </span><span class="default">$content</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$content </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$line </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; echo </span><span class="string">"Het bestand bevat " </span><span class="keyword">. </span><span class="default">count</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">) . </span><span class="string">" namen.\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111709""></a>
  <div class="note">
   <strong class="user">jsnell at e-normous dot com</strong>
   <a href="#111709" class="date">20-Mar-2013 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function handles leading spaces differently than is_int(), is_float(), is_real(), is_long(), and is_double().<br />
<br />
is_numeric(" 12345") = true<br />
is_int(" 12345") = false<br />
is_float(" 12345") = false<br />
is_real(" 12345") = false<br />
is_long(" 12345") = false<br />
is_double(" 12345") = false</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109083""></a>
  <div class="note">
   <strong class="user">jeffvanhees at gmail dot com</strong>
   <a href="#109083" class="date">20-Jun-2012 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function for checking all the values in an array for being numeric:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_numeric_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$array_not_numeric </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">); </span><span class="comment">// returns false<br />
</span><span class="default">$array_numeric </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">); </span><span class="comment">// returns true<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107326""></a>
  <div class="note">
   <strong class="user">dave dot marr at gmail dot com</strong>
   <a href="#107326" class="date">31-Jan-2012 01:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want the numerical value of a string, this will return a float or int value:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$val </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">0</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<span class="default">&lt;?php<br />
get_numeric</span><span class="keyword">(</span><span class="string">'3'</span><span class="keyword">); </span><span class="comment">// int(3)<br />
</span><span class="default">get_numeric</span><span class="keyword">(</span><span class="string">'1.2'</span><span class="keyword">); </span><span class="comment">// float(1.2)<br />
</span><span class="default">get_numeric</span><span class="keyword">(</span><span class="string">'3.0'</span><span class="keyword">); </span><span class="comment">// float(3)<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107222""></a>
  <div class="note">
   <strong class="user">akam at akameng dor com</strong>
   <a href="#107222" class="date">23-Jan-2012 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= @</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'d'</span><span class="keyword">];<br />
<br />
</span><span class="comment">/*<br />
assuming that passing value of d in the mysql<br />
$sql = "select * from books where bookid = '$d' "<br />
*/<br />
<br />
/*<br />
now check if $d is numeric?<br />
*/<br />
<br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">)){<br />
&nbsp;</span><span class="default">$d </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/[^0-9]+/"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">);<br />
}<br />
echo </span><span class="string">"Cleared value: </span><span class="default">$d</span><span class="string"> \n&lt;br /&gt;Original Vlaue:"</span><span class="keyword">.@</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'d'</span><span class="keyword">];<br />
</span><span class="comment">//then using clear value of $d in the mysql query<br />
</span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"select * from books where bookid = '</span><span class="default">$d</span><span class="string">' "</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Example:<br />
?d=52;d;s;s'2233l'[[22<br />
<br />
Outpt:<br />
<br />
Cleared value: 52223322<br />
Original Vlaue:52;d;s;s'2233l'[[22</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102011""></a>
  <div class="note">
   <strong class="user">sobolanx at gmail dot com</strong>
   <a href="#102011" class="date">23-Jan-2011 12:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the function accepts extremely big numbers and correctly evaluates them.<br />
<br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $v </span><span class="keyword">= </span><span class="default">is_numeric </span><span class="keyword">(</span><span class="string">'58635272821786587286382824657568871098287278276543219876543'</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump </span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above script will output:<br />
<br />
bool(true)<br />
<br />
So this function is not intimidated by super-big numbers. I hope this helps someone.<br />
<br />
PS: Also note that if you write is_numeric (45thg), this will generate a parse error (since the parameter is not enclosed between apostrophes or double quotes). Keep this in mind when you use this function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101766""></a>
  <div class="note">
   <strong class="user">Martyn Ranyard</strong>
   <a href="#101766" class="date">10-Jan-2011 01:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation does not clarify what happens if you the input is an empty string - it correctly returns false in my experience.&nbsp; Useful to state these odd cases, for when you see code that checks for an empty string and is_numeric, you can tell it's a waste of a comparison.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99876""></a>
  <div class="note">
   <strong class="user">Nitrogen</strong>
   <a href="#99876" class="date">12-Sep-2010 07:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I find it a little weird that people are having issues with ordinal numbers, it's pretty easy..<br />
Notes are in the commenting, check out the example outputs.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
&nbsp; </span><span class="comment">// a temporary value we can change, and keep the original value.<br />
&nbsp; </span><span class="default">$o</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// suffixes = 0th, 1st, 2nd, third == zeroth, first, second, third<br />
&nbsp; </span><span class="default">$s</span><span class="keyword">=array(</span><span class="string">'th'</span><span class="keyword">,</span><span class="string">'st'</span><span class="keyword">,</span><span class="string">'nd'</span><span class="keyword">,</span><span class="string">'rd'</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">// if input just so happens to be a string, we check to make sure it<br />
&nbsp; // still holds a numeric value and only acquire the last 2 numbers.<br />
&nbsp; // if it's not a string, nor an integer, we freak out and say no.<br />
&nbsp; </span><span class="keyword">if(!</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">ctype_digit</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$o</span><span class="keyword">=(int)</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(</span><span class="default">false</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">// basically, if $o is between 11 and 19, we use 'th'<br />
&nbsp; // otherwise we use the last digit and if it's over<br />
&nbsp; // 4 then we use 0 (for the $s array index).<br />
&nbsp; </span><span class="keyword">return(</span><span class="default">$i</span><span class="keyword">.</span><span class="default">$s</span><span class="keyword">[(</span><span class="default">$o</span><span class="keyword">%</span><span class="default">100</span><span class="keyword">&gt;</span><span class="default">10</span><span class="keyword">&amp;&amp;</span><span class="default">$o</span><span class="keyword">%</span><span class="default">100</span><span class="keyword">&lt;</span><span class="default">20</span><span class="keyword">)?</span><span class="default">0</span><span class="keyword">:(</span><span class="default">$o</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">&lt;</span><span class="default">4</span><span class="keyword">?</span><span class="default">$o</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">:</span><span class="default">0</span><span class="keyword">)]);<br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">));<br />
<br />
</span><span class="comment">/* Example Outputs of ordinal():<br />
&nbsp; 0th, 1st, 2nd, 3rd, 4th, ..., 9th,<br />
&nbsp; 10th, 11th, 12th, 13th, 14th, ..., 19th,<br />
&nbsp; 110th, 111th, ..., 199th, 200th, 201st.<br />
<br />
&nbsp; ordinal('-1'); returns false because ctype_digit hates anything that<br />
&nbsp; isn't strictly 0 through 9 and '-' trips it to false.<br />
<br />
&nbsp; ordinal('asdf'); returns false for the exact same reason.<br />
<br />
&nbsp; ordinal(); returns false because it's blank.<br />
<br />
&nbsp; signed integers on a 32-bit system (and the same issue on a 64-bit<br />
&nbsp; system using 0x7FFFFFFFFFFFFFFF because of two's compliment,<br />
&nbsp; anything higher will become a negative number):<br />
&nbsp; ordinal(0x7FFFFFFF&nbsp; ); returns 2147483647th (which is correct)<br />
&nbsp; ordinal(0x7FFFFFFF+1); returns false.<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97967""></a>
  <div class="note">
   <strong class="user">purdue at nc dot rr dot com</strong>
   <a href="#97967" class="date">19-May-2010 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I see a lot of examples below to get the ordinal string for a given number ("1st", "2nd", "3rd", "4th", etc).&nbsp; If you only need small ordinals (up to "31st" at most), this one-line trick works:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">ordinal </span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; return </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Jan </span><span class="default">$i</span><span class="string">"</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96508""></a>
  <div class="note">
   <strong class="user">dustout at gmail dot com</strong>
   <a href="#96508" class="date">03-Mar-2010 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had troubles when using this as an is_hex function, if anyone else runs into troubles here is an alternative approach. Not a very efficient one, but it worked quite well for what i needed it for.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_hex</span><span class="keyword">(</span><span class="default">$hexValue</span><span class="keyword">){<br />
if(</span><span class="default">$hexValue </span><span class="keyword">== </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$hexValue</span><span class="keyword">)))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92425""></a>
  <div class="note">
   <strong class="user">Kiam</strong>
   <a href="#92425" class="date">23-Jul-2009 08:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
empty(trim($test, '+-.,0123456789')) doesn't assure you $test contains a number. It returns TRUE also for a string containing ".+1234.56", which is not a valid number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92247""></a>
  <div class="note">
   <strong class="user">codeslinger at compsalot dot com</strong>
   <a href="#92247" class="date">15-Jul-2009 10:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if speed is important, the liberal use of regex should be avoided, especially complex ones like those here.<br />
<br />
For most purposes, this will be sufficient and has the advantages of both speed and clarity.<br />
<br />
$BoolResult = empty(trim($Test, '+-.,0123456789'));<br />
<br />
If the $Test contains any character that is not a valid part of a number the remaining string will not be empty.<br />
<br />
if you want to be more restrictive of the '+-'&nbsp; then you can use a separate trim for that and nest it.&nbsp; Keep in mind that some notations pt the sign to the right of the number instead of to the left.&nbsp; Depending upon your specific application you can also choose to ignore spaces and allow for 'e' notation.<br />
<br />
I also use this approach when testing for other character sets such as Hex.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88041""></a>
  <div class="note">
   <strong class="user">Magnus Deininger, dma05 at web dot de</strong>
   <a href="#88041" class="date">07-Jan-2009 03:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
regarding the global vs. american numeral notations, it should be noted that at least in japanese, numbers aren't grouped with an extra symbol every three digits, but rather every four digits (for example 1,0000 instead of 10.000). also nadim's regexen are slightly suboptimal at one point having an unescaped '.' operator, and the whole thing could easily be combined into a single regex (speed and all).<br />
<br />
adjustments:<br />
<br />
<span class="default">&lt;?php<br />
$eng_or_world </span><span class="keyword">= </span><span class="default">preg_match<br />
&nbsp; </span><span class="keyword">(</span><span class="string">'/^[+-]?'</span><span class="keyword">. </span><span class="comment">// start marker and sign prefix<br />
&nbsp; </span><span class="string">'(((([0-9]+)|([0-9]{1,4}(,[0-9]{3,4})+)))?(\\.[0-9])?([0-9]*)|'</span><span class="keyword">. </span><span class="comment">// american<br />
&nbsp; </span><span class="string">'((([0-9]+)|([0-9]{1,4}(\\.[0-9]{3,4})+)))?(,[0-9])?([0-9]*))'</span><span class="keyword">. </span><span class="comment">// world<br />
&nbsp; </span><span class="string">'(e[0-9]+)?'</span><span class="keyword">. </span><span class="comment">// exponent<br />
&nbsp; </span><span class="string">'$/'</span><span class="keyword">, </span><span class="comment">// end marker<br />
&nbsp; </span><span class="default">$str</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
i'm sure this still isn't optimal, but it should also cover japanese-style numerals and it fixed a couple of other issues with the other regexen. it also allows for an exponent suffix, the pre-decimal digits are optional and it enforces using either grouped or ungrouped integer parts. should be easier to trim to your liking too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86203""></a>
  <div class="note">
   <strong class="user">jbezorg at gmail dot com</strong>
   <a href="#86203" class="date">08-Oct-2008 01:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"$e = (int) substr( $n , -2 );"<br />
<br />
What the heck am I thinking.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">number_suffix2</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= array( </span><span class="default">1</span><span class="keyword">-&gt;</span><span class="string">'st' </span><span class="keyword">, </span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">'nd' </span><span class="keyword">, </span><span class="default">3</span><span class="keyword">=&gt;</span><span class="string">'rd' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">% </span><span class="default">10</span><span class="keyword">;<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$n</span><span class="keyword">.( ( </span><span class="default">$x </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">4 </span><span class="keyword">&amp;&amp; ( </span><span class="default">$e </span><span class="keyword">&lt; </span><span class="default">11 </span><span class="keyword">|| </span><span class="default">$e </span><span class="keyword">&gt; </span><span class="default">13 </span><span class="keyword">) ) ? </span><span class="default">$s</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">] : </span><span class="string">'th' </span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76094""></a>
  <div class="note">
   <strong class="user">kendsnyder at gmail dot com</strong>
   <a href="#76094" class="date">29-Jun-2007 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using is_numeric() to escape SQL strings.&nbsp; is_numeric('0123') returns true but 0123 without quotes cannot be inserted into SQL.&nbsp; PHP interprets 0123 without quotes as a literal octal number; but SQL just throws a syntax error.<br />
<br />
<span class="default">&lt;?php<br />
is_numeric</span><span class="keyword">(</span><span class="string">'0123'</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">0.123</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">'0.123'</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">123</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">'123'</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">?&gt;<br />
</span><br />
Casting a value to float then string and comparing it to the original value cast as string as the same effect as is_numeric but returns false for numeric strings that begin with zero and have no decimal point.&nbsp; Examples:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp; return (string)(float)</span><span class="default">$n </span><span class="keyword">=== (string)</span><span class="default">$n</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="string">'0123'</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="default">0.123</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="string">'0.123'</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="default">123</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="string">'123'</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">isDecimalNumber</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">); </span><span class="comment">// true<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75503""></a>
  <div class="note">
   <strong class="user">Carlos Madeira</strong>
   <a href="#75503" class="date">02-Jun-2007 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If I may, i think there is a simpler way to determine if a number is odd or even:<br />
<br />
if( $number &amp; 1 ) //Just check the last bit!<br />
&nbsp; echo 'It's odd!';<br />
else<br />
&nbsp; echo 'It's even!';</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75089""></a>
  <div class="note">
   <strong class="user">Kenn</strong>
   <a href="#75089" class="date">11-May-2007 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A side note, finding out if an integer is even or odd, given the integer = $i ...<br />
<br />
if (($i % 2) == 0) // This will test TRUE if the integer is even.<br />
&nbsp;&nbsp; {<br />
xxx insert code here xxx<br />
&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74142""></a>
  <div class="note">
   <strong class="user">Elwin van Huissteden</strong>
   <a href="#74142" class="date">27-Mar-2007 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To James holwell:<br />
<br />
Maybe your function was more strickt, but profides FALSE to any numeric string that wasnt written in the English/American notition. To enable a person to use the both the English/American and the rest of the world's way:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">my_is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; return (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/\A(-){0, 1}([0-9]+)((,|.)[0-9]{3, 3})*((,|.)[0-9]){0, 1}([0-9]*)\z/" </span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Other than that, i'd recommend using yours, if it works (i havent tested either yours or mine)<br />
By using mine, there might be a slight chance to not being able to do calculations with the numeric string if it's not the English/American way.<br />
<br />
(*Note: <br />
-the E/A way of writing 1 million (with decimal for 1/50): 1,000,000.02<br />
-the global way of writing 1 million (with decimal for 1/50): 1.000.000,02</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74013""></a>
  <div class="note">
   <strong class="user">james.holwell( at )exeter.ox.ac.uk</strong>
   <a href="#74013" class="date">20-Mar-2007 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reply to www.kigoobe.com, a more strict expression is<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">my_is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/^(-){0,1}([0-9]+)(,[0-9][0-9][0-9])*([.][0-9]){0,1}([0-9]*)$/"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This will not match strings like -6,77.8,8 which are matched by the below expression, and instead requires a single decimal point, with at least one character following, and only permits comma-separation when the right hand side is a triplet.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72601""></a>
  <div class="note">
   <strong class="user">Stephen</strong>
   <a href="#72601" class="date">25-Jan-2007 06:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation is not completely precise here. is_numeric will also return true if the number begins with a decimal point&nbsp; and/or a space, provided a number follows (rather than a letter or punctuation). So, it doesn't necessarily have to start with a digit.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72470""></a>
  <div class="note">
   <strong class="user">mariusads::at::helpedia.com</strong>
   <a href="#72470" class="date">19-Jan-2007 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Test if a number is positive and contains only 0-9:<br />
<br />
function is_number($number)<br />
{ <br />
&nbsp;&nbsp;&nbsp; $text = (string)$number;<br />
&nbsp;&nbsp;&nbsp; $textlen = strlen($text);<br />
&nbsp;&nbsp;&nbsp; if ($textlen==0) return 0;<br />
&nbsp;&nbsp;&nbsp; for ($i=0;$i &lt; $textlen;$i++)<br />
&nbsp;&nbsp;&nbsp; { $ch = ord($text{$i});<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (($ch&lt;48) || ($ch&gt;57)) return 0;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return 1;<br />
}<br />
<br />
returns <br />
<br />
0 : number contain character outside 0-9<br />
1 : valid number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72327""></a>
  <div class="note">
   <strong class="user">meagar at gmail dot com</strong>
   <a href="#72327" class="date">14-Jan-2007 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Miero: Your function doesn't match some special cases: '+1', '-0', '+0', all of which are valid integers.&nbsp; The easiest and most reliable way to get a definite integer match is with a regular expression:<br />
<br />
function is_intval($value) {<br />
&nbsp;&nbsp; &nbsp; return 1 === preg_match('/^[+-]?[0-9]+$/', $value);<br />
}<br />
<br />
This has two "problems" based on your input:&nbsp; it matches both '00' and '999999999999999999999999999999999' as valid integers.<br />
<br />
I'm not sure why you wouldn't want to match "00".&nbsp; Regardless of whether somebody entered it in a form by accident or on purpose, it /is/ a valid integer, and in most instances you should accept it.<br />
<br />
The second value, "999..." is also a valid integer, even if PHPs internal int type isn't precise enough to represent it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69366""></a>
  <div class="note">
   <strong class="user">ja at krystof dot org</strong>
   <a href="#69366" class="date">02-Sep-2006 03:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple function to recognize whether the value is a natural number: (Zero is often exclude from the natural numbers, that's why there's the second parameter.)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_natural</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$acceptzero </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;</span><span class="default">$return </span><span class="keyword">= ((string)</span><span class="default">$val </span><span class="keyword">=== (string)(int)</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;if (</span><span class="default">$acceptzero</span><span class="keyword">)<br />
&nbsp; </span><span class="default">$base </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;else<br />
&nbsp; </span><span class="default">$base </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;if (</span><span class="default">$return </span><span class="keyword">&amp;&amp; </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) &lt; </span><span class="default">$base</span><span class="keyword">)<br />
&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69053""></a>
  <div class="note">
   <strong class="user">moskalyuk at gmail dot com</strong>
   <a href="#69053" class="date">21-Aug-2006 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_numeric fails on the hex values greater than LONG_MAX, so having a large hex value parsed through is_numeric would result in FALSE being returned even though the value is a valid hex number</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68338""></a>
  <div class="note">
   <strong class="user">rontarrant at NO_SPAMsympatico dot ca</strong>
   <a href="#68338" class="date">24-Jul-2006 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's an even simpler pair of functions for finding out if a number is odd or even:<br />
<br />
function IS_ODD($number) { return($number &amp; 1); }<br />
<br />
function IS_EVEN($number) { return(!($number &amp; 1)); }<br />
<br />
Test:<br />
$myNumber = 151;<br />
<br />
if(IS_ODD($myNumber))<br />
&nbsp;&nbsp;&nbsp; echo("number is odd\n");<br />
else<br />
&nbsp;&nbsp;&nbsp; echo("number is NOT odd\n");<br />
<br />
if(IS_even($myNumber))<br />
&nbsp;&nbsp;&nbsp; echo("number is even\n");<br />
else<br />
&nbsp;&nbsp;&nbsp; echo("number is NOT even\n");<br />
<br />
Results:<br />
number is odd<br />
number is NOT even</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59691""></a>
  <div class="note">
   <strong class="user">andrea dot vacondio at gmail dot com</strong>
   <a href="#59691" class="date">13-Dec-2005 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Two simple functions using is_numeric:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; return (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&amp;(</span><span class="default">$num</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;}<br />
&nbsp;<br />
&nbsp;function </span><span class="default">is_even</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; return (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&amp;(!(</span><span class="default">$num</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;}<br />
<br />
&nbsp;</span><span class="comment">//examples<br />
</span><span class="keyword">echo </span><span class="string">"1: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
</span><span class="comment">//is_numeric(0) returns true <br />
</span><span class="keyword">echo </span><span class="string">"0: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"6: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"\"italy\": odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="string">"italy"</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"null: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"1: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;&nbsp; <br />
echo </span><span class="string">"0: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"6: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"\"italy\": even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="string">"italy"</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;&nbsp; <br />
echo </span><span class="string">"null: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
<br />
</span><span class="default">?&gt;<br />
</span>And here is the result:<br />
1: odd? TRUE<br />
0: odd? FALSE<br />
6: odd? FALSE<br />
"italy": odd? FALSE<br />
null: odd? FALSE<br />
<br />
1: even? FALSE<br />
0: even? TRUE<br />
6: even? TRUE<br />
"italy": even? FALSE<br />
null: even? FALSE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55615""></a>
  <div class="note">
   <strong class="user">jamespam at hotmail dot com</strong>
   <a href="#55615" class="date">08-Aug-2005 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function to determine if a variable represents a whole number:<br />
<br />
function is_whole_number($var){<br />
&nbsp; return (is_numeric($var)&amp;&amp;(intval($var)==floatval($var)));<br />
}<br />
<br />
just simple stuff...<br />
is_whole_number(2.00000000001); will return false<br />
is_whole_number(2.00000000000); will return true</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55316""></a>
  <div class="note">
   <strong class="user">namik at hub-cafe dot net</strong>
   <a href="#55316" class="date">30-Jul-2005 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a number_suffix function that takes numbers with thousand seperators (using number_format() function).&nbsp; Note that this doesn't properly handle decimals.<br />
<br />
Example:<br />
&lt;?= number_suffix('1,021') ?&gt; returns: 1,021st<br />
<br />
Also, increasing the range above the condition statements increases efficiency.&nbsp; That's almost 20% of the numbers between 0 and 100 that get to end early.<br />
<br />
&lt;?<br />
&nbsp; function number_suffix($number)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; // Validate and translate our input<br />
&nbsp;&nbsp;&nbsp; if ( is_numeric($number) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; // Get the last two digits (only once)<br />
&nbsp;&nbsp; &nbsp;&nbsp; $n = $number % 100;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; // If the last two characters are numbers<br />
&nbsp;&nbsp; &nbsp; if ( preg_match( '/[0-9]?[0-9]$/', $number, $matches ) )<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; // Return the last one or two digits<br />
&nbsp;&nbsp; &nbsp; &nbsp; $n = array_pop($matches);<br />
&nbsp;&nbsp; &nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; // Return the string, we can add a suffix to it<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $number;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Skip the switch for as many numbers as possible.<br />
&nbsp;&nbsp;&nbsp; if ( $n &gt; 3 &amp;&amp; $n &lt; 21 )<br />
&nbsp;&nbsp; &nbsp;&nbsp; return $number . 'th';<br />
<br />
&nbsp;&nbsp;&nbsp; // Determine the suffix for numbers ending in 1, 2 or 3, otherwise add a 'th'<br />
&nbsp;&nbsp;&nbsp; switch ( $n % 10 )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '1': return $number . 'st';<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '2': return $number . 'nd';<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '3': return $number . 'rd';<br />
&nbsp;&nbsp; &nbsp;&nbsp; default:&nbsp; return $number . 'th';<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55312""></a>
  <div class="note">
   <strong class="user">maninblack00 at mail dot ru</strong>
   <a href="#55312" class="date">30-Jul-2005 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
blazatek at wp dot pl wrote a function to check POST inputs for ASCII-keys or smth like that. there was an error while filtering $varvalue (it was only the value of the last filter 'addslashes')<br />
<br />
here's the corrected function:<br />
&lt;?<br />
<br />
function is_num ($num) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; // .....<br />
}<br />
<br />
function test_post($tab) {<br />
&nbsp;&nbsp; $post = array();<br />
&nbsp;&nbsp; $post = $tab;<br />
&nbsp;&nbsp; foreach ($post as $varname =&gt; $varvalue) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $tab[$varname];<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (empty($varvalue)) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post[$varname] = null;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif (is_num($varvalue)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $varvalue=trim($varvalue);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $varvalue=strip_tags($varvalue);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $varvalue=intval($varvalue);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post[$varname]=addslashes($varvalue);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post[$varname]=NULL;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }//forech&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; return $post;<br />
}<br />
?&gt;<br />
<br />
hope that correction is correct ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55240""></a>
  <div class="note">
   <strong class="user">sebu</strong>
   <a href="#55240" class="date">28-Jul-2005 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Referring to previous post "Be aware if you use is_numeric() or is_float() after using set_locale(LC_ALL,'lang') or set_locale(LC_NUMERIC,'lang')":<br />
<br />
This is totally wrong!<br />
<br />
This was the example code:<br />
<br />
-----<br />
&nbsp; set_locale(LC_NUMERIC,'fr');<br />
&nbsp; is_numeric(12.25); // Return False<br />
&nbsp; is_numeric(12,25); // Return True<br />
&nbsp; is_float(12.25); //Return False<br />
&nbsp; is_float(12,25); //Return True<br />
-----<br />
<br />
This is nonsense!<br />
<br />
- set_locale() does not exist, you must use setlocale() instead<br />
- you have to enclose 12,25 with quotes; otherwise PHP will think that <br />
the function gets _two_ arguments: 12 and 25 (depending on PHP version and setup you may additionally get a PHP warning)<br />
- if you don't enclose 12,25 with quotes the first argument will be the inspected value (12), the second value (25) is discarded. And is_numeric(12) and is_float(12) is always TRUE<br />
<br />
Corrected Example:<br />
<br />
----<br />
&nbsp; setlocale(LC_NUMERIC,'fr');<br />
&nbsp; is_numeric(12.25); // Return True<br />
&nbsp; is_numeric("12,25"); // Return False<br />
&nbsp; is_float(12.25); //Return True<br />
&nbsp; is_float("12,25"); //Return False<br />
----<br />
<br />
Remarks:<br />
- is_float(12.25) is _always_ TRUE, 12.25 is a PHP language construct (a "value") and the way PHP interpretes files is definitely _not_ affected by the locale<br />
- is_float("12,25") is _always_ FALSE, since is_float (other than is_numeric): if the argument is a string then is_float() always returns FALSE since it does a strict check for floats<br />
<br />
And the corrected example shows: you get the _same_ results for every possible locale, is_numeric() does not depend on the locale.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52320""></a>
  <div class="note">
   <strong class="user">Titouthat</strong>
   <a href="#52320" class="date">27-Apr-2005 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function converts an input string into bool, int or float depending on its content. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">convert_type</span><span class="keyword">( </span><span class="default">$var </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">is_numeric</span><span class="keyword">( </span><span class="default">$var </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( (float)</span><span class="default">$var </span><span class="keyword">!= (int)</span><span class="default">$var </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (float)</span><span class="default">$var</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (int)</span><span class="default">$var</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">$var </span><span class="keyword">== </span><span class="string">"true" </span><span class="keyword">)&nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">$var </span><span class="keyword">== </span><span class="string">"false" </span><span class="keyword">)&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$var</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
'90' return an int<br />
'90.9' return a float<br />
'true' return a bool<br />
'90.0' return a int</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51089""></a>
  <div class="note">
   <strong class="user">lukesneeringer at gmail dot com</strong>
   <a href="#51089" class="date">19-Mar-2005 05:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding renimar at yahoo's function to yield ordinal numbers, the function lacks one thing. It accounts for numbers in the teens only if the number is below 100. If you used this function and gave 212 as the input, it would give 212nd, and not 212th. (Also, checking for numbers between 11 and 13 is sufficient, since 14-19 yield th either way.)<br />
<br />
Therefore,<br />
<span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">$num </span><span class="keyword">&gt;= </span><span class="default">11 </span><span class="keyword">and </span><span class="default">$num </span><span class="keyword">&lt;= </span><span class="default">19</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span>should be changed to...<br />
<span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">$num </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">&gt;= </span><span class="default">11 </span><span class="keyword">and </span><span class="default">$num </span><span class="keyword">% </span><span class="default">100 </span><span class="keyword">&lt;= </span><span class="default">13</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span><br />
It will then work perfectly all the time.<br />
<br />
Here's the entire function with the one line changed:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinalize</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$num</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">$num </span><span class="keyword">% </span><span class="default">100 </span><span class="keyword">&gt;= </span><span class="default">11 </span><span class="keyword">and </span><span class="default">$num </span><span class="keyword">% </span><span class="default">100 </span><span class="keyword">&lt;= </span><span class="default">13</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"st"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"nd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"rd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; else </span><span class="comment">// $num % 10 == 0, 4-9<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50103""></a>
  <div class="note">
   <strong class="user">codeslinger at compsalot dot com</strong>
   <a href="#50103" class="date">18-Feb-2005 06:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in version 4.3.10&nbsp; I find the following<br />
<br />
".73"&nbsp; TRUE<br />
"0.73"&nbsp; TRUE<br />
"+0.73"&nbsp; TRUE<br />
<br />
"+.73"&nbsp;&nbsp; FALSE<br />
<br />
I would not call it a bug, just something to be aware of.<br />
<br />
-----<br />
<br />
Also be aware that if you give php a huge number and then you convert it to a string you get&nbsp;&nbsp; <br />
<br />
"INF"<br />
<br />
if you pass that to mySQL etc. you could have a problem...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47491""></a>
  <div class="note">
   <strong class="user">mdallaire at virtuelcom dot com</strong>
   <a href="#47491" class="date">18-Nov-2004 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, we need to have no letters in the number and is_numeric does not quit the job.<br />
You can try it this ways to make sure of the number format:<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_unsigned_float($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^([0-9])+([\.|,]([0-9])*)?$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_unsigned_integer($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^([0-9])+$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_signed_float($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^-?([0-9])+([\.|,]([0-9])*)?$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_signed_integer($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^-?([0-9])+$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
It returns 1 if okay and returns nothing "" if it's bad number formating.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42083""></a>
  <div class="note">
   <strong class="user">renimar no spam at nospam yahoo dot com</strong>
   <a href="#42083" class="date">03-May-2004 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little function to ordinalize numbers using is_numeric() and accounting for the numbers in the teens.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinalize</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$num </span><span class="keyword">&gt;= </span><span class="default">11 </span><span class="keyword">and </span><span class="default">$num </span><span class="keyword">&lt;= </span><span class="default">19</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"st"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"nd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"rd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="comment">// Demo<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">25</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="default">ordinalize</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) . </span><span class="string">" "</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// The loop returns:<br />
// 1st 2nd 3rd 4th 5th 6th 7th 8th 9th 10th 11th 12th <br />
// 13th 14th 15th 16th 17th 18th 19th 20th 21st 22nd <br />
// 23rd 24th 25th <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39078""></a>
  <div class="note">
   <strong class="user">joe at kewlmail dot net</strong>
   <a href="#39078" class="date">16-Jan-2004 12:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple function that I found usefull for filtering user input into numbers. Basically, it attempts to fix fat fingering. For example:<br />
<br />
$userString = "$654.4r5";<br />
<br />
function numpass_filter($userString){&nbsp; <br />
&nbsp;&nbsp;&nbsp; $money = explode(".", $userString);<br />
&nbsp;&nbsp;&nbsp; //now $money[0] = "$645" and $money[1] = "4r5"<br />
<br />
&nbsp;&nbsp;&nbsp; //next remove all characters save 0 though 9<br />
&nbsp;&nbsp;&nbsp; //in both elements of the array<br />
&nbsp;&nbsp;&nbsp; $dollars = eregi_replace("[^0-9]", null, $money[0]);<br />
&nbsp;&nbsp;&nbsp; $cents = eregi_replace("[^0-9]", null, $money[1]);<br />
<br />
&nbsp;&nbsp;&nbsp; //if there was a decimal in the original string, put it back<br />
&nbsp;&nbsp;&nbsp; if((string)$cents!=null){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $cents = "." . $cents;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; $result = $dollars . $cents;<br />
<br />
&nbsp;&nbsp;&nbsp; return($result);<br />
}<br />
<br />
The output in this case would be '654.45'.<br />
Please note that this function will work properly unless the user fat fingers an extra decimal in the wrong place.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37717""></a>
  <div class="note">
   <strong class="user">kouber at saparev dot com</strong>
   <a href="#37717" class="date">24-Nov-2003 12:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function is not appropriate to check if "is_numeric" for very long strings. In fact, everything passed to this function is converted to long and then to a double. Anything greater than approximately 1.8e308 is too large for a double, so it becomes infinity, i.e. FALSE. What that means is that, for each string with more than 308 characters, is_numeric() will return FALSE, even if all chars are digits.<br />
<br />
However, this behaviour is platform-specific.<br />
<br />
<a href="http://www.php.net/manual/en/language.types.float.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.types.float.php</a><br />
<br />
In such a case, it is suitable to use regular expressions:<br />
<br />
function is_numeric_big($s=0) {<br />
&nbsp; return preg_match('/^-?\d+$/', $s);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36738""></a>
  <div class="note">
   <strong class="user">blazatek at wp dot pl</strong>
   <a href="#36738" class="date">21-Oct-2003 05:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
the best way to check whether<br />
variable is numeric is to check its ascii code :) <br />
<br />
function is_num($var)<br />
{<br />
&nbsp;&nbsp;&nbsp; for ($i=0;$i&lt;strlen($var);$i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $ascii_code=ord($var[$i]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($ascii_code &gt;=49 &amp;&amp; $asci_code &lt;=57)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
}<br />
this function can be usefull if you wont to chec eg $_POST<br />
<br />
function test_post($tab)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $post = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $post=$tab;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $tab["user_name"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($post as $varname =&gt; $varvalue) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (empty($varvalue))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $post[$varname] = null;<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }elseif (is_num($varvalue)) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $post[$varname]=trim($varvalue);<br />
&nbsp;&nbsp;&nbsp; $post[$varname]=strip_tags($varvalue);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; $post[$varname]=intval($varvalue);<br />
&nbsp;&nbsp;&nbsp; $post[$varname]=addslashes($varvalue);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }else<br />
&nbsp;&nbsp;&nbsp; {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $post[$varname]=NULL;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }//forech&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $post;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34804""></a>
  <div class="note">
   <strong class="user">stew_wilde at hotmail dot com</strong>
   <a href="#34804" class="date">07-Aug-2003 10:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using the exec() function in php to execute anther php script, any command line arguments passed the script will lose their type association, regardless of whether they are numeric or not, the same seems to hold true for strings as well.<br />
<br />
ie : two scripts test.php:<br />
<br />
<span class="default">&lt;?php<br />
$val </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
echo </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
and testwrapper.php:<br />
<br />
<span class="default">&lt;?php<br />
$tmp </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">exec</span><span class="keyword">(</span><span class="string">"php ./test.php "</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Executing testwrapper.php on the command line will echo nothing (ie false), and false will be returned regardless of any escaping of parameters or other such attempts to overcome this.&nbsp; The solution then is to explicitly cast $val in test.php to be an int and then is_numeric will work.&nbsp; But as stated the same test was performed using a string for $val and the is_string() function and the same thing occurs.&nbsp; Not the end of the world, but something to be aware of :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29396""></a>
  <div class="note">
   <strong class="user">andi_nrw at hotmail dot com</strong>
   <a href="#29396" class="date">12-Feb-2003 05:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/* This function is not useful if you want<br />
to check that someone has filled in only<br />
numbers into a form because for example<br />
4e4 and 444 are both "numeric".<br />
<br />
I used a regular expression for this problem<br />
and it works pretty good. Maybe it is a good<br />
idea to write a function and then to use it.<br />
<br />
$input_number = "444"; // Answer 1 <br />
$input_number = "44 "; // Answer 2<br />
$input_number = "4 4"; // Answer 2<br />
$input_number = "4e4"; // Answer 2 <br />
$input_number = "e44"; // Answer 2<br />
$input_number = "e4e"; // Answer 2<br />
$input_number = "abc"; // Answer 2<br />
*/<br />
</span><span class="default">$input_number </span><span class="keyword">= </span><span class="string">"444"</span><span class="keyword">;<br />
<br />
if (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/^([0-9]+)$/"</span><span class="keyword">, </span><span class="default">$input_number</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; print </span><span class="string">"Answer 1"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; &nbsp; print </span><span class="string">"Answer 2"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="27554""></a>
  <div class="note">
   <strong class="user">redy dot r at madagascan dot com</strong>
   <a href="#27554" class="date">11-Dec-2002 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware if you use is_numeric() or is_float() after using set_locale(LC_ALL,'lang') or set_locale(LC_NUMERIC,'lang')<br />
<br />
Example :<br />
If at the beginning of your script, you declare :<br />
<br />
<span class="default">&lt;?php<br />
set_locale</span><span class="keyword">(</span><span class="default">LC_NUMERIC</span><span class="keyword">,</span><span class="string">'fr'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
and after, you will get this :<br />
<br />
<span class="default">&lt;?php<br />
is_numeric</span><span class="keyword">(</span><span class="default">12.25</span><span class="keyword">); </span><span class="comment">// Return False<br />
</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">12</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">); </span><span class="comment">// Return True<br />
</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">12.25</span><span class="keyword">); </span><span class="comment">//Return False<br />
</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">12</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">); </span><span class="comment">//Return True<br />
</span><span class="default">?&gt;<br />
</span><br />
Because, for french language the decimal separator is ',' (Comma) instead of '.' (Dot).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24981""></a>
  <div class="note">
   <strong class="user">eagleflyer2 at lycos dot com</strong>
   <a href="#24981" class="date">06-Sep-2002 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi !<br />
Many of you may have experienced that the 'is_numeric' function seems to fail always when form entries are checked against their variable type. So the function seems to return&nbsp; 'false' even if the form entry was aparently a number or numeric string.<br />
<br />
The solution is pretty simple and no subroutines or fancy operations are necessary to make the 'is_numeric' function usable for form entry checks:<br />
<br />
Simply strip off all (invisible) characters that may be sent along with the value when submitting a form entry.<br />
<br />
Just use the 'trim' function before 'is_numeric'.<br />
<br />
Example:<br />
<br />
$variable = trim($variable);<br />
if (is_numeric($variable)<br />
{...#do something#...}<br />
else<br />
{...#do something else#...}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.is-null.html">is_null</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.is-object.html">is_object</a></div>
 <div class="up"><a href="ref.var.html">変数操作 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
