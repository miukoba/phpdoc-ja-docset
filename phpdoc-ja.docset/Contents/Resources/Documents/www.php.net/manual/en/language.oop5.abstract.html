<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>クラスの抽象化</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.static.html">static キーワード</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.interfaces.html">オブジェクト インターフェイス</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.abstract" class="sect1">
 <h2 class="title">クラスの抽象化</h2>

 <p class="para">
  PHP 5 では、抽象クラスとメソッドが導入されました。
  abstractとして定義されたクラスのインスタンスを生成することはできません。
  １つ以上の抽象メソッドを含む全てのクラスもまた抽象クラスとなります。
  abstractとして定義されたメソッドは、そのメソッドの外観を宣言するのみで、
  実装を定義することはできません。
 </p>

 <p class="para">
  抽象クラスから継承する際、親クラスの宣言で abstract としてマークされた
  全てのメソッドは、子クラスで定義されなければなりません。加えて、
  これらのメソッドは同等 (あるいはより緩い制約) の
  <a href="language.oop5.visibility.html" class="link">可視性</a>
  で定義される必要があります。例えば、抽象メソッドが protected
  として定義された場合、その関数の実装は protected または public
  のどちらかとして定義する必要があります。private にすることはできません。
  さらに、メソッドのシグネチャも必ず一致していなくてはなりません。
  すなわち、型ヒントや必須引数の数についても同じでなければならないということです。
  たとえば、子クラスでオプションの引数を定義しているけれども
  抽象クラスのメソッドのシグネチャでは定義されていないという場合、
  シグネチャの衝突は発生しません。
  PHP 5.4 以降では、これがコンストラクタについても適用されるようになりました。
  それより前のバージョンでは、コンストラクタのシグネチャは違ってもかまいませんでした。
 </p>

 <div class="example" id="example-194">
  <p><strong>例1 抽象クラスの例</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">AbstractClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;拡張クラスにこのメソッドの定義を強制する<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">prefixValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Common&nbsp;method<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">printOut</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ConcreteClass1&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AbstractClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"ConcreteClass1"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">prefixValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">}</span><span style="color: #DD0000">ConcreteClass1"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ConcreteClass2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AbstractClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"ConcreteClass2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">prefixValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">}</span><span style="color: #DD0000">ConcreteClass2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$class1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ConcreteClass1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$class1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printOut</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$class1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prefixValue</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$class2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ConcreteClass2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$class2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printOut</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$class2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prefixValue</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
ConcreteClass1
FOO_ConcreteClass1
ConcreteClass2
FOO_ConcreteClass2
</pre></div>
   </div>
  </div>

  <div class="example" id="example-195">
   <p><strong>例2 抽象クラスの例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">AbstractClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;抽象メソッドでは、必須の引数だけを定義しています<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">prefixName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br /><br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ConcreteClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">AbstractClass<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;子クラスでは、親のシグネチャにないオプション引数を定義することもあるでしょう<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">prefixName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$separator&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefix&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Mr"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefix&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Mrs"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefix&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefix</span><span style="color: #007700">}{</span><span style="color: #0000BB">$separator</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$name</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ConcreteClass</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prefixName</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prefixName</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Mr. Pacman
Mrs. Pacwoman
</pre></div>
   </div>
  </div>

 <p class="para">
  &#039;abstract&#039; という名前のユーザー定義クラスや関数を含まないコードは、修正なしに動作します。
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="111028""></a>
  <div class="note">
   <strong class="user">passerbyxp at gmail dot com</strong>
   <a href="#111028" class="date">08-Jan-2013 07:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's not quite clear in this document, so in case someone wonder, abstract method can be static:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">FOO<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; abstract static function </span><span class="default">dump</span><span class="keyword">();<br />
}<br />
class </span><span class="default">BAR </span><span class="keyword">extends </span><span class="default">FOO<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">dump</span><span class="keyword">(){</span><span class="default">var_dump</span><span class="keyword">(</span><span class="string">"BAR"</span><span class="keyword">);}<br />
}<br />
</span><span class="default">BAR</span><span class="keyword">::</span><span class="default">dump</span><span class="keyword">(); </span><span class="comment">// string(3) "BAR"<br />
<br />
</span><span class="keyword">class </span><span class="default">FAULT </span><span class="keyword">extends </span><span class="default">FOO<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">pr</span><span class="keyword">(){</span><span class="default">var_export</span><span class="keyword">(</span><span class="string">"WTF"</span><span class="keyword">);}<br />
} </span><span class="comment">// FATAL error<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106676""></a>
  <div class="note">
   <strong class="user">oliver at ananit dot de</strong>
   <a href="#106676" class="date">27-Nov-2011 05:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Abstract classes may have an final constructor, and sometime it makes sense to implement a class with a final constructor.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">AbstractModel<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//our models must use the default constuctor<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">public final function </span><span class="default">__construct</span><span class="keyword">(){}<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">inject</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="default">get_called_class</span><span class="keyword">()))&nbsp; as </span><span class="default">$property</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$property </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$property</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">ProductModel </span><span class="keyword">extends </span><span class="default">AbstractModel<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$price</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$id</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getId</span><span class="keyword">(){return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id</span><span class="keyword">;}<br />
}<br />
<br />
class </span><span class="default">Factory</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$dataSource</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__consruct</span><span class="keyword">(</span><span class="default">$dataSource</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">dataSource </span><span class="keyword">= </span><span class="default">$dataSource</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">get</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">, </span><span class="default">$table</span><span class="keyword">, </span><span class="default">$filter</span><span class="keyword">, </span><span class="default">$orderby</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$datasource</span><span class="keyword">-&gt;</span><span class="default">fetchAssoc</span><span class="keyword">(</span><span class="default">$table</span><span class="keyword">, </span><span class="default">$filter</span><span class="keyword">, </span><span class="default">$orderby</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">) as </span><span class="default">$rawData</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">();</span><span class="comment">//this can only work if ALL models have a default constructor<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">inject</span><span class="keyword">(</span><span class="default">$rawData</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[] = </span><span class="default">$obj</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Note: This is a very simple example, and I am aware that there are other (better) ways to do this.<br />
Oliver Anan</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104210""></a>
  <div class="note">
   <strong class="user">joelhy</strong>
   <a href="#104210" class="date">01-Jun-2011 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation says: "It is not allowed to create an instance of a class that has been defined as abstract.". It only means you cannot initialize an object from an abstract class. Invoking static method of abstract class is still feasible. For example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; static function </span><span class="default">bar</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"test\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">Foo</span><span class="keyword">::</span><span class="default">bar</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103118""></a>
  <div class="note">
   <strong class="user">a dot tsiaparas at watergate dot gr</strong>
   <a href="#103118" class="date">27-Mar-2011 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Abstraction and interfaces are two very different tools. The are as close as hammers and drills. Abstract classes may have implemented methods, whereas interfaces have no implementation in themselves.<br />
<br />
Abstract classes that declare all their methods as abstract are not interfaces with different names. One can implement multiple interfaces, but not extend multiple classes (or abstract classes).<br />
<br />
The use of abstraction vs interfaces is problem specific and the choice is made during the design of software, not its implementation. In the same project you may as well offer an interface and a base (probably abstract) class as a reference that implements the interface. Why would you do that?<br />
<br />
Let us assume that we want to build a system that calls different services, which in turn have actions. Normally, we could offer a method called execute that accepts the name of the action as a parameter and executes the action.<br />
<br />
We want to make sure that classes can actually define their own ways of executing actions. So we create an interface IService that has the execute method. Well, in most of your cases, you will be copying and pasting the exact same code for execute.<br />
<br />
We can create a reference implemention for a class named Service and implement the execute method. So, no more copying and pasting for your other classes! But what if you want to extend MySLLi?? You can implement the interface (copy-paste probably), and there you are, again with a service. Abstraction can be included in the class for initialisation code, which cannot be predefined for every class that you will write.<br />
<br />
Hope this is not too mind-boggling and helps someone. Cheers,<br />
Alexios Tsiaparas</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101572""></a>
  <div class="note">
   <strong class="user">designbyjeeba at gmail dot com</strong>
   <a href="#101572" class="date">26-Dec-2010 03:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please be aware of the visibility of the parent fields. If the fields are private, then you are not going to see those fields in their childrens. Its basic OOP, but can be problematic sometimes.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99117""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#99117" class="date">28-Jul-2010 07:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Incidentally, abstract classes do not need to be base classes:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sneeze</span><span class="keyword">() { echo </span><span class="string">'achoooo'</span><span class="keyword">; }<br />
}<br />
<br />
abstract class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public abstract function </span><span class="default">hiccup</span><span class="keyword">();<br />
}<br />
<br />
class </span><span class="default">Baz </span><span class="keyword">extends </span><span class="default">Bar </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">hiccup</span><span class="keyword">() { echo </span><span class="string">'hiccup!'</span><span class="keyword">; }<br />
}<br />
<br />
</span><span class="default">$baz </span><span class="keyword">= new </span><span class="default">Baz</span><span class="keyword">();<br />
</span><span class="default">$baz</span><span class="keyword">-&gt;</span><span class="default">sneeze</span><span class="keyword">();<br />
</span><span class="default">$baz</span><span class="keyword">-&gt;</span><span class="default">hiccup</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95404""></a>
  <div class="note">
   <strong class="user">mbajoras at gmail dot com</strong>
   <a href="#95404" class="date">01-Jan-2010 08:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's an example that helped me with understanding abstract classes. It's just a very simple way of explaining it (in my opinion). Lets say we have the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Fruit </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$color</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">eat</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//chew<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setColor</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">color </span><span class="keyword">= </span><span class="default">$c</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Apple </span><span class="keyword">extends </span><span class="default">Fruit </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">eat</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//chew until core<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
class </span><span class="default">Orange </span><span class="keyword">extends </span><span class="default">Fruit </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">eat</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//peel<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //chew<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now I give you an apple and you eat it.<br />
<br />
<span class="default">&lt;?php<br />
$apple </span><span class="keyword">= new </span><span class="default">Apple</span><span class="keyword">();<br />
</span><span class="default">$apple</span><span class="keyword">-&gt;</span><span class="default">eat</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
What does it taste like? It tastes like an apple. Now I give you a fruit.<br />
<br />
<span class="default">&lt;?php<br />
$fruit </span><span class="keyword">= new </span><span class="default">Fruit</span><span class="keyword">();<br />
</span><span class="default">$fruit</span><span class="keyword">-&gt;</span><span class="default">eat</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
What does that taste like??? Well, it doesn't make much sense, so you shouldn't be able to do that. This is accomplished by making the Fruit class abstract as well as the eat method inside of it.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">Fruit </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$color</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; abstract public function </span><span class="default">eat</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setColor</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">color </span><span class="keyword">= </span><span class="default">$c</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now just think about a Database class where MySQL and PostgreSQL extend it. Also, a note. An abstract class is just like an interface, but you can define methods in an abstract class whereas in an interface they are all abstract.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94655""></a>
  <div class="note">
   <strong class="user">nathan dot vorbei dot tech at gmail dot com</strong>
   <a href="#94655" class="date">17-Nov-2009 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"additionally, these methods must be defined with the same (or a less restricted) visibility."<br />
<br />
The words were not restricted in abstract class but also normal classes,<br />
the method in child Class which overwrites the parent Class can also change the the visibility of the method to same or less restricted.<br />
for example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">ClassOne </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected static </span><span class="default">$staticone </span><span class="keyword">= </span><span class="string">'nathan'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">changestaticone</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$staticone </span><span class="keyword">= </span><span class="string">'john'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">ClassTwo </span><span class="keyword">extends </span><span class="default">ClassOne </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">changestaticone</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$staticone </span><span class="keyword">= </span><span class="string">'Alexey'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
} <br />
</span><span class="default">$classtwo </span><span class="keyword">= new </span><span class="default">ClassTwo</span><span class="keyword">();<br />
echo </span><span class="default">$classtwo</span><span class="keyword">-&gt;</span><span class="default">changestaticone</span><span class="keyword">();</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94034""></a>
  <div class="note">
   <strong class="user">pete at surfaceeffect dot com</strong>
   <a href="#94034" class="date">13-Oct-2009 11:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One fairly important difference between php's abstract functions and, say, Java, is that php does not specify the return type in any way - or indeed whether there has to be one.<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">public abstract function </span><span class="default">square</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span><br />
could be implemented by...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">public function </span><span class="default">square</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {<br />
&nbsp;&nbsp; return </span><span class="default">$number</span><span class="keyword">*</span><span class="default">$number</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
or <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">public function </span><span class="default">square</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {<br />
&nbsp;&nbsp; print (</span><span class="default">$number</span><span class="keyword">*</span><span class="default">$number</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
So you need to take care that incompatibilities don't arise due to not returning the right kind of value and this is not enforced in any way.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93687""></a>
  <div class="note">
   <strong class="user">Cheese Doodle</strong>
   <a href="#93687" class="date">23-Sep-2009 01:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There isn't really that much of a great hurdle in understanding these things, there really isn't. <br />
<br />
If you're defining a new class that is abstract, it means that you can make some non-abstract functions that you can use to define the general underlying behavior of that class along side abstract ones. <br />
<br />
In interfaces, you can't do that since functions defined therewithin cannot have a body.<br />
<br />
Abstract functions you use for classes that must define more specific behavior when "extending" your class. <br />
<br />
So for a crude example - define by your non-abstract functions how that particular object (which may be part of a larger class hierarchy) would store and process it's data in SQL, XML, etc.<br />
<br />
Then define abstract functions which allow someone implementing that class to specifically manipulate the data that is to be stored. Then require a format which this data must be returned in, and then in your non-abstract functions call those functions on destruction, in normal runtime, and so on. <br />
<br />
Again, non-abstract functions, or even another class could implement the finer points of ensuring that data is in the correct format, and so on, ad infinitum. <br />
<br />
It isn't too much of a reach to say that if you used a normal class instead of an abstract class, then there isn't much intrinsic requirement between the two classes. <br />
<br />
Assuming that you wanted the functions to use each-others functions and you'd need to use them specifically by name, you'd have to write some code which checked to see -- lamely using function_exists() and other lamery -- if that class has the function you require for interoperability, when you could avoid all possible confusion and headaches by simply using the right tool for the job.<br />
<br />
And reading a decent OOP book.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83582""></a>
  <div class="note">
   <strong class="user">eeescalona</strong>
   <a href="#83582" class="date">03-Jun-2008 06:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here is a real world example of abstract using:<br />
<br />
a (abstract) person class<br />
a student and an employee final class, which extends person class.<br />
<br />
simple theory is that both student and employee is an extension of the person class.&nbsp; the difference lies on which table the data is written on, and what other pre processing (ie mandatory field checking, type checking, etc.) needed before writing each of the classes.<br />
<br />
codes:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">abstract class </span><span class="default">person </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; abstract protected function </span><span class="default">write_info</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$LastName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$FirstName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$BirthDate</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">get_Age</span><span class="keyword">(</span><span class="default">$today</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//age computation function<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
final class </span><span class="default">employee </span><span class="keyword">extends </span><span class="default">person</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$EmployeeNumber</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$DateHired</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">write_info</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Writing "</span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">LastName </span><span class="keyword">. </span><span class="string">"'s info to emloyee dbase table"</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//ADD unique mandatory checking unique to EMPLOYEE ONLY<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //actual sql codes here<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
final class </span><span class="default">student </span><span class="keyword">extends </span><span class="default">person</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$StudentNumber</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$CourseName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">write_info</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Writing "</span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">LastName </span><span class="keyword">. </span><span class="string">"'s info to student dbase table"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//ADD unique mandatory checking unique to STUDENT ONLY<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //actual sql codes here<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
</span><span class="comment">///----------<br />
</span><span class="default">$personA </span><span class="keyword">= new </span><span class="default">employee</span><span class="keyword">;<br />
</span><span class="default">$personB </span><span class="keyword">= new </span><span class="default">student</span><span class="keyword">;<br />
<br />
</span><span class="default">$personA</span><span class="keyword">-&gt;</span><span class="default">FirstName</span><span class="keyword">=</span><span class="string">"Joe"</span><span class="keyword">;<br />
</span><span class="default">$personA</span><span class="keyword">-&gt;</span><span class="default">LastName</span><span class="keyword">=</span><span class="string">"Sbody"</span><span class="keyword">;<br />
<br />
</span><span class="default">$personB</span><span class="keyword">-&gt;</span><span class="default">FirstName</span><span class="keyword">=</span><span class="string">"Ben"</span><span class="keyword">;<br />
</span><span class="default">$personB</span><span class="keyword">-&gt;</span><span class="default">LastName</span><span class="keyword">=</span><span class="string">"Dover"</span><span class="keyword">;<br />
<br />
</span><span class="default">$personA</span><span class="keyword">-&gt;</span><span class="default">write_info</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
OUTPUT:Writing Sbody's info to emloyee dbase table</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82111""></a>
  <div class="note">
   <strong class="user">ironiridis at gmail dot com</strong>
   <a href="#82111" class="date">27-Mar-2008 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just one more time, in the simplest terms possible:<br />
<br />
An Interface is like a protocol. It doesn't designate the behavior of the object; it designates how your code tells that object to act. An interface would be like the English Language: defining an interface defines how your code communicates with any object implementing that interface.<br />
<br />
An interface is always an agreement or a promise. When a class says "I implement interface Y", it is saying "I promise to have the same public methods that any object with interface Y has".<br />
<br />
On the other hand, an Abstract Class is like a partially built class. It is much like a document with blanks to fill in. It might be using English, but that isn't as important as the fact that some of the document is already written.<br />
<br />
An abstract class is the foundation for another object. When a class says "I extend abstract class Y", it is saying "I use some methods or properties already defined in this other class named Y".<br />
<br />
So, consider the following PHP:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">X </span><span class="keyword">implements </span><span class="default">Y </span><span class="keyword">{ } </span><span class="comment">// this is saying that "X" agrees to speak language "Y" with your code.<br />
<br />
</span><span class="keyword">class </span><span class="default">X </span><span class="keyword">extends </span><span class="default">Y </span><span class="keyword">{ } </span><span class="comment">// this is saying that "X" is going to complete the partial class "Y".<br />
</span><span class="default">?&gt;<br />
</span><br />
You would have your class implement a particular interface if you were distributing a class to be used by other people. The interface is an agreement to have a specific set of public methods for your class.<br />
<br />
You would have your class extend an abstract class if you (or someone else) wrote a class that already had some methods written that you want to use in your new class.<br />
<br />
These concepts, while easy to confuse, are specifically different and distinct. For all intents and purposes, if you're the only user of any of your classes, you don't need to implement interfaces.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78388""></a>
  <div class="note">
   <strong class="user">sneakyimp at hotmail dot com</strong>
   <a href="#78388" class="date">10-Oct-2007 02:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Ok...the docs are a bit vague when it comes to an abstract class extending another abstract class.&nbsp; An abstract class that extends another abstract class doesn't need to define the abstract methods from the parent class.&nbsp; In other words, this causes an error:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">class1 </span><span class="keyword">{<br />
&nbsp; abstract public function </span><span class="default">someFunc</span><span class="keyword">();<br />
}<br />
abstract class </span><span class="default">class2 </span><span class="keyword">extends </span><span class="default">class1 </span><span class="keyword">{<br />
&nbsp; abstract public function </span><span class="default">someFunc</span><span class="keyword">();<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Error: Fatal error: Can't inherit abstract function class1::someFunc() (previously declared abstract in class2) in /home/sneakyimp/public/chump.php on line 7<br />
<br />
However this does not:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">class1 </span><span class="keyword">{<br />
&nbsp; abstract public function </span><span class="default">someFunc</span><span class="keyword">();<br />
}<br />
abstract class </span><span class="default">class2 </span><span class="keyword">extends </span><span class="default">class1 </span><span class="keyword">{<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
An abstract class that extends an abstract class can pass the buck to its child classes when it comes to implementing the abstract methods of its parent abstract class.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75961""></a>
  <div class="note">
   <strong class="user">joebert</strong>
   <a href="#75961" class="date">24-Jun-2007 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I don't agree with jfkallens' last comparison between Abstract Classes &amp; Object Interfaces completely.<br />
<br />
In an Abstract Class, you can define how some methods work, where as in an Object Interface you can not.<br />
<br />
An Object Interface is essentually nothing but a list of function names that a class must define if the class implements that interface.<br />
<br />
An Abstract Class is essentually a prototype which hints towards what extending classes should be doing.<br />
An Abstract Class can also be thought of as a Base Class that provides some basic functionality, &amp; also defines a built-in Object Interface that all extending classes will implement.<br />
<br />
So, an Object Interface is really a built-in part of an Abstract Class.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.static.html">static キーワード</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.interfaces.html">オブジェクト インターフェイス</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
