<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>指定したキーまたは添字が配列にあるかどうかを調べる</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-intersect.html">array_intersect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-keys.html">array_keys</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-key-exists" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_key_exists</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.7, PHP 5)</p><p class="refpurpose"><span class="refname">array_key_exists</span> &mdash; <span class="dc-title">指定したキーまたは添字が配列にあるかどうかを調べる</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.array-key-exists-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>array_key_exists</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$key</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   )</div>

  <p class="para rdfs-comment">
   指定した <em><code class="parameter">key</code></em> が配列に設定されている場合、
    <span class="function"><strong>array_key_exists()</strong></span> は <strong><code>TRUE</code></strong> を返します。
   <em><code class="parameter">key</code></em> は配列添字として使用できる全ての値を使用可能です。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-key-exists-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">key</code></em></span>
     <dd>

      <p class="para">
       調べる値。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">array</code></em></span>
     <dd>

      <p class="para">
       キーが存在するかどうかを調べたい配列。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-key-exists-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功した場合に <strong><code>TRUE</code></strong> を、失敗した場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-key-exists-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4927">
    <p><strong>例1  <span class="function"><strong>array_key_exists()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$search_array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'first'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'second'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'first'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$search_array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"この配列には&nbsp;'first'&nbsp;という要素が存在します"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <div class="example" id="example-4928">
   <p><strong>例2  <span class="function"><strong>array_key_exists()</strong></span> 対  <span class="function"><a href="function.isset.html" class="function">isset()</a></span></strong></p>
   <div class="example-contents"><p>
     <span class="function"><a href="function.isset.html" class="function">isset()</a></span> は <strong><code>NULL</code></strong> 値を持つ配列キーに対して
    <strong><code>TRUE</code></strong> を返しません。一方、 <span class="function"><strong>array_key_exists()</strong></span> は
    <strong><code>TRUE</code></strong> を返します。
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$search_array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'first'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'second'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;false&nbsp;を返します<br /></span><span style="color: #007700">isset(</span><span style="color: #0000BB">$search_array</span><span style="color: #007700">[</span><span style="color: #DD0000">'first'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;true&nbsp;を返します<br /></span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'first'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$search_array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-key-exists-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
    下位互換のために、次の非推奨別名を使用してもいいでしょう。
     <span class="function"><a href="function.key-exists.html" class="function">key_exists()</a></span>
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     過去との互換性を保つため、<em><code class="parameter">key</code></em>
     が仮に <em><code class="parameter">array</code></em> で指定したオブジェクトのプロパティであっても
      <span class="function"><strong>array_key_exists()</strong></span> は <strong><code>TRUE</code></strong> を返します。
     しかし、この挙動に頼ってはいけません。
     <em><code class="parameter">array</code></em> にはオブジェクトではなく配列を渡すようにしましょう。
    </p>
    <p class="para">
     オブジェクトのプロパティが存在するかどうかを調べるには、
      <span class="function"><a href="function.property-exists.html" class="function">property_exists()</a></span> を使いましょう。
    </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.array-key-exists-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - 変数がセットされていること、そして NULL でないことを検査する</span></li>
    <li class="member"> <span class="function"><a href="function.array-keys.html" class="function" rel="rdfs-seeAlso">array_keys()</a> - 配列のキーすべて、あるいはその一部を返す</span></li>
    <li class="member"> <span class="function"><a href="function.in-array.html" class="function" rel="rdfs-seeAlso">in_array()</a> - 配列に値があるかチェックする</span></li>
    <li class="member"> <span class="function"><a href="function.property-exists.html" class="function" rel="rdfs-seeAlso">property_exists()</a> - オブジェクトもしくはクラスにプロパティが存在するかどうかを調べる</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112458""></a>
  <div class="note">
   <strong class="user">Sandro Alves Peres</strong>
   <a href="#112458" class="date">19-Jun-2013 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; It also works on objects<br />
&nbsp;&nbsp;&nbsp; ***************************************<br />
*/<br />
<br />
</span><span class="keyword">class </span><span class="default">PHP<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$compiler</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$architecture</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$version</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$system </span><span class="keyword">= </span><span class="string">"Linux"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">$php </span><span class="keyword">= new </span><span class="default">PHP</span><span class="keyword">();<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'compiler'</span><span class="keyword">, </span><span class="default">$php</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment"># false<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'architecture'</span><span class="keyword">, </span><span class="default">$php</span><span class="keyword">); </span><span class="comment"># false<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'version'</span><span class="keyword">, </span><span class="default">$php</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment"># true<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'system'</span><span class="keyword">, </span><span class="default">$php</span><span class="keyword">);&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># true<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$d </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108226""></a>
  <div class="note">
   <strong class="user">imaginary at friend dot com</strong>
   <a href="#108226" class="date">10-Apr-2012 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An even simpler case-insensitive alternative to array_key_exists():<br />
<br />
<span class="default">&lt;?php<br />
<br />
array_key_exists</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">), </span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">));</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107786""></a>
  <div class="note">
   <strong class="user">Nik Tang</strong>
   <a href="#107786" class="date">05-Mar-2012 10:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to take the performance advantage of isset() while keeping the NULL element correctly detected, use this:<br />
<br />
if (isset(..) || array_key_exists(...))<br />
{<br />
...<br />
}<br />
<br />
Benchmark (100000 runs):<br />
array_key_exists() : 205 ms<br />
is_set() : 35ms<br />
isset() || array_key_exists() : 48ms<br />
<br />
Note: <br />
The code for this check is very fast, so you shouldn't warp the code into a single function like below, because the overhead of calling a function dominates the overall performance.<br />
<br />
function array_check(...)<br />
{<br />
&nbsp;&nbsp;&nbsp; return (isset(..) || array_key_exists(...))<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106449""></a>
  <div class="note">
   <strong class="user">Rudi</strong>
   <a href="#106449" class="date">10-Nov-2011 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've got a new take on the multi key function I would like to share.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">array_multi_key_exists</span><span class="keyword">(array </span><span class="default">$arrNeedles</span><span class="keyword">, array </span><span class="default">$arrHaystack</span><span class="keyword">, </span><span class="default">$blnMatchAll</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$blnFound </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrNeedles</span><span class="keyword">), </span><span class="default">$arrHaystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$blnFound </span><span class="keyword">&amp;&amp; (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrNeedles</span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">|| !</span><span class="default">$blnMatchAll</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$blnFound </span><span class="keyword">&amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrNeedles</span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$blnMatchAll</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_multi_key_exists</span><span class="keyword">(</span><span class="default">$arrNeedles</span><span class="keyword">, </span><span class="default">$arrHaystack</span><span class="keyword">, </span><span class="default">$blnMatchAll</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope you'll find it usefull.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106000""></a>
  <div class="note">
   <strong class="user">glitch dot mr at gmail dot com</strong>
   <a href="#106000" class="date">01-Oct-2011 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As you might know, isset() is actually working like @$variable===NULL. As the result, it doesn't actually catch variables set to NULL. If you want to check if variable is set (even to NULL), you can use array_key_exists on $GLOBALS, like there.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; $me </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$se </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; unset(</span><span class="default">$se</span><span class="keyword">);<br />
</span><span class="comment">// $he is not set<br />
<br />
</span><span class="keyword">if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'me'</span><span class="keyword">, </span><span class="default">$GLOBALS</span><span class="keyword">)) echo </span><span class="string">"\$me exists\n"</span><span class="keyword">;<br />
if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'se'</span><span class="keyword">, </span><span class="default">$GLOBALS</span><span class="keyword">)) echo </span><span class="string">"\$se exists\n"</span><span class="keyword">;<br />
if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'he'</span><span class="keyword">, </span><span class="default">$GLOBALS</span><span class="keyword">)) echo </span><span class="string">"\$he exists\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
In this case, only $me will be detected as $se was removed when code was running and $he was never set.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104474""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#104474" class="date">16-Jun-2011 10:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just want to note that array_key_exists() can be extremely slow for large (&gt;200 keys) arrays.&nbsp; Use isset($array($key)) instead!&nbsp; My program ran in 3 minutes instead of 2 hours after switching to isset()!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104033""></a>
  <div class="note">
   <strong class="user">manhon824 at gmail dot com</strong>
   <a href="#104033" class="date">18-May-2011 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I took hours for me to debug, and I finally recognized that,<br />
<br />
You have to reset the $array before using array_key_exists <br />
reset($array);<br />
array_key_exists($needle,$array);<br />
<br />
Or you will get no reply.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101920""></a>
  <div class="note">
   <strong class="user">tech  at signhere envy dot de</strong>
   <a href="#101920" class="date">18-Jan-2011 11:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hey, this function is able to rename a key inside an array.<br />
<br />
If the key to be replaced doesn't exist inside the array, or the new key already exists in the array, the function will return FALSE.<br />
Otherwise, the array with the renamed key will be returned.<br />
<br />
Hope this will be useful for someone.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_rename_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$newkey</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if( ! </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) || </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$newkey</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)) return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$uid </span><span class="keyword">= </span><span class="default">uniqid</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">); </span><span class="comment">//To clearly identify the Element.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$preserve_value </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]; </span><span class="comment">//Keep the Value<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$uid</span><span class="keyword">; </span><span class="comment">//Overwrite Value with ID<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">//Flip the Array keys and values<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$uid</span><span class="keyword">] = </span><span class="default">$newkey</span><span class="keyword">; </span><span class="comment">//Set Value of the ID with new Key.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">//Everything back in Place.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$newkey</span><span class="keyword">] = </span><span class="default">$preserve_value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100789""></a>
  <div class="note">
   <strong class="user">jens dot hoevenaars at gmail dot com</strong>
   <a href="#100789" class="date">07-Nov-2010 12:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I created this function that uses array key exist to compare a form and a table to see if something has changed.<br />
<br />
This can be very helpfull if you need to update a table record from a form but you do not want to display all table fields.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function(</span><span class="default">$data_from_db</span><span class="keyword">, </span><span class="default">$form_data</span><span class="keyword">) {<br />
&nbsp;</span><span class="default">$data </span><span class="keyword">= </span><span class="default">$data_from_db</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$form_data</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dbobject</span><span class="keyword">-&gt;</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$data</span><span class="keyword">[</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dbobject</span><span class="keyword">-&gt;</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$form_data</span><span class="keyword">[</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$dbobject</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
you can then use the dbobject to update the table.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97558""></a>
  <div class="note">
   <strong class="user">moandsimon at btinternet dot com</strong>
   <a href="#97558" class="date">26-Apr-2010 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This uses array_key_exists.<br />
<br />
You have a multidimensional array of the form:<br />
<br />
$rowsoriginal[] = array('field_wrkvolmin_value' =&gt; 216, 'field_wrkvolmax_value' =&gt; 1000);<br />
$rowsoriginal[] = array('field_wrkvolmin_value' =&gt; 27, 'field_wrkvolmax_value' =&gt; 216);<br />
<br />
Using print_r this will look like:<br />
<br />
Array ( [0] =&gt; Array ( [field_wrkvolmin_value] =&gt; 216 [field_wrkvolmax_value] =&gt; 1000 ) [1] =&gt; Array ( [field_wrkvolmin_value] =&gt; 27 [field_wrkvolmax_value] =&gt; 216 ) )<br />
<br />
This can be used to create a table by iterating over the rows that looks like this:<br />
<br />
field_wrkvolmin_value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; field_wrkvolmax_value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 216&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1000<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 27&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 216<br />
<br />
when $rowsoriginal contain a fixed but unknown amount of values.<br />
<br />
If you want to process this in an automatic way without knowing the keys etc, into a multidimensional array of the form:<br />
<br />
$rowstemp = array('field_wrkvolmin_value' =&gt; array(216, 27), 'field_wrkvolmax_value' =&gt; array(1000, 216));<br />
<br />
Using print_r this will look like:<br />
<br />
Array ( [field_wrkvolmin_value] =&gt; Array ( [0] =&gt; 216 [1] =&gt; 27 ) [field_wrkvolmax_value] =&gt; Array ( [0] =&gt; 1000 [1] =&gt; 216 ) )<br />
<br />
This can be used to iterate over the rows of a table to create a table in the form of:<br />
<br />
field_wrkvolmin_value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 216&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 27<br />
field_wrkvolmax_value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 1000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 216<br />
<br />
To do this you can use the following looping and conditional structure, using array_key_exists():<br />
<br />
<span class="default">&lt;?php<br />
$rowstemp </span><span class="keyword">= array();<br />
foreach (</span><span class="default">$rowsoriginal </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$row </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$rowstemp</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rowstemp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$valuestemp </span><span class="keyword">= array(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rowstemp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$valuestemp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95664""></a>
  <div class="note">
   <strong class="user">gmdebby at gmail dot com</strong>
   <a href="#95664" class="date">14-Jan-2010 02:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little function which take an array as keys<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//note the s in the function name (keys)<br />
</span><span class="keyword">function </span><span class="default">array_keys_exists</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>//useful to validate a form for example<br />
&lt;form&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="text" name="field1" /&gt;&lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="text" name="field2" /&gt;&lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="text" name="field3" /&gt;&lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="text" name="field4" /&gt;&lt;br /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="text" name="field5" /&gt;&lt;br /&gt;<br />
&lt;/form&gt;<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!</span><span class="default">array_keys_exists</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">,<br />
array(</span><span class="string">"field1"</span><span class="keyword">,</span><span class="string">"field2"</span><span class="keyword">,</span><span class="string">"field3"</span><span class="keyword">,</span><span class="string">"field4"</span><span class="keyword">,</span><span class="string">"field5"</span><span class="keyword">)<br />
)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//some fields are missing, dont do anything (maybe hacking)<br />
</span><span class="keyword">} else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//code ...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92717""></a>
  <div class="note">
   <strong class="user">PHPEric</strong>
   <a href="#92717" class="date">05-Aug-2009 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Very simple case-insensitive array_key_exists:<br />
<br />
bool (in_array(strtolower($needle), array_map('strtolower', array_keys($haystack))))</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92355""></a>
  <div class="note">
   <strong class="user">tom at edgedesigns dot org</strong>
   <a href="#92355" class="date">21-Jul-2009 02:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The multi_array_key_exists() function posted by alishahnovin at hotmail dot com [which has since been removed] does not always return the expected result.<br />
<br />
This modified version does.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* multi_array_key_exists function.<br />
&nbsp;* <br />
&nbsp;* @param mixed $needle The key you want to check for<br />
&nbsp;* @param mixed $haystack The array you want to search <br />
&nbsp;* @return bool<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">multi_array_key_exists</span><span class="keyword">( </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack </span><span class="keyword">) {<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; foreach ( </span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">) :<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$key </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) ) :<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">multi_array_key_exists</span><span class="keyword">( </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">) == </span><span class="default">true </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; endif;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; endforeach;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90687""></a>
  <div class="note">
   <strong class="user">webmaster at oehoeboeroe dot nl</strong>
   <a href="#90687" class="date">04-May-2009 10:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The way array_key_exists handles null, float, boolean, and 'integer-representing string' keys is inconsistent in itself and, in the case of bool and float, with the way these are converted when used as array offset.<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="default">null </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="default">false </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="default">true </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="default">4.6 </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="string">"08" </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="string">"8" </span><span class="keyword">=&gt; </span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"\nnull is " </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
echo </span><span class="string">'false is ' </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
echo </span><span class="string">'true is ' </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
echo </span><span class="string">'4.6 is ' </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">4.6</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
echo </span><span class="string">'"08" is ' </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">"08"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
echo </span><span class="string">'"8" is ' </span><span class="keyword">. (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">"8"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="string">'not '</span><span class="keyword">) . </span><span class="string">"a key.\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
array (<br />
&nbsp; '' =&gt; 1,<br />
&nbsp; 0 =&gt; 2,<br />
&nbsp; 1 =&gt; 3,<br />
&nbsp; 4 =&gt; 4,<br />
&nbsp; '08' =&gt; 5,<br />
&nbsp; 8 =&gt; 6,<br />
)<br />
null is a key.<br />
false is not a key.<br />
true is not a key.<br />
4.6 is not a key.<br />
"08" is a key.<br />
"8" is a key.<br />
<br />
Well, and you get this warning three times (on the bools and the float, but not on the null):<br />
<br />
Warning:&nbsp; array_key_exists() [function.array-key-exists]: The first argument should be either a string or an integer in /var/www/php/test.php on line 6</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88330""></a>
  <div class="note">
   <strong class="user">csaba at alum dot mit dot edu</strong>
   <a href="#88330" class="date">20-Jan-2009 02:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In some functions cacheing can be extremely useful, and this is especially true in recursive functions, and all the more so in doubly recursive functions.&nbsp; One way to effect cacheing is to have a static array in the function as shown below.&nbsp; This will typically be useful when a function has one or two arguments and is heavily called.&nbsp; Example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">nk</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) {<br />
&nbsp; </span><span class="comment">// n choose k, ensuring integer math<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$k </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">-</span><span class="default">$k</span><span class="keyword">) </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// (n,k) = (n,n-k)<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$k</span><span class="keyword">&lt;=</span><span class="default">1</span><span class="keyword">) return (</span><span class="default">$k</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$n </span><span class="keyword">: !</span><span class="default">$k</span><span class="keyword">; </span><span class="comment">// (n,1) = n; (n,0)=1; (n,-#) = 0<br />
<br />
&nbsp; </span><span class="keyword">static </span><span class="default">$aNK </span><span class="keyword">= array();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// caching section<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">$aNK</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">]) return </span><span class="default">$aNK</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">];</span><span class="comment">// if answer already computed =&gt; done<br />
<br />
&nbsp; // else compute answer, cache it, and return<br />
&nbsp; </span><span class="keyword">return (</span><span class="default">$aNK</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">nk</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) + </span><span class="default">nk</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)); }<br />
<br />
</span><span class="default">$n </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">;<br />
</span><span class="default">$k </span><span class="keyword">= </span><span class="default">9</span><span class="keyword">;<br />
</span><span class="default">$nk </span><span class="keyword">= </span><span class="default">nk</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">);<br />
print </span><span class="string">"nk(</span><span class="default">$n</span><span class="string">, </span><span class="default">$k</span><span class="string">) = </span><span class="default">$nk</span><span class="string">"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
For functions of two arguments, using a two dimensional array seems to be faster than combining arguments a la "$n $k", and the form of testing shown above is also faster than array_key_exists.&nbsp; However, to avoid the use of array_key_exists, special consideration must be given to empty values (several prior notes cover this) - the example above works because no cached value can be 0.<br />
<br />
Csaba Gabor from Vienna</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88281""></a>
  <div class="note">
   <strong class="user">John</strong>
   <a href="#88281" class="date">19-Jan-2009 06:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a little function for case sensitivity to elaborate on what was said by MarkL from ##php (Freenode) and mmanning at mdanderson dot org from this page:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Case sensitive version of array_key_exists() using preg_match()<br />
</span><span class="keyword">function </span><span class="default">array_ikey_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">"/i"</span><span class="keyword">, </span><span class="default">join</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">))))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Not that anyone else couldn't have written this, but a concept like this strengthens reusability.&nbsp; :)<br />
<br />
Also, I've been running into issues with escaping for Regex, so I decided to give something like this a shot:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_ikey_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$arr</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="comment">//$key = addslashes($key);<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) &amp;&amp; </span><span class="default">$arr </span><span class="keyword">!==array())<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$e</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
You could addslashes() to escape; it's just another approach.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87491""></a>
  <div class="note">
   <strong class="user">david at lostair dot com</strong>
   <a href="#87491" class="date">07-Dec-2008 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is important to realise that:<br />
<br />
&nbsp; isset($array ['index'])<br />
<br />
Does not act the same as:<br />
<br />
&nbsp; array_key_exists('index', $array)<br />
<br />
This is because if an array value is set to NULL<br />
<br />
$array['index'] = NULL;<br />
<br />
Then isset will return FALSE and array_key_exists will return TRUE.<br />
<br />
It is important to realise this!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86474""></a>
  <div class="note">
   <strong class="user">mmanning at mdanderson dot org</strong>
   <a href="#86474" class="date">21-Oct-2008 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Something to keep in mind is that array_key_exists is case sensitive.&nbsp; So two things I'd like to say:<br />
<br />
1. Could there be an additional option added on to the array_key_exists command so you can specify the case to be insensitive?<br />
<br />
2. Here is how you can do this test in one command:<br />
<br />
&nbsp;&nbsp; if( preg_match("/&lt;key&gt;/i", join(",", array_keys(&lt;array&gt;))) ){<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;Do something&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
<br />
But it would be a lot nicer to just have an additional option on the array_key_exists.&nbsp; Like so:<br />
<br />
&nbsp;&nbsp; array_key_exists(&lt;array&gt;, ["i"] );<br />
<br />
Ok - so why did this come up at all?&nbsp; I wrote a routine to convert any whacky UppERcAsE kind of lettering to just be lowercase letters. (ex: FgColorS becomes fgcolors and so forth.)&nbsp; So I never had to guess what the user was putting in to the program.&nbsp; There were two particular items (fgColors and bgColors) which I wanted to test against.&nbsp; If they were not supplied, my program would supply them.&nbsp; The above was the easiest way I could come up with to do this.&nbsp; :-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85184""></a>
  <div class="note">
   <strong class="user">Karim Ratib</strong>
   <a href="#85184" class="date">19-Aug-2008 02:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function to return a reference to the first array element that has a given key. The code works for multidimensional arrays:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function &amp;</span><span class="default">array_find_element_by_key</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, &amp;</span><span class="default">$form</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$form</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">=&amp; </span><span class="default">$form</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; foreach (</span><span class="default">$form </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">=&amp; </span><span class="default">array_find_element_by_key</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$form</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$ret</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83896""></a>
  <div class="note">
   <strong class="user">jacobsingh at gmail dot com</strong>
   <a href="#83896" class="date">17-Jun-2008 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I saw some examples above for array_keys_exist() or functions to see if multiple keys exist in a given array and return false if any of them don't.<br />
<br />
Here is a simpler way to do this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_keys_exist</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">count </span><span class="keyword">(</span><span class="default">array_intersect</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))) == </span><span class="default">count</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array (</span><span class="string">'filename' </span><span class="keyword">=&gt; </span><span class="string">'myfile'</span><span class="keyword">, </span><span class="string">'filesize' </span><span class="keyword">=&gt; </span><span class="default">1234</span><span class="keyword">, </span><span class="string">'filepath' </span><span class="keyword">=&gt; </span><span class="string">'/tmp/myfile'</span><span class="keyword">);<br />
</span><span class="default">$keys </span><span class="keyword">= array(</span><span class="string">'filename'</span><span class="keyword">,</span><span class="string">'filesize'</span><span class="keyword">,</span><span class="string">'filepath'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">array_keys_exist</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="comment">//returns true<br />
<br />
</span><span class="default">$keys</span><span class="keyword">[] = </span><span class="string">"somethingelse"</span><span class="keyword">;<br />
<br />
echo </span><span class="default">array_keys_exist</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="comment">//Returns false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83500""></a>
  <div class="note">
   <strong class="user">mankyd at gmail dot com</strong>
   <a href="#83500" class="date">28-May-2008 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You'll notice several notes on this page stating that isset() is significantly faster than array_key_exists(). This may be true except for one small hitch. isset() will return false for arrays keys that have there value set to NULL, which is therefore not entirely accurate.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= array();<br />
</span><span class="default">$foo</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(isset(</span><span class="default">$foo</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">]));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'bar'</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
will output:<br />
bool(false)<br />
bool(true)<br />
<br />
Be aware of this!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82890""></a>
  <div class="note">
   <strong class="user">bplessingerMONKEYleapfroginteractive.com</strong>
   <a href="#82890" class="date">30-Apr-2008 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noticed that the function for recursion broke the ability to use this on objects, so I added another check to also allow it to work for objects.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_key_exists_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$result</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) || </span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_key_exists_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$result</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82867""></a>
  <div class="note">
   <strong class="user">tmont</strong>
   <a href="#82867" class="date">29-Apr-2008 11:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The argument of array_key_exists() vs. isset() came up in the workplace today, so I conducted a little benchmark to see which is faster:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// one-dimensional arrays<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">50000</span><span class="keyword">,</span><span class="string">'tommy is the best!'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arraykeyexists_result </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arraykeyexists_result</span><span class="keyword">[] = </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arraykeyexists_result</span><span class="keyword">[] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrtime </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$start</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arraykeyexists_result</span><span class="keyword">[] = </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arraykeyexists_result</span><span class="keyword">[] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$istime </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$start</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$totaltime </span><span class="keyword">= </span><span class="default">$arrtime</span><span class="keyword">+</span><span class="default">$istime</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrpercentage </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">*</span><span class="default">$arrtime</span><span class="keyword">/</span><span class="default">$totaltime</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ispercentage </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">*</span><span class="default">$istime</span><span class="keyword">/</span><span class="default">$totaltime</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"array_key_exists(): </span><span class="default">$arrtime</span><span class="string"> [</span><span class="default">$arrpercentage</span><span class="string">%] seconds\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"isset():&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$istime</span><span class="string"> [</span><span class="default">$ispercentage</span><span class="string">%] seconds\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
On Windows, the output is similar to<br />
<br />
array_key_exists(): 0.504 [82.895%] seconds<br />
isset():&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.104 [17.105%] seconds<br />
<br />
On Mac or Linux, isset() is faster but only by a factor of approximately 1.5.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80790""></a>
  <div class="note">
   <strong class="user">packard_bell_nec at hotmail dot com</strong>
   <a href="#80790" class="date">31-Jan-2008 06:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can check whether a variable is defined by using array_key_exists()! <br />
First, you may ask that no reserved array (would be called $LOCALS) is predefined in function scope (contrast to reserved array $GLOBALS in global scope. To solve it, you can use compact(). <br />
Then, you may ask that why property_exists() cannot be used. This is because no reserved function is predefined to create OBJECT containing variables and their values, and no reserved function is predefined to import variables into the current symbol table from an OBJECT. In addition, property_exists() breaks the naming convention of reserved function. <br />
Finally, I show how to check whether a variable is defined by using array_key_exists(): <br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">too</span><span class="keyword">(){<br />
</span><span class="default">$roo </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="default">compact</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">));<br />
echo (</span><span class="default">$roo</span><span class="keyword">?</span><span class="string">'1'</span><span class="keyword">:</span><span class="string">'0'</span><span class="keyword">).</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">$roo </span><span class="keyword">= </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="default">compact</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">));<br />
echo (</span><span class="default">$roo</span><span class="keyword">?</span><span class="string">'1'</span><span class="keyword">:</span><span class="string">'0'</span><span class="keyword">).</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
}<br />
</span><span class="default">too</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span>The output will be: <br />
0&lt;br/&gt;<br />
1&lt;br/&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78103""></a>
  <div class="note">
   <strong class="user">wolf550e at gmail dot com</strong>
   <a href="#78103" class="date">27-Sep-2007 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_key_exists(), at least in 5.2.4, passes the array by value. I conclude this from seeing performance worsen as the array to search got bigger. isset() doesn't have this problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77848""></a>
  <div class="note">
   <strong class="user">diogoshaw at gmail dot com</strong>
   <a href="#77848" class="date">15-Sep-2007 08:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this function very good to use if you need to verify many variables:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_key_exists_r</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">, </span><span class="default">$search_r</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$keys_r </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">'\|'</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$keys_r </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$search_r</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
e.g.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">array_key_exists_r</span><span class="keyword">(</span><span class="string">'login|user|passwd'</span><span class="keyword">,</span><span class="default">$_GET</span><span class="keyword">)) {<br />
</span><span class="comment">// login<br />
</span><span class="keyword">} else {<br />
</span><span class="comment">// other<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
works for me, enjoy.<br />
dg shaw.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76822""></a>
  <div class="note">
   <strong class="user">sj-b at hotmail dot de</strong>
   <a href="#76822" class="date">01-Aug-2007 06:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i dont like how empty() works.<br />
an integer with value 0 or a boolean wth<br />
value false (same like zero) counts as<br />
empty too.<br />
<br />
[code]function r_empty (&amp;$check)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!isset($check)) return true;<br />
&nbsp;&nbsp;&nbsp; if ($check == NULL) return true;<br />
&nbsp;&nbsp;&nbsp; return false;<br />
}[/code]<br />
<br />
that is a good replacement for<br />
both functions for me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76509""></a>
  <div class="note">
   <strong class="user">Lucknut dot xbl at googlemail dot com</strong>
   <a href="#76509" class="date">18-Jul-2007 07:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found this function very good to use if your want your urls like index.php?login or index.php?register<br />
e.g.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if( </span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="string">'home'</span><span class="keyword">,</span><span class="default">$_GET </span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Home - its where the heart is."</span><span class="keyword">;<br />
} else if( </span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="string">'login'</span><span class="keyword">,</span><span class="default">$_GET </span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Login code here!"</span><span class="keyword">;<br />
} else if( </span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="string">'register'</span><span class="keyword">,</span><span class="default">$_GET </span><span class="keyword">) ) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Register code here!"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Home - its where the heart is."</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76222""></a>
  <div class="note">
   <strong class="user">david at madole dot net</strong>
   <a href="#76222" class="date">06-Jul-2007 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding performance differences between isset() and array_key_exists(), the differences may be there, but the function are not always interchangable.<br />
<br />
Note that when $a[1] = null then isset($a[1]) == false but array_key_exists(1, $a) == true</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75685""></a>
  <div class="note">
   <strong class="user">eidberger at jakota dot de</strong>
   <a href="#75685" class="date">11-Jun-2007 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just wondered why array_key_exists() makes me a cpu-load of 85% while isset() only needs 35%.<br />
<br />
Not a big thing for one time execution, but in my case it have to check 1-dimensional array with ~ 15.000 entries 100 times a second. My code checks a big array for existing entrys and updates them, if needed.<br />
<br />
Hopes it helps somebody. Notice that on many other functions, which makes coding more comfortable at the cost of speed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74394""></a>
  <div class="note">
   <strong class="user">php at ianco dot co dot uk</strong>
   <a href="#74394" class="date">09-Apr-2007 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_key_exists is case sensitive (at least in PHP 4.3.9). To make a case-insensitive comparison you could use strtolower on both sides.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73696""></a>
  <div class="note">
   <strong class="user">inker2576 at yahoo dot com</strong>
   <a href="#73696" class="date">07-Mar-2007 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further research on this has turned up that the performance problems are a known, confirmed bug in PHP 5.1.x, and have been fixed in PHP builds after September 2006.&nbsp; You can find the bug report here:&nbsp; <a href="http://bugs.php.net/bug.php?id=38812" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=38812</a><br />
<br />
However, just because it's a fixed bug doesn't really change the conclusion.&nbsp; If you're writing a script and there's any chance it could be used on a PHP 5.1.x server, you should still avoid this function and use isset() or some other kind of test if you want it to run efficiently.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73048""></a>
  <div class="note">
   <strong class="user">serkan yersen</strong>
   <a href="#73048" class="date">07-Feb-2007 01:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
marzetti.marco,<br />
I fixed your function it's is more optimized and working better now.<br />
<br />
function regex_array_keys($arr, $pattern){<br />
&nbsp;&nbsp; $results[] = false;<br />
<br />
&nbsp;&nbsp; if(!is_array($arr))<br />
&nbsp;&nbsp; &nbsp; &nbsp; return false;<br />
<br />
&nbsp;&nbsp; foreach($arr as $key =&gt; $val){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; if(!is_array($key))<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(preg_match($pattern,$key))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($results,$key);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; return $results;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71495""></a>
  <div class="note">
   <strong class="user">Matt</strong>
   <a href="#71495" class="date">01-Dec-2006 10:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
mikael dot knutsson at gmail dot com:<br />
I don't think it does, at least in PHP5?<br />
<br />
For example, this outputs bool(false):<br />
<br />
$ar = array ( 'outter' =&gt; array ( 'inner' =&gt; 1 ) );<br />
var_dump(array_key_exists('inner', $ar));<br />
<br />
So it doesn't actually check the inner array for the key 'inner'.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71374""></a>
  <div class="note">
   <strong class="user">mikael dot knutsson at gmail dot com</strong>
   <a href="#71374" class="date">25-Nov-2006 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When dealing with multi-dimensional arrays, this function checks through all keys in the array, including the "child arrays" unlike the array_keys( array, $search ) function which would only check and return from the first level of keys.<br />
<br />
Took me a couple of minutes to figure out what was wrong and I hope it helps some people when looking for the right function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-intersect.html">array_intersect</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-keys.html">array_keys</a></div>
 <div class="up"><a href="ref.array.html">配列 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
