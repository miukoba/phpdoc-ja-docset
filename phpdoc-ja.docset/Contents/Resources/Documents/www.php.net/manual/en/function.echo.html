<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>1 つ以上の文字列を出力する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.crypt.html">crypt</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.explode.html">explode</a></div>
 <div class="up"><a href="ref.strings.html">String 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.echo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">echo</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">echo</span> &mdash; <span class="dc-title">1 つ以上の文字列を出力する</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.echo-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>echo</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$arg1</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$...</code></span>
  ] )</div>

  <p class="simpara">
   すべてのパラメータを出力します。
  </p>
  <p class="para">
   <em>echo</em> は実際には関数ではありません
   (言語構造です)。このため、使用する際に括弧は必要ありません。
   (いくつかの他の言語構造と異なり) <em>echo</em>
   は関数のように動作しません。そのため、
   関数のコンテキスト中では常に使用することができません。
   加えて、複数のパラメータを指定して <em>echo</em>
   をコールしたい場合、括弧の中にパラメータを記述してはいけません。
  </p>
  <p class="para">
   <em>echo</em> には、開始タグの直後に等号を付ける短縮構文もあります。
   この短縮構文は、PHP 5.4.0 より前のバージョンでは設定オプション<a href="ini.core.html#ini.short-open-tag" class="link">short_open_tag</a>
   が有効な場合しか使えません。
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
I&nbsp;have&nbsp;&lt;?=$foo?&gt;&nbsp;foo.</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.echo-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">arg1</code></em></span>
     <dd>

      <p class="para">
       出力したいパラメータ。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">...</code></em></span>
     <dd>

      <p class="para">
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.echo-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   値を返しません。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.echo-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-4800">
    <p><strong>例1 <em>echo</em> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;World"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;spans<br />multiple&nbsp;lines.&nbsp;The&nbsp;newlines&nbsp;will&nbsp;be<br />output&nbsp;as&nbsp;well"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;spans\nmultiple&nbsp;lines.&nbsp;The&nbsp;newlines&nbsp;will&nbsp;be\noutput&nbsp;as&nbsp;well."</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Escaping&nbsp;characters&nbsp;is&nbsp;done&nbsp;\"Like&nbsp;this\"."</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;echo&nbsp;命令の中で変数を使用することが可能です<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"barbaz"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"foo&nbsp;is&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;foobar<br /><br />//&nbsp;配列を使用することもできます<br /></span><span style="color: #0000BB">$baz&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"value"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"this&nbsp;is&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$baz</span><span style="color: #007700">[</span><span style="color: #DD0000">'value'</span><span style="color: #007700">]}</span><span style="color: #DD0000">&nbsp;!"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;foo&nbsp;!<br /><br />//&nbsp;値ではなく変数名を出力するシングルクオートを使用します<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'foo&nbsp;is&nbsp;$foo'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo&nbsp;is&nbsp;$foo<br /><br />//&nbsp;他の文字を全く使用しない場合、echo&nbsp;変数を使用可能です<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foobar<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;foobarbarbaz<br /><br />//&nbsp;複数のパラメータを結合してechoに渡そうとする人もいます<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'string&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'was&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'made&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'with&nbsp;multiple&nbsp;parameters.'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">chr</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'string&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'was&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'made&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'with&nbsp;concatenation.'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;&lt;&lt;&lt;END<br /></span><span style="color: #DD0000">This&nbsp;uses&nbsp;the&nbsp;"here&nbsp;document"&nbsp;syntax&nbsp;to&nbsp;output<br />multiple&nbsp;lines&nbsp;with&nbsp;</span><span style="color: #0000BB">$variable</span><span style="color: #DD0000">&nbsp;interpolation.&nbsp;Note<br />that&nbsp;the&nbsp;here&nbsp;document&nbsp;terminator&nbsp;must&nbsp;appear&nbsp;on&nbsp;a<br />line&nbsp;with&nbsp;just&nbsp;a&nbsp;semicolon.&nbsp;no&nbsp;extra&nbsp;whitespace!<br /></span><span style="color: #007700">END;<br /><br /></span><span style="color: #FF8000">//&nbsp;echo&nbsp;は関数のように動作しないので、以下のコードは正しくありません<br /></span><span style="color: #007700">(</span><span style="color: #0000BB">$some_var</span><span style="color: #007700">)&nbsp;?&nbsp;echo&nbsp;</span><span style="color: #DD0000">'true'&nbsp;</span><span style="color: #007700">:&nbsp;echo&nbsp;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;しかし、次の例は動作します<br /></span><span style="color: #007700">(</span><span style="color: #0000BB">$some_var</span><span style="color: #007700">)&nbsp;?&nbsp;print&nbsp;</span><span style="color: #DD0000">'true'&nbsp;</span><span style="color: #007700">:&nbsp;print&nbsp;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;print&nbsp;も言語構造ですが、<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;関数のように動作します。なので、<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;このコンテキスト中で使用できます<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$some_var&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'true'</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;命令を変更<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.echo-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: <span class="simpara">これは、関数ではなく
言語構造のため、<a href="functions.variable-functions.html" class="link">可変関数</a> を用いて
コールすることはできません。</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.echo-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.print.html" class="function" rel="rdfs-seeAlso">print</a> - 文字列を出力する</span></li>
    <li class="member"> <span class="function"><a href="function.printf.html" class="function" rel="rdfs-seeAlso">printf()</a> - フォーマット済みの文字列を出力する</span></li>
    <li class="member"> <span class="function"><a href="function.flush.html" class="function" rel="rdfs-seeAlso">flush()</a> - 出力バッファをフラッシュする</span></li>
    <li class="member"><a href="language.types.string.html#language.types.string.syntax.heredoc" class="link">ヒアドキュメント構文</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112965""></a>
  <div class="note">
   <strong class="user">doydoy44</strong>
   <a href="#112965" class="date">13-Aug-2013 05:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
apparently ',' is faster then '.'<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">f1_virgule</span><span class="keyword">() {<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">100000</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$a</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
function </span><span class="default">f2_point</span><span class="keyword">() {<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">100000</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$a</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">f2_point</span><span class="keyword">();<br />
</span><span class="default">$stop </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$time_point </span><span class="keyword">= </span><span class="default">$stop </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">;<br />
<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">f1_virgule</span><span class="keyword">();<br />
</span><span class="default">$stop </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">$time_virgule </span><span class="keyword">= </span><span class="default">$stop </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">;<br />
&nbsp;<br />
echo </span><span class="string">'time virgule : ' </span><span class="keyword">. </span><span class="default">$time_virgule </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">'time point&nbsp;&nbsp; : ' </span><span class="keyword">. </span><span class="default">$time_point&nbsp;&nbsp; </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">'time virgule &gt; time time_point =&gt; ' </span><span class="keyword">. (</span><span class="default">$time_virgule </span><span class="keyword">&gt; </span><span class="default">$time_point</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>-------------------------------------<br />
time virgule : 18.28688621521<br />
time point&nbsp;&nbsp; : 17.781190156937<br />
time virgule &gt; time time_point =&gt; 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111565""></a>
  <div class="note">
   <strong class="user">Sammy Moshe</strong>
   <a href="#111565" class="date">05-Mar-2013 06:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And if you wanted to, you could do something like<br />
echo "test1","test2","test3";<br />
<br />
I'm not sure how it's useful. Might be good if you have a bunch of strings you want to output at once, but it doesn't seem to work with arrays. I'm working on a practical application, but as yet haven't had a need for it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106398""></a>
  <div class="note">
   <strong class="user">ximlabz at gmail dot com</strong>
   <a href="#106398" class="date">05-Nov-2011 07:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A remedy to the problems caused by different management of returns between different platforms you can use the predefined constant PHP_EOF as the second parameter:<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;<br />
</span><span class="default">$bar </span><span class="keyword">= </span><span class="string">"bar"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Foo is </span><span class="default">$foo</span><span class="string">"</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
echo </span><span class="string">"Bar is </span><span class="default">$bar</span><span class="string">"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// is the same as using:<br />
<br />
</span><span class="keyword">echo </span><span class="string">"Foo is </span><span class="default">$foo</span><span class="string">\n"</span><span class="keyword">;<br />
echo </span><span class="string">"Bar is </span><span class="default">$bar</span><span class="string">"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// but here only for UNIX-like platforms<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105138""></a>
  <div class="note">
   <strong class="user">fire at dls dot net</strong>
   <a href="#105138" class="date">29-Jul-2011 08:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Pay attention to this part of the documentation:<br />
echo() (unlike some other language constructs) does not behave like a function, so it cannot always be used in the context of a function<br />
<br />
I was trying to make certain that I was detecting errors and was trying code like this:<br />
<br />
@alwaysFails() or echo('Surprise! It failed again');<br />
<br />
This error was generated:<br />
[29-Jul-2011 12:56:19] PHP Parse error:&nbsp; syntax error, unexpected T_ECHO in /Applications/MAMP/test.php on line 12<br />
<br />
Changing to die(), print() or a function I defined worked fine. Beware of this limitation of echo.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95869""></a>
  <div class="note">
   <strong class="user">gbarros at yahoo-inc dot com</strong>
   <a href="#95869" class="date">26-Jan-2010 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
just banged my head on this missing bits on the manual.<br />
When using the &lt;&lt;&lt; method, the array keys does not require any kind of quotes. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach ( </span><span class="default">$data </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">){<br />
echo &lt;&lt;&lt; END<br />
</span><span class="string"> &lt;tr&gt;<br />
&nbsp; &lt;td&gt;</span><span class="default">$i</span><span class="keyword">[</span><span class="default">date</span><span class="keyword">]</span><span class="string">&lt;/td&gt;<br />
&nbsp; &lt;td&gt;</span><span class="default">$i</span><span class="keyword">[</span><span class="default">name</span><span class="keyword">]</span><span class="string">&lt;/td&gt;<br />
&nbsp;&lt;/tr&gt;<br />
</span><span class="keyword">END;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Let's hope you don't have any <span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$klingonships</span><span class="keyword">[</span><span class="string">'th\'bl][ath'</span><span class="keyword">]</span><span class="default">?&gt;</span> kind of array :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87187""></a>
  <div class="note">
   <strong class="user">Jakob Thomsen</strong>
   <a href="#87187" class="date">23-Nov-2008 03:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A way to color your echo output is to use shell_exec and the echo command (this only works on Linux/bash) in the following way:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">shell_exec</span><span class="keyword">(</span><span class="string">'echo "\e[0;31m Red color \e[0;32mGreen color \e[0m No color "'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
See <a href="http://wiki.archlinux.org/index.php/Color_Bash_Prompt for more colors and other options." rel="nofollow" target="_blank">http://wiki.archlinux.org/index.php/Color_Bash_Prompt for more colors and other options.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78898""></a>
  <div class="note">
   <strong class="user">nikolaas dot mennega at links dot com dot au</strong>
   <a href="#78898" class="date">01-Nov-2007 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hemanman at gmail dot com, the problem is that func() doesn't actually return a value (string or otherwise), so the result of echoing func() is null.<br />
<br />
With the comma version, each argument is evaluated and echoed in turn: first the literal string (simple), then func(). Evaluating a function call obviously calls the function (and in this case executes its own internal echo), and the result (null) is then echoed accordingly. So we end up with "outside func() within func()" as we would expect.<br />
<br />
Thus:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"outside func ()\n"</span><span class="keyword">, </span><span class="default">func </span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
effectively becomes:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"outside func ()\n"</span><span class="keyword">;<br />
</span><span class="comment">//func ()<br />
</span><span class="keyword">{<br />
echo </span><span class="string">"within func ()\n"</span><span class="keyword">;<br />
}<br />
echo </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
The dot version is different: there's only one argument here, and it has to be fully evaluated before it can be echoed as requested. So we start at the beginning again: a literal string, no problem, then a concatenator, then a function call. Obviously the function call has to be evaluated before the result can be concatenated with the literal string, and THAT has to happen BEFORE we can complete the echo command. But evaluating func() produces its own call to echo, which promptly gets executed.<br />
<br />
Thus:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"outside func ()\n" </span><span class="keyword">. </span><span class="default">func </span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
effectively becomes:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//func ()<br />
</span><span class="keyword">{<br />
echo </span><span class="string">"within func ()\n"</span><span class="keyword">;<br />
}<br />
echo </span><span class="string">"outside func ()\n" </span><span class="keyword">. </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52881""></a>
  <div class="note">
   <strong class="user">Jason Carlson - SiteSanity</strong>
   <a href="#52881" class="date">16-May-2005 07:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to Ryan's post with his echobig() function, using str_split wastes memory resources for what you are doing. <br />
<br />
If all you want to do is echo smaller chunks of a large string, I found the following code to perform better and it will work in PHP versions 3+<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">echobig</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$bufferSize </span><span class="keyword">= </span><span class="default">8192</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="comment">// suggest doing a test for Integer &amp; positive bufferSize<br />
&nbsp; </span><span class="keyword">for (</span><span class="default">$chars</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$start </span><span class="keyword">&lt;= </span><span class="default">$chars</span><span class="keyword">;</span><span class="default">$start </span><span class="keyword">+= </span><span class="default">$bufferSize</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$buffer_size</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50401""></a>
  <div class="note">
   <strong class="user">ryan at wonko dot com</strong>
   <a href="#50401" class="date">27-Feb-2005 09:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Due to the way TCP/IP packets are buffered, using echo to send large strings to the client may cause a severe performance hit. Sometimes it can add as much as an entire second to the processing time of the script. This even happens when output buffering is used.<br />
<br />
If you need to echo a large string, break it into smaller chunks first and then echo each chunk. The following function will do the trick in PHP5:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">echobig</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$bufferSize </span><span class="keyword">= </span><span class="default">8192</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$splitString </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$bufferSize</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$splitString </span><span class="keyword">as </span><span class="default">$chunk</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$chunk</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28843""></a>
  <div class="note">
   <strong class="user">zombie)at(localm)dot(org)</strong>
   <a href="#28843" class="date">25-Jan-2003 08:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Ed. Note: During normal execution, the buffer (where echo's arguments go) is not flushed (sent) after each write to the buffer. To do that you'd need to use the flush() function, and even that may not cause the data to be sent, depending on your web server.]<br />
<br />
Echo is an i/o process and i/o processes are typically time consuming. For the longest time i have been outputting content by echoing as i get the data to output. Therefore i might have hundreds of echoes in my document. Recently, i have switched to concatenating all my string output together and then just doing one echo at the end. This organizes the code more, and i do believe cuts down on a bit of time. Likewise, i benchmark all my pages and echo seems to influence this as well. At the top of the page i get the micro time, and at the end i figure out how long the page took to process. With the old method of "echo as you go" the processing time seemed to be dependent on the user's net connection as well as the servers processing speed. This was probably due to how echo works and the sending of packets of info back and forth to the user. One an one script i was getting .0004 secs on a cable modem, and a friend of mine in on dialup was getting .2 secs. Finally, to test that echo is slow; I built strings of XML and XSLT and used the PHP sablotron functions to do a transformation and return a new string. I then echoed the string. Before the echo, the process time was around .025 seconds and .4 after the echo. So if you are big into getting the actual processing time of your scripts, don't include echoes since they seem to be user dependent. Note that this is just my experience and it could be a fluke.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.crypt.html">crypt</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.explode.html">explode</a></div>
 <div class="up"><a href="ref.strings.html">String 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
