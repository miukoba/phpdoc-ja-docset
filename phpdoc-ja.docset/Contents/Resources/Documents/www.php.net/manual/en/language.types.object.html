<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>オブジェクト</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.types.array.html">配列</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.types.resource.html">リソース</a></div>
 <div class="up"><a href="language.types.html">型</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.types.object" class="sect1">
 <h2 class="title">オブジェクト</h2>

 <div class="sect2" id="language.types.object.init">
  <h3 class="title">オブジェクトの初期化</h3>

  <p class="para">
   オブジェクトを初期化するためには、<em>new</em>
   命令によりオブジェクトのインスタンスを変数に作成します。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">do_foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"foo&nbsp;を実行します。"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">do_foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <p class="simpara">
   詳細な事項については、
   <a href="language.oop5.html" class="link">クラスおよびオブジェクト</a>
   のセクションを参照ください。
  </p>

 </div>
 
 <div class="sect2" id="language.types.object.casting">
  <h3 class="title">オブジェクトへの変換</h3>
  
  <p class="para">
   オブジェクトがオブジェクトに変換される場合はなにも修正されません。
   オブジェクト以外の型の値がオブジェクトに変換される時には、<em>stdClass</em> というビルトインクラス（予めPHPの内部で定義されているクラス）のインスタンスが新しく生成されます。
   その際、値が null の場合は新しいインスタンスは空となります。
   また、配列がオブジェクトに変換される場合、配列のキーと値がそれぞれオブジェクトのプロパティ名とその値となります。
   上記以外の値の場合には、<em>scalar</em> という名前のメンバ変数が値を格納します。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$obj&nbsp;</span><span style="color: #007700">=&nbsp;(object)&nbsp;</span><span style="color: #DD0000">'ciao'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scalar</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;'ciao'&nbsp;を出力します<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

 </div>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107755""></a>
  <div class="note">
   <strong class="user">qeremy [atta] gmail [dotta] com</strong>
   <a href="#107755" class="date">02-Mar-2012 09:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do you remember some JavaScript implementations?<br />
<br />
// var timestamp = (new Date).getTime();<br />
<br />
Now it's possible with PHP 5.4.*;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$a </span><span class="keyword">= </span><span class="string">"I'm a!"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$b </span><span class="keyword">= </span><span class="string">"I'm b!"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$c</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getB</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setC</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c </span><span class="keyword">= </span><span class="default">$c</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getC</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
print (new </span><span class="default">Foo</span><span class="keyword">)-&gt;</span><span class="default">a</span><span class="keyword">;&nbsp; &nbsp; &nbsp; </span><span class="comment">// I'm a!<br />
</span><span class="keyword">print (new </span><span class="default">Foo</span><span class="keyword">)-&gt;</span><span class="default">getB</span><span class="keyword">(); </span><span class="comment">// I'm b!<br />
</span><span class="default">?&gt;<br />
</span><br />
or<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// $_GET["c"] = "I'm c!";<br />
</span><span class="keyword">print (new </span><span class="default">Foo</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; -&gt;</span><span class="default">setC</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"c"</span><span class="keyword">])<br />
&nbsp;&nbsp; &nbsp; &nbsp; -&gt;</span><span class="default">getC</span><span class="keyword">(); </span><span class="comment">// I'm c!<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107071""></a>
  <div class="note">
   <strong class="user">helpful at stranger dot com</strong>
   <a href="#107071" class="date">04-Jan-2012 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
By far the easiest and correct way to instantiate an empty generic php object that you can then modify for whatever purpose you choose:<br />
<br />
<span class="default">&lt;?php $genericObject </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">(); </span><span class="default">?&gt;<br />
</span><br />
I had the most difficult time finding this, hopefully it will help someone else!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106218""></a>
  <div class="note">
   <strong class="user">razvan_zarzu at yahoo dot com</strong>
   <a href="#106218" class="date">19-Oct-2011 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP 5.3.6, even if the following code doesn't have any apparent syntax errors:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Test </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$a </span><span class="keyword">= </span><span class="default">SplFixedArray</span><span class="keyword">::</span><span class="default">fromArray</span><span class="keyword">(array());<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
, the result is:<br />
<br />
Parse error: syntax error, unexpected '(', expecting ',' or ';' in ~\test.php on line 3<br />
<br />
This is because on an implicit object initialization of $a, which is not allowed in PHP.<br />
Hope this helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101288""></a>
  <div class="note">
   <strong class="user">Cosmitar: mhherrera31 at hotmail</strong>
   <a href="#101288" class="date">08-Dec-2010 07:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i would like to share a curious behavior on casted objects. Casting an object from a class with private/protected attributes results a stdClass with a private/protected attribute for get.<br />
Example:<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">class </span><span class="default">Foo</span><span class="keyword">{<br />
&nbsp;private </span><span class="default">$priv </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;public </span><span class="default">$pub </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;public function </span><span class="default">getSimple</span><span class="keyword">(){<br />
&nbsp; return (object)(array) </span><span class="default">$this</span><span class="keyword">; </span><span class="comment">//the array cast is to force a stdClass result<br />
&nbsp;</span><span class="keyword">}<br />
}<br />
</span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">getSimple</span><span class="keyword">();</span><span class="comment">// output: object(stdClass)#3 (2) { ["priv:private"]=&gt; int(1) ["pub"]=&gt; int(2) }<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">getSimple</span><span class="keyword">()-&gt;</span><span class="default">priv</span><span class="keyword">);</span><span class="comment">// output: NULL, not a Fatal Error<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">getSimple</span><span class="keyword">()-&gt;</span><span class="default">pub</span><span class="keyword">);</span><span class="comment">// output: int(2)<br />
<br />
</span><span class="default">$barSimple </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">getSimple</span><span class="keyword">();<br />
</span><span class="default">$barSimple</span><span class="keyword">-&gt;</span><span class="default">priv </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$barSimple</span><span class="keyword">-&gt;</span><span class="default">priv</span><span class="keyword">);</span><span class="comment">// output: int(10)<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95489""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#95489" class="date">05-Jan-2010 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Initialization, Instantiation and Instances are terms that can be confusing at first. Let's try to sort it out starting with this simple class definition.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">User<br />
</span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$first_name</span><span class="keyword">;<br />
&nbsp; public </span><span class="default">$last_name</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__toString</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">"User [first='</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">first_name</span><span class="string">', last='</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">last_name</span><span class="string">']"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Now create several INSTANCES of User by INSTANTIATING the User class above.<br />
<br />
<span class="default">&lt;?php<br />
$user_1 </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// $user_1 is an INSTANCE of User<br />
</span><span class="default">$user_2 </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// $user_2 is an INSTANCE of User<br />
</span><span class="keyword">echo </span><span class="default">$user_1 </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;&nbsp; &nbsp;&nbsp; </span><span class="comment">// User [first='', last='']<br />
</span><span class="keyword">echo </span><span class="default">$user_2 </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;&nbsp; &nbsp;&nbsp; </span><span class="comment">// User [first='', last='']<br />
</span><span class="default">?&gt;<br />
</span><br />
Here we have (2) two INSTANCES of User, but each instance was only INSTANTIATED once - when we used the 'new' operator.<br />
<br />
And now looking at the printed output, you can see there are no values for their first or last names. This means that the objects themselves have NOT been INITIALIZED. To remedy this situation, rewrite the class definition by adding a __construct() method.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">User<br />
</span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$first_name</span><span class="keyword">;<br />
&nbsp; public </span><span class="default">$last_name</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">, </span><span class="default">$last</span><span class="keyword">)&nbsp; &nbsp; </span><span class="comment">// Require first and last names when INSTANTIATING<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">first_name </span><span class="keyword">= </span><span class="default">$first</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// INITIALIZE $first_name;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">last_name </span><span class="keyword">= </span><span class="default">$last</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// INITIALIZE $last_name;<br />
&nbsp; </span><span class="keyword">}<br />
<br />
&nbsp; public function </span><span class="default">__toString</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">"User [first='</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">first_name</span><span class="string">', last='</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">last_name</span><span class="string">']"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Now try it again.<br />
<br />
<span class="default">&lt;?php<br />
$user_1 </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">(</span><span class="string">'John'</span><span class="keyword">, </span><span class="string">'Doe'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// $user_i is an INSTANCE of User&nbsp; <br />
</span><span class="default">$user_2 </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">(</span><span class="string">'Jane'</span><span class="keyword">, </span><span class="string">'Doe'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// $user_2 is an INSTANCE of User<br />
</span><span class="keyword">echo </span><span class="default">$user_1 </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// prints: User [first='John', last='Doe']<br />
</span><span class="keyword">echo </span><span class="default">$user_2 </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// prints: User [first='Jane', last='Doe']<br />
</span><span class="default">?&gt;<br />
</span><br />
The __construct() method is called automatically by PHP when it sees the 'new' operator. Our __construct() method above requires the first and last names to be passed in as arguments and uses them to INITIALIZE objects when INSTANTIATING new INSTANCES.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95211""></a>
  <div class="note">
   <strong class="user">mailto dot aurelian at gmail dot com</strong>
   <a href="#95211" class="date">18-Dec-2009 06:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can create [recursive] objects with something like:<br />
<span class="default">&lt;?php<br />
&nbsp; $literalObjectDeclared </span><span class="keyword">= (object) array(<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'foo' </span><span class="keyword">=&gt; (object) array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'bar' </span><span class="keyword">=&gt; </span><span class="string">'baz'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pax' </span><span class="keyword">=&gt; </span><span class="string">'vax'<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'moo' </span><span class="keyword">=&gt; </span><span class="string">'ui'<br />
&nbsp;&nbsp; </span><span class="keyword">);<br />
print </span><span class="default">$literalObjectDeclared</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">; </span><span class="comment">// outputs "baz"!<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92379""></a>
  <div class="note">
   <strong class="user">spidgorny at gmail dot com</strong>
   <a href="#92379" class="date">22-Jul-2009 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If having<br />
<br />
class BugDetails extends Bug<br />
<br />
you want to cast an object of a Bug to BugDetails like this<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $clone </span><span class="keyword">= (</span><span class="default">BugDetails</span><span class="keyword">) clone </span><span class="default">$this</span><span class="keyword">;<br />
</span><span class="comment">// OR<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$clone </span><span class="keyword">= (</span><span class="default">BugDetails</span><span class="keyword">) </span><span class="default">$bug</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>which doesn't work in PHP, you have two options:<br />
1. Copying all (including private) properties manually (you could also use get_object_vars(), but this is shorter):<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $clone </span><span class="keyword">= new </span><span class="default">BugDetails</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$this </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$clone</span><span class="keyword">-&gt;</span><span class="default">$key </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span>2. Serialize an object Bug, manipulate the resulting string so that it has BugDetails inside and unserialize it.<br />
See here: <a href="http://blog.adaniels.nl/articles/a-dark-corner-of-php-class-casting/" rel="nofollow" target="_blank">http://blog.adaniels.nl/articles/a-dark-corner-of-php-class-casting/</a><br />
<br />
Spent two hours looking for more elegant solution, that's my findings.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90447""></a>
  <div class="note">
   <strong class="user">cFreed at orange dot fr</strong>
   <a href="#90447" class="date">23-Apr-2009 03:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
CAUTION:<br />
"Arrays convert to an object with properties named by keys, and corresponding values".<br />
<br />
This is ALWAYS true, which means that even numeric keys are accepted when converting.<br />
But the resulting properties cannot be accessed, since they don't match the variables naming rules.<br />
<br />
So this:<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= (object) array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'C'</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">).</span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>works and displays:<br />
stdClass Object<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; A<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; B<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
)<br />
<br />
But this:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">$x</span><span class="keyword">-&gt;{</span><span class="default">0</span><span class="keyword">}; </span><span class="comment"># (don't use $x-&gt;0, which is obviously a syntax error)<br />
</span><span class="default">?&gt;<br />
</span>fails and displays:<br />
A<br />
B<br />
Notice: Undefined property: stdClass::$0 in...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86023""></a>
  <div class="note">
   <strong class="user">wbcarts at juno dot com</strong>
   <a href="#86023" class="date">30-Sep-2008 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
ON-THE-FLY!!!<br />
<br />
In response to Bobs note below (and Rick's somewhat): It is much better to predefine the object you want to create. This is because in all the programs you write, you will still create objects On-the-Fly anyway:<br />
<br />
$foo = 'My String Object';&nbsp; &nbsp; &nbsp; // on-the-fly!<br />
$bar = 45;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // on-the-fly!<br />
$obj = new stdClass();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // on-the-fly!<br />
$obj-&gt;blah = 3;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // on-the-fly!<br />
<br />
So what's missing above? Real control over WHAT your program does, HOW it does it, and HOW your data is organized. Let's say your code $obj-&gt;blah = 3 was 'blah' because 3 was your last Test Score (take no offense, I've done worse!). In that case, you could use code like so:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Test</span><span class="keyword">{<br />
&nbsp; const </span><span class="default">MIN </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">MAX </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;&nbsp; &nbsp;&nbsp; </span><span class="comment">// acceptable range for a test<br />
<br />
&nbsp; </span><span class="keyword">protected </span><span class="default">$person</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// person taking the test<br />
&nbsp; </span><span class="keyword">protected </span><span class="default">$score</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// use the word 'score' because 'blah' is meaningless<br />
<br />
&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">person </span><span class="keyword">= </span><span class="default">$p</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">score </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">clamp</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
&nbsp; protected static function </span><span class="default">clamp</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$val </span><span class="keyword">&lt; </span><span class="default">self</span><span class="keyword">::</span><span class="default">MIN</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">MIN</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$val </span><span class="keyword">&gt; </span><span class="default">self</span><span class="keyword">::</span><span class="default">MAX</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">MAX</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">__toString</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">"Test [person=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">person</span><span class="string">, score=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">score</span><span class="string">%]"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">(</span><span class="string">"John Doe"</span><span class="keyword">, </span><span class="default">83</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// on-the-fly!<br />
</span><span class="keyword">echo (object)</span><span class="default">$obj</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// outputs 'Test [person=John Doe, score=83%]'<br />
</span><span class="default">?&gt;<br />
</span><br />
Writing your own class definitions help maintain the "integerity" of your objects - see how the clamp() function keeps test scores between 0 and 100 percent? PHP&nbsp; uses similar techniques to set min and max vals on Numbers. And, classes like Test are way more useful than objects created with an empty shell, uh em, stdClass. In addition, you can see WHAT, WHERE, WHY, and HOW your program actually works... On-the-Fly!<br />
<br />
--&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85440""></a>
  <div class="note">
   <strong class="user">Isaac Z. Schlueter i at foohack dot com</strong>
   <a href="#85440" class="date">31-Aug-2008 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to Harmor and Mithras,&nbsp; you can use the json functions to convert multi-dimensional arrays to objects very reliably.<br />
<br />
Also, note that just using (object)$x doesn't allow you to access properties inline.&nbsp; For example, this is invalid:<br />
<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= array(</span><span class="string">"foo"</span><span class="keyword">=&gt;</span><span class="string">"bar"</span><span class="keyword">);<br />
echo ((object)</span><span class="default">$x</span><span class="keyword">)-&gt;</span><span class="default">foo</span><span class="keyword">; </span><span class="comment">// PHP Parse error, unexpected T_OBJECT_OPERATOR<br />
</span><span class="default">?&gt;<br />
</span><br />
However, this function will let you do that, and will also handle multi-dimensional arrays without any hassle.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">to_object </span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) || </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">)) ? </span><span class="default">json_decode</span><span class="keyword">(</span><span class="default">json_encode</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">)) : (object) </span><span class="default">$x</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">to_object</span><span class="keyword">( array(</span><span class="string">"foo"</span><span class="keyword">=&gt;</span><span class="string">"bar"</span><span class="keyword">) )-&gt;</span><span class="default">foo</span><span class="keyword">; </span><span class="comment">// "bar"<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that *numeric* arrays will not be converted to objects using this method.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85237""></a>
  <div class="note">
   <strong class="user">Mithras</strong>
   <a href="#85237" class="date">21-Aug-2008 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to harmor: if an array contains another array as a value, you can recursively convert all arrays with:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">arrayToObject</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">){<br />
&nbsp; foreach( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) ) </span><span class="default">$array</span><span class="keyword">[ </span><span class="default">$key </span><span class="keyword">] = </span><span class="default">arrayToObject</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; return (object) </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82623""></a>
  <div class="note">
   <strong class="user">Rick</strong>
   <a href="#82623" class="date">18-Apr-2008 07:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Bob, I think you solution is to use stdClass and add properties on the fly...<br />
<br />
$obj = new stdClass();<br />
$obj-&gt;data ="This is the solution";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82431""></a>
  <div class="note">
   <strong class="user">bob</strong>
   <a href="#82431" class="date">10-Apr-2008 05:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Why is there nothing in the docs about instantiating a generic object?&nbsp; ie new object() - it does not work.<br />
<br />
If one wants to create a dynamic object on the fly, the only option I see is to create it implicitly, by creating a child of it - ghetto:<br />
<br />
unset($obj);<br />
$obj-&gt;blah = 3;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75278""></a>
  <div class="note">
   <strong class="user">gabe at fijiwebdesign dot com</strong>
   <a href="#75278" class="date">22-May-2007 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to sirbinam.<br />
You cannot call a function or method before it exists. In your example, the global instance of stdout is just being passed around to differnet references (pointers). It however exists in the "dump" function scope via the global keyword. <br />
<br />
The code below works fine and illustrates that "stdout" has been defined before its instantiation. <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">profiler</span><span class="keyword">{<br />
&nbsp; function </span><span class="default">profiler</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">starttime </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
&nbsp; }<br />
<br />
&nbsp; function </span><span class="default">dump</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$stdout</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endtime </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$duration </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endtime </span><span class="keyword">- </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">starttime</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stdout</span><span class="keyword">-&gt;</span><span class="default">write</span><span class="keyword">(</span><span class="default">$duration</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
class </span><span class="default">stdout</span><span class="keyword">{<br />
&nbsp; function </span><span class="default">write</span><span class="keyword">(</span><span class="default">$msg</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$msg</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$stdout </span><span class="keyword">=&amp; new </span><span class="default">stdout</span><span class="keyword">();<br />
</span><span class="default">$profiler </span><span class="keyword">=&amp; new </span><span class="default">profiler</span><span class="keyword">();<br />
</span><span class="default">$profiler</span><span class="keyword">-&gt;</span><span class="default">dump</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
All classes and functions declarations within a scope exist even before the php execution reaches them. It does not matter if you have your classes defined on the first or last line, as long as they are in the same scope as where they are called and are not in a conditional statement that has not been evaluated yet.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68998""></a>
  <div class="note">
   <strong class="user">ludvig dot ericson at gmail dot com</strong>
   <a href="#68998" class="date">19-Aug-2006 12:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reply to the usort thing, you can access a property of an object dynamically by:<br />
<span class="default">&lt;?php<br />
$obj </span><span class="keyword">= (object)array(</span><span class="string">"Test" </span><span class="keyword">=&gt; </span><span class="string">"bar"</span><span class="keyword">)<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="string">"Test"</span><span class="keyword">;<br />
echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>This will output "bar", and do notice I call on -&gt;$var and not just -&gt;var.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59128""></a>
  <div class="note">
   <strong class="user">Trevor Blackbird &gt; yurab.com</strong>
   <a href="#59128" class="date">27-Nov-2005 06:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can create a new object using the built-in stdClass or by using type-casting:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// This is the proper way<br />
</span><span class="default">$object1 </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">();<br />
<br />
</span><span class="comment">// This works too<br />
</span><span class="default">$object2 </span><span class="keyword">= (object) </span><span class="default">NULL</span><span class="keyword">;<br />
<br />
</span><span class="comment">// This will create an object from an array<br />
</span><span class="default">$monkey_array </span><span class="keyword">= array(</span><span class="string">'title'</span><span class="keyword">=&gt;</span><span class="string">'Spider Monkey'</span><span class="keyword">, </span><span class="string">'src'</span><span class="keyword">=&gt;</span><span class="string">'monkey.jpg'</span><span class="keyword">);<br />
</span><span class="default">$monkey_object </span><span class="keyword">= (object) </span><span class="default">$monkey_array</span><span class="keyword">;<br />
print </span><span class="default">$monkey_object</span><span class="keyword">-&gt;</span><span class="default">title </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$monkey_object</span><span class="keyword">-&gt;</span><span class="default">src</span><span class="keyword">;<br />
<br />
</span><span class="comment">// You can type-cast in the middle of an expression<br />
</span><span class="keyword">function </span><span class="default">customHTML</span><span class="keyword">(</span><span class="default">$some_object</span><span class="keyword">) {<br />
</span><span class="comment">// this function expects an object as the argument and returns some output<br />
</span><span class="keyword">}<br />
print </span><span class="string">'&lt;p&gt;Writing some output ' </span><span class="keyword">. </span><span class="default">customHTML</span><span class="keyword">( (object) array(</span><span class="string">'rows'</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">, </span><span class="string">'cols'</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">) );<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50770""></a>
  <div class="note">
   <strong class="user">iblun at gmx dot net</strong>
   <a href="#50770" class="date">09-Mar-2005 02:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To sort an array, that contains an object, after one fieldname inside the object, im using this function:<br />
<br />
function objectSort($objectarray, $field)<br />
{<br />
&nbsp;&nbsp;&nbsp; for ($a=0;$a &lt; (count($objectarray)); $a++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ($b=0;$b &lt; (count($objectarray)); $b++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($objectarray[$a]-&gt;$field &lt; $objectarray[$b]-&gt;$field)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $temp = $objectarray[$a];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $objectarray[$a] = $objectarray[$b];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $objectarray[$b] = $temp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $objectarray;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50041""></a>
  <div class="note">
   <strong class="user">mortoray at ecircle-ag dot com</strong>
   <a href="#50041" class="date">16-Feb-2005 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use new to create items in an array, you may not get the results you want since the parameters to array will be copies of the original and not references.<br />
<br />
By Example:<br />
class Store {<br />
&nbsp;&nbsp;&nbsp; var $item = 3;<br />
}<br />
<br />
&nbsp;&nbsp;&nbsp; $a = array( new Store() );<br />
&nbsp;&nbsp;&nbsp; $b = $a;<br />
&nbsp;&nbsp;&nbsp; $a[0]-&gt;item = 2;<br />
&nbsp;&nbsp;&nbsp; print( "|" . $b[0]-&gt;item . "| &lt;br&gt;" );&nbsp;&nbsp; //shows 3<br />
<br />
&nbsp;&nbsp;&nbsp; $a = array();<br />
&nbsp;&nbsp;&nbsp; $a[] =&amp; new Store();<br />
&nbsp;&nbsp;&nbsp; $b = $a;<br />
&nbsp;&nbsp;&nbsp; $a[0]-&gt;item = 2;<br />
&nbsp;&nbsp;&nbsp; print( "|" . $b[0]-&gt;item . "| &lt;br&gt;" );&nbsp;&nbsp; //shows 2<br />
<br />
This is extremely important if you intend on passing arrays of classes to functions and expect them to always use the same object instance!<br />
<br />
Note: The following syntax is desired (or maybe even the default notation should translate as this):<br />
&nbsp;&nbsp; $a = array( &amp;new Store() );</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44218""></a>
  <div class="note">
   <strong class="user">nconantj</strong>
   <a href="#44218" class="date">18-Jul-2004 09:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
php at electricsurfer.com,<br />
<br />
More than a year later and here's some clarification of what's happening in your code, via comments in an otherwise verbatim copy.<br />
<br />
&lt;?<br />
class c<br />
{<br />
&nbsp;&nbsp; var $a = array('a'=&gt;'aa','b'=&gt;'ab');<br />
&nbsp;&nbsp; var $b = 'c';<br />
&nbsp; <br />
&nbsp;&nbsp; function show()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this-&gt;a['a']; // -&gt; 1st<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this-&gt;a['b']; // outputs 'ab'<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; $a = 'a';<br />
&nbsp;&nbsp; &nbsp; &nbsp; $b = 'b';<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this-&gt;$a[$a]; // [] 1st, not what I expected<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Above first becomes $this-&gt;$a['a'] by looking at the function's local $a<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Next it becomes $this-&gt;a by again looking at the function's local $a, which references the class variable $a with no subscripts.<br />
&nbsp;&nbsp; &nbsp; &nbsp; // In order to reference elements of the class variable $a, <br />
&nbsp;&nbsp; &nbsp; &nbsp; // you want to use $this-&gt;a[$a]<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this-&gt;$a[$b]; // does NOT output 'ab'<br />
&nbsp;&nbsp; &nbsp; &nbsp; // Same as above, but the first step $b becomes 'b'<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; $this_a =&amp; $this-&gt;$a; // work-around<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this_a[$a]; // no question<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this_a[$b];<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; $a_arr = array('a'=&gt;'b');<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; echo $this-&gt;$a_arr[$a]; // [] 1st =&gt; outputs 'c'<br />
&nbsp;&nbsp; &nbsp; &nbsp; // This becomes $this-&gt;$a_arr['a'] which becomes $this-&gt;c,<br />
&nbsp;&nbsp; &nbsp; &nbsp; // by referencing the local variables first.<br />
&nbsp;&nbsp; }<br />
}<br />
$c = new c();<br />
$c-&gt;show();<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35258""></a>
  <div class="note">
   <strong class="user">info at keltoi-web dot com</strong>
   <a href="#35258" class="date">25-Aug-2003 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP supports recursive type definitions as far as I've tried. The class below (a _very_ simple tree) is an example:<br />
<br />
class Tree {<br />
<br />
var $_value = null;<br />
var $_children = array();<br />
<br />
function Tree ($value) {<br />
&nbsp; $this-&gt;_value = $value;<br />
}<br />
<br />
function addChild ($value) {<br />
&nbsp; $aux_node = new Tree ($value);<br />
&nbsp; $this-&gt;_children [] = $aux_node;<br />
&nbsp; return $aux_node; <br />
}<br />
}<br />
<br />
As you can see, in addChild we reference Tree again...<br />
<br />
However, you must be careful about references. See the chapter "References explained" for more details.<br />
<br />
Hope this helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.types.array.html">配列</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.types.resource.html">リソース</a></div>
 <div class="up"><a href="language.types.html">型</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
