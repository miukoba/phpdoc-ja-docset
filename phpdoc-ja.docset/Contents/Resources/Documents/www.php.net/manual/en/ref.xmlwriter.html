<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>XMLWriter 関数</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="xmlwriter.constants.html">定義済み定数</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.xmlwriter-end-attribute.html">XMLWriter::endAttribute</a></div>
 <div class="up"><a href="book.xmlwriter.html">XMLWriter</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="ref.xmlwriter" class="reference">
 <h1 class="title">XMLWriter 関数</h1>

 
 
















































































































































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.xmlwriter-end-attribute.html">XMLWriter::endAttribute</a> — 属性を終了する</li><li><a href="function.xmlwriter-end-cdata.html">XMLWriter::endCData</a> — 現在の CDATA を終了する</li><li><a href="function.xmlwriter-end-comment.html">XMLWriter::endComment</a> — コメントの終了部を作成する</li><li><a href="function.xmlwriter-end-document.html">XMLWriter::endDocument</a> — 現在のドキュメントを終了する</li><li><a href="function.xmlwriter-end-dtd-attlist.html">XMLWriter::endDTDAttlist</a> — 現在の DTD 属性リストを終了する</li><li><a href="function.xmlwriter-end-dtd-element.html">XMLWriter::endDTDElement</a> — 現在の DTD 要素を終了する</li><li><a href="function.xmlwriter-end-dtd-entity.html">XMLWriter::endDTDEntity</a> — 現在の DTD エンティティを終了する</li><li><a href="function.xmlwriter-end-dtd.html">XMLWriter::endDTD</a> — 現在の DTD を終了する</li><li><a href="function.xmlwriter-end-element.html">XMLWriter::endElement</a> — 現在の要素を終了する</li><li><a href="function.xmlwriter-end-pi.html">XMLWriter::endPI</a> — 現在の PI (処理命令) を終了する</li><li><a href="function.xmlwriter-flush.html">XMLWriter::flush</a> — 現在のバッファをフラッシュする</li><li><a href="function.xmlwriter-full-end-element.html">XMLWriter::fullEndElement</a> — 現在の要素を終了する</li><li><a href="function.xmlwriter-open-memory.html">XMLWriter::openMemory</a> — 文字列の出力にメモリを使用する新しい xmlwriter を作成する</li><li><a href="function.xmlwriter-open-uri.html">XMLWriter::openURI</a> — ソース URI を指定して新しい xmlwriter を作成する</li><li><a href="function.xmlwriter-output-memory.html">XMLWriter::outputMemory</a> — 現在のバッファを返す</li><li><a href="function.xmlwriter-set-indent-string.html">XMLWriter::setIndentString</a> — 字下げに使用する文字列を設定する</li><li><a href="function.xmlwriter-set-indent.html">XMLWriter::setIndent</a> — 字下げの on/off を切り替える</li><li><a href="function.xmlwriter-start-attribute-ns.html">XMLWriter::startAttributeNS</a> — 名前空間つきの属性を開始する</li><li><a href="function.xmlwriter-start-attribute.html">XMLWriter::startAttribute</a> — 属性を開始する</li><li><a href="function.xmlwriter-start-cdata.html">XMLWriter::startCData</a> — CDATA の開始タグを作成する</li><li><a href="function.xmlwriter-start-comment.html">XMLWriter::startComment</a> — コメントを開始する</li><li><a href="function.xmlwriter-start-document.html">XMLWriter::startDocument</a> — ドキュメントタグを作成する</li><li><a href="function.xmlwriter-start-dtd-attlist.html">XMLWriter::startDTDAttlist</a> — DTD 属性リストを開始する</li><li><a href="function.xmlwriter-start-dtd-element.html">XMLWriter::startDTDElement</a> — DTD 要素を開始する</li><li><a href="function.xmlwriter-start-dtd-entity.html">XMLWriter::startDTDEntity</a> — DTD エンティティを開始する</li><li><a href="function.xmlwriter-start-dtd.html">XMLWriter::startDTD</a> — DTD の開始タグを作成する</li><li><a href="function.xmlwriter-start-element-ns.html">XMLWriter::startElementNS</a> — 名前空間つき要素の開始タグを作成する</li><li><a href="function.xmlwriter-start-element.html">XMLWriter::startElement</a> — 要素の開始タグを作成する</li><li><a href="function.xmlwriter-start-pi.html">XMLWriter::startPI</a> — PI (処理命令) の開始タグを作成する</li><li><a href="function.xmlwriter-text.html">XMLWriter::text</a> — テキストを書き込む</li><li><a href="function.xmlwriter-write-attribute-ns.html">XMLWriter::writeAttributeNS</a> — 名前空間つき属性全体を書き込む</li><li><a href="function.xmlwriter-write-attribute.html">XMLWriter::writeAttribute</a> — 属性全体を書き込む</li><li><a href="function.xmlwriter-write-cdata.html">XMLWriter::writeCData</a> — CDATA タグ全体を書き込む</li><li><a href="function.xmlwriter-write-comment.html">XMLWriter::writeComment</a> — コメントタグ全体を書き込む</li><li><a href="function.xmlwriter-write-dtd-attlist.html">XMLWriter::writeDTDAttlist</a> — DTD 属性リストタグ全体を書き込む</li><li><a href="function.xmlwriter-write-dtd-element.html">XMLWriter::writeDTDElement</a> — DTD 要素タグ全体を書き込む</li><li><a href="function.xmlwriter-write-dtd-entity.html">XMLWriter::writeDTDEntity</a> — DTD エンティティタグ全体を書き込む</li><li><a href="function.xmlwriter-write-dtd.html">XMLWriter::writeDTD</a> — DTD タグ全体を書き込む</li><li><a href="function.xmlwriter-write-element-ns.html">XMLWriter::writeElementNS</a> — 名前空間つき要素タグ全体を書き込む</li><li><a href="function.xmlwriter-write-element.html">XMLWriter::writeElement</a> — 要素タグ全体を書き込む</li><li><a href="function.xmlwriter-write-pi.html">XMLWriter::writePI</a> — PI (処理命令) 書き込む</li><li><a href="function.xmlwriter-write-raw.html">XMLWriter::writeRaw</a> — 生の XML テキストを書き込む</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104240""></a>
  <div class="note">
   <strong class="user">neftali dot yagua at gmail dot com</strong>
   <a href="#104240" class="date">03-Jun-2011 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Inspired in the XmlConstruct.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">XLIFFConstruct </span><span class="keyword">extends </span><span class="default">XMLWriter<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Constructor.<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_rootElementName A root element's name of a current xml document<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_xsltFilePath Path of a XSLT file.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">var </span><span class="default">$_phrase_id</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">openMemory</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndent</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndentString</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$prm_xsltFilePath</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writePi</span><span class="keyword">(</span><span class="string">'xml-stylesheet'</span><span class="keyword">, </span><span class="string">'type="text/xsl" href="'</span><span class="keyword">.</span><span class="default">$prm_xsltFilePath</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'xliff'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'version'</span><span class="keyword">, </span><span class="string">'1.0'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'file'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'original'</span><span class="keyword">, </span><span class="string">'global'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'source-language'</span><span class="keyword">, </span><span class="string">'es'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'datatype'</span><span class="keyword">, </span><span class="string">'plaintext'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'date'</span><span class="keyword">, </span><span class="default">date</span><span class="keyword">(</span><span class="string">'c'</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">addPhrase</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$target</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'trans-unit'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeAttribute</span><span class="keyword">(</span><span class="string">'id'</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_phrase_id</span><span class="keyword">++);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'source'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">text</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="string">'target'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">text</span><span class="keyword">(</span><span class="default">$target</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getDocument</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endDocument</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">outputMemory</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">output</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: text/xml'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
$xliff </span><span class="keyword">= new </span><span class="default">XLIFFConstruct</span><span class="keyword">();<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'source'</span><span class="keyword">,</span><span class="string">'target'</span><span class="keyword">);<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'add'</span><span class="keyword">,</span><span class="string">'añadir'</span><span class="keyword">);<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'open'</span><span class="keyword">,</span><span class="string">'abrir'</span><span class="keyword">);<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'change'</span><span class="keyword">,</span><span class="string">'cambiar'</span><span class="keyword">);<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'new'</span><span class="keyword">,</span><span class="string">'nuevo'</span><span class="keyword">);<br />
</span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">addPhrase</span><span class="keyword">(</span><span class="string">'save'</span><span class="keyword">,</span><span class="string">'guardar'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$xliff</span><span class="keyword">-&gt;</span><span class="default">getDocument</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96347""></a>
  <div class="note">
   <strong class="user">darko at uvcms dot com</strong>
   <a href="#96347" class="date">22-Feb-2010 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
setElement in the previous example does exactly the same thing as already existing writeElement.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89047""></a>
  <div class="note">
   <strong class="user">massimo71</strong>
   <a href="#89047" class="date">19-Feb-2009 11:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a feature to the XmlConstruct class by Alexandre Aprica. Now you can use nested array to generate nested xml elements.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">XmlConstruct </span><span class="keyword">extends </span><span class="default">XMLWriter<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Constructor.<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_rootElementName A root element's name of a current xml document<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_xsltFilePath Path of a XSLT file.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$prm_rootElementName</span><span class="keyword">, </span><span class="default">$prm_xsltFilePath</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">openMemory</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndent</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndentString</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$prm_xsltFilePath</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writePi</span><span class="keyword">(</span><span class="string">'xml-stylesheet'</span><span class="keyword">, </span><span class="string">'type="text/xsl" href="'</span><span class="keyword">.</span><span class="default">$prm_xsltFilePath</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="default">$prm_rootElementName</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Set an element with a text to a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_elementName An element's name<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_ElementText An element's text<br />
&nbsp;&nbsp; &nbsp; * @return null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">setElement</span><span class="keyword">(</span><span class="default">$prm_elementName</span><span class="keyword">, </span><span class="default">$prm_ElementText</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="default">$prm_elementName</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">text</span><span class="keyword">(</span><span class="default">$prm_ElementText</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Construct elements and texts from an array.<br />
&nbsp;&nbsp; &nbsp; * The array should contain an attribute's name in index part<br />
&nbsp;&nbsp; &nbsp; * and a attribute's text in value part.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param array $prm_array Contains attributes and texts<br />
&nbsp;&nbsp; &nbsp; * @return null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">fromArray</span><span class="keyword">(</span><span class="default">$prm_array</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$prm_array</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$prm_array </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$element</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fromArray</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setElement</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Return the content of a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; * @return string Xml document<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getDocument</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endDocument</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">outputMemory</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Output the content of a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">output</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: text/xml'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
<br />
}<br />
<br />
</span><span class="default">Example</span><span class="keyword">:<br />
<br />
</span><span class="default">$contents </span><span class="keyword">= array(<br />
&nbsp; </span><span class="string">'page_title' </span><span class="keyword">=&gt; </span><span class="string">'Generate a XHTML page from XML+XSLT files'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'welcome_msg' </span><span class="keyword">=&gt; </span><span class="string">'Simple XHTML document from XML+XSLT files!'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'prova' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"gino" </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">"innergino" </span><span class="keyword">=&gt; </span><span class="string">"gino inner value"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"filo" </span><span class="keyword">=&gt; </span><span class="string">"filodata"<br />
&nbsp; </span><span class="keyword">),<br />
);<br />
<br />
</span><span class="default">$XmlConstruct </span><span class="keyword">= new </span><span class="default">XmlConstruct</span><span class="keyword">(</span><span class="string">'root'</span><span class="keyword">);<br />
</span><span class="default">$XmlConstruct</span><span class="keyword">-&gt;</span><span class="default">fromArray</span><span class="keyword">(</span><span class="default">$contents</span><span class="keyword">);<br />
</span><span class="default">$XmlConstruct</span><span class="keyword">-&gt;</span><span class="default">output</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76670""></a>
  <div class="note">
   <strong class="user">Yves Sucaet</strong>
   <a href="#76670" class="date">25-Jul-2007 04:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want your XML-output to be seen as XML by the browser, you need to modify your header. The XmlWriter does not do this for you! Therefore, the first line of your script should be:<br />
<br />
<span class="default">&lt;?php header</span><span class="keyword">(</span><span class="string">"Content-type: text/xml"</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64491""></a>
  <div class="note">
   <strong class="user">Alexandre Arica</strong>
   <a href="#64491" class="date">16-Apr-2006 02:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to generate a simple XML document for a XSL-Transformation purpose.<br />
<br />
We have 3 files: <br />
- 'index.php' : output a XML document<br />
- 'XmlConstruct.class.php' : allow to construct a XML document with 'xmlwriter'<br />
- 'index.xsl' : contains a XSLT document<br />
<br />
Contents of the file 'index.php' :<br />
<br />
<span class="default">&lt;?php<br />
$contents </span><span class="keyword">= array(</span><span class="string">'page_title' </span><span class="keyword">=&gt; </span><span class="string">'Generate a XHTML page from XML+XSLT files'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'welcome_msg' </span><span class="keyword">=&gt; </span><span class="string">'Simple XHTML document from XML+XSLT files!'</span><span class="keyword">);<br />
<br />
require(</span><span class="string">'XmlConstruct.class.php'</span><span class="keyword">);<br />
</span><span class="default">$XmlConstruct </span><span class="keyword">= new </span><span class="default">XmlConstruct</span><span class="keyword">(</span><span class="string">'rootElement'</span><span class="keyword">, </span><span class="string">'index.xsl'</span><span class="keyword">);<br />
</span><span class="default">$XmlConstruct</span><span class="keyword">-&gt;</span><span class="default">fromArray</span><span class="keyword">(</span><span class="default">$contents</span><span class="keyword">);<br />
</span><span class="default">$XmlConstruct</span><span class="keyword">-&gt;</span><span class="default">output</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Contents of the file&nbsp; 'XmlConstruct.class.php' :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Construct a simple XML document.<br />
&nbsp;* This class inherits from the (PHP) class 'xmlwriter'.<br />
&nbsp;* You will need at least PHP 5.1.2<br />
&nbsp;*<br />
&nbsp;* @author Alexandre Arica<br />
&nbsp;* @since&nbsp; 16 April 2006<br />
&nbsp;* @version 1.0 modified the 16 April 2006<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">XmlConstruct </span><span class="keyword">extends </span><span class="default">XMLWriter<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Constructor.<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_rootElementName A root element's name of a current xml document<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_xsltFilePath Path of a XSLT file.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$prm_rootElementName</span><span class="keyword">, </span><span class="default">$prm_xsltFilePath</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">openMemory</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndent</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setIndentString</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$prm_xsltFilePath</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writePi</span><span class="keyword">(</span><span class="string">'xml-stylesheet'</span><span class="keyword">, </span><span class="string">'type="text/xsl" href="'</span><span class="keyword">.</span><span class="default">$prm_xsltFilePath</span><span class="keyword">.</span><span class="string">'"'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="default">$prm_rootElementName</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Set an element with a text to a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_elementName An element's name<br />
&nbsp;&nbsp; &nbsp; * @param string $prm_ElementText An element's text<br />
&nbsp;&nbsp; &nbsp; * @return null<br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">setElement</span><span class="keyword">(</span><span class="default">$prm_elementName</span><span class="keyword">, </span><span class="default">$prm_ElementText</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startElement</span><span class="keyword">(</span><span class="default">$prm_elementName</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">text</span><span class="keyword">(</span><span class="default">$prm_ElementText</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Construct elements and texts from an array.<br />
&nbsp;&nbsp; &nbsp; * The array should contain an attribute's name in index part<br />
&nbsp;&nbsp; &nbsp; * and a attribute's text in value part.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param array $prm_array Contains attributes and texts<br />
&nbsp;&nbsp; &nbsp; * @return null<br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">fromArray</span><span class="keyword">(</span><span class="default">$prm_array</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$prm_array</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$prm_array </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$text</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setElement</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Return the content of a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; * @return string Xml document<br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getDocument</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endElement</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">endDocument</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">outputMemory</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Output the content of a current xml document.<br />
&nbsp;&nbsp; &nbsp; * @access public<br />
&nbsp;&nbsp; &nbsp; * @param null<br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">output</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: text/xml'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getDocument</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Contents of the file 'index.xsl' :<br />
<br />
&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />
<br />
&lt;xsl:stylesheet <br />
&nbsp;version="1.0" <br />
&nbsp;xmlns:xsl="<a href="http://www.w3.org/1999/XSL/Transform" rel="nofollow" target="_blank">http://www.w3.org/1999/XSL/Transform</a>" <br />
&nbsp;xmlns="<a href="http://www.w3.org/TR/xhtml1/strict" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/strict</a>"&gt;<br />
<br />
&lt;xsl:output <br />
&nbsp;&nbsp;&nbsp; method="html" <br />
&nbsp;&nbsp;&nbsp; encoding="utf-8"<br />
/&gt;<br />
<br />
&lt;xsl:template match="rootElement"&gt;<br />
<br />
&lt;html xmlns="<a href="http://www.w3.org/1999/xhtml" rel="nofollow" target="_blank">http://www.w3.org/1999/xhtml</a>"&gt;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;head&gt;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;title&gt;&lt;xsl:value-of select="page_title" /&gt;&lt;/title&gt;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/head&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;body&gt;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;xsl:value-of select="welcome_msg" /&gt;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;/body&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&lt;/html&gt;<br />
<br />
&lt;/xsl:template&gt;<br />
<br />
&lt;/xsl:stylesheet&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64484""></a>
  <div class="note">
   <strong class="user">Carlos Averett</strong>
   <a href="#64484" class="date">15-Apr-2006 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using XMLWriter to create a WAP page:<br />
<br />
<span class="default">&lt;?php<br />
$memory </span><span class="keyword">= </span><span class="default">xmlwriter_open_memory</span><span class="keyword">();<br />
</span><span class="default">xmlwriter_start_document</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'1.0'</span><span class="keyword">,</span><span class="string">'UTF-8'</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_start_dtd</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'html'</span><span class="keyword">,</span><span class="string">'-//WAPFORUM//DTD XHTML Mobile 1.0//EN'</span><span class="keyword">, </span><span class="string">'<a href="http://www.wapforum.org/DTD/xhtml-mobile10.dtd" rel="nofollow" target="_blank">http://www.wapforum.org/DTD/xhtml-mobile10.dtd</a>'</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_end_dtd</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_start_element </span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'html'</span><span class="keyword">); </span><span class="comment">// &lt;html&gt;<br />
</span><span class="default">xmlwriter_write_attribute</span><span class="keyword">( </span><span class="default">$memory</span><span class="keyword">, </span><span class="string">'xmlns'</span><span class="keyword">, </span><span class="string">'<a href="http://www.wapforum.org/DTD/xhtml-mobile10.dtd" rel="nofollow" target="_blank">http://www.wapforum.org/DTD/xhtml-mobile10.dtd</a>'</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_write_attribute</span><span class="keyword">( </span><span class="default">$memory</span><span class="keyword">, </span><span class="string">'xm:lang'</span><span class="keyword">, </span><span class="string">'en'</span><span class="keyword">);<br />
<br />
</span><span class="default">xmlwriter_start_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'head'</span><span class="keyword">); </span><span class="comment">// &lt;head&gt;<br />
<br />
</span><span class="default">xmlwriter_write_element </span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'title'</span><span class="keyword">, </span><span class="string">'Test WAP Document'</span><span class="keyword">);<br />
<br />
</span><span class="default">xmlwriter_end_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">); </span><span class="comment">// &lt;/head&gt;<br />
</span><span class="default">xmlwriter_start_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'body'</span><span class="keyword">); </span><span class="comment">// &lt;body&gt;<br />
</span><span class="default">xmlwriter_start_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'ol'</span><span class="keyword">); </span><span class="comment">// &lt;ol&gt;<br />
<br />
</span><span class="default">xmlwriter_write_element </span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'li'</span><span class="keyword">, </span><span class="string">'One Item'</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_write_element </span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'li'</span><span class="keyword">, </span><span class="string">'Another Item'</span><span class="keyword">);<br />
</span><span class="default">xmlwriter_write_element </span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="string">'li'</span><span class="keyword">, </span><span class="string">'Another Item'</span><span class="keyword">);<br />
<br />
</span><span class="default">xmlwriter_end_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">); </span><span class="comment">// &lt;/ol&gt;<br />
</span><span class="default">xmlwriter_end_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">); </span><span class="comment">// &lt;/body&gt;<br />
</span><span class="default">xmlwriter_end_element</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">); </span><span class="comment">// &lt;/html&gt;<br />
<br />
</span><span class="default">xmlwriter_end_dtd</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">);<br />
</span><span class="default">$xml </span><span class="keyword">= </span><span class="default">xmlwriter_output_memory</span><span class="keyword">(</span><span class="default">$memory</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />
&lt;!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "<a href="http://www.wapforum.org/DTD/xhtml-mobile10.dtd" rel="nofollow" target="_blank">http://www.wapforum.org/DTD/xhtml-mobile10.dtd</a>"&gt;<br />
&lt;html xmlns="<a href="http://www.wapforum.org/DTD/xhtml-mobile10.dtd" rel="nofollow" target="_blank">http://www.wapforum.org/DTD/xhtml-mobile10.dtd</a>" xm:lang="en"&gt;<br />
&lt;head&gt;<br />
&lt;title&gt;Test WAP Document&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;ol&gt;<br />
&lt;li&gt;One Item&lt;/li&gt;<br />
&lt;li&gt;Another Item&lt;/li&gt;<br />
&lt;li&gt;Another Item&lt;/li&gt;<br />
&lt;/ol&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="xmlwriter.constants.html">定義済み定数</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.xmlwriter-end-attribute.html">XMLWriter::endAttribute</a></div>
 <div class="up"><a href="book.xmlwriter.html">XMLWriter</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
