<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>gz ファイルを出力する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gzwrite.html">gzwrite</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.zlib-decode.html">zlib_decode</a></div>
 <div class="up"><a href="ref.zlib.html">Zlib 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.readgzfile" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">readgzfile</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">readgzfile</span> &mdash; <span class="dc-title">gz ファイルを出力する</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.readgzfile-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>readgzfile</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$use_include_path</code><span class="initializer"> = 0</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   ファイルを読み込み、解凍し、標準出力に書き込みます。
  </p>
  <p class="para">
    <span class="function"><strong>readgzfile()</strong></span>は、gzip
   フォーマットでないファイルの読込にも使用可能です。この場合、
    <span class="function"><strong>readgzfile()</strong></span> はファイルを解凍せずに直接読込みます。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.readgzfile-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">filename</code></em></span>
     <dd>

      <p class="para">
       ファイル名を指定します。このファイルはファイルシステムからオープンされ、
       内容は標準出力に書き込まれます。
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">use_include_path</code></em></span>
     <dd>

      <p class="para">
       <a href="ini.core.html#ini.include-path" class="link">include_path</a>
       にあるファイルも検索したい場合、このオプションパラメータを
       <em>1</em> に設定してください。
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.readgzfile-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   ファイルから読み込んだ (解凍された) データのバイト数を返します。
   エラーが発生した場合、<strong><code>FALSE</code></strong> が返され、<em>@readgzfile</em>
   としてコールされている場合を除き、エラーメッセージが出力されます。
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.readgzfile-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.gzpassthru.html" class="function" rel="rdfs-seeAlso">gzpassthru()</a> - gzファイルへのポインタから残りのデータ全部を出力する</span></li>
    <li class="member"> <span class="function"><a href="function.gzfile.html" class="function" rel="rdfs-seeAlso">gzfile()</a> - gzファイル全体を配列に読み込む</span></li>
    <li class="member"> <span class="function"><a href="function.gzopen.html" class="function" rel="rdfs-seeAlso">gzopen()</a> - gz ファイルを開く</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="36243""></a>
  <div class="note">
   <strong class="user">glennh at webadept dot net</strong>
   <a href="#36243" class="date">02-Oct-2003 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a rather simple example of usage for this function, but it does work, and it solved a problem I was using with old browsers accessing gzipped files. <br />
<br />
<span class="default">&lt;?PHP <br />
&nbsp;<br />
</span><span class="comment">// first we need to stop the server from sending any headers at all.&nbsp; <br />
</span><span class="default">ob_start</span><span class="keyword">(); <br />
&nbsp;<br />
</span><span class="default">readgzfile</span><span class="keyword">(</span><span class="string">"test.html.gz"</span><span class="keyword">); </span><span class="comment">// read the file and output directly to<br />
</span><span class="default">the browser<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// non compressed data from the<br />
</span><span class="default">file<br />
&nbsp;<br />
ob_end_flush</span><span class="keyword">(); </span><span class="comment">// let the headers go//&nbsp; <br />
&nbsp;<br />
</span><span class="default">?&gt;</span> <br />
<br />
There is no need for any html formating if the source file is an HTML formated page, such as the ones I'm using are. Checking the browser version, sends either the gzip file directly, or sends the browser to a page like this, which does the work for it. Well done simple function. <br />
<br />
My server is running PHP 4.2.2 on Linux Redhat version 9 and<br />
Apache 2.0.40</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.gzwrite.html">gzwrite</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.zlib-decode.html">zlib_decode</a></div>
 <div class="up"><a href="ref.zlib.html">Zlib 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
