<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>プリンタ 関数</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="printer.constants.html">定義済み定数</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.printer-abort.html">printer_abort</a></div>
 <div class="up"><a href="book.printer.html">プリンタ</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="ref.printer" class="reference">
 <h1 class="title">プリンタ 関数</h1>

 





















































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.printer-abort.html">printer_abort</a> — プリンタのスプールファイルを削除する</li><li><a href="function.printer-close.html">printer_close</a> — プリンタへの接続を閉じる</li><li><a href="function.printer-create-brush.html">printer_create_brush</a> — 新規ブラシを作成する</li><li><a href="function.printer-create-dc.html">printer_create_dc</a> — 新規デバイスコンテキストを作成する</li><li><a href="function.printer-create-font.html">printer_create_font</a> — 新規フォントを作成する</li><li><a href="function.printer-create-pen.html">printer_create_pen</a> — 新規ペンを作成する</li><li><a href="function.printer-delete-brush.html">printer_delete_brush</a> — ブラシを削除する</li><li><a href="function.printer-delete-dc.html">printer_delete_dc</a> — デバイスコンテキストを削除する</li><li><a href="function.printer-delete-font.html">printer_delete_font</a> — フォントを削除する</li><li><a href="function.printer-delete-pen.html">printer_delete_pen</a> — ペンを削除する</li><li><a href="function.printer-draw-bmp.html">printer_draw_bmp</a> — ビットマップを描画する</li><li><a href="function.printer-draw-chord.html">printer_draw_chord</a> — 弦を描画する</li><li><a href="function.printer-draw-elipse.html">printer_draw_elipse</a> — 楕円を描画する</li><li><a href="function.printer-draw-line.html">printer_draw_line</a> — 線を描画する</li><li><a href="function.printer-draw-pie.html">printer_draw_pie</a> — 円弧を描画する</li><li><a href="function.printer-draw-rectangle.html">printer_draw_rectangle</a> — 矩形を描画する</li><li><a href="function.printer-draw-roundrect.html">printer_draw_roundrect</a> — 角が丸い矩形を描画する</li><li><a href="function.printer-draw-text.html">printer_draw_text</a> — テキストを描画する</li><li><a href="function.printer-end-doc.html">printer_end_doc</a> — ドキュメントを閉じる</li><li><a href="function.printer-end-page.html">printer_end_page</a> — アクティブなページを閉じる</li><li><a href="function.printer-get-option.html">printer_get_option</a> — プリンタ設定データを取得する</li><li><a href="function.printer-list.html">printer_list</a> — サーバーに登録されたプリンタの配列を返す</li><li><a href="function.printer-logical-fontheight.html">printer_logical_fontheight</a> — 論理フォントの高さを取得する</li><li><a href="function.printer-open.html">printer_open</a> — プリンタへの接続をオープンする</li><li><a href="function.printer-select-brush.html">printer_select_brush</a> — ブラシを選択する</li><li><a href="function.printer-select-font.html">printer_select_font</a> — フォントを選択する</li><li><a href="function.printer-select-pen.html">printer_select_pen</a> — ペンを選択する</li><li><a href="function.printer-set-option.html">printer_set_option</a> — プリンタの接続を設定する</li><li><a href="function.printer-start-doc.html">printer_start_doc</a> — 新規ドキュメントを開始する</li><li><a href="function.printer-start-page.html">printer_start_page</a> — 新規ページを開始する</li><li><a href="function.printer-write.html">printer_write</a> — プリンタへデータを書き込む</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="72577""></a>
  <div class="note">
   <strong class="user">mdwyer at timestreamtech dot com</strong>
   <a href="#72577" class="date">25-Jan-2007 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was able to print nice looking reports (under unix) by sending out formatted text out through 'enscript'.&nbsp; The various configuration options on enscript took care of fonts and headers etc.&nbsp; The result was a postscript file which I just sent to the server's local printer.<br />
<br />
One could also pipe it through a PS to PDF filter and send it back to the user, I suppose.<br />
<br />
For another job, I learned how to write postscript and just wrote directly to postscript files.&nbsp; Learning how to write postscript is probably only marginally harder than learning how to use this API, and is probably more portable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46070""></a>
  <div class="note">
   <strong class="user">arne dot briesenick at soxabo dot de</strong>
   <a href="#46070" class="date">28-Sep-2004 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Printing in UN*X is possible too:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">lpr</span><span class="keyword">(</span><span class="default">$STR</span><span class="keyword">,</span><span class="default">$PRN</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$prn</span><span class="keyword">=(isset(</span><span class="default">$PRN</span><span class="keyword">) &amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$PRN</span><span class="keyword">))?</span><span class="string">"</span><span class="default">$PRN</span><span class="string">"</span><span class="keyword">:</span><span class="default">C_DEFAULTPRN </span><span class="keyword">;<br />
&nbsp; </span><span class="default">$CMDLINE</span><span class="keyword">=</span><span class="string">"lpr -P </span><span class="default">$prn</span><span class="string"> "</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$pipe</span><span class="keyword">=</span><span class="default">popen</span><span class="keyword">(</span><span class="string">"</span><span class="default">$CMDLINE</span><span class="string">" </span><span class="keyword">, </span><span class="string">'w' </span><span class="keyword">);<br />
&nbsp; if (!</span><span class="default">$pipe</span><span class="keyword">) {print </span><span class="string">"pipe failed."</span><span class="keyword">; return </span><span class="string">""</span><span class="keyword">; }<br />
&nbsp; </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$pipe</span><span class="keyword">,</span><span class="default">$STR</span><span class="keyword">);<br />
&nbsp; </span><span class="default">pclose</span><span class="keyword">(</span><span class="default">$pipe</span><span class="keyword">);<br />
} </span><span class="comment">// lpr()<br />
</span><span class="default">?&gt;<br />
</span><br />
You pipe the stream/string/char/sign whatever to the system. In the example shown above you have to add at least the string for printing in the function call. The second arg is a printer name which if you don't set will be set to the C_DEFAULTPRN. This is a constant definition from an ini file.<br />
<br />
Hope this will help to save a lot of time ;-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29650""></a>
  <div class="note">
   <strong class="user">jwlash at acm dot org</strong>
   <a href="#29650" class="date">20-Feb-2003 08:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have noticed the for unix based systems you can also do this:<br />
<br />
system("lp $filename") <br />
<br />
:)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28687""></a>
  <div class="note">
   <strong class="user">bertATnerdstockDOTorg</strong>
   <a href="#28687" class="date">21-Jan-2003 01:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to address the printer from your PHP-application in a Un*x environment:<br />
This is possible if you use a different method.<br />
In Unix it would not be logical to address your printer directly from php, but you could for instance generate a PDF-file with PDFlib (or a textfile, or a PNG/JPEG image with GD or what have you) and write it from your php-script to a directory that you use as a "printer-outbox."<br />
<br />
Next, you write a shellscript that calls some unix tool to print all pdf or other documents in your "outbox" directory and then deletes all files in that directory.<br />
<br />
Then you use crontab to run this script every minute or as often as you think it's neccessary.<br />
<br />
You could of course also call the shellscript from your php-application with exec() but you'll probably want to avoid using exec() and the like for security reasons.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="printer.constants.html">定義済み定数</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.printer-abort.html">printer_abort</a></div>
 <div class="up"><a href="book.printer.html">プリンタ</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
