<html><!-- Mirrored from php.net/manual/en/function.sscanf.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:18 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>sscanf</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.sscanf.html">
 <link rel="shorturl" href="http://php.net/sscanf">
 <link rel="alternate" href="http://php.net/sscanf" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.strings.html">
 <link rel="prev" href="function.sprintf.html">
 <link rel="next" href="function.str-getcsv.html">

 <link rel="alternate" href="function.sscanf.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.sscanf.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.sscanf.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.sscanf.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.sscanf.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.sscanf.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.sscanf.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.sscanf.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.sscanf.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.sscanf.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.sscanf.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.strings.html">Strings</a></li>      <li><a href="ref.strings.html">String Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.sscanf" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sscanf</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5)</p><p class="refpurpose"><span class="refname">sscanf</span> â€” <span class="dc-title">Parses input from a string according to a format</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.sscanf-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>sscanf</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter reference">&amp;$...</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   The function <span class="function"><strong>sscanf()</strong></span> is the input analog of
   <span class="function"><a href="function.printf.html" class="function">printf()</a></span>. <span class="function"><strong>sscanf()</strong></span> reads
   from the string <code class="parameter">str</code> and interprets it
   according to the specified <code class="parameter">format</code>, which is
   described in the documentation for <span class="function"><a href="function.sprintf.html" class="function">sprintf()</a></span>. 
  </p>
  <p class="para">
   Any whitespace in the format string matches any whitespace in the input
   string. This means that even a tab \t in the format string can match a
   single space character in the input string.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sscanf-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">str</code></dt>

     <dd>

      <p class="para">
       The input <span class="type"><a href="language.types.string.html" class="type string">string</a></span> being parsed.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">format</code></dt>

     <dd>

      <p class="para">
       The interpreted format for <code class="parameter">str</code>, which is
       described in the documentation for <span class="function"><a href="function.sprintf.html" class="function">sprintf()</a></span> with
       following differences:
       </p><ul class="simplelist">
        <li class="member">
         Function is not locale-aware.
        </li>
        <li class="member">
         <em>F</em>, <em>g</em>, <em>G</em> and
         <em>b</em> are not supported.
        </li>
        <li class="member">
         <em>D</em> stands for decimal number.
        </li>
        <li class="member">
         <em>i</em> stands for integer with base detection.
        </li>
        <li class="member">
         <em>n</em> stands for number of characters processed so far.
        </li>
       </ul>
      <p></p>
     </dd>

    
    
     <dt>
<code class="parameter">...</code></dt>

     <dd>

      <p class="para">
       Optionally pass in variables by reference that will contain the parsed values.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.sscanf-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   If only two parameters were passed to this function, the values parsed will
   be returned as an array. Otherwise, if optional parameters are passed, the
   function will return the number of assigned values. The optional parameters
   must be passed by reference.
  </p>
  <p class="para">
   If there are more substrings expected in the <code class="parameter">format</code>
   than there are available within <code class="parameter">str</code>,
   <em>-1</em> will be returned.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.sscanf-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-4990">
    <p><strong>Example #1 <span class="function"><strong>sscanf()</strong></span> Example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;getting&nbsp;the&nbsp;serial&nbsp;number<br></span><span style="color: #007700">list(</span><span style="color: #0000BB">$serial</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #DD0000">"SN/2350001"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SN/%d"</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;and&nbsp;the&nbsp;date&nbsp;of&nbsp;manufacturing<br></span><span style="color: #0000BB">$mandate&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"January&nbsp;01&nbsp;2000"</span><span style="color: #007700">;<br>list(</span><span style="color: #0000BB">$month</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$day</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$year</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">$mandate</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"%s&nbsp;%d&nbsp;%d"</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #DD0000">"Item&nbsp;</span><span style="color: #0000BB">$serial</span><span style="color: #DD0000">&nbsp;was&nbsp;manufactured&nbsp;on:&nbsp;</span><span style="color: #0000BB">$year</span><span style="color: #DD0000">-"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$month</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"-</span><span style="color: #0000BB">$day</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   If optional parameters are passed, the function will return the
   number of assigned values.
  </p>
  <p class="para">
   </p><div class="example" id="example-4991">
    <p><strong>Example #2 <span class="function"><strong>sscanf()</strong></span> - using optional parameters</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;get&nbsp;author&nbsp;info&nbsp;and&nbsp;generate&nbsp;DocBook&nbsp;entry<br></span><span style="color: #0000BB">$auth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"24\tLewis&nbsp;Carroll"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">$auth</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"%d\t%s&nbsp;%s"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$first</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$last</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #DD0000">"&lt;author&nbsp;id='</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">'&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;firstname&gt;</span><span style="color: #0000BB">$first</span><span style="color: #DD0000">&lt;/firstname&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;surname&gt;</span><span style="color: #0000BB">$last</span><span style="color: #DD0000">&lt;/surname&gt;<br>&lt;/author&gt;\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sscanf-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.fscanf.html" class="function" rel="rdfs-seeAlso">fscanf()</a> - Parses input from a file according to a format</span></li>
    <li class="member"><span class="function"><a href="function.printf.html" class="function" rel="rdfs-seeAlso">printf()</a> - Output a formatted string</span></li>
    <li class="member"><span class="function"><a href="function.sprintf.html" class="function" rel="rdfs-seeAlso">sprintf()</a> - Return a formatted string</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="25190">  
  <a class="name">
  <strong class="user"><em>jon at fuck dot org</em></strong></a><div class="date" title="2002-09-13 11:27"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom25190">
<div class="phpcode"><code><span class="html">
this function is a great way to get integer rgb values from the html equivalent hex.<br><br>list($r, $g, $b) = sscanf('00ccff', '%2x%2x%2x');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81842">  
  <a class="name">
  <strong class="user"><em>mikewillitsgmail.com</em></strong></a><div class="date" title="2008-03-15 11:13"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81842">
<div class="phpcode"><code><span class="html">
FYI - if you are trying to scan from a string which contains a filename with extension. For instance:<br><br><span class="default">&lt;?php<br><br>$out </span><span class="keyword">= </span><span class="default">sscanf</span><span class="keyword">(</span><span class="string">'file_name.gif'</span><span class="keyword">, </span><span class="string">'file_%s.%s'</span><span class="keyword">, </span><span class="default">$fpart1</span><span class="keyword">, </span><span class="default">$fpart2</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>The scanned string in the $fpart1 parameter turns out to be 'name.gif' and $fpart2 will be NULL.<br><br>To get around this you can simply replace the "." with a space or another "white-space like" string sequence.<br><br>I didn't see any other comments on regarding string literals which contain a '.' so I thought I'd mention it. The subtle characteristics of having "white-space delimited" content I think can be a source of usage contention. Obviously, another way to go is regular expressions in this instance, but for newer users this may be helpful.<br><br>Just in case someone else spent 10 minutes of frustration like I did. This was seen on PHP Version 5.2.3-1ubuntu6.3.<br><br>Searching the bug reports shows another users misunderstanding: <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=7793</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="110143">  
  <a class="name">
  <strong class="user"><em>Victor</em></strong></a><div class="date" title="2012-09-23 10:24"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110143">
<div class="phpcode"><code><span class="html">
One thing to note: unlike C/C++, a variable %n is assigned to will be counted in the return value.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54785">  
  <a class="name">
  <strong class="user"><em>joshmckenneyATgmailDOT(0{</em></strong></a><div class="date" title="2005-07-14 03:21"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54785">
<div class="phpcode"><code><span class="html">
added country code (1) to phone number function:<br><br>function formatPhone($phone) {<br>&nbsp; &nbsp; &nbsp;&nbsp; if (empty($phone)) return "";<br>&nbsp; &nbsp; &nbsp;&nbsp; if (strlen($phone) == 7)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sscanf($phone, "%3s%4s", $prefix, $exchange);<br>&nbsp; &nbsp; &nbsp;&nbsp; else if (strlen($phone) == 10)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sscanf($phone, "%3s%3s%4s", $area, $prefix, $exchange);<br>&nbsp; &nbsp; &nbsp;&nbsp; else if (strlen($phone) &gt; 10)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(substr($phone,0,1)=='1') {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sscanf($phone, "%1s%3s%3s%4s", $country, $area, $prefix, $exchange);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sscanf($phone, "%3s%3s%4s%s", $area, $prefix, $exchange, $extension);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return "unknown phone format: $phone";<br>&nbsp; &nbsp; &nbsp;&nbsp; $out = "";<br>&nbsp; &nbsp; &nbsp;&nbsp; $out .= isset($country) ? $country.' ' : '';<br>&nbsp; &nbsp; &nbsp;&nbsp; $out .= isset($area) ? '(' . $area . ') ' : '';<br>&nbsp; &nbsp; &nbsp;&nbsp; $out .= $prefix . '-' . $exchange;<br>&nbsp; &nbsp; &nbsp;&nbsp; $out .= isset($extension) ? ' x' . $extension : '';<br>&nbsp; &nbsp; &nbsp;&nbsp; return $out;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="16041">  
  <a class="name">
  <strong class="user"><em>narainsbrain at yahoo dot com</em></strong></a><div class="date" title="2001-10-14 03:25"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom16041">
<div class="phpcode"><code><span class="html">
apparently, sscanf always splits at spaces, even if spaces are not specified in the format. consider this script:
<br>
<br><span class="default">&lt;?php
<br>$str </span><span class="keyword">= </span><span class="string">"This is a\tsentence with\ttabs"</span><span class="keyword">;
<br></span><span class="default">$scanned </span><span class="keyword">= </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="string">"%s\t%s\t%s"</span><span class="keyword">);
<br>echo </span><span class="default">join</span><span class="keyword">(</span><span class="string">" : "</span><span class="keyword">, </span><span class="default">$scanned</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>this echoes "This : is : a", not the expected "This is a : sentence with : tabs."
<br>this behaviour is fine if your strings don't contain spaces, but if they do you'd be better off using explode().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63526">  
  <a class="name">
  <strong class="user"><em>skeltoac</em></strong></a><div class="date" title="2006-03-22 08:28"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63526">
<div class="phpcode"><code><span class="html">
To parse a line from an Apache access log in common format:<br><br><span class="default">&lt;?php<br>$log </span><span class="keyword">= array();<br></span><span class="default">$n </span><span class="keyword">= </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">), </span><span class="string">'%s %s %s [%[^]]] "%s %s %[^"]" %d %s "%[^"]" "%[^"]"'</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'ip'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'client'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'user'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'time'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'method'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'uri'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'prot'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'code'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'bytes'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'ref'</span><span class="keyword">],<br>&nbsp; &nbsp; </span><span class="default">$log</span><span class="keyword">[</span><span class="string">'agent'</span><span class="keyword">]<br>);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53890">  
  <a class="name">
  <strong class="user"><em>Vincent Jansen</em></strong></a><div class="date" title="2005-06-16 01:04"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53890">
<div class="phpcode"><code><span class="html">
If you just wants filter out information between two parts of a string, i used the following, it works better for me then the sscanf function. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">scanstr</span><span class="keyword">(</span><span class="default">$zoekstr</span><span class="keyword">,</span><span class="default">$part1</span><span class="keyword">,</span><span class="default">$part2</span><span class="keyword">) {<br></span><span class="default">$firstpos</span><span class="keyword">=</span><span class="default">strpos </span><span class="keyword">(</span><span class="default">$zoekstr</span><span class="keyword">, </span><span class="default">$part1</span><span class="keyword">)+</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$part1</span><span class="keyword">);<br></span><span class="default">$lastpos</span><span class="keyword">=</span><span class="default">strpos </span><span class="keyword">(</span><span class="default">$zoekstr</span><span class="keyword">, </span><span class="default">$part2</span><span class="keyword">);<br></span><span class="default">$scanresult</span><span class="keyword">=</span><span class="default">substr </span><span class="keyword">(</span><span class="default">$zoekstr</span><span class="keyword">, </span><span class="default">$firstpos</span><span class="keyword">, </span><span class="default">$lastpos</span><span class="keyword">-</span><span class="default">$firstpos</span><span class="keyword">);<br>&nbsp; &nbsp; return(</span><span class="default">$scanresult</span><span class="keyword">);<br>}<br>echo </span><span class="default">scanstr </span><span class="keyword">(</span><span class="string">"var1=hello&amp;var2=test&amp;var3=more"</span><span class="keyword">,</span><span class="string">"var2="</span><span class="keyword">,</span><span class="string">"&amp;var3"</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19430">  
  <a class="name">
  <strong class="user"><em>elgabos at umail dot ucsb dot edu</em></strong></a><div class="date" title="2002-02-27 03:38"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19430">
<div class="phpcode"><code><span class="html">
After playing around with this for a while, I found that if you use %[^[]] instead of %s (since php has problems with spaces when using %s) it works nicely. <br><br>For those that aren't familiar with regular expressions, %[^[]] basically matches anything that isn't nothing.<br><br>Hope this helps. - Gabe</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85069">  
  <a class="name">
  <strong class="user"><em>leg</em></strong></a><div class="date" title="2008-08-13 09:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85069">
<div class="phpcode"><code><span class="html">
@mikewillitsgmail.com:<br><br><span class="default">&lt;?php<br><br>$out </span><span class="keyword">= </span><span class="default">sscanf</span><span class="keyword">(</span><span class="string">'file_name.gif'</span><span class="keyword">, </span><span class="string">'file_%[^.].%s'</span><span class="keyword">, </span><span class="default">$fpart1</span><span class="keyword">, </span><span class="default">$fpart2</span><span class="keyword">);<br><br>echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fpart1</span><span class="keyword">);<br>echo </span><span class="string">'&lt;hr /&gt;'</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fpart2</span><span class="keyword">);<br>echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br><br></span><span class="default">?&gt;<br></span><br>output:<br><br>name<br>-<br>gif<br><br>The "^." part avoid the first searched string to be too greedy. But doesn't protect you against an "file_test.name.gif" input, with bad results!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49713">  
  <a class="name">
  <strong class="user"><em>codeslinger at compsalot dot com</em></strong></a><div class="date" title="2005-02-06 06:03"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49713">
<div class="phpcode"><code><span class="html">
Security Note:<br><br>Although it is a very powerful technique, keep in mind that it is easily deceived.<br><br>Many successful exploits have been based on scanf attacks.&nbsp; It should not be used on untrusted input without a lot of additional validation.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="26996">  
  <a class="name">
  <strong class="user"><em>sbarnum.pointsystems@com</em></strong></a><div class="date" title="2002-11-19 07:21"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26996">
<div class="phpcode"><code><span class="html">
More fun with phones!&nbsp; This assumes that the phone number is 10 digits, with only numeric data, but it would be easy to check the length of the string first.<br><br>function formatPhone($phone) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (empty($phone)) return "";<br>&nbsp; &nbsp; &nbsp; &nbsp; sscanf($phone, "%3d%3d%4d", $area, $prefix, $exchange);<br>&nbsp; &nbsp; &nbsp; &nbsp; $out = @$area ? "($area) " : "";<br>&nbsp; &nbsp; &nbsp; &nbsp; $out .= $prefix . '-' . $exchange;<br>&nbsp; &nbsp; &nbsp; &nbsp; return $out;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68565">  
  <a class="name">
  <strong class="user"><em>anonymouse</em></strong></a><div class="date" title="2006-08-01 09:38"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68565">
<div class="phpcode"><code><span class="html">
I've seen several examples of people using brackets to define what look like regexp character classes. In my limited testing I don't think they are genuine character classes but they seem to be similar.<br><br>My task was to use sscanf() to parse an array of strings with the format:<br><br>number SPACE string_which_may_also_have_spaces<br><br>The normal %s conversion command treats spaces as some kind of delimiter. So, you can get the strings if you know beforehand how many "words" there will be. But, my input was variable.<br><br>Here's what I came up with: (note use of the dollar-sign 'end of string' hidden delimiter)<br><br>sscanf($string_to_parse,'%d %[^$]s',$num,$text);<br><br>This conversion command says "look for an integer, then a space, then any string up to the end of the string"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56076">  
  <a class="name">
  <strong class="user"><em>Brainiac361</em></strong></a><div class="date" title="2005-08-22 01:49"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom56076">
<div class="phpcode"><code><span class="html">
The %[^[]]-trick may seem to work, but it doesn't!<br><br>What happens is that sscanf will simply match any characters but an opening square bracket (which is rather rare and that's why it might just seem to work).<br>But even worse it will expect a ]-character next and continue to match anything.<br><br>Now what you can do is make sscanf look for any character but a character that is really never used... a good choice is the linebreak "%[^\\n]", especially in combination with fscanf.<br><br>What you can also do is copy and paste any unused ascii character like #001 or something.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30636">  
  <a class="name">
  <strong class="user"><em>marcus at synchromedia dot co dot uk</em></strong></a><div class="date" title="2003-03-24 09:38"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30636">
<div class="phpcode"><code><span class="html">
In PHP &gt;= 4.3.0, if you use additional reference parameters, you will get this warning:<br><br>PHP Warning:&nbsp; Call-time pass-by-reference has been deprecated - argument passed by value<br><br>This clearly has the potential to cause unexpected consequences (vars left empty), and will break existing code. So don't do it! These docs need updating to say this too.<br><br>The syntax:<br><br>&nbsp; &nbsp; list($a, $b) = sscanf("hello world", "%s %s");<br><br>will work as expected, and doesn't seem to cause any problems with Apache that I've noticed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8420">  
  <a class="name">
  <strong class="user"><em>clcollie at mindspring dot com</em></strong></a><div class="date" title="2000-09-12 04:59"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8420">
<div class="phpcode"><code><span class="html">
Actually sscanf()_always_ returns an array if you specify less return variables than format specifiers. i may change this to return a scalar if only a single format specifier exists.
<br>&nbsp; Note that sscanf() is (almost) the complete functional equivalent of its "C" counterpart, so you can do the following to get the expected effect :
<br>
<br>&nbsp;&nbsp; sscanf("SN/2350001","SN/%d",&amp;$serial)
<br>
<br>The array return was a nicety for PHP.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106630">  
  <a class="name">
  <strong class="user"><em>nmmm at nmmm dot nu</em></strong></a><div class="date" title="2011-11-23 05:11"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106630">
<div class="phpcode"><code><span class="html">
This is more like C/C++ example, but works on PHP too.
<br>
<br><span class="default">&lt;?php
<br>$qs </span><span class="keyword">= </span><span class="string">"index.php?id=34&amp;name=john"</span><span class="keyword">;
<br>
<br></span><span class="default">print_r</span><span class="keyword">(&nbsp;&nbsp; </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">$qs</span><span class="keyword">, </span><span class="string">"%[^?]?%[^?]"</span><span class="keyword">)&nbsp;&nbsp; );
<br>
<br></span><span class="default">$qs </span><span class="keyword">= </span><span class="string">"id=34&amp;name=john"</span><span class="keyword">;
<br>
<br></span><span class="default">print_r</span><span class="keyword">(&nbsp;&nbsp; </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">$qs</span><span class="keyword">, </span><span class="string">"id=%[^&amp;]&amp;name=%[^&amp;]"</span><span class="keyword">)&nbsp;&nbsp; );
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86512">  
  <a class="name">
  <strong class="user"><em>Igor Feghali</em></strong></a><div class="date" title="2008-10-22 10:56"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86512">
<div class="phpcode"><code><span class="html">
parses an input string with fixed field sizes that contains data with spaces:<br><br><span class="default">&lt;?php<br>$result </span><span class="keyword">= </span><span class="default">sscanf</span><span class="keyword">(</span><span class="string">"&nbsp; Vendor: My Vendo Model: Super Model Foo&nbsp; Rev: 1234"</span><span class="keyword">,&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'&nbsp; Vendor: %8[ -~] Model: %16[ -~] Rev: %4c'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vendor</span><span class="keyword">, </span><span class="default">$model</span><span class="keyword">, </span><span class="default">$rev</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>$vendor =&gt; My Vendo<br>$model =&gt; Super Model Foo <br>$rev =&gt; 1234</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.sscanf.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:18 GMT -->


</body></html>