<html><!-- Mirrored from php.net/manual/en/ref.wddx.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:52:48 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>WDDX Functions</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="ref.wddx.html">
 <link rel="shorturl" href="http://php.net/wddx">
 <link rel="alternate" href="http://php.net/wddx" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.wddx.html">
 <link rel="prev" href="wddx.examples-serialize.html">
 <link rel="next" href="function.wddx-add-vars.html">

 <link rel="alternate" href="ref.wddx.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/ref.wddx.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/ref.wddx.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/ref.wddx.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/ref.wddx.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/ref.wddx.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/ref.wddx.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/ref.wddx.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/ref.wddx.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/ref.wddx.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/ref.wddx.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.xml.html">XML Manipulation</a></li>      <li><a href="book.wddx.html">WDDX</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="ref.wddx" class="reference">
 <h1 class="title">WDDX Functions</h1>

 





































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.wddx-add-vars.html">wddx_add_vars</a> — Add variables to a WDDX packet with the specified ID</li><li><a href="function.wddx-deserialize.html">wddx_deserialize</a> — Unserializes a WDDX packet</li><li><a href="function.wddx-packet-end.html">wddx_packet_end</a> — Ends a WDDX packet with the specified ID</li><li><a href="function.wddx-packet-start.html">wddx_packet_start</a> — Starts a new WDDX packet with structure inside it</li><li><a href="function.wddx-serialize-value.html">wddx_serialize_value</a> — Serialize a single value into a WDDX packet</li><li><a href="function.wddx-serialize-vars.html">wddx_serialize_vars</a> — Serialize variables into a WDDX packet</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="81810">  
  <a class="name">
  <strong class="user"><em>iGEL</em></strong></a><div class="date" title="2008-03-14 02:03"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81810">
<div class="phpcode"><code><span class="html">
As of version 5.2.5, this is wrong:<br><br>&gt; Note: If you want to serialize non-ASCII characters you <br>&gt; have to convert your data to UTF-8 first (see utf8_encode() <br>&gt; and iconv()). <br><br>Serializing a string with WDDX will always convert it from ISO-8859-1 to UTF-8, no matter what the original encoding is. So if your data already are UTF-8, you get just gibberish.<br><br>You can restore the original encoding by using utf8_decode on the serialized wddx data, even though your original data may use chars not included in ISO-8859-1:<br><br><span class="default">&lt;?php<br>header</span><span class="keyword">(</span><span class="string">"Content-Type: text/xml;encoding=utf-8"</span><span class="keyword">);<br>echo </span><span class="default">utf8_decode</span><span class="keyword">(</span><span class="default">wddx_serialize_value</span><span class="keyword">(</span><span class="string">"안녕 하세요"</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>(This is why I dislike PHP, sorry)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81345">  
  <a class="name">
  <strong class="user"><em>egbert teeselink</em></strong></a><div class="date" title="2008-02-23 10:49"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81345">
<div class="phpcode"><code><span class="html">
If your PHP doesn't have wddx support installed, and you need it, and you don't want to install PEAR just for wddx, try this short piece of code, based on SimpleXML:<br><br>//can read any wddx file generated from php arrays. assumes var elements are only inside struct elements and that only one packet exists.<br>function wddx_read_node($node, $type)<br>{<br>&nbsp; &nbsp; switch($type)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; case "boolean":<br>&nbsp; &nbsp; &nbsp; &nbsp; return (string)$node;<br>&nbsp; &nbsp; case "number":<br>&nbsp; &nbsp; case "binary":<br>&nbsp; &nbsp; case "string":<br>&nbsp; &nbsp; &nbsp; &nbsp; return (string)$node;<br>&nbsp; &nbsp; case "null":<br>&nbsp; &nbsp; &nbsp; &nbsp; return null;<br>&nbsp; &nbsp; case "array":<br>&nbsp; &nbsp; &nbsp; &nbsp; $a = array();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($node as $subtype =&gt; $subnode)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $a[] = wddx_read_node($subnode, $subtype);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return $a;<br>&nbsp; &nbsp; case "struct":<br>&nbsp; &nbsp; &nbsp; &nbsp; $a = array();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($node as $subtype =&gt; $subnode)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list($key, $value) = wddx_read_node($subnode, $subtype); //must be a var element<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $a[$key] = $value;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return $a;<br>&nbsp; &nbsp; case "var":<br>&nbsp; &nbsp; &nbsp; &nbsp; list($subnode, $subtype) = getchild($node);<br>&nbsp; &nbsp; &nbsp; &nbsp; return array((string)$node["name"], wddx_read_node($subnode, $subtype));<br>&nbsp; &nbsp; case "data":<br>&nbsp; &nbsp; &nbsp; &nbsp; list($subnode, $subtype) = getchild($node);<br>&nbsp; &nbsp; &nbsp; &nbsp; return wddx_read_node($subnode, $subtype);<br>&nbsp; &nbsp; }<br>}<br><br>function wddx_read($string)<br>{<br>&nbsp; &nbsp; $xml = simplexml_load_string($string);<br>&nbsp; &nbsp; $d = wddx_read_node($xml-&gt;data, "data");<br>&nbsp; &nbsp; return $d;<br>}<br><br>important notice: this one may not work with all wddx input. multiple packets or variables outside a "struct" are not supported. basically, you always get a PHP (associative) array, never something else. feel free to make additions.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77045">  
  <a class="name">
  <strong class="user"><em>no at spam dot thx</em></strong></a><div class="date" title="2007-08-12 02:09"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom77045">
<div class="phpcode"><code><span class="html">
To bradburn at kiwi dot de:<br><br>PHP is only capable of serializing properly variables which match one of its native (scalar) types (See <a rel="nofollow" target="_blank">http://php.net/types</a>). Which means that only variables of type booleans, integers, floating point numbers, string and NULL will be serialized properly.<br><br>I think there are two exceptions though:<br>- arrays are serialized by processing them recursively, so if its only composed of the above mentioned types, you should be fine.<br>- floating point numbers and integers may use the same representation while serialized in WDDX (I don't know much about WDDX, so I'm not 100% sure about this statement).<br><br>An interesting case would be whether objects can be serialized or not...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44136">  
  <a class="name">
  <strong class="user"><em>Jimmy Wimenta</em></strong></a><div class="date" title="2004-07-15 05:53"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44136">
<div class="phpcode"><code><span class="html">
PHP's WDDX is useful only for exchanging data between PHP applications, but definetly not for exchanging data between different languages (which actually defeats the purpose of WDDX).<br><br>For example:<br><br>$hash1 = array ("2" =&gt; "Two", "4" =&gt; "Four", "5" =&gt; "Five");<br>$hash2 = array ("0" =&gt; "Zero", "1" =&gt; "One", "2" =&gt; "Two");<br><br>$hash1 will be serialized as hash, but <br>$hash2 will be serialized as array/list, because the key happen to be a sequence starting from 0.<br><br>Unless the library provide a way for users to specify the type, it can never be used for cross-platform data exchange.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37627">  
  <a class="name">
  <strong class="user"><em>Q1tum at hotmail dot com</em></strong></a><div class="date" title="2003-11-21 05:08"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom37627">
<div class="phpcode"><code><span class="html">
To insert arrays into a wddx variable here is a fine way to do it:<br><br><span class="default">&lt;?php<br><br>$sql </span><span class="keyword">= </span><span class="string">'SELECT * FROM example'</span><span class="keyword">;<br></span><span class="default">$query </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">, </span><span class="default">$db</span><span class="keyword">) or die(</span><span class="default">mysql_error</span><span class="keyword">());<br><br>while(</span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">)) {<br>&nbsp; &nbsp; </span><span class="default">$id</span><span class="keyword">[] = </span><span class="default">$result</span><span class="keyword">[ </span><span class="string">'id'</span><span class="keyword">];<br>&nbsp; &nbsp; </span><span class="default">$name</span><span class="keyword">[] = </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">];<br>&nbsp; &nbsp; </span><span class="default">$description</span><span class="keyword">[] = </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$prefix </span><span class="keyword">. </span><span class="string">'description'</span><span class="keyword">];<br>}<br><br></span><span class="default">mysql_free_result</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br><br></span><span class="default">wddx_add_vars</span><span class="keyword">(</span><span class="default">$packet_id</span><span class="keyword">, </span><span class="string">"id"</span><span class="keyword">);<br></span><span class="default">wddx_add_vars</span><span class="keyword">(</span><span class="default">$packet_id</span><span class="keyword">, </span><span class="string">"name"</span><span class="keyword">);<br></span><span class="default">wddx_add_vars</span><span class="keyword">(</span><span class="default">$packet_id</span><span class="keyword">, </span><span class="string">"description"</span><span class="keyword">);<br><br></span><span class="default">$wddxSerializeValue </span><span class="keyword">= </span><span class="default">wddx_packet_end</span><span class="keyword">(</span><span class="default">$packet_id</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23853">  
  <a class="name">
  <strong class="user"><em>bradburn at kiwi dot de</em></strong></a><div class="date" title="2002-07-30 07:02"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23853">
<div class="phpcode"><code><span class="html">
With ref to the above comment about typing, I have found that -- oddly enough -- PHP's WDDX supports the following WDDX types: null, boolean (true/false), number and string, *but* not date-time.<br><br>as an example, use the following values in an array that you then serialize:<br><br>$number = 5,<br>$null = NULL,<br>$bool = true,<br>$string = 'this is a string'.<br><br>they will all serialize correctly, e.g. the third entry comes out as:<br><br>&lt;var name='bool'&gt;&lt;boolean value='true'/&gt;&lt;/var&gt;<br><br>i have tried with the 'official' format for WDDX 'datetime', e.g. '1998-9-15T09:05:32+4:0' (from the DTD @ <a rel="nofollow" target="_blank">http://www.openwddx.org/downloads/dtd/wddx_dtd_10.txt</a>)&nbsp; but have only succeeded in getting this encoded as a 'string' type.<br><br>if anyone else has any more information on this, it would be welcome. i would like to store the variables in 'appropriate' fields in a database, and the fact that only datetime is not supported is slightly irritating -- otherwise it would be a very useful function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="1972">  
  <a class="name">
  <strong class="user"><em>djm at web dot us dot uu dot net</em></strong></a><div class="date" title="1999-10-18 08:45"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom1972">
<div class="phpcode"><code><span class="html">
Since there aren't any examples of reversing the process, here's one. If you had the packet produced by the above example (without the htmlentities() call), you could retrieve the values like this:
<br>
<br><span class="default">&lt;?php
<br>$value </span><span class="keyword">= </span><span class="default">wddx_deserialize</span><span class="keyword">(</span><span class="default">$packet</span><span class="keyword">);
<br>print </span><span class="string">"pi is:&lt;br&gt;" </span><span class="keyword">. </span><span class="default">$value</span><span class="keyword">[</span><span class="string">"pi"</span><span class="keyword">] . </span><span class="string">"&lt;p&gt;\n"</span><span class="keyword">;
<br>print </span><span class="string">"cities is:&lt;br&gt;\n"</span><span class="keyword">;
<br>while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">[</span><span class="string">"cities"</span><span class="keyword">])) {
<br>&nbsp; &nbsp; print </span><span class="string">"</span><span class="default">$key</span><span class="string"> =&gt; </span><span class="default">$val</span><span class="string">&lt;br&gt;\n"</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>which outputs:
<br>
<br>&lt;pre&gt;
<br>pi is:
<br>3.1415926
<br>
<br>cities is:
<br>0 =&gt; Austin
<br>1 =&gt; Novato
<br>2 =&gt; Seattle
<br>&lt;/pre&gt;</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/ref.wddx.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:52:49 GMT -->


</body></html>