<html><!-- Mirrored from php.net/manual/en/control-structures.while.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:27:43 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>while</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="control-structures.while.html">
 <link rel="shorturl" href="http://php.net/while">
 <link rel="alternate" href="http://php.net/while" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="language.control-structures.html">
 <link rel="prev" href="control-structures.alternative-syntax.html">
 <link rel="next" href="control-structures.do.while.html">

 <link rel="alternate" href="control-structures.while.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/control-structures.while.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/control-structures.while.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/control-structures.while.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/control-structures.while.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/control-structures.while.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/control-structures.while.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/control-structures.while.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/control-structures.while.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/control-structures.while.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/control-structures.while.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="langref.html">Language Reference</a></li>      <li><a href="language.control-structures.html">Control Structures</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="control-structures.while" class="sect1">
 <h2 class="title"><em>while</em></h2>
 <p class="verinfo">(PHP 4, PHP 5)</p>
 <p class="para">
  <em>while</em> loops are the simplest type of loop in
  PHP.  They behave just like their C counterparts.  The basic form
  of a <em>while</em> statement is:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="cdata"><pre>while (expr)
    statement
</pre></div>
   </div>

  </div>
 <p></p>
 <p class="simpara">
  The meaning of a <em>while</em> statement is simple.  It
  tells PHP to execute the nested statement(s) repeatedly, as long
  as the <em>while</em> expression evaluates to
  <strong><code>TRUE</code></strong>.  The value of the expression is checked
  each time at the beginning of the loop, so even if this value
  changes during the execution of the nested statement(s), execution
  will not stop until the end of the iteration (each time PHP runs
  the statements in the loop is one iteration).  Sometimes, if the
  <em>while</em> expression evaluates to
  <strong><code>FALSE</code></strong> from the very beginning, the nested
  statement(s) won't even be run once.
 </p>
 <p class="para">
  Like with the <em>if</em> statement, you can group
  multiple statements within the same <em>while</em> loop
  by surrounding a group of statements with curly braces, or by
  using the alternate syntax:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="cdata"><pre>while (expr):
    statement
    ...
endwhile;
</pre></div>
   </div>

  </div>
 <p></p>
 <p class="para">
  The following examples are identical, and both print the numbers
  1 through 10:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;example&nbsp;1&nbsp;*/<br><br></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>while&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;the&nbsp;printed&nbsp;value&nbsp;would&nbsp;be<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$i&nbsp;before&nbsp;the&nbsp;increment<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(post-increment)&nbsp;*/<br></span><span style="color: #007700">}<br><br></span><span style="color: #FF8000">/*&nbsp;example&nbsp;2&nbsp;*/<br><br></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>while&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">):<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;<br>endwhile;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 <p></p>
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="93919">  
  <a class="name">
  <strong class="user"><em>scott at mstech dot com</em></strong></a><div class="date" title="2009-10-06 02:48"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93919">
<div class="phpcode"><code><span class="html">
Just a note about using the continue statement to forego the remainder of a loop - be SURE you're not issuing the continue statement from within a SWITCH case - doing so will not continue the while loop, but rather the switch statement itself.<br><br>While that may seem obvious to some, it took a little bit of testing for me, so hopefully this helps someone else.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19408">  
  <a class="name">
  <strong class="user"><em>chayes at antenna dot nl</em></strong></a><div class="date" title="2002-02-26 02:42"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19408">
<div class="phpcode"><code><span class="html">
At the end of the while (list / each) loop the array pointer will be at the end. 
<br>This means the second while loop on that array will be skipped!
<br>
<br>You can put the array pointer back with the reset($myArray) function.
<br>
<br>example: 
<br>
<br><span class="default">&lt;?php
<br>$myArray</span><span class="keyword">=array(</span><span class="string">'aa'</span><span class="keyword">,</span><span class="string">'bb'</span><span class="keyword">,</span><span class="string">'cc'</span><span class="keyword">,</span><span class="string">'dd'</span><span class="keyword">);
<br> while (list (</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) = </span><span class="default">each </span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">) ) echo </span><span class="default">$val</span><span class="keyword">; 
<br></span><span class="default">reset</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);
<br> while (list (</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) = </span><span class="default">each </span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">) ) echo </span><span class="default">$val</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47889">  
  <a class="name">
  <strong class="user"><em>corychristison[AT]NSPAMlavacube[dot]com</em></strong></a><div class="date" title="2004-12-03 03:08"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47889">
<div class="phpcode"><code><span class="html">
While can do wonders if you need something to queue writing to a file while something else has access to it.<br><br>Here is my simple example:<br><br><span class="default">&lt;?php<br><br>&nbsp; </span><span class="keyword">function </span><span class="default">write </span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="default">$file</span><span class="keyword">, </span><span class="default">$write_mode</span><span class="keyword">=</span><span class="string">"w"</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$lock </span><span class="keyword">= </span><span class="default">$file </span><span class="keyword">. </span><span class="string">".lock"</span><span class="keyword">;<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// run the write fix, to stop any clashes that may occur<br>&nbsp; &nbsp; </span><span class="default">write_fix</span><span class="keyword">(</span><span class="default">$lock</span><span class="keyword">);<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// create a new lock file after write_fix() for this writing session<br>&nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">( </span><span class="default">$lock </span><span class="keyword">);<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// write to your file<br>&nbsp; &nbsp; </span><span class="default">$open </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$write_mode</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$open</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$open</span><span class="keyword">);<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// kill your current lock<br>&nbsp; &nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$lock</span><span class="keyword">);<br>&nbsp; }<br><br>&nbsp; function </span><span class="default">write_fix </span><span class="keyword">(</span><span class="default">$lock_file</span><span class="keyword">) {<br>&nbsp; &nbsp; while( </span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$lock_file</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; </span><span class="comment">// do something in here?<br>&nbsp; &nbsp; &nbsp; // maybe sleep for a few microseconds<br>&nbsp; &nbsp; &nbsp; // to maintain stability, if this is going to <br>&nbsp; &nbsp; &nbsp; // take a while ?? [just a suggestion]<br>&nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; }<br><br></span><span class="default">?&gt;<br></span><br>This method is not recommended for use with programs that will be needing a good few seconds to write to a file, as the while function will eat up alot of process cycles.&nbsp; However, this method does work, and is easy to implement.&nbsp; It also groups the writing functions into one easy to use function, making life easier. :-)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96591">  
  <a class="name">
  <strong class="user"><em>ravenswd at gmail dot com</em></strong></a><div class="date" title="2010-03-06 07:34"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96591">
<div class="phpcode"><code><span class="html">
I find it often clearer to set a simple flag ($finished) to false at the start of the loop, and have the program set it to true when it's finished doing whatever it's trying to do. Then the code is more self-documenting: WHILE NOT FINISHED keep going through the loop. FINISHED EQUALS TRUE when you're done. Here's an example. This is the code I use to generate a random filename and ensure that there is not already an existing file with the same name. I've added very verbose comments to it to make it clear how it works:<br><br><span class="default">&lt;?php<br>$finaldir </span><span class="keyword">= </span><span class="string">'download'</span><span class="keyword">;<br><br></span><span class="default">$finished </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// we're not finished yet (we just started)<br></span><span class="keyword">while ( ! </span><span class="default">$finished </span><span class="keyword">):&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// while not finished<br>&nbsp; </span><span class="default">$rn </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// random number<br>&nbsp; </span><span class="default">$outfile </span><span class="keyword">= </span><span class="default">$finaldir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$rn</span><span class="keyword">.</span><span class="string">'.gif'</span><span class="keyword">;&nbsp;&nbsp; </span><span class="comment">// output file name<br>&nbsp; </span><span class="keyword">if ( ! </span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$outfile</span><span class="keyword">) ):&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// if file DOES NOT exist...<br>&nbsp; &nbsp; </span><span class="default">$finished </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// ...we are finished<br>&nbsp; </span><span class="keyword">endif;<br>endwhile;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// (if not finished, re-start WHILE loop)<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52741">  
  <a class="name">
  <strong class="user"><em>chris mushy</em></strong></a><div class="date" title="2005-05-11 06:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52741">
<div class="phpcode"><code><span class="html">
Just a note to stuart - the reason for this behaviour is because using the while(value = each(array)) construct increments the internal counter of the array as its looped through. Therefore if you intend to repeat the loop, you need to reset the counter. eg:<br><br>$one = array("10", "20", "30", "40");<br>$two = array("a", "b", "c", "d");<br><br>$i=0;<br>while($i &lt; count($one)) {<br>&nbsp;&nbsp; reset($two);<br>&nbsp;&nbsp; while($a = each($two)) {<br>&nbsp; &nbsp; &nbsp;&nbsp; echo $a[1]." - ".$one[$i].", "; <br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; $i++;<br>&nbsp;&nbsp; <br>}<br><br>This produces:<br><br>a - 10, b - 10, c - 10, d - 10, a - 20, b - 20, c - 20, d - 20, a - 30, b - 30, c - 30, d - 30, a - 40, b - 40, c - 40, d - 40,</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109801">  
  <a class="name">
  <strong class="user"><em>qeremy [atta] gmail [dotta] com</em></strong></a><div class="date" title="2012-08-22 08:45"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109801">
<div class="phpcode"><code><span class="html">
Instead of this usage;<br><br><span class="default">&lt;?php<br>$arr </span><span class="keyword">= array(</span><span class="string">"orange"</span><span class="keyword">, </span><span class="string">"banana"</span><span class="keyword">, </span><span class="string">"apple"</span><span class="keyword">, </span><span class="string">"raspberry"</span><span class="keyword">);<br><br></span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>while (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) {<br>&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp;&nbsp; echo </span><span class="default">$a </span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>}<br></span><span class="comment">// or<br></span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br></span><span class="default">$c </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br>while (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$c</span><span class="keyword">) {<br>&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp;&nbsp; echo </span><span class="default">$a </span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>}<br></span><span class="default">?&gt;<br></span><br>This could be more efficient;<br><br><span class="default">&lt;?php<br></span><span class="keyword">while (</span><span class="default">$a </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1 </span><span class="keyword">* </span><span class="default">$i</span><span class="keyword">++]) echo </span><span class="default">$a </span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12246">  
  <a class="name">
  <strong class="user"><em>yohgaki at hotmail dot com</em></strong></a><div class="date" title="2001-04-01 01:09"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12246">
<div class="phpcode"><code><span class="html">
If you want to traverse array, foreach() is faster than while() a little.
<br>[Benched with PHP4.0.4pl1/Apache DSO/Linux]
<br>
<br>i.e.
<br>foreach ($array as $k =&gt; $v)
<br>is a little faster than
<br>while (list($k,$v) = each($array))
<br>
<br>You might want to use foreach for large arrays.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84023">  
  <a class="name">
  <strong class="user"><em>s dot seitz at netz-haut dot de</em></strong></a><div class="date" title="2008-06-24 08:21"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84023">
<div class="phpcode"><code><span class="html">
Due to the fact that php only interprets the necessary elements to get a result, I found it convenient to concatenate different sql queries into one statement:
<br>
<br><span class="default">&lt;?php
<br>
<br>$q1 </span><span class="keyword">= </span><span class="string">'some query on a set of tables'</span><span class="keyword">;
<br></span><span class="default">$q2 </span><span class="keyword">= </span><span class="string">'similar query on a another set of tables'</span><span class="keyword">;
<br>
<br>if ( (</span><span class="default">$r1</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$q1</span><span class="keyword">)) &amp;&amp; (</span><span class="default">$r2</span><span class="keyword">=</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$q2</span><span class="keyword">)) ) {
<br>
<br>&nbsp; &nbsp;&nbsp; while ((</span><span class="default">$row</span><span class="keyword">=</span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$r1</span><span class="keyword">))||(</span><span class="default">$row</span><span class="keyword">=</span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$r2</span><span class="keyword">))) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/* do something with $row coming from $r1 and $r2 */
<br>
<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp;&nbsp; }
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>[EDIT BY danbrown AT php DOT net: Contains a bugfix supplied by "Ira" on 14-AUG-09 to address an extra '(' in the leading `if` statement.]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="65243">  
  <a class="name">
  <strong class="user"><em>startide at free dot fr</em></strong></a><div class="date" title="2006-04-27 08:08"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom65243">
<div class="phpcode"><code><span class="html">
Talking about while, dropdown menus, and ternary operator which was mentionned before, you can combine them to have drop menu built with a value selected according to your wishses.
<br>
<br>&lt;select name="whatever"&gt;
<br><span class="default">&lt;?php
<br></span><span class="keyword">while (</span><span class="default">$data </span><span class="keyword">= </span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$requeteID</span><span class="keyword">))
<br>{
<br>&nbsp; </span><span class="default">$menu </span><span class="keyword">.= </span><span class="string">'&lt;option value="'</span><span class="keyword">.</span><span class="default">$data</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">].</span><span class="string">'"'</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$menu </span><span class="keyword">.= (</span><span class="default">$data</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">] == </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">] ? </span><span class="string">' selected&gt;' </span><span class="keyword">:</span><span class="string">'&gt;'</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$menu </span><span class="keyword">.= </span><span class="default">$data</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">].</span><span class="string">'&lt;/option&gt;'</span><span class="keyword">;
<br>}
<br>echo </span><span class="default">$menu</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>&lt;/select&gt;
<br>
<br>Therefore if you are creating a form to select data from database, and want the form displayed when search is done to show what parameters have been chosen that will do the trick !!
<br>
<br>Let's say I make a search between different sports, I choose football in my form, send my query... then displays are show, the menu will have football selected because of the ternary operator that displays "selected&gt;" on the &lt;option&gt; ;) Enjoy ^^</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33900">  
  <a class="name">
  <strong class="user"><em>Merve</em></strong></a><div class="date" title="2003-07-10 09:49"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33900">
<div class="phpcode"><code><span class="html">
This is an easy way for all you calculator creators to make it do factorials. The code is this:<br><br><span class="default">&lt;?php<br>$c </span><span class="keyword">= (</span><span class="default">$a</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br></span><span class="default">$d </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;<br>while (</span><span class="default">$c</span><span class="keyword">&gt;=</span><span class="default">1</span><span class="keyword">)<br>{<br></span><span class="default">$a </span><span class="keyword">= (</span><span class="default">$a</span><span class="keyword">*</span><span class="default">$c</span><span class="keyword">);<br></span><span class="default">$c</span><span class="keyword">--;<br>}<br>print (</span><span class="string">" </span><span class="default">$d</span><span class="string">! = </span><span class="default">$a</span><span class="string">"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>$a changes, and so does c, so we have to make a new variable, $d, for the end statement.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50204">  
  <a class="name">
  <strong class="user"><em>Ilene Jones</em></strong></a><div class="date" title="2005-02-21 01:12"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50204">
<div class="phpcode"><code><span class="html">
For Perl programmers, break is similar to last<br><br>while (1) {<br>&nbsp;&nbsp; while(cond) {<br>&nbsp; &nbsp; &nbsp;&nbsp; if (error) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break 2; // in perl this could have been last;<br>&nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp;&nbsp; }<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="35022">  
  <a class="name">
  <strong class="user"><em>virtualjosh at yahoo dot com (Hosh)</em></strong></a><div class="date" title="2003-08-15 03:52"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom35022">
<div class="phpcode"><code><span class="html">
I made a test traversing an array (simple, but long, numeric array with numeric keys). My test had a cycle per method, and multiplied each array element by 100.. These were my results:<br><br>******************************************************<br>30870 Element Array Traversing<br><br>[test_time] [BEGINS/RESETS @ time_start = 1060977996.689]<br>0.2373 seg later -&gt; while (list ($key, $val) = each ($array)) ENDS<br><br>[test_time] [BEGINS/RESETS @ time_start = 1060977996.9414] <br>0.1916 seg later -&gt; while (list ($key,) = each ($array))&nbsp; ENDS<br><br>[test_time] [BEGINS/RESETS @ time_start = 1060977997.1513]<br>0.1714 seg later -&gt; foreach ($array AS $key=&gt;$value) ENDS<br><br>[test_time] [BEGINS/RESETS @ time_start = 1060977997.3378]<br>0.0255 seg later -&gt; while ($next = next($array)) ENDS<br><br>[test_time] [BEGINS/RESETS @ time_start = 1060977997.3771]<br>0.1735 seg later -&gt; foreach ($array AS $value) ENDS<br>**************************************************************<br><br>foreach is fatser than a while (list&nbsp; - each), true. <br>However, a while(next) was faster than foreach.<br><br>These were the winning codes:<br><br>$array = $save;<br>test_time("",1);<br>foreach ($array AS $key=&gt;$value)<br>&nbsp; &nbsp; $array[$key] = $array[$key] * 100;<br>test_time("foreach (\$array AS \$key=&gt;\$value)");<br><br>$array = $save;<br>test_time("",1);<br>reset($array);<br>while ($next = next($array))<br>{&nbsp; &nbsp; $key = key($array);<br>&nbsp; &nbsp; $array[$key] = $array[$key] * 100;<br>}&nbsp; &nbsp; &nbsp; &nbsp; <br>test_time("while (\$next = next(\$array))");<br>*********************************************************<br>The improvement seems huge, but it isnt that dramatic in real practice. Results varied... I have a very long bidimensional array, and saw no more than a 2 sec diference, but on 140+ second scripts.&nbsp; Notice though that you lose control of the $key&nbsp; value (unless you have numeric keys, which I tend to avoid), but it is not always necessary.&nbsp; <br><br>I generally stick to foreach. However, this time, I was getting Allowed Memory Size Exceeded errors with Apache. Remember foreach copies the original array, so this now makes two huge 2D arrays in memory and alot of work for Apache. If you are getting this error, check your loops. Dont use the whole array on a foreach. Instead get the keys and acces the cells directlly. Also, try and use unset and Referencing on the huge arrays.<br><br>Working on your array and loops is a much better workaround than saving to temporary tables and unsetting (much slower).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50900">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-03-13 09:54"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50900">
<div class="phpcode"><code><span class="html">
virtualjosh at yahoo dot com (Hosh) wrote on: 16-Aug-2003 12:52<br><br>The speedtest is interesting. But the seemingly fastest way contains a pitfall for beginners who just use it because it is fast and fast is cool ;)<br><br>Walking through an array with next() will cut of the first entry, as this is the way next() works ;)<br><br>If you really need to do it this way, make sure your array contains an empty entry at the beginning. Another way would be to use<br><br><span class="default">&lt;?php<br></span><span class="keyword">while (</span><span class="default">$this </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ){<br>&nbsp; &nbsp; </span><span class="default">do_something</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>There is an impact on speed for sure but I did not test it. I would advise to stick with conventional methods because current(),next() in while loops is too error prone for me.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63930">  
  <a class="name">
  <strong class="user"><em>sub7ime at yahoo dot com</em></strong></a><div class="date" title="2006-04-04 12:00"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63930">
<div class="phpcode"><code><span class="html">
I was reading the excellent post by wbryson at gmail dot com and I wanted to just add that the ? : syntax is known as the 'ternary operator' for those who want to learn more about it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52733">  
  <a class="name">
  <strong class="user"><em>stuart</em></strong></a><div class="date" title="2005-05-11 02:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52733">
<div class="phpcode"><code><span class="html">
A note to anyone nesting a while loop inside a while loop....<br><br>Consider the example below:<br><br>$one = array("10", "20", "30", "40");<br>$two = array("a", "b", "c", "d");<br><br>$i=0;<br>while($i &lt; count($one)) {<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; while($a = each($two)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo $a[1]." - ".$one[$i].", "; <br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; $i++;<br>&nbsp; &nbsp; <br>}<br><br>This will return the following:<br>a - 10, b - 10, c - 10, d - 10<br><br>So in effect the main while loop is only doing one iteration... and not 4 as expected....<br><br>Now the example below works as expected..<br>$i=0;<br>while($i &lt; count($one)) {<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach($two as $a) {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo $a." - ".$one[$i]."\n"; <br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; $i++;<br>&nbsp; &nbsp; <br>}<br><br>by returning:<br>a - 10, b - 10, c - 10, d - 10, a - 20, b - 20, c - 20, d - 20, a - 30, b - 30, c - 30, d - 30, a - 40, b - 40, c - 40, d - 40<br><br>So there is clearly a difference on how while statements work in comparison to other looping structures.<br><br>I think it would be good to have an explaination of this strange behaviour.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73449">  
  <a class="name">
  <strong class="user"><em>dominik at deobald dot org</em></strong></a><div class="date" title="2007-02-23 08:50"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73449">
<div class="phpcode"><code><span class="html">
@stuart:<br><br>There's nothing strange or unexpected about your loop's behaviour.<br><br>&gt; So in effect the main while loop is only doing one iteration... and not 4 as expected....<br><br>That's the wrong conclusion. The outer "while" does all four iterations. However the "inner" loop does nothing for the second, third and fourth run.<br><br>&gt; I think it would be good to have an explaination of this strange behaviour. <br><br>Here it is:<br><br><span class="default">&lt;?PHP<br>$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br>while(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$one</span><span class="keyword">)) {<br>&nbsp;&nbsp; <br>&nbsp;&nbsp; while(</span><span class="default">$a </span><span class="keyword">= </span><span class="default">each</span><span class="keyword">(</span><span class="default">$two</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$a</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">].</span><span class="string">" - "</span><span class="keyword">.</span><span class="default">$one</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">", "</span><span class="keyword">; <br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp;&nbsp; <br>}<br></span><span class="default">?&gt;<br></span><br>The "problem" is your use of "each", which reached the last item after the first iteration of the outer loop. After that, when you come back to the second iteration with the outer loop, "each" still is at the end of the array $two.<br><br>If you add a reset($two) in front of the inner "while", you'll get the result you expect.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/control-structures.while.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:27:44 GMT -->


</body></html>