<html><!-- Mirrored from php.net/manual/en/function.log.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:24 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>log</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.log.html">
 <link rel="shorturl" href="http://php.net/log">
 <link rel="alternate" href="http://php.net/log" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.math.html">
 <link rel="prev" href="function.log1p.html">
 <link rel="next" href="function.max.html">

 <link rel="alternate" href="function.log.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.log.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.log.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.log.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.log.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.log.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.log.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.log.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.log.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.log.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.log.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.math.html">Mathematical Extensions</a></li>      <li><a href="book.math.html">Math</a></li>      <li><a href="ref.math.html">Math Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.log" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">log</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">log</span> â€” <span class="dc-title">Natural logarithm</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.log-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type">float</span> <span class="methodname"><strong>log</strong></span>
     ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$arg</code></span>
    [, <span class="methodparam"><span class="type">float</span> <code class="parameter">$base</code><span class="initializer"> = M_E</span></span>
   ] )</div>

  <p class="para rdfs-comment">
   If the optional <code class="parameter">base</code> parameter is specified, 
   <span class="function"><strong>log()</strong></span> returns log<sub class="subscript">base</sub>
   <code class="parameter">arg</code>, otherwise <span class="function"><strong>log()</strong></span> 
   returns the natural logarithm of <code class="parameter">arg</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.log-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">arg</code></dt>

     <dd>

      <p class="para">
       The value to calculate the logarithm for
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">base</code></dt>

     <dd>

      <p class="para">
       The optional logarithmic base to use 
       (defaults to 'e' and so to the natural logarithm).
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.log-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The logarithm of <code class="parameter">arg</code> to 
   <code class="parameter">base</code>, if given, or the
   natural logarithm.  
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.log-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.log10.html" class="function" rel="rdfs-seeAlso">log10()</a> - Base-10 logarithm</span></li>
    <li class="member"><span class="function"><a href="function.exp.html" class="function" rel="rdfs-seeAlso">exp()</a> - Calculates the exponent of e</span></li>
    <li class="member"><span class="function"><a href="function.pow.html" class="function" rel="rdfs-seeAlso">pow()</a> - Exponential expression</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="43411">  
  <a class="name">
  <strong class="user"><em>admin at worldtakeover dot tk</em></strong></a><div class="date" title="2004-06-20 01:06"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43411">
<div class="phpcode"><code><span class="html">
In regards to the note about log in base 10 and the round() function. You need to use floor() instead of round() to find out the order of magnitude. That way, you don't have to worry about subtracting 0.5 or whatever.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111460">  
  <a class="name">
  <strong class="user"><em>ClaudiuS</em></strong></a><div class="date" title="2013-02-21 07:34"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111460">
<div class="phpcode"><code><span class="html">
If you just need to check if N is a perfect power of Base, log() is SLOW compared to a WHILE construct that will be 2x faster! <br><br>Tested on range: 1 ... 20.000.000 =&gt; while() is 2.105 times faster<br><br><span class="default">&lt;?php <br><br>$number</span><span class="keyword">=</span><span class="string">'fill in your number here'<br></span><span class="default">$base</span><span class="keyword">=</span><span class="string">'fill in requested base here'</span><span class="keyword">;<br><br></span><span class="comment">//use when the power is needed<br></span><span class="default">$pow</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;do { </span><span class="default">$number</span><span class="keyword">/=</span><span class="default">$base</span><span class="keyword">;</span><span class="default">$pow</span><span class="keyword">++; } while (</span><span class="default">$number</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">);<br>if (</span><span class="default">$number</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) print </span><span class="default">$base</span><span class="keyword">.</span><span class="string">'^'</span><span class="keyword">.</span><span class="default">$pow</span><span class="keyword">;<br>else print </span><span class="string">'False'</span><span class="keyword">;<br><br></span><span class="comment">//use when just a check is needed<br></span><span class="keyword">do </span><span class="default">$number</span><span class="keyword">/=</span><span class="default">$base</span><span class="keyword">; while (</span><span class="default">$number</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">);<br>if (</span><span class="default">$number</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) print </span><span class="string">'True'</span><span class="keyword">;<br>else print </span><span class="string">'False'</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83230">  
  <a class="name">
  <strong class="user"><em>dingus_76 at hotmail dot com</em></strong></a><div class="date" title="2008-05-15 07:41"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83230">
<div class="phpcode"><code><span class="html">
well i been pulling my hair out trying to get log to work with big numbers and i ended up writing a bclog function so to save everyone else the stress here it is<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">bclog</span><span class="keyword">(</span><span class="default">$X</span><span class="keyword">,</span><span class="default">$base</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">,</span><span class="default">$decimalplace</span><span class="keyword">=</span><span class="default">12</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$integer_value</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; while(</span><span class="default">$X </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$integer_value </span><span class="keyword">= </span><span class="default">$integer_value </span><span class="keyword">- </span><span class="default">1 </span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">bcmul</span><span class="keyword">(</span><span class="default">$X </span><span class="keyword">, </span><span class="default">base</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; while(</span><span class="default">$X </span><span class="keyword">&gt;= </span><span class="default">$base</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$integer_value </span><span class="keyword">= </span><span class="default">$integer_value </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$X </span><span class="keyword">, </span><span class="default">$base </span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$decimal_fraction </span><span class="keyword">= </span><span class="default">0.0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$partial </span><span class="keyword">= </span><span class="default">1.0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment"># Replace X with X to the 10th power<br>&nbsp; &nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">bcpow</span><span class="keyword">(</span><span class="default">$X </span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br>&nbsp; &nbsp; while(</span><span class="default">$decimalplace </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$partial </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$partial </span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$digit</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">$X </span><span class="keyword">&gt;= </span><span class="default">$base</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$digit </span><span class="keyword">= </span><span class="default">$digit </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$X </span><span class="keyword">, </span><span class="default">$base</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$decimal_fraction </span><span class="keyword">= </span><span class="default">bcadd</span><span class="keyword">(</span><span class="default">$decimal_fraction </span><span class="keyword">, </span><span class="default">bcmul</span><span class="keyword">(</span><span class="default">$digit </span><span class="keyword">, </span><span class="default">$partial</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># Replace X with X to the 10th power<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">bcpow</span><span class="keyword">(</span><span class="default">$X </span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$decimalplace </span><span class="keyword">= </span><span class="default">$decimalplace </span><span class="keyword">- </span><span class="default">1 </span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$integer_value </span><span class="keyword">+ </span><span class="default">$decimal_fraction </span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49638">  
  <a class="name">
  <strong class="user"><em>mcmeijer at yahoo dot com</em></strong></a><div class="date" title="2005-02-03 07:22"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49638">
<div class="phpcode"><code><span class="html">
$val = 1000000<br>$val2 = floor(log($val,10)) gives a value of 5 for $val2 and not 6 as expected.<br>$val2 = floor(log10($val)) gives the correct value.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45796">  
  <a class="name">
  <strong class="user"><em>c0x at mail dot ru</em></strong></a><div class="date" title="2004-09-19 03:08"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45796">
<div class="phpcode"><code><span class="html">
more general version, works fine on negative, very big ($value &gt; 1E+18) and very small ($value &lt; 1E-18) numbers.<br><br>function expn($value, $prec = 3, $base = 1000, $prefix = '') {<br>&nbsp; &nbsp; $e = array('a', 'f', 'p', 'n', 'u', 'm', '', 'k', 'M', 'G', 'T', 'P', 'E');<br>&nbsp; &nbsp; $p = min(max(floor(log(abs($value), $base)), -6), 6);<br>&nbsp; &nbsp; return round((float)$value / pow($base, $p), $prec) . $prefx . $e[$p + 6];<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86799">  
  <a class="name">
  <strong class="user"><em>olafurw [at] gmail.com</em></strong></a><div class="date" title="2008-11-04 04:56"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86799">
<div class="phpcode"><code><span class="html">
For those interested. Works with older than 4.3 versions.<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">byteConvert</span><span class="keyword">(</span><span class="default">$bytes</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s </span><span class="keyword">= array(</span><span class="string">'B'</span><span class="keyword">, </span><span class="string">'Kb'</span><span class="keyword">, </span><span class="string">'MB'</span><span class="keyword">, </span><span class="string">'GB'</span><span class="keyword">, </span><span class="string">'TB'</span><span class="keyword">, </span><span class="string">'PB'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log</span><span class="keyword">(</span><span class="default">$bytes</span><span class="keyword">)/</span><span class="default">log</span><span class="keyword">(</span><span class="default">1024</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%.2f '</span><span class="keyword">.</span><span class="default">$s</span><span class="keyword">[</span><span class="default">$e</span><span class="keyword">], (</span><span class="default">$bytes</span><span class="keyword">/</span><span class="default">pow</span><span class="keyword">(</span><span class="default">1024</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">))));<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68671">  
  <a class="name">
  <strong class="user"><em>Ulf Wostner</em></strong></a><div class="date" title="2006-08-06 05:56"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68671">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="comment">#--------------------------------------------------------<br>#&nbsp; &nbsp;&nbsp; How many digits does an integer have?<br>#--------------------------------------------------------<br><br></span><span class="keyword">function </span><span class="default">digit_count</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$base</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">) {<br><br>&nbsp; if(</span><span class="default">$n </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) return </span><span class="default">1</span><span class="keyword">;<br><br>&nbsp; if(</span><span class="default">$base </span><span class="keyword">== </span><span class="default">10</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment"># using the built-in log10(x)<br>&nbsp; &nbsp; # might be more accurate than log(x)/log(10).<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log10</span><span class="keyword">(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)));<br>&nbsp; }else{<br>&nbsp; &nbsp; </span><span class="comment"># here&nbsp; logB(x) = log(x)/log(B) will have to do.<br>&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log</span><span class="keyword">(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">))/ </span><span class="default">log</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">));<br>&nbsp; }<br>}<br><br></span><span class="comment"># Example:&nbsp; How many decimal digits for 2 to the power 24?<br></span><span class="keyword">echo </span><span class="default">digit_count</span><span class="keyword">(</span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">24</span><span class="keyword">));<br><br></span><span class="comment"># Example: How many bits to write 1 billion in binary, last century?<br><br></span><span class="keyword">if(</span><span class="default">$country_code&nbsp; </span><span class="keyword">== </span><span class="string">'US'</span><span class="keyword">) echo </span><span class="default">digit_count</span><span class="keyword">(</span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">);<br>if(</span><span class="default">$country_code </span><span class="keyword">== </span><span class="string">'UK'</span><span class="keyword">) echo </span><span class="default">digit_count</span><span class="keyword">(</span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">);<br><br></span><span class="comment">#--------------------------------------------------------<br>#&nbsp; &nbsp;&nbsp; Using log to format columns.<br>#--------------------------------------------------------<br><br># Suppose we have a dynamically generated list of integers,<br># and want to present them as a table. The use of log10 in<br># our digit_count helps calculate the proper format string.<br><br></span><span class="keyword">function </span><span class="default">print_list_of_ints</span><span class="keyword">(</span><span class="default">$ints</span><span class="keyword">, </span><span class="default">$line_width</span><span class="keyword">=</span><span class="default">40</span><span class="keyword">) {<br><br>&nbsp; </span><span class="comment"># Apply our digit_count to the max int among ints.<br>&nbsp; </span><span class="default">$field_width </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">+ </span><span class="default">digit_count</span><span class="keyword">(</span><span class="default">max</span><span class="keyword">(</span><span class="default">$ints</span><span class="keyword">));<br><br>&nbsp; </span><span class="comment"># Create format string for printf.<br>&nbsp; </span><span class="default">$format </span><span class="keyword">= </span><span class="string">"%</span><span class="keyword">${</span><span class="default">field_width</span><span class="keyword">}</span><span class="string">d"</span><span class="keyword">;<br><br>&nbsp; </span><span class="default">$ints_per_line </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$line_width</span><span class="keyword">/</span><span class="default">$field_width</span><span class="keyword">);<br><br>&nbsp; </span><span class="default">$border </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">, </span><span class="default">$ints_per_line </span><span class="keyword">* </span><span class="default">$field_width</span><span class="keyword">);<br><br>&nbsp; echo </span><span class="string">"\n</span><span class="default">$border</span><span class="string">\n"</span><span class="keyword">;<br><br>&nbsp; foreach(</span><span class="default">$ints </span><span class="keyword">as </span><span class="default">$count </span><span class="keyword">=&gt; </span><span class="default">$int</span><span class="keyword">) {<br>&nbsp; &nbsp; if( </span><span class="default">$count </span><span class="keyword">and (</span><span class="default">$count </span><span class="keyword">% </span><span class="default">$ints_per_line </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)) echo </span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">printf</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$int</span><span class="keyword">);<br>&nbsp; }<br><br>&nbsp; echo </span><span class="string">"\n</span><span class="default">$border</span><span class="string">\n"</span><span class="keyword">;<br>}<br><br></span><span class="comment"># To generate an example, here is a basic function<br># returning a list of (pseudo) random numbers.<br><br></span><span class="keyword">function </span><span class="default">rands</span><span class="keyword">(</span><span class="default">$how_many</span><span class="keyword">) {<br>&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$how_many</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) </span><span class="default">$rands</span><span class="keyword">[] = </span><span class="default">rand</span><span class="keyword">();<br>&nbsp; return </span><span class="default">$rands</span><span class="keyword">;<br>}<br><br></span><span class="comment"># Example:&nbsp; A list of random ints dynamically formatted into columns.<br><br></span><span class="default">print_list_of_ints</span><span class="keyword">(</span><span class="default">rands</span><span class="keyword">(</span><span class="default">11</span><span class="keyword">));<br><br></span><span class="comment">/* Sample output. Numbers and fonts vary. Visualize monospace!<br><br>------------------------------------<br>&nbsp; 1093146637&nbsp;&nbsp; 244503173&nbsp; 1346204527<br>&nbsp;&nbsp; 638304372&nbsp;&nbsp; 140216732&nbsp; 1054707210<br>&nbsp;&nbsp; 573915416&nbsp; 1728677954&nbsp; 2038899669<br>&nbsp;&nbsp; 534854768&nbsp; &nbsp; 12674586<br>------------------------------------<br><br>*/<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.log.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:24 GMT -->


</body></html>