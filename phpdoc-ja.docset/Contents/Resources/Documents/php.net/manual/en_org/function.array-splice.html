<html><!-- Mirrored from php.net/manual/en/function.array-splice.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:43 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>array_splice</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.array-splice.html">
 <link rel="shorturl" href="http://php.net/array-splice">
 <link rel="alternate" href="http://php.net/array-splice" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.array.html">
 <link rel="prev" href="function.array-slice.html">
 <link rel="next" href="function.array-sum.html">

 <link rel="alternate" href="function.array-splice.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.array-splice.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.array-splice.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.array-splice.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.array-splice.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.array-splice.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.array-splice.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.array-splice.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.array-splice.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.array-splice.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.array-splice.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.array.html">Arrays</a></li>      <li><a href="ref.array.html">Array Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.array-splice" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_splice</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_splice</span> â€” <span class="dc-title">Remove a portion of the array and replace it with something else</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-splice-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_splice</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&amp;$input</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$offset</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$replacement</code><span class="initializer"> = array()</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Removes the elements designated by <code class="parameter">offset</code> and
   <code class="parameter">length</code> from the <code class="parameter">input</code> array,
   and replaces them with the elements of the
   <code class="parameter">replacement</code> array, if supplied.
  </p>
  <p class="para">
   Note that numeric keys in <code class="parameter">input</code> are not preserved.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    If <code class="parameter">replacement</code> is not an array, it will be
    <a href="language.types.array.html#language.types.array.casting" class="link">typecast</a>
    to one (i.e. <code class="code">(array) $parameter</code>). This may result in unexpected
    behavior when using an object or <strong><code>NULL</code></strong> <code class="parameter">replacement</code>.
   </span>
  </p></blockquote>
 </div>

  <div class="refsect1 parameters" id="refsect1-function.array-splice-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">input</code></dt>

     <dd>

      <p class="para">
       The input array.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">offset</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">offset</code> is positive then the start of removed
       portion is at that offset from the beginning of the
       <code class="parameter">input</code> array.  If <code class="parameter">offset</code>
       is negative then it starts that far from the end of the
       <code class="parameter">input</code> array.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">length</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">length</code> is omitted, removes everything
       from <code class="parameter">offset</code> to the end of the array.  If
       <code class="parameter">length</code> is specified and is positive, then
       that many elements will be removed. If
       <code class="parameter">length</code> is specified and is negative then
       the end of the removed portion will be that many elements from
       the end of the array.  Tip: to remove everything from
       <code class="parameter">offset</code> to the end of the array when
       <code class="parameter">replacement</code> is also specified, use
       <em>count($input)</em> for
       <code class="parameter">length</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">replacement</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">replacement</code> array is specified, then the
       removed elements are replaced with elements from this array.
      </p>
      <p class="para">
       If <code class="parameter">offset</code> and <code class="parameter">length</code>
       are such that nothing is removed, then the elements from the
       <code class="parameter">replacement</code> array are inserted in the place
       specified by the <code class="parameter">offset</code>. Note that keys in
       replacement array are not preserved.
      </p>
      <p class="para">
       If <code class="parameter">replacement</code> is just one element it is
       not necessary to put <em>array()</em>
       around it, unless the element is an array itself, an object or <strong><code>NULL</code></strong>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-splice-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the array consisting of the extracted elements.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.array-splice-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5101">
    <p><strong>Example #1 <span class="function"><strong>array_splice()</strong></span> examples</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"yellow"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;$input&nbsp;is&nbsp;now&nbsp;array("red",&nbsp;"green")<br><br></span><span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"yellow"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;$input&nbsp;is&nbsp;now&nbsp;array("red",&nbsp;"yellow")<br><br></span><span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"yellow"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;$input&nbsp;is&nbsp;now&nbsp;array("red",&nbsp;"orange")<br><br></span><span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"yellow"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"black"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"maroon"</span><span style="color: #007700">));<br></span><span style="color: #FF8000">//&nbsp;$input&nbsp;is&nbsp;now&nbsp;array("red",&nbsp;"green",<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"blue",&nbsp;"black",&nbsp;"maroon")<br><br></span><span style="color: #0000BB">$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"yellow"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"purple"</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;$input&nbsp;is&nbsp;now&nbsp;array("red",&nbsp;"green",<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"blue",&nbsp;"purple",&nbsp;"yellow");<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-5102">
    <p><strong>Example #2 <span class="function"><strong>array_splice()</strong></span> examples</strong></p>
    <div class="example-contents"><p>
     The following statements change the values of <var class="varname"><var class="varname">$input</var></var>
     the same way:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">));<br></span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_shift</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_unshift</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">$x</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;for&nbsp;arrays&nbsp;where&nbsp;key&nbsp;equals&nbsp;offset<br></span><span style="color: #0000BB">array_splice</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-splice-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-slice.html" class="function" rel="rdfs-seeAlso">array_slice()</a> - Extract a slice of the array</span></li>
    <li class="member"><span class="function"><a href="function.unset.html" class="function" rel="rdfs-seeAlso">unset()</a> - Unset a given variable</span></li>
    <li class="member"><span class="function"><a href="function.array-merge.html" class="function" rel="rdfs-seeAlso">array_merge()</a> - Merge one or more arrays</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="106244">  
  <a class="name">
  <strong class="user"><em>mrsohailkhan at gmail dot com</em></strong></a><div class="date" title="2011-10-21 12:34"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106244">
<div class="phpcode"><code><span class="html">
array_splice, split an array into 2 arrays. The returned arrays is the 2nd argument actually and the used array e.g $input here contains the 1st argument of array, e.g
<br>
<br><span class="default">&lt;?php
<br>$input </span><span class="keyword">= array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"green"</span><span class="keyword">, </span><span class="string">"blue"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">);
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">)); </span><span class="comment">// Array ( [0] =&gt; yellow )&nbsp; 
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">); </span><span class="comment">//Array ( [0] =&gt; red [1] =&gt; green [2] =&gt; blue )
<br></span><span class="default">?&gt;
<br></span>
<br>if you want to replace any array value do simple like that,
<br>
<br>first search the array index you want to replace
<br>
<br><span class="default">&lt;?php $index </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">'green'</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);</span><span class="comment">// index = 1 </span><span class="default">?&gt;
<br></span>
<br>and then use it as according to the definition
<br>
<br><span class="default">&lt;?php
<br>array_splice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, array(</span><span class="string">'mygreeen'</span><span class="keyword">)); </span><span class="comment">//Array ( [0] =&gt; red [1] =&gt; mygreeen [2] =&gt; blue [3] =&gt; yellow ) 
<br></span><span class="default">?&gt;
<br></span>
<br>so here green is replaced by mygreen.
<br>
<br>here 1 in array_splice above represent the number of items to be replaced. so here start at index '1' and replaced only one item which is 'green'</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56794">  
  <a class="name">
  <strong class="user"><em>weikard at gmx dot de</em></strong></a><div class="date" title="2005-09-15 05:53"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56794">
<div class="phpcode"><code><span class="html">
You cannot insert with array_splice an array with your own key. array_splice will always insert it with the key "0".
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// [DATA]
<br></span><span class="default">$test_array </span><span class="keyword">= array (
<br>&nbsp; </span><span class="default">row1 </span><span class="keyword">=&gt; array (</span><span class="default">col1 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">, </span><span class="default">col2 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">),
<br>&nbsp; </span><span class="default">row2 </span><span class="keyword">=&gt; array (</span><span class="default">col1 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">, </span><span class="default">col2 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">),
<br>&nbsp; </span><span class="default">row3 </span><span class="keyword">=&gt; array (</span><span class="default">col1 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">, </span><span class="default">col2 </span><span class="keyword">=&gt; </span><span class="string">'foobar!'</span><span class="keyword">)
<br>);
<br>
<br></span><span class="comment">// [ACTION]
<br></span><span class="default">array_splice </span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array (</span><span class="string">'rowX' </span><span class="keyword">=&gt; array (</span><span class="string">'colX' </span><span class="keyword">=&gt; </span><span class="string">'foobar2'</span><span class="keyword">)));
<br>echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">; </span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>[RESULT]
<br>
<br>Array (
<br>&nbsp; &nbsp; [row1] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [row2] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [0] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [colX] =&gt; foobar2
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [row3] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>)
<br>
<br>But you can use the following function:
<br>
<br>function array_insert (&amp;$array, $position, $insert_array) {
<br>&nbsp; $first_array = array_splice ($array, 0, $position);
<br>&nbsp; $array = array_merge ($first_array, $insert_array, $array);
<br>}
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// [ACTION]
<br>
<br></span><span class="default">array_insert </span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, array (</span><span class="string">'rowX' </span><span class="keyword">=&gt; array (</span><span class="string">'colX' </span><span class="keyword">=&gt; </span><span class="string">'foobar2'</span><span class="keyword">)));
<br>echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">; </span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>[RESULT]
<br>
<br>Array (
<br>&nbsp; &nbsp; [row1] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [row2] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [rowX] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [colX] =&gt; foobar2
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [row3] =&gt; Array (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col1] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [col2] =&gt; foobar!
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>)
<br>
<br>[NOTE]
<br>
<br>The position "0" will insert the array in the first position (like array_shift). If you try a position higher than the langth of the array, you add it to the array like the function array_push.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72558">  
  <a class="name">
  <strong class="user"><em>ahigerd at stratitec dot com</em></strong></a><div class="date" title="2007-01-24 06:07"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72558">
<div class="phpcode"><code><span class="html">
A comment on array_merge mentioned that array_splice is faster than array_merge for inserting values. This may be the case, but if your goal is instead to reindex a numeric array, array_values() is the function of choice. Performing the following functions in a 100,000-iteration loop gave me the following times: ($b is a 3-element array)<br><br>array_splice($b, count($b)) =&gt; 0.410652<br>$b = array_splice($b, 0) =&gt; 0.272513<br>array_splice($b, 3) =&gt; 0.26529<br>$b = array_merge($b) =&gt; 0.233582<br>$b = array_values($b) =&gt; 0.151298</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111204">  
  <a class="name">
  <strong class="user"><em>royanee at yahoo dot com</em></strong></a><div class="date" title="2013-01-25 05:03"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111204">
<div class="phpcode"><code><span class="html">
When trying to splice an associative array into another, array_splice is missing two key ingredients:<br>&nbsp; - a string key for identifying the offset<br>&nbsp; - the ability to preserve keys in the replacement array<br><br>This is primarily useful when you want to replace an item in an array with another item, but want to maintain the ordering of the array without rebuilding the array one entry at a time.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_splice_assoc</span><span class="keyword">(&amp;</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$replacement </span><span class="keyword">= (array) </span><span class="default">$replacement</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$key_indices </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; if (isset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$key_indices</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if (isset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">$key_indices</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">] - </span><span class="default">$offset</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + </span><span class="default">$replacement<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">+ </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">+ </span><span class="default">$length</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br>}<br><br></span><span class="default">$fruit </span><span class="keyword">= array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'orange' </span><span class="keyword">=&gt; </span><span class="string">'orange'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'lemon' </span><span class="keyword">=&gt; </span><span class="string">'yellow'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'lime' </span><span class="keyword">=&gt; </span><span class="string">'green'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'grape' </span><span class="keyword">=&gt; </span><span class="string">'purple'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'cherry' </span><span class="keyword">=&gt; </span><span class="string">'red'</span><span class="keyword">,<br>);<br><br></span><span class="comment">// Replace lemon and lime with apple<br></span><span class="default">array_splice_assoc</span><span class="keyword">(</span><span class="default">$fruit</span><span class="keyword">, </span><span class="string">'lemon'</span><span class="keyword">, </span><span class="string">'grape'</span><span class="keyword">, array(</span><span class="string">'apple' </span><span class="keyword">=&gt; </span><span class="string">'red'</span><span class="keyword">));<br><br></span><span class="comment">// Replace cherry with strawberry<br></span><span class="default">array_splice_assoc</span><span class="keyword">(</span><span class="default">$fruit</span><span class="keyword">, </span><span class="string">'cherry'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, array(</span><span class="string">'strawberry' </span><span class="keyword">=&gt; </span><span class="string">'red'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>Note: I have not tested this with negative offsets and lengths.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44204">  
  <a class="name">
  <strong class="user"><em>gideon at i6developments dot com</em></strong></a><div class="date" title="2004-07-17 09:45"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44204">
<div class="phpcode"><code><span class="html">
array_splice dynamically updates the total number of entries into the array. So for instance I had a case where I needed to insert a value into every 4th entry of the array from the back. The problem was when it added the first, because the total number was dynamically updated, it would only add after the 3rd then the 2nd and so one. The solution I found is to track the number of inserts which were done and account for them dynamically. <br><br>Code: <br><span class="default">&lt;?php<br>&nbsp; &nbsp; $modarray </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$mili</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$trig</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$modarray </span><span class="keyword">as </span><span class="default">$rubber </span><span class="keyword">=&gt; </span><span class="default">$glue</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rubber</span><span class="keyword">!=</span><span class="string">"&lt;BR&gt;"</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$b</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">==</span><span class="default">4</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$trig</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$trig</span><span class="keyword">&lt;=</span><span class="default">2</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$modarray</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">"&lt;BR&gt;"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }elseif(</span><span class="default">$trig</span><span class="keyword">&gt;=</span><span class="default">3</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$modarray</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">+(</span><span class="default">$trig</span><span class="keyword">-</span><span class="default">2</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">,</span><span class="string">"&lt;BR&gt;"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; };&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$fixarray </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$modarray</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104983">  
  <a class="name">
  <strong class="user"><em>news_yodpeirs at thoftware dot de</em></strong></a><div class="date" title="2011-07-20 08:20"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104983">
<div class="phpcode"><code><span class="html">
Sometimes you may want to insert one array into another and just work on with the resulting array. array_splice() doesn't support this, as the resulting array isn't the returned value but the first argument, which is changed by reference.
<br>
<br>Therefore you may use the following function, which inserts array $ins in array $src at position $pos. $rep can be used if $ins shouldn't be just inserted, but should replace some existing elements (the number of elements to be replaced is given in $rep).
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_insert</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$ins</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">,</span><span class="default">$ins</span><span class="keyword">);
<br>&nbsp; return(</span><span class="default">$src</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92651">  
  <a class="name">
  <strong class="user"><em>daniele centamore</em></strong></a><div class="date" title="2009-08-02 07:48"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92651">
<div class="phpcode"><code><span class="html">
just useful functions to move an element using array_splice.<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// info at danielecentamore dot com<br><br>// $input&nbsp; (Array) - the array containing the element<br>// $index (int) - the index of the element you need to move<br><br></span><span class="keyword">function </span><span class="default">moveUp</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">$index</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$new_array </span><span class="keyword">= </span><span class="default">$input</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">count</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">)&gt;</span><span class="default">$index</span><span class="keyword">) &amp;&amp; (</span><span class="default">$index</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$new_array</span><span class="keyword">;<br>}<br><br>function </span><span class="default">moveDown</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">$index</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_array </span><span class="keyword">= </span><span class="default">$input</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">)&gt;</span><span class="default">$index</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>&nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$new_array</span><span class="keyword">;<br> }&nbsp; <br><br></span><span class="default">$input </span><span class="keyword">= array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"green"</span><span class="keyword">, </span><span class="string">"blue"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">);<br><br></span><span class="default">$newinput </span><span class="keyword">= </span><span class="default">moveUp</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br></span><span class="comment">// $newinput is array("red", "blue", "green", "yellow")<br><br></span><span class="default">$input </span><span class="keyword">= </span><span class="default">moveDown</span><span class="keyword">(</span><span class="default">$newinput</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br></span><span class="comment">// $input is array("red", "green", "blue", "yellow")<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69329">  
  <a class="name">
  <strong class="user"><em>bdjumakov at gmail dot com</em></strong></a><div class="date" title="2006-08-31 12:11"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69329">
<div class="phpcode"><code><span class="html">
Someone might find this function usefull. It just takes a given element from the array and moves it before given element into the same array.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_move</span><span class="keyword">(</span><span class="default">$which</span><span class="keyword">, </span><span class="default">$where</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$tmp&nbsp; </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$which</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$where</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$tmp</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55790">  
  <a class="name">
  <strong class="user"><em>csaba at alum dot mit dot edu</em></strong></a><div class="date" title="2005-08-13 02:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55790">
<div class="phpcode"><code><span class="html">
Appending arrays
<br>If you have an array $a2 whose values you would like to append to an array $a1 then four methods you could use are listed below in order of increasing time.&nbsp; The last two methods took significantly more time than the first two.&nbsp; The most surprising lesson is that using the &amp; incurs a time hit.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">foreach (</span><span class="default">$a2 </span><span class="keyword">as </span><span class="default">$elem</span><span class="keyword">) </span><span class="default">$a1</span><span class="keyword">[]=</span><span class="default">$elem</span><span class="keyword">;
<br>foreach (</span><span class="default">$a2 </span><span class="keyword">as &amp;</span><span class="default">$elem</span><span class="keyword">) </span><span class="default">$a1</span><span class="keyword">[]=</span><span class="default">$elem</span><span class="keyword">;
<br></span><span class="default">array_splice </span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">);
<br></span><span class="default">$a1 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Csaba Gabor from Vienna</span>
</code></div>
  </div>
 </div>
  <div class="note" id="22112">  
  <a class="name">
  <strong class="user"><em>paule at cs dot tamu dot edu</em></strong></a><div class="date" title="2002-06-06 11:09"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom22112">
<div class="phpcode"><code><span class="html">
After reading KoKos' post above, I thought that the code I posted right before his should do what he wanted. However, my original post neglected to note the little "Tip" in the documentation above, about a single element replacement.
<br>
<br>If one changes the lines in my code above that says:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$replacement </span><span class="keyword">as </span><span class="default">$r_key</span><span class="keyword">=&gt;</span><span class="default">$r_value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_array</span><span class="keyword">[</span><span class="default">$r_key</span><span class="keyword">]=</span><span class="default">$r_value</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>to instead say:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$replacement</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$replacement </span><span class="keyword">as </span><span class="default">$r_key</span><span class="keyword">=&gt;</span><span class="default">$r_value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_array</span><span class="keyword">[</span><span class="default">$r_key</span><span class="keyword">]=</span><span class="default">$r_value</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>that will solve the problem.
<br>
<br>Sorry for the omission.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19084">  
  <a class="name">
  <strong class="user"><em>jrhardytwothousandtwo at yahoo dot com</em></strong></a><div class="date" title="2002-02-14 11:54"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19084">
<div class="phpcode"><code><span class="html">
A reference is made to INSERT'ing into an array here with array_splice, however its not explained very well.&nbsp; I hope this example will help others find what took me days to research.
<br>
<br><span class="default">&lt;?php
<br>$original_array </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);
<br></span><span class="default">$insert_into_key_position </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;
<br></span><span class="default">$item_to_insert </span><span class="keyword">= </span><span class="string">"blue"</span><span class="keyword">;
<br>
<br></span><span class="default">$returned </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$original_array</span><span class="keyword">, </span><span class="default">$insert_into_key_position</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$item_to_insert</span><span class="keyword">);
<br>
<br></span><span class="comment">// $original_array will now show:
<br>
<br>// 1,2,3,blue,4,5
<br></span><span class="default">?&gt;
<br></span>
<br>Remember that you are telling the array to insert the element into the KEY position.&nbsp; Thus the elements start with key 0 and so on 0=&gt;1, 1=&gt;2, 2=&gt;3, 3=&gt;blue, 4=&gt;4, 5=&gt;5.&nbsp; And walla, you've inserted.&nbsp; I can't say if this is of any value for named keys, or multidimensional arrays.&nbsp; However it does work for single dimensional arrays.
<br>
<br>$returned should be an empty array as nothing was returned.&nbsp; This would have substance if you were doing a replace instead.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31234">  
  <a class="name">
  <strong class="user"><em>plintus at smtp dot ru</em></strong></a><div class="date" title="2003-04-14 01:59"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31234">
<div class="phpcode"><code><span class="html">
key-safe:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_kslice </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {
<br></span><span class="default">$k </span><span class="keyword">= </span><span class="default">array_slice </span><span class="keyword">(</span><span class="default">array_keys </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);
<br></span><span class="default">$v </span><span class="keyword">= </span><span class="default">array_slice </span><span class="keyword">(</span><span class="default">array_values </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);
<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count </span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">++) </span><span class="default">$r</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>return </span><span class="default">$r</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>smth like this. hope you like it more than versions above :)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="22455">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2002-06-18 07:14"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom22455">
<div class="phpcode"><code><span class="html">
Please note that array_splice() 's second argument is an OFFSET and not an INDEX.
<br>
<br>Lets say you want to 
<br>$array_of_items = array ('nothing','myitem','hisitem','heritem');
<br>$sid = array_search('myitem',$array_of_items);
<br>echo $sid; /* prints out 1, since index element 1 is "myitem" */
<br>
<br>Now, lets say we want to remove that "myitem" from the array:
<br>
<br><span class="default">&lt;?php
<br>$array_of_items </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array_of_items</span><span class="keyword">,(</span><span class="default">1</span><span class="keyword">+</span><span class="default">$sid</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Notice how you have to add a one to the $sid variable?&nbsp; That is because offset item 1 is "nothing" and since $sid is currently 1 (the index of "myitem"), we add 1 more to it to find out
<br> its OFFSET.
<br>
<br>DO NOT DO THIS:
<br> $array_of_items = array_splice($array_of_items,$sid,1);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="22263">  
  <a class="name">
  <strong class="user"><em>paule at cs dot tamu dot edu</em></strong></a><div class="date" title="2002-06-12 09:59"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom22263">
<div class="phpcode"><code><span class="html">
to kokos@lac.lviv.ua:<br><br>Good point about the code not doing what you expected.<br><br>The failure to check for the insert case like you pointed out is not a bug, however. I didn't add code to handle that because the key of such an added index is more or less undefined in an unordered associative array. Put another way, if your array is associative and not auto-indexed, you most likely care enough about your keys to want to set them explicitly.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="61793">  
  <a class="name">
  <strong class="user"><em>Paul</em></strong></a><div class="date" title="2006-02-11 10:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61793">
<div class="phpcode"><code><span class="html">
In PHP 4.3.10, at least, it seems that elements that are inserted as part of the replacement array are inserted BY REFERENCE (that is, as though with the =&amp; rather than = assignment operation). So if your replacement array contains elements that references to variables that you can also access via other variable name, then this will be true of the elements in the final array too.<br><br>In particular, this means that it is safe to use array_splice() on arrays of objects, as you won't be creating copies of the objects (as it is so easy to do in PHP 4).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114027">  
  <a class="name">
  <strong class="user"><em>thom</em></strong></a><div class="date" title="2014-01-02 02:31"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114027">
<div class="phpcode"><code><span class="html">
Maybe it will help someone else: I was trying to strip off the last part of an array using this section, more or less as follows:<br><br><span class="default">&lt;?php array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">); </span><span class="default">?&gt;<br></span><br>Now it could occur in my code that <span class="default">&lt;?php $offset </span><span class="keyword">=== </span><span class="default">0 ?&gt;</span>, in which case the array is returned as-is and not, as you might expect, an empty array because everything is stripped off. Obviously it is not really useful anyway to "strip off everything", but I was reminded of that the hard way and this may spare someone some time, hopefully.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55004">  
  <a class="name">
  <strong class="user"><em>randomdestination at gmail dot com</em></strong></a><div class="date" title="2005-07-22 01:52"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55004">
<div class="phpcode"><code><span class="html">
To split an associative array based on it's keys, use this function:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function &amp;</span><span class="default">array_split</span><span class="keyword">(&amp;</span><span class="default">$in</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">= array();<br>&nbsp; &nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$in</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$in</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">null</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$in</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$out</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>Example: <br><span class="default">&lt;?php<br>$testin </span><span class="keyword">= array(</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'d' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">);<br></span><span class="default">$testout </span><span class="keyword">=&amp; </span><span class="default">array_split</span><span class="keyword">(</span><span class="default">$testin</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">);<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$testin</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$testout</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Will print:<br><br>Array<br>(<br>&nbsp; &nbsp; [d] =&gt; 4<br>)<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [b] =&gt; 2<br>&nbsp; &nbsp; [c] =&gt; 3<br>)<br><br>Hope this helps anyone!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115351">  
  <a class="name">
  <strong class="user"><em>antrik</em></strong></a><div class="date" title="2014-07-09 07:20"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom115351">
<div class="phpcode"><code><span class="html">
Prompted by dire need, and inspired by some of the existing notes, I came up with this:<br><br>/* Like array_splice(), but preserves the key(s) of the replacement array. */<br>function array_splice_assoc(&amp;$input, $offset, $length = 0, $replacement = array()) {<br>&nbsp; $tail = array_splice($input, $offset);<br>&nbsp; $extracted = array_splice($tail, 0, $length);<br>&nbsp; $input += $replacement + $tail;<br>&nbsp; return $extracted;<br>};<br><br>Apart from preserving the keys, it behaves just like the regular array_splice() for all cases I could think of.<br><br>So for example the regular array_splice()<br><br>$input = array('a' =&gt; 1, 'b' =&gt; 2, 'c' =&gt; 3, 'd' =&gt; 4, 'e' =&gt; 5, 'f' =&gt;6);<br>print_r(array_splice($input, -4, 3, array('foo1' =&gt; 'bar', 'foo2' =&gt; 'baz'))); <br>print_r($input); <br><br>will give:<br><br>Array<br>(<br>&nbsp; &nbsp; [c] =&gt; 3<br>&nbsp; &nbsp; [d] =&gt; 4<br>&nbsp; &nbsp; [e] =&gt; 5<br>)<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [b] =&gt; 2<br>&nbsp; &nbsp; [0] =&gt; bar<br>&nbsp; &nbsp; [1] =&gt; baz<br>&nbsp; &nbsp; [f] =&gt; 6<br>)<br><br>But with array_splice_assoc()<br><br>$input = array('a' =&gt; 1, 'b' =&gt; 2, 'c' =&gt; 3, 'd' =&gt; 4, 'e' =&gt; 5, 'f' =&gt;6);<br>print_r(array_splice_assoc($input, -4, 3, array('foo1' =&gt; 'bar', 'foo2' =&gt; 'baz')));<br>print_r($input);<br><br>we get:<br><br>Array<br>(<br>&nbsp; &nbsp; [c] =&gt; 3<br>&nbsp; &nbsp; [d] =&gt; 4<br>&nbsp; &nbsp; [e] =&gt; 5<br>)<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [b] =&gt; 2<br>&nbsp; &nbsp; [foo1] =&gt; bar<br>&nbsp; &nbsp; [foo2] =&gt; baz<br>&nbsp; &nbsp; [f] =&gt; 6<br>)<br><br>A typical use case would be replacing an element identified by a particular key, which we could achieve with:<br><br>$input = array('a' =&gt; 1, 'b' =&gt; 2, 'c' =&gt; 3, 'd' =&gt; 4, 'e' =&gt; 5, 'f' =&gt;6);<br>array_splice_assoc($input, array_search('d', array_keys($input)), 1, array('foo' =&gt; 'bar'));<br>print_r($input);<br><br>giving us:<br><br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [b] =&gt; 2<br>&nbsp; &nbsp; [c] =&gt; 3<br>&nbsp; &nbsp; [foo] =&gt; bar<br>&nbsp; &nbsp; [e] =&gt; 5<br>&nbsp; &nbsp; [f] =&gt; 6<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99000">  
  <a class="name">
  <strong class="user"><em>charette dot s at gmail</em></strong></a><div class="date" title="2010-07-21 08:26"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99000">
<div class="phpcode"><code><span class="html">
If you want to append null values wrap them in an array:<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; $a </span><span class="keyword">= array(</span><span class="string">'Hey'</span><span class="keyword">, </span><span class="string">'hey'</span><span class="keyword">, </span><span class="string">'my'</span><span class="keyword">, </span><span class="string">'my'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Hey<br>&nbsp; &nbsp; [1] =&gt; hey<br>&nbsp; &nbsp; [2] =&gt; my<br>&nbsp; &nbsp; [3] =&gt; my<br>)<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; $b </span><span class="keyword">= array(</span><span class="string">'Hey'</span><span class="keyword">, </span><span class="string">'hey'</span><span class="keyword">, </span><span class="string">'my'</span><span class="keyword">, </span><span class="string">'my'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array(</span><span class="default">null</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Hey<br>&nbsp; &nbsp; [1] =&gt; <br>&nbsp; &nbsp; [2] =&gt; hey<br>&nbsp; &nbsp; [3] =&gt; my<br>&nbsp; &nbsp; [4] =&gt; my<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97097">  
  <a class="name">
  <strong class="user"><em>news_yodpeirs at thoftware dot de</em></strong></a><div class="date" title="2010-04-01 01:32"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97097">
<div class="phpcode"><code><span class="html">
Splicing with NULL as replacement may result in unexpected behavior too. Typecasting NULL into an array results in an empty array (as "(array)NULL" equals "array()"). That means, instead of creating an element with value NULL just no new element ist created (just as if there was no replacement specified).<br><br>If you want the splicing to create a new element with value NULL you have to use "array(NULL)" instead of NULL.<br><br>You should expect this if you read the explanation carefully, but just as objects are considered as a special case for replacement, NULL should be too.<br><br>The explanation of replacement better should read: "If replacement is just one element it is not necessary to put array() around it, unless the element is an array itself, an object or NULL."<br><br>And the note better should be: "If replacement is not an array, it will be typecast to one (i.e. (array) $parameter). This may result in unexpected behavior when using an object or NULL replacement."<br><br>jmtc</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88896">  
  <a class="name">
  <strong class="user"><em>dead dot screamer at seznam dot cz</em></strong></a><div class="date" title="2009-02-12 05:28"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88896">
<div class="phpcode"><code><span class="html">
I need <span class="default">&lt;?php array_Splice</span><span class="keyword">()</span><span class="default">?&gt;</span> function, that use array keys instead of order (offset and length) because of associated arrays, and this is result:<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br> *&nbsp; &nbsp; first variation<br> *<br> *&nbsp; &nbsp; $input is input array<br> *&nbsp; &nbsp; $start is index of slice begin<br> *&nbsp; &nbsp; $end is index of slice end, if this is null, $replacement will be inserted (in the same way as original array_Slice())<br> *indexes of $replacement are preserved in both examples<br> */<br></span><span class="keyword">function </span><span class="default">array_KSplice1</span><span class="keyword">(&amp;</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$keys</span><span class="keyword">=</span><span class="default">array_Keys</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$values</span><span class="keyword">=</span><span class="default">array_Values</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$replacement</span><span class="keyword">!==</span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$replacement</span><span class="keyword">=(array)</span><span class="default">$replacement</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rKeys</span><span class="keyword">=</span><span class="default">array_Keys</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rValues</span><span class="keyword">=</span><span class="default">array_Values</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_Search</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$start</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; if(</span><span class="default">$end</span><span class="keyword">!==</span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">=</span><span class="default">array_Search</span><span class="keyword">(</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// if $end not found, exit<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$end</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// if $end is before $start, exit<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$end</span><span class="keyword">&lt;</span><span class="default">$start</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// index to length<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">-=</span><span class="default">$start</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// optional arguments<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$replacement</span><span class="keyword">!==</span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$rKeys</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$rValues</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$input</span><span class="keyword">=</span><span class="default">array_Combine</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$values</span><span class="keyword">);<br><br>&nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>}<br><br></span><span class="comment">/**<br> *&nbsp; &nbsp; second variation<br> *<br> *&nbsp; &nbsp; $input is input array<br> *&nbsp; &nbsp; $start is index of slice begin<br> *&nbsp; &nbsp; $length is length of slice, what will be replaced, if is zero, $replacement will be inserted (in the same way as original array_Slice())<br> */<br></span><span class="keyword">function </span><span class="default">array_KSplice2</span><span class="keyword">(&amp;</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$keys</span><span class="keyword">=</span><span class="default">array_Keys</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$values</span><span class="keyword">=</span><span class="default">array_Values</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$replacement</span><span class="keyword">!==</span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$replacement</span><span class="keyword">=(array)</span><span class="default">$replacement</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rKeys</span><span class="keyword">=</span><span class="default">array_Keys</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rValues</span><span class="keyword">=</span><span class="default">array_Values</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_Search</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$start</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// optional arguments<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$replacement</span><span class="keyword">!==</span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">,</span><span class="default">$rKeys</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">,</span><span class="default">$rValues</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_Splice</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$input</span><span class="keyword">=</span><span class="default">array_Combine</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">,</span><span class="default">$values</span><span class="keyword">);<br><br>&nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>}<br><br></span><span class="default">$array</span><span class="keyword">=</span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br></span><span class="default">var_Dump</span><span class="keyword">(</span><span class="default">array_KSplice1</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,array(</span><span class="default">100</span><span class="keyword">=&gt;</span><span class="default">101</span><span class="keyword">,</span><span class="default">102</span><span class="keyword">,</span><span class="default">103</span><span class="keyword">,</span><span class="default">104</span><span class="keyword">)));<br><br></span><span class="default">$array</span><span class="keyword">=</span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br></span><span class="default">var_Dump</span><span class="keyword">(</span><span class="default">array_KSplice2</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,array(</span><span class="default">100</span><span class="keyword">=&gt;</span><span class="default">101</span><span class="keyword">,</span><span class="default">102</span><span class="keyword">,</span><span class="default">103</span><span class="keyword">,</span><span class="default">104</span><span class="keyword">)));<br><br></span><span class="default">?&gt;<br></span><br>Both examples output:<br>array(11) {<br>&nbsp; [0]=&gt;<br>&nbsp; int(1)<br>&nbsp; [1]=&gt;<br>&nbsp; int(2)<br>&nbsp; [2]=&gt;<br>&nbsp; int(3)<br>&nbsp; [100]=&gt;<br>&nbsp; int(101)<br>&nbsp; [101]=&gt;<br>&nbsp; int(102)<br>&nbsp; [102]=&gt;<br>&nbsp; int(103)<br>&nbsp; [103]=&gt;<br>&nbsp; int(104)<br>&nbsp; [6]=&gt;<br>&nbsp; int(7)<br>&nbsp; [7]=&gt;<br>&nbsp; int(8)<br>&nbsp; [8]=&gt;<br>&nbsp; int(9)<br>&nbsp; [9]=&gt;<br>&nbsp; int(10)<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84733">  
  <a class="name">
  <strong class="user"><em>loushou - life dot 42 at gmail dot com</em></strong></a><div class="date" title="2008-07-27 04:39"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84733">
<div class="phpcode"><code><span class="html">
i miss posted the actual function...<br>here is the real one lol<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">q_sort</span><span class="keyword">(&amp;</span><span class="default">$Info</span><span class="keyword">, </span><span class="default">$Index</span><span class="keyword">, </span><span class="default">$Left</span><span class="keyword">, </span><span class="default">$Right</span><span class="keyword">)<br>{<br>&nbsp; echo </span><span class="string">"memory usage &lt;b&gt;"</span><span class="keyword">.</span><span class="default">memory_get_usage</span><span class="keyword">().</span><span class="string">"&lt;/b&gt;&lt;br/&gt;\n"</span><span class="keyword">;<br>&nbsp; </span><span class="default">$L_hold </span><span class="keyword">= </span><span class="default">$Left</span><span class="keyword">;<br>&nbsp; </span><span class="default">$R_hold </span><span class="keyword">= </span><span class="default">$Right</span><span class="keyword">;<br>&nbsp; </span><span class="default">$Pivot </span><span class="keyword">= </span><span class="default">$Left</span><span class="keyword">;<br>&nbsp; </span><span class="default">$PivotValue </span><span class="keyword">= </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Left</span><span class="keyword">];<br>&nbsp; while (</span><span class="default">$Left </span><span class="keyword">&lt; </span><span class="default">$Right</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; while ((</span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Right</span><span class="keyword">][</span><span class="default">$Index</span><span class="keyword">] &gt;= </span><span class="default">$PivotValue</span><span class="keyword">[</span><span class="default">$Index</span><span class="keyword">]) &amp;&amp; (</span><span class="default">$Left </span><span class="keyword">&lt; </span><span class="default">$Right</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Right</span><span class="keyword">--;<br>&nbsp; &nbsp; if (</span><span class="default">$Left </span><span class="keyword">!= </span><span class="default">$Right</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Left</span><span class="keyword">] = </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Right</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Left</span><span class="keyword">++;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; while ((</span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Left</span><span class="keyword">][</span><span class="default">$Index</span><span class="keyword">] &lt;= </span><span class="default">$PivotValue</span><span class="keyword">[</span><span class="default">$Index</span><span class="keyword">]) &amp;&amp; (</span><span class="default">$Left </span><span class="keyword">&lt; </span><span class="default">$Right</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Left</span><span class="keyword">++;<br>&nbsp; &nbsp; if (</span><span class="default">$Left </span><span class="keyword">!= </span><span class="default">$Right</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Right</span><span class="keyword">] = </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Left</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$Right</span><span class="keyword">--;<br>&nbsp; &nbsp; }<br>&nbsp; }<br>&nbsp; </span><span class="default">$Info</span><span class="keyword">[</span><span class="default">$Left</span><span class="keyword">] = </span><span class="default">$PivotValue</span><span class="keyword">;<br>&nbsp; </span><span class="default">$Pivot </span><span class="keyword">= </span><span class="default">$Left</span><span class="keyword">;<br>&nbsp; </span><span class="default">$Left </span><span class="keyword">= </span><span class="default">$L_hold</span><span class="keyword">;<br>&nbsp; </span><span class="default">$Right </span><span class="keyword">= </span><span class="default">$R_hold</span><span class="keyword">;<br>&nbsp; if (</span><span class="default">$Left </span><span class="keyword">&lt; </span><span class="default">$Pivot</span><span class="keyword">)<br>&nbsp; &nbsp; </span><span class="default">q_sort</span><span class="keyword">(</span><span class="default">$Info</span><span class="keyword">, </span><span class="default">$Index</span><span class="keyword">, </span><span class="default">$Left</span><span class="keyword">, </span><span class="default">$Pivot</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br>&nbsp; if (</span><span class="default">$Right </span><span class="keyword">&gt; </span><span class="default">$Pivot</span><span class="keyword">)<br>&nbsp; &nbsp; </span><span class="default">q_sort</span><span class="keyword">(</span><span class="default">$Info</span><span class="keyword">, </span><span class="default">$Index</span><span class="keyword">, </span><span class="default">$Pivot</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$Right</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80909">  
  <a class="name">
  <strong class="user"><em>pauljamescampbell at gmail dot com</em></strong></a><div class="date" title="2008-02-06 06:46"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80909">
<div class="phpcode"><code><span class="html">
Here's my own take on an array slice method that preserves keys from an associative array.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * Array slice function that preserves associative keys
<br> * 
<br> * @function associativeArraySlice
<br> *
<br> * @param&nbsp; Array&nbsp; $array&nbsp; Array to slice
<br> * @param&nbsp; Integer&nbsp; $start&nbsp; &nbsp; 
<br> * @param&nbsp; Integer&nbsp; $end
<br> * 
<br> * @return&nbsp; Array
<br> */
<br></span><span class="keyword">function </span><span class="default">associativeArraySlice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="comment">// Method param restrictions
<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$start </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; if(</span><span class="default">$end </span><span class="keyword">&gt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) </span><span class="default">$end </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// Process vars
<br>&nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">= Array();
<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// Loop
<br>&nbsp; &nbsp; </span><span class="keyword">foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">$start </span><span class="keyword">&amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$end</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return(</span><span class="default">$new</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41118">  
  <a class="name">
  <strong class="user"><em>rolandfoxx at yahoo dot com</em></strong></a><div class="date" title="2004-03-30 12:16"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41118">
<div class="phpcode"><code><span class="html">
Be careful, array_splice does not behave like you might expect should you try to pass it an object as the replacement argument.&nbsp; Consider the following:<br><br><span class="default">&lt;?php<br></span><span class="comment">//Very truncated<br></span><span class="keyword">class </span><span class="default">Tree </span><span class="keyword">{<br>&nbsp; var </span><span class="default">$childNodes<br><br>&nbsp; </span><span class="keyword">function </span><span class="default">addChild</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$node</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$node</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">//...rest of function<br>&nbsp; </span><span class="keyword">}<br><br>}<br><br>class </span><span class="default">Node </span><span class="keyword">{<br>&nbsp; var </span><span class="default">$stuff<br>&nbsp; </span><span class="keyword">...<br>}<br><br></span><span class="default">$tree </span><span class="keyword">= new </span><span class="default">Tree</span><span class="keyword">();<br></span><span class="comment">// ...set 2 nodes using other functions...<br></span><span class="keyword">echo (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$tree</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">)); </span><span class="comment">//Gives 2<br></span><span class="default">$newNode </span><span class="keyword">= new </span><span class="default">Node</span><span class="keyword">();<br></span><span class="comment">// ...set node attributes here...<br></span><span class="default">$tree</span><span class="keyword">-&gt;</span><span class="default">addChild</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">$newNode</span><span class="keyword">);<br>echo(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$tree</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">)); </span><span class="comment">//Expect 3?&nbsp; wrong!<br></span><span class="default">?&gt;<br></span><br>In this case, the array has a number of items added to it equal to the number of attributes in the new Node object and the values thereof&nbsp; I.e, if your Node object has 2 attributes with values "foo" and "bar", count($tree-&gt;childNodes) will now return 4, with the items "foo" and "bar" added to it.&nbsp; I'm not sure if this qualifies as a bug, or is just a byproduct of how PHP handles objects.<br><br>Here's a workaround for this problem:<br>function array_insertobj(&amp;$array, $offset, $insert) {<br>&nbsp; $firstPart = array_slice($array, 0, $offset);<br>&nbsp; $secondPart = array_slice($array, $offset);<br>&nbsp; $insertPart = array($insert);<br>&nbsp; $array = array_merge($firstPart, $insertPart, $secondPart);<br>}<br><br>Note that this function makes no allowances for when $offset equals the first or last index in the array.&nbsp; That's because array_unshift and array_push work just fine in those cases.&nbsp; It's only array_splice that can trip you up.&nbsp; Obviously, this is kinda tailor-made for arrays with numeric keys when you don't really care what said keys are, but i'm sure you could adapt it for associative arrays if you needed it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34911">  
  <a class="name">
  <strong class="user"><em>kbrown at horizon dot sk dot ca</em></strong></a><div class="date" title="2003-08-11 12:40"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34911">
<div class="phpcode"><code><span class="html">
[ Editor's Note: If you're not concerned with the indexes being contiguously numbered (such as for an associative array) then unset($ar[$ind]); will accomplish the same as the code below without requiring splice/splice/merge.&nbsp; If contiguous numbering IS a concern (such as for indexed arrays), you can still save time by using: unset($ar[$ind]); $ar = array_values($ar); ]
<br>
<br>Removing elements from arrays
<br>
<br>This works better - much quicker
<br>
<br><span class="default">&lt;?php
<br>$ar </span><span class="keyword">= array(</span><span class="string">"einstein"</span><span class="keyword">, </span><span class="string">"bert"</span><span class="keyword">, </span><span class="string">"colin"</span><span class="keyword">, </span><span class="string">"descartes"</span><span class="keyword">, </span><span class="string">"renoir"</span><span class="keyword">);
<br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$ind</span><span class="keyword">);
<br></span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">, </span><span class="default">$ind </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">$ar </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="22111">  
  <a class="name">
  <strong class="user"><em>kokos at lac dot lviv dot ua</em></strong></a><div class="date" title="2002-06-06 08:26"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom22111">
<div class="phpcode"><code><span class="html">
It may seem obvious from the above posts, but cost me a bit of
<br>braindamage to figure this out...
<br>
<br>Contrary to the equivalence noted on this page
<br>$input[$x] = $y&nbsp;&nbsp; &lt;==&gt;&nbsp;&nbsp; array_splice ($input, $x, 1, $y)
<br>array_splice() will not always work as expected, 
<br>even provided that you have only INTEGER keys!
<br>
<br>The following code:
<br>&nbsp;&nbsp; $t=array('a','b','c','d','e');
<br>&nbsp;&nbsp; var_dump($t);
<br>
<br><span class="default">&lt;?php
<br>&nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$t</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$t</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">],</span><span class="default">$t</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]);
<br>&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="string">'f'</span><span class="keyword">;
<br>&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">);
<br>
<br>&nbsp;&nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="string">'g'</span><span class="keyword">);
<br>&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Will produce:
<br>array(5) {
<br>&nbsp; [0]=&gt;
<br>&nbsp; string(1) "a"
<br>&nbsp; [1]=&gt;
<br>&nbsp; string(1) "b"
<br>&nbsp; [2]=&gt;
<br>&nbsp; string(1) "c"
<br>&nbsp; [3]=&gt;
<br>&nbsp; string(1) "d"
<br>&nbsp; [4]=&gt;
<br>&nbsp; string(1) "e"
<br>}
<br>array(3) {
<br>&nbsp; [2]=&gt;
<br>&nbsp; string(1) "c"
<br>&nbsp; [4]=&gt;
<br>&nbsp; string(1) "e"
<br>&nbsp; [0]=&gt;
<br>&nbsp; string(1) "f"
<br>}
<br>array(3) {
<br>&nbsp; [0]=&gt;
<br>&nbsp; string(1) "g"
<br>&nbsp; [1]=&gt;
<br>&nbsp; string(1) "e"
<br>&nbsp; [2]=&gt;
<br>&nbsp; string(1) "f"
<br>}
<br>
<br>Note the position of $t[0] in the second call to var_dump().
<br>And of course, array_splice() left it intact, changing $t[2] instead.
<br>This is because it operates the _offset_, not the _index_.&nbsp; :)
<br>I think that "equivalence note" should be considered buggy.&nbsp; ;)))
<br>
<br>Best wishes.
<br>KoKos.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82815">  
  <a class="name">
  <strong class="user"><em>Francis</em></strong></a><div class="date" title="2008-04-27 12:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82815">
<div class="phpcode"><code><span class="html">
Do you need to sort a 2D array on just one of its variables while trying to preserve somewhat the original order?
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">function </span><span class="default">sort_2d_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$position</span><span class="keyword">, </span><span class="default">$order </span><span class="keyword">= </span><span class="string">"ASC"</span><span class="keyword">){
<br>&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) return </span><span class="default">$array</span><span class="keyword">;
<br>&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &lt; </span><span class="default">2</span><span class="keyword">) return </span><span class="default">$array</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$new </span><span class="keyword">= array(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);
<br>&nbsp; for (</span><span class="default">$cnt </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$cnt </span><span class="keyword">&lt;= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; </span><span class="default">$cnt</span><span class="keyword">++){
<br>&nbsp; &nbsp; </span><span class="default">$stop </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$splice </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; for (</span><span class="default">$newcnt </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$newcnt </span><span class="keyword">&lt;= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; </span><span class="default">$newcnt</span><span class="keyword">++){
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$stop </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$order </span><span class="keyword">== </span><span class="string">"ASC"</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$cnt</span><span class="keyword">][</span><span class="default">$position</span><span class="keyword">] &lt; </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$newcnt</span><span class="keyword">][</span><span class="default">$position</span><span class="keyword">]){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$splice </span><span class="keyword">= </span><span class="default">$newcnt</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stop </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; } </span><span class="comment">// splice position for ASC
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$order </span><span class="keyword">== </span><span class="string">"DESC"</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$cnt</span><span class="keyword">][</span><span class="default">$position</span><span class="keyword">] &gt; </span><span class="default">$new</span><span class="keyword">[</span><span class="default">$newcnt</span><span class="keyword">][</span><span class="default">$position</span><span class="keyword">]){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$splice </span><span class="keyword">= </span><span class="default">$newcnt</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stop </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; } </span><span class="comment">// splice position for DESC
<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">} </span><span class="comment">// stop vying for position
<br>&nbsp; &nbsp; </span><span class="keyword">} </span><span class="comment">// cycle through new array to find position
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$stop </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){ 
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$cnt</span><span class="keyword">];
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">, </span><span class="default">$splice</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$cnt</span><span class="keyword">]));
<br>&nbsp; &nbsp; } </span><span class="comment">// splice into new array while keeping somewhat the original order
<br>&nbsp; </span><span class="keyword">} </span><span class="comment">// cycle through original array
<br>&nbsp; </span><span class="keyword">return </span><span class="default">$new</span><span class="keyword">;
<br>} </span><span class="comment">// sort_2d_array
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Application Example: In-House Search Engine
<br>Here we are trying to find the word apple in the website by sort of the most recent occurances first, but the number of occurances first.&nbsp; 
<br>
<br>We've already sorted the mysql output by the date desc and have counted the no of occurances and have placed those in an array for the final query.&nbsp; 
<br>
<br>I've used this function to further sort the occurances but somewhat keep the original mysql sort order.
<br>
<br>Key
<br>[0] Record number
<br>&nbsp; &nbsp;&nbsp; [0] Record ID
<br>&nbsp; &nbsp;&nbsp; [1] Source Table
<br>&nbsp; &nbsp;&nbsp; [2] No of Occurances Pinged
<br>
<br>&nbsp; ---------------------------
<br>
<br>[0] 
<br>&nbsp; &nbsp;&nbsp; [0] 24530
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[1] 
<br>&nbsp; &nbsp;&nbsp; [0] 24400
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[2] 
<br>&nbsp; &nbsp;&nbsp; [0] 24240
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 4
<br>
<br>[3] 
<br>&nbsp; &nbsp;&nbsp; [0] 243422
<br>&nbsp; &nbsp;&nbsp; [1] Classifieds
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[4] 
<br>&nbsp; &nbsp;&nbsp; [0] 243100
<br>&nbsp; &nbsp;&nbsp; [1] Classifieds
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>After running... 
<br>
<br><span class="default">&lt;?php
<br>sort_2d_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"DESC"</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>We have...
<br>
<br>[0] 
<br>&nbsp; &nbsp;&nbsp; [0] 24240
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 4
<br>
<br>[1] 
<br>&nbsp; &nbsp;&nbsp; [0] 24530
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[2] 
<br>&nbsp; &nbsp;&nbsp; [0] 24400
<br>&nbsp; &nbsp;&nbsp; [1] Blogs
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[3] 
<br>&nbsp; &nbsp;&nbsp; [0] 243422
<br>&nbsp; &nbsp;&nbsp; [1] Classifieds
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>[4] 
<br>&nbsp; &nbsp;&nbsp; [0] 243100
<br>&nbsp; &nbsp;&nbsp; [1] Classifieds
<br>&nbsp; &nbsp;&nbsp; [2] 1
<br>
<br>Might be useful to someone...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73740">  
  <a class="name">
  <strong class="user"><em>mip at ycn dot com</em></strong></a><div class="date" title="2007-03-08 05:37"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73740">
<div class="phpcode"><code><span class="html">
Ever wounder what array_splice is doing to your references, then try this little script and see the output.<br><br><span class="default">&lt;?php<br><br>$a </span><span class="keyword">= </span><span class="string">"a"</span><span class="keyword">;<br></span><span class="default">$b </span><span class="keyword">= </span><span class="string">"b"</span><span class="keyword">;<br></span><span class="default">$c </span><span class="keyword">= </span><span class="string">"c"</span><span class="keyword">;<br></span><span class="default">$d </span><span class="keyword">= </span><span class="string">"d"</span><span class="keyword">;<br></span><span class="default">$arr </span><span class="keyword">= array();<br></span><span class="default">$arr</span><span class="keyword">[] =&amp; </span><span class="default">$a</span><span class="keyword">;<br></span><span class="default">$arr</span><span class="keyword">[] =&amp; </span><span class="default">$b</span><span class="keyword">;<br></span><span class="default">$arr</span><span class="keyword">[] =&amp; </span><span class="default">$c</span><span class="keyword">;<br></span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,array(</span><span class="default">$d</span><span class="keyword">));<br></span><span class="default">$sec_arr </span><span class="keyword">= array();<br></span><span class="default">$sec_arr</span><span class="keyword">[] =&amp; </span><span class="default">$d</span><span class="keyword">;<br></span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$sec_arr</span><span class="keyword">);<br><br></span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"test"</span><span class="keyword">; </span><span class="comment">// should be $a<br></span><span class="default">$arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"test2"</span><span class="keyword">; </span><span class="comment">// should be $b<br></span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"this be d?"</span><span class="keyword">; </span><span class="comment">// should be $d<br></span><span class="default">$arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"or this be d?"</span><span class="keyword">; </span><span class="comment">// should be $d<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>The output will be (PHP 4.3.3):<br><br>array(5) {<br>&nbsp; [0]=&gt;<br>&nbsp; &amp;string(4) "test"<br>&nbsp; [1]=&gt;<br>&nbsp; &amp;string(10) "this be d?"<br>&nbsp; [2]=&gt;<br>&nbsp; string(13) "or this be d?"<br>&nbsp; [3]=&gt;<br>&nbsp; &amp;string(5) "test2"<br>&nbsp; [4]=&gt;<br>&nbsp; &amp;string(1) "c"<br>}<br>string(4) "test"<br>string(5) "test2"<br>string(10) "this be d?"<br><br>So array_splice is reference safe, but you have to be careful about the generation of the replacement array.<br><br>have fun, cheers!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85904">  
  <a class="name">
  <strong class="user"><em>madmax at max-worlds dot net</em></strong></a><div class="date" title="2008-09-23 06:23"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85904">
<div class="phpcode"><code><span class="html">
Note:&nbsp; If replacement is not an array, it will be typecast to one (i.e. (array) $parameter). This may result in unexpected behavior when using an object replacement .&nbsp; 
<br>
<br>Example :
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">A</span><span class="keyword">()
<br>{
<br>&nbsp; &nbsp; private </span><span class="default">$a</span><span class="keyword">;
<br>&nbsp; &nbsp; private </span><span class="default">$b</span><span class="keyword">;
<br>&nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="string">"bar"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$array </span><span class="keyword">= array();
<br></span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, new </span><span class="default">A</span><span class="keyword">());
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Outputs :
<br>
<br>Array : Array
<br>{
<br>&nbsp; &nbsp; [0] =&gt; foo
<br>&nbsp; &nbsp; [1] =&gt; bar
<br>}
<br>
<br>Solution : Enforce the array() on the object.
<br>
<br><span class="default">&lt;?php
<br>array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array(new </span><span class="default">Object</span><span class="keyword">());
<br></span><span class="default">?&gt;
<br></span>
<br>Source : <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=44485</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="26744">  
  <a class="name">
  <strong class="user"><em>tsunaquake DOESNTLIKESPAM @ wp DOT pl</em></strong></a><div class="date" title="2002-11-11 10:56"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26744">
<div class="phpcode"><code><span class="html">
It is possible to use a string instead of offset, eg if you want to deletre the entry $myArray['entry'] then you can simply do it like this:
<br>
<br><span class="default">&lt;?php
<br>array_splice</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">, </span><span class="string">'entry'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Note that you can use unset($myArray['entry']) as well but then, it doesn't enable you to remove more than one entry and it doesn't replace anything in the array, if that's what you intend to do.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="18247">  
  <a class="name">
  <strong class="user"><em>leingang AT math DOT rutgers DOT edu</em></strong></a><div class="date" title="2002-01-15 07:32"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom18247">
<div class="phpcode"><code><span class="html">
array_splice resets the internal pointer of $input.&nbsp; In fact, many array functions do this.&nbsp; Caveat programmor!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91923">  
  <a class="name">
  <strong class="user"><em>strata_ranger at hotmail dot com</em></strong></a><div class="date" title="2009-07-01 11:53"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91923">
<div class="phpcode"><code><span class="html">
Should you want a similar function for splicing strings together, here is a rough equivalent:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">str_splice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$splice</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$input </span><span class="keyword">= (string)</span><span class="default">$input</span><span class="keyword">;<br>&nbsp; </span><span class="default">$splice </span><span class="keyword">= (string)</span><span class="default">$splice</span><span class="keyword">;<br>&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; <br>&nbsp; </span><span class="comment">// Offset handling (negative values measure from end of string)<br>&nbsp; </span><span class="keyword">if (</span><span class="default">$offset</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">) </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$count </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">;<br><br>&nbsp; </span><span class="comment">// Length handling (positive values measure from $offset; negative, from end of string; omitted = end of string)<br>&nbsp; </span><span class="keyword">if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">)) </span><span class="default">$length </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">;<br>&nbsp; elseif (</span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">)&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">-</span><span class="default">$offset</span><span class="keyword">+</span><span class="default">$length</span><span class="keyword">;<br><br>&nbsp; </span><span class="comment">// Do the splice<br>&nbsp; </span><span class="keyword">return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">) . </span><span class="default">$splice </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">+</span><span class="default">$length</span><span class="keyword">);<br>}<br><br></span><span class="default">$string </span><span class="keyword">= </span><span class="string">"The fox jumped over the lazy dog."</span><span class="keyword">;<br><br></span><span class="comment">// Outputs "The quick brown fox jumped over the lazy dog."<br></span><span class="keyword">echo </span><span class="default">str_splice</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">"quick brown "</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Obviously this is not for cases where all you need to do is a simple search-and-replace.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.array-splice.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:44 GMT -->


</body></html>