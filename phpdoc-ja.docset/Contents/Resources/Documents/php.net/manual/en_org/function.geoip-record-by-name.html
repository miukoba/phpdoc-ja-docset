<html><!-- Mirrored from php.net/manual/en/function.geoip-record-by-name.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:36:42 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>geoip_record_by_name</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.geoip-record-by-name.html">
 <link rel="shorturl" href="http://php.net/geoip-record-by-name">
 <link rel="alternate" href="http://php.net/geoip-record-by-name" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.geoip.html">
 <link rel="prev" href="function.geoip-org-by-name.html">
 <link rel="next" href="function.geoip-region-by-name.html">

 <link rel="alternate" href="function.geoip-record-by-name.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.geoip-record-by-name.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.geoip-record-by-name.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.geoip-record-by-name.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.geoip-record-by-name.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.geoip-record-by-name.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.geoip-record-by-name.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.geoip-record-by-name.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.geoip-record-by-name.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.geoip-record-by-name.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.geoip-record-by-name.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.other.html">Other Basic Extensions</a></li>      <li><a href="book.geoip.html">GeoIP</a></li>      <li><a href="ref.geoip.html">GeoIP Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.geoip-record-by-name" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">geoip_record_by_name</h1>
  <p class="verinfo">(PECL geoip &gt;= 0.2.0)</p><p class="refpurpose"><span class="refname">geoip_record_by_name</span> â€” <span class="dc-title">Returns the detailed City information found in the GeoIP Database</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.geoip-record-by-name-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>geoip_record_by_name</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$hostname</code></span>
   )</div>


  <p class="para rdfs-comment">
   The <span class="function"><strong>geoip_record_by_name()</strong></span> function will return the
   record information corresponding to a hostname or an IP address.
  </p>
  <p class="para">
   This function is available for both GeoLite City Edition and commercial GeoIP
   City Edition. A warning will be issued if the proper database cannot be
   located.
  </p>
  <p class="para">
   The names of the different keys of the returning associative array are as follows:
  </p>
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      "continent_code" -- Two letter continent code (as of version 1.0.4 with 
      libgeoip 1.4.3 or newer)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "country_code" -- Two letter country code (see
      <span class="function"><a href="function.geoip-country-code-by-name.html" class="function">geoip_country_code_by_name()</a></span>)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "country_code3" -- Three letter country code (see
      <span class="function"><a href="function.geoip-country-code3-by-name.html" class="function">geoip_country_code3_by_name()</a></span>)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "country_name" -- The country name (see
      <span class="function"><a href="function.geoip-country-name-by-name.html" class="function">geoip_country_name_by_name()</a></span>)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "region" -- The region code (ex: CA for California)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "city" -- The city.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "postal_code" -- The Postal Code, FSA or Zip Code.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "latitude" -- The Latitude as signed double.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "longitude" -- The Longitude as signed double.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "dma_code" -- Designated Market Area code (USA and Canada only)
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      "area_code" -- The PSTN area code (ex: 212)
     </span>
    </li>
   </ul>
  <p></p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.geoip-record-by-name-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">hostname</code></dt>

     <dd>

      <p class="para">
       The hostname or IP address whose record is to be looked-up.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.geoip-record-by-name-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the associative array on success, or <strong><code>FALSE</code></strong> if the address 
   cannot be found in the database.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.geoip-record-by-name-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.0.4</td>
       <td>
        Adding the continent_code with GeoIP Library 1.4.3 or newer only
       </td>
      </tr>

      <tr>
       <td>1.0.3</td>
       <td>
        Adding country_code3 and country_name
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.geoip-record-by-name-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3863">
    <p><strong>Example #1 A <span class="function"><strong>geoip_record_by_name()</strong></span> example</strong></p>
    <div class="example-contents"><p>
     This will print the array containing the record of host example.com.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$record&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">geoip_record_by_name</span><span style="color: #007700">(</span><span style="color: #DD0000">'www.example.com'</span><span style="color: #007700">);<br>if&nbsp;(</span><span style="color: #0000BB">$record</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$record</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [continent_code] =&gt; NA
    [country_code] =&gt; US
    [country_code3] =&gt; USA
    [country_name] =&gt; United States
    [region] =&gt; CA
    [city] =&gt; Marina Del Rey
    [postal_code] =&gt; 
    [latitude] =&gt; 33.9776992798
    [longitude] =&gt; -118.435096741
    [dma_code] =&gt; 803
    [area_code] =&gt; 310
)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="112120">  
  <a class="name">
  <strong class="user"><em>etbwebdesign.com</em></strong></a><div class="date" title="2013-05-07 03:42"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112120">
<div class="phpcode"><code><span class="html">
I know this may be obvious to some but I thought I would post it anyway to help others. The GEOIP section of the PHP site is a bit limited in useful tips/documentation other than the initial functions and examples.<br><br>If you are trying to get information about the specific user visiting your site, you should use their IP address via the remote address in the GEOIP function. In addition here are some useful bits of code to pull certain information from the function.<br><span class="default">&lt;?php<br></span><span class="comment"># Collect a specific users GEOIP info<br></span><span class="default">$info </span><span class="keyword">= </span><span class="default">geoip_record_by_name</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">]);<br></span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$info</span><span class="keyword">);<br><br></span><span class="comment"># To get the info from one specific field<br></span><span class="default">$country </span><span class="keyword">= </span><span class="default">$info</span><span class="keyword">[</span><span class="string">'country_name'</span><span class="keyword">];<br>echo </span><span class="default">$country</span><span class="keyword">;<br><br></span><span class="comment"># To combine information from the array into a string<br></span><span class="default">$info </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$info</span><span class="keyword">);<br>echo </span><span class="default">$info</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Note on field in this array is NOT included, the connection speed of the user. To find the connection speed/connection type the visitor has, you can use the geoip_id_by_name() function. Lastly it is a good idea on whatever platform you are using GEOIP on to make sure it's data is up-to-date. On most Linux/UNIX systems with terminal you can use "pear update-channels" and "pecl update-channels" commands to keep your libraries updated. This is a good idea because GEOIP databases and country/location codes often change over time.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107150">  
  <a class="name">
  <strong class="user"><em>wouter dot berben at ignitione dot com</em></strong></a><div class="date" title="2012-01-11 01:04"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107150">
<div class="phpcode"><code><span class="html">
This function returns a PHP Notice when a address can not be found.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114177">  
  <a class="name">
  <strong class="user"><em>bogdan at grabinski dot com</em></strong></a><div class="date" title="2014-01-21 05:02"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114177">
<div class="phpcode"><code><span class="html">
I use this additional code in my error handler class to suppress "PHP Notice" send by the function geoip_record_by_name() in case of IP not found. No e-mails or echo on display is welcome for this notice in development environment. <br><br>public static function Handler($errNo, $errStr, $errFile, $errLine){<br>&nbsp;&nbsp; $backtrace = ErrorHandler::GetBacktrace(2);<br>&nbsp;&nbsp; // detection of unwelcome&nbsp; PHP Notice and its ignoring.<br>&nbsp;&nbsp; if($errNo == E_NOTICE &amp;&amp; preg_match('/^geoip_record_by_name.*Host.*not found$/', $errStr)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>The rest of normal error handler code remains.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.geoip-record-by-name.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:36:43 GMT -->


</body></html>