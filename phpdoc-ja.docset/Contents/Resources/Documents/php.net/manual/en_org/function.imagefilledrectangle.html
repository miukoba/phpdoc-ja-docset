<html><!-- Mirrored from php.net/manual/en/function.imagefilledrectangle.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:53 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>imagefilledrectangle</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imagefilledrectangle.html">
 <link rel="shorturl" href="http://php.net/imagefilledrectangle">
 <link rel="alternate" href="http://php.net/imagefilledrectangle" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.image.html">
 <link rel="prev" href="function.imagefilledpolygon.html">
 <link rel="next" href="function.imagefilltoborder.html">

 <link rel="alternate" href="function.imagefilledrectangle.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.imagefilledrectangle.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.imagefilledrectangle.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.imagefilledrectangle.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.imagefilledrectangle.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.imagefilledrectangle.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.imagefilledrectangle.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.imagefilledrectangle.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.imagefilledrectangle.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.imagefilledrectangle.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.imagefilledrectangle.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.utilspec.image.html">Image Processing and Generation</a></li>      <li><a href="book.image.html">GD</a></li>      <li><a href="ref.image.html">GD and Image Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.imagefilledrectangle" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagefilledrectangle</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imagefilledrectangle</span> — <span class="dc-title">Draw a filled rectangle</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagefilledrectangle-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagefilledrectangle</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$x1</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$y1</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$x2</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$y2</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span>
   )</div>

  <p class="para rdfs-comment">
   Creates a rectangle filled with <code class="parameter">color</code> in the given
   <code class="parameter">image</code> starting at point 1 and ending at point 2.
   0, 0 is the top left corner of the image.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagefilledrectangle-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    <dt>
<code class="parameter">
image</code></dt>
<dd>
<p class="para">An image resource, returned by one of the image creation functions,
such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">x1</code></dt>

     <dd>

      <p class="para">
       x-coordinate for point 1.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y1</code></dt>

     <dd>

      <p class="para">
       y-coordinate for point 1.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">x2</code></dt>

     <dd>

      <p class="para">
       x-coordinate for point 2.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y2</code></dt>

     <dd>

      <p class="para">
       y-coordinate for point 2.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">color</code></dt>

     <dd>

      <p class="para">
       The fill color. A color identifier created with 
       <span class="function"><a href="function.imagecolorallocate.html" class="function">imagecolorallocate()</a></span>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagefilledrectangle-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagefilledrectangle-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3323">
    <p><strong>Example #1 <span class="function"><strong>imagefilledrectangle()</strong></span> usage</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;55x30&nbsp;image<br></span><span style="color: #0000BB">$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">55</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">30</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$white&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Draw&nbsp;a&nbsp;white&nbsp;rectangle<br></span><span style="color: #0000BB">imagefilledrectangle</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">25</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$white</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Save&nbsp;the&nbsp;image<br></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./imagefilledrectangle.png'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagefilledrectangle.png" alt="Output of example : imagefilledrectangle()" width="55" height="30">
     </div>
    </div>
   </div>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="100111">  
  <a class="name">
  <strong class="user"><em>Tobi</em></strong></a><div class="date" title="2010-09-25 02:48"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100111">
<div class="phpcode"><code><span class="html">
It looks like there are waves beetween the points, but it's straight.<br><br><span class="default">&lt;?php<br>$maxwert </span><span class="keyword">= </span><span class="default">300</span><span class="keyword">;<br></span><span class="default">$size </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$maxwert</span><span class="keyword">, </span><span class="default">$maxwert</span><span class="keyword">);<br></span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br><br>&nbsp;&nbsp; for(</span><span class="default">$y</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">&lt;</span><span class="default">$maxwert</span><span class="keyword">;</span><span class="default">$y </span><span class="keyword">+= </span><span class="default">$size</span><span class="keyword">){<br>&nbsp; &nbsp;&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">$maxwert</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">+=</span><span class="default">$size</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">, </span><span class="default">$g</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; </span><span class="default">imagefilledrectangle </span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$size </span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br>&nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp;&nbsp; }<br>&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">); <br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113374">  
  <a class="name">
  <strong class="user"><em>Darren Edale</em></strong></a><div class="date" title="2013-10-03 09:58"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113374">
<div class="phpcode"><code><span class="html">
The issue with filling using a rectangle is caused in your code by having alpha blending turned on before rendering the filled rectangle. Alpha blending causes what you draw on the image to be blended with whatever is already on the image according to the alpha channels of each. Therefore, because blending is on, and because the rectangle's fill colour is completely transparent, the blending of the existing image content with the transparent rectangle results in no change to the existing image.<br><br>With blending off, when drawing to the image what you draw completely replaces what is already there. So, drawing the rectangle in this case results in the original content of the image being completely replaced with a transparent rectangle.<br><br>So in order to use imagefilledrectangle() to erase an image to transparency, you need to turn off alpha blending first.<br><br>I guess the reason imagefill() works with alpha blending on is because it does not perform any alpha blending - it always works without alpha blending regardless of the setting. I suspect there are reasons for this to do with alpha channels complicating edge detection.<br><br>I would recommend using imagefilledrectangle() to create a blank transparent image resource instead of imagefill() because it is undoubtedly much faster in probably all cases.<br><br>Here is some example code to blank an image to transparent, assuming $im is a successfully created image:<br><br><span class="default">&lt;?php<br>$transparent </span><span class="keyword">= </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">127</span><span class="keyword">);<br></span><span class="default">imagealphablending</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">, </span><span class="default">$imagesy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">, </span><span class="default">$transparent</span><span class="keyword">);<br></span><span class="default">imagecolordeallocate</span><span class="keyword">(</span><span class="default">$transparent</span><span class="keyword">);<br></span><span class="default">imagealphablending</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83036">  
  <a class="name">
  <strong class="user"><em>mike at delenk dot net</em></strong></a><div class="date" title="2008-05-07 12:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83036">
<div class="phpcode"><code><span class="html">
The examples in function imagettfbbox() gave me many problems because of misunderstand of how the text is positionned in the box.<br><br>So I did a new example:<br>- writing a text<br>- in the correct position in its box<br>- with a padding around<br><br>Enjoy !<br>Mike<br><br>&lt;?<br><br>// some settings<br>&nbsp; &nbsp; $angle = 0;<br>&nbsp; &nbsp; $text = 'Ühg 0123456789';<br>&nbsp; &nbsp; $font_face = dirname(__FILE__).'/verdana.ttf'; // put the file in the same directory<br>&nbsp; &nbsp; $font_size = 9; //(int) pixels in GD 1, or points in GD 2<br><br>// retrieves box frame<br>&nbsp; &nbsp; $box = imagettfbbox($font_size, 0, $font_face, $text);<br>&nbsp; &nbsp; $bottom_left_x = $box[0]; // used below<br>&nbsp; &nbsp; $bottom_left_y = $box[1]; // used below<br>&nbsp; &nbsp; $bottom_right_x = $box[2]; // used below<br>&nbsp; &nbsp; $bottom_right_y = $box[3];<br>&nbsp; &nbsp; $top_right_x = $box[4];<br>&nbsp; &nbsp; $top_right_y = $box[5];<br>&nbsp; &nbsp; $top_left_x = $box[6];<br>&nbsp; &nbsp; $top_left_y = $box[7]; // used below<br><br>// define width and height of the text box<br>&nbsp; &nbsp; $box_w = abs($bottom_left_x) + abs($bottom_right_x);<br>&nbsp; &nbsp; $box_h = abs($bottom_left_y) + abs($top_left_y);<br><br>// add padding<br>&nbsp; &nbsp; $padding_x = 5;<br>&nbsp; &nbsp; $padding_y = 5;<br>&nbsp; &nbsp; $box_w = $box_w + 2 * $padding_x;<br>&nbsp; &nbsp; $box_h = $box_h + 2 * $padding_y;<br><br>// origin of the text = baseline of the first char<br>&nbsp; &nbsp; $text_x = abs($bottom_left_x) -1 + $padding_x;<br>&nbsp; &nbsp; $text_y = $box_h -1 - abs($bottom_left_y) - $padding_y;<br>&nbsp; &nbsp; <br>// mysterious correction for the characters going low like pgjq<br>&nbsp; &nbsp; if(abs($bottom_left_y) &lt;= 1) $box_h--;<br><br>// create the image<br>&nbsp; &nbsp; $img = imagecreatetruecolor($box_w, $box_h);<br> <br>// define some colors<br>&nbsp; &nbsp; $white = imagecolorallocate($img,255,255,255);<br>&nbsp; &nbsp; $black = imagecolorallocate($img,0,0,0);<br>&nbsp; &nbsp; $lightgrey = imagecolorallocate($img, 200, 200, 200);<br>&nbsp; &nbsp; $grey = imagecolorallocate($img,100,100,100);<br>&nbsp; &nbsp; $yellow = imagecolorallocate($img, 0xFF, 0xFF, 0x00);<br> <br>// attribute colors<br>&nbsp; &nbsp; $font_color =&nbsp; $black;<br>&nbsp; &nbsp; $padding_color =&nbsp; $lightgrey;<br>&nbsp; &nbsp; $background_color =&nbsp; $yellow;<br> <br>// fill image with background color<br>&nbsp; &nbsp; imagefill($img, 0, 0, $background_color);<br><br>// fill image with padding color<br>&nbsp; &nbsp; imagefilledrectangle($img, 0, 0, $box_w, $padding_y - 1, $padding_color); // top<br>&nbsp; &nbsp; imagefilledrectangle($img, 0, 0, $padding_x - 1, $box_h - 1, $padding_color); // left<br>&nbsp; &nbsp; imagefilledrectangle($img, 0, $box_h - $padding_y -1, $box_w, $box_h - 1, $padding_color); // bottom<br>&nbsp; &nbsp; imagefilledrectangle($img, $box_w - $padding_x, 0, $box_w - 1, $box_h - 1, $padding_color); // right<br><br>//write text<br>imagettftext($img, $font_size, 0, $text_x, $text_y, $font_color, $font_face, $text);<br><br>//rotate image<br>&nbsp; &nbsp; if ($angle &gt; 0) $img = imagerotate($img, $angle, $white);<br><br>// send header<br>&nbsp; &nbsp; header("Content-type: image/gif");<br> <br>//sends image<br>&nbsp; &nbsp; imagegif($img);<br>&nbsp; &nbsp; imagedestroy($img);<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="65557">  
  <a class="name">
  <strong class="user"><em>administrador(ensaimada)sphoera(punt)com</em></strong></a><div class="date" title="2006-05-03 03:33"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom65557">
<div class="phpcode"><code><span class="html">
I've made a function to make full color gradients:<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// The image must be in truecolor mode!!<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">gradient_region</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$width</span><span class="keyword">, </span><span class="default">$height</span><span class="keyword">,</span><span class="default">$src_color</span><span class="keyword">, </span><span class="default">$dest_color</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_alpha </span><span class="keyword">= (</span><span class="default">$src_color</span><span class="keyword">) &gt;&gt; </span><span class="default">24</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_red </span><span class="keyword">= (</span><span class="default">$src_color </span><span class="keyword">&amp; </span><span class="default">0xFF0000</span><span class="keyword">) &gt;&gt; </span><span class="default">16</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_green </span><span class="keyword">= (</span><span class="default">$src_color </span><span class="keyword">&amp; </span><span class="default">0x00FF00</span><span class="keyword">) &gt;&gt; </span><span class="default">8</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_blue </span><span class="keyword">= (</span><span class="default">$src_color </span><span class="keyword">&amp; </span><span class="default">0x0000FF</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dest_alpha </span><span class="keyword">= (</span><span class="default">$dest_color</span><span class="keyword">) &gt;&gt; </span><span class="default">24</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dest_red </span><span class="keyword">= (</span><span class="default">$dest_color </span><span class="keyword">&amp; </span><span class="default">0xFF0000</span><span class="keyword">) &gt;&gt; </span><span class="default">16</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dest_green </span><span class="keyword">= (</span><span class="default">$dest_color </span><span class="keyword">&amp; </span><span class="default">0x00FF00</span><span class="keyword">) &gt;&gt; </span><span class="default">8</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dest_blue </span><span class="keyword">= (</span><span class="default">$dest_color </span><span class="keyword">&amp; </span><span class="default">0x0000FF</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$inc_alpha </span><span class="keyword">= (</span><span class="default">$dest_alpha </span><span class="keyword">- </span><span class="default">$src_alpha</span><span class="keyword">) / </span><span class="default">$width</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$inc_red </span><span class="keyword">= (</span><span class="default">$dest_red </span><span class="keyword">- </span><span class="default">$src_red</span><span class="keyword">)/</span><span class="default">$width</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$inc_green </span><span class="keyword">= (</span><span class="default">$dest_green </span><span class="keyword">- </span><span class="default">$src_green</span><span class="keyword">)/</span><span class="default">$width</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$inc_blue </span><span class="keyword">= (</span><span class="default">$dest_blue </span><span class="keyword">- </span><span class="default">$src_blue</span><span class="keyword">)/</span><span class="default">$width</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If you need more performance, the step can be increased<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$width</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_alpha </span><span class="keyword">+= </span><span class="default">$inc_alpha</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_blue </span><span class="keyword">+= </span><span class="default">$inc_blue</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_green </span><span class="keyword">+= </span><span class="default">$inc_green</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_red </span><span class="keyword">+= </span><span class="default">$inc_red</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">+</span><span class="default">$height</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$src_red</span><span class="keyword">,</span><span class="default">$src_green</span><span class="keyword">,</span><span class="default">$src_blue</span><span class="keyword">,</span><span class="default">$src_alpha</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>More functions at <a rel="nofollow" target="_blank">http://www.sphoera.com</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="57743">  
  <a class="name">
  <strong class="user"><em>me [a.t.] forestfactory [d.o.t.] de</em></strong></a><div class="date" title="2005-10-12 04:44"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom57743">
<div class="phpcode"><code><span class="html">
As of PHP 5, it seems to be no longer necessary to draw the rectangle from the upper left to the lower right corner. This led me into big trouble porting a script developed under PHP 5 to PHP 4.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42815">  
  <a class="name">
  <strong class="user"><em>michal dot kocarek at seznam dot cz</em></strong></a><div class="date" title="2004-05-30 01:18"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42815">
<div class="phpcode"><code><span class="html">
If you want to draw a rectangle with rounded corners, you can use this simple function... <br>Rectangle starts at x1y1 and ends at x2y2. $radius defines radius of circled corner. <br><br>&lt;?<br><br>function ImageRectangleWithRoundedCorners(&amp;$im, $x1, $y1, $x2, $y2, $radius, $color) {<br>// draw rectangle without corners<br>imagefilledrectangle($im, $x1+$radius, $y1, $x2-$radius, $y2, $color);<br>imagefilledrectangle($im, $x1, $y1+$radius, $x2, $y2-$radius, $color);<br>// draw circled corners<br>imagefilledellipse($im, $x1+$radius, $y1+$radius, $radius*2, $radius*2, $color);<br>imagefilledellipse($im, $x2-$radius, $y1+$radius, $radius*2, $radius*2, $color);<br>imagefilledellipse($im, $x1+$radius, $y2-$radius, $radius*2, $radius*2, $color);<br>imagefilledellipse($im, $x2-$radius, $y2-$radius, $radius*2, $radius*2, $color);<br>}<br><br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39123">  
  <a class="name">
  <strong class="user"><em>booga</em></strong></a><div class="date" title="2004-01-17 05:48"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom39123">
<div class="phpcode"><code><span class="html">
a simple way of using imagerectangle to create a percentage bar<br><br><span class="default">&lt;?php<br></span><span class="comment">//this needs to reside in its own php page<br>//you can include that php page in your html as you would an image:<br>//&lt;IMG SRC="ratingpng.php?rating=25.2" border="0"&gt;<br><br></span><span class="keyword">function </span><span class="default">drawRating</span><span class="keyword">(</span><span class="default">$rating</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">102</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$back </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$border </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$red </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">60</span><span class="keyword">,</span><span class="default">75</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$fill </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">44</span><span class="keyword">,</span><span class="default">81</span><span class="keyword">,</span><span class="default">150</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">101</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">$back</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$rating</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">$fill</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">ImageRectangle</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">101</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">$border</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">imagePNG</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br>}<br><br></span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br></span><span class="default">drawRating</span><span class="keyword">(</span><span class="default">$rating</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71788">  
  <a class="name">
  <strong class="user"><em>Google</em></strong></a><div class="date" title="2006-12-15 01:35"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71788">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">//index.php <br>//set your year, month, daym hour, minute, second you want to cuuntdown to.<br><br>//ONLY CHANGE FROM HERE<br></span><span class="default">$year</span><span class="keyword">=</span><span class="string">"2006"</span><span class="keyword">;<br></span><span class="default">$month</span><span class="keyword">=</span><span class="string">"12"</span><span class="keyword">;<br></span><span class="default">$day</span><span class="keyword">=</span><span class="string">"25"</span><span class="keyword">;<br></span><span class="default">$hour</span><span class="keyword">=</span><span class="string">"00"</span><span class="keyword">;<br></span><span class="default">$minute</span><span class="keyword">=</span><span class="string">"00"</span><span class="keyword">;<br></span><span class="default">$second</span><span class="keyword">=</span><span class="string">"00"</span><span class="keyword">;<br></span><span class="default">$event</span><span class="keyword">=</span><span class="string">"Christmas Day 2006"</span><span class="keyword">;<br><br></span><span class="default">$time</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$hour</span><span class="keyword">, </span><span class="default">$minute</span><span class="keyword">, </span><span class="default">$second</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">);<br><br></span><span class="default">$timecurrent</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">);<br></span><span class="default">$cdtime</span><span class="keyword">=</span><span class="default">$time</span><span class="keyword">-</span><span class="default">$timecurrent</span><span class="keyword">;<br></span><span class="default">$cdmonths</span><span class="keyword">=</span><span class="default">$cddays</span><span class="keyword">/</span><span class="default">30</span><span class="keyword">;<br></span><span class="default">$cdyears</span><span class="keyword">=</span><span class="default">$cddays</span><span class="keyword">/</span><span class="default">365</span><span class="keyword">;<br><br></span><span class="comment">//Used this case only...<br></span><span class="default">$cdminutes</span><span class="keyword">=</span><span class="default">round</span><span class="keyword">(</span><span class="default">$cdtime</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">);<br></span><span class="comment">//cdtime is seconds<br></span><span class="default">$cdhours</span><span class="keyword">=</span><span class="default">round</span><span class="keyword">(</span><span class="default">$cdtime</span><span class="keyword">/</span><span class="default">3600</span><span class="keyword">);<br></span><span class="default">$cddays</span><span class="keyword">=</span><span class="default">round</span><span class="keyword">(</span><span class="default">$cdhours</span><span class="keyword">/</span><span class="default">24</span><span class="keyword">);<br><br></span><span class="comment">//String the date<br></span><span class="default">$currentdate </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'l, F j, Y'</span><span class="keyword">);<br></span><span class="comment">// Set the content-type<br></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br><br></span><span class="comment">// Create the image<br></span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">701</span><span class="keyword">, </span><span class="default">355</span><span class="keyword">);<br><br></span><span class="comment">//Temp BGCOLOR (center of c-finder)<br></span><span class="default">$bg1 </span><span class="keyword">= </span><span class="default">208</span><span class="keyword">;<br></span><span class="default">$bg2 </span><span class="keyword">= </span><span class="default">130</span><span class="keyword">;<br></span><span class="default">$bg3 </span><span class="keyword">= </span><span class="default">208</span><span class="keyword">;<br><br></span><span class="default">$s1 </span><span class="keyword">= </span><span class="default">$bg1 </span><span class="keyword">- </span><span class="default">20</span><span class="keyword">;<br></span><span class="default">$s2 </span><span class="keyword">= </span><span class="default">$bg2 </span><span class="keyword">- </span><span class="default">20</span><span class="keyword">;<br></span><span class="default">$s3 </span><span class="keyword">= </span><span class="default">$bg3 </span><span class="keyword">- </span><span class="default">20</span><span class="keyword">;<br><br></span><span class="default">$t1 </span><span class="keyword">= </span><span class="default">$bg1 </span><span class="keyword">+ </span><span class="default">30</span><span class="keyword">;<br></span><span class="default">$t2 </span><span class="keyword">= </span><span class="default">$bg2 </span><span class="keyword">+ </span><span class="default">30</span><span class="keyword">;<br></span><span class="default">$t3 </span><span class="keyword">= </span><span class="default">$bg3 </span><span class="keyword">+ </span><span class="default">30</span><span class="keyword">;<br><br></span><span class="default">$cArray</span><span class="keyword">=array();<br>&nbsp; &nbsp; </span><span class="default">$c1 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$bg1</span><span class="keyword">, </span><span class="default">$bg2</span><span class="keyword">, </span><span class="default">$bg3</span><span class="keyword">); </span><span class="comment">//Background<br>&nbsp; &nbsp; </span><span class="default">$c8 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">$bg2</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">); </span><span class="comment">//Background<br>&nbsp; &nbsp; </span><span class="default">$c2 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$s1</span><span class="keyword">, </span><span class="default">$s2</span><span class="keyword">, </span><span class="default">$s3</span><span class="keyword">); </span><span class="comment">//Shadow<br>&nbsp; &nbsp; </span><span class="default">$c3 </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$t1</span><span class="keyword">, </span><span class="default">$t2</span><span class="keyword">, </span><span class="default">$t3</span><span class="keyword">); </span><span class="comment">//Text<br><br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">701</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">, </span><span class="default">$c1</span><span class="keyword">);<br><br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">701</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">, </span><span class="default">$c8</span><span class="keyword">);<br><br></span><span class="comment">// The text to draw<br></span><span class="default">$text </span><span class="keyword">= </span><span class="default">$string</span><span class="keyword">;<br></span><span class="comment">// Replace path by your own font path<br></span><span class="default">$fnum </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">);<br></span><span class="default">$font </span><span class="keyword">= </span><span class="string">"/f/font (</span><span class="default">$fnum</span><span class="string">)"</span><span class="keyword">;<br><br></span><span class="comment">// Add some shadow to the text<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">42</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"Today is:"</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"Today is:"</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">92</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"...</span><span class="default">$currentdate</span><span class="string">..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">90</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"...</span><span class="default">$currentdate</span><span class="string">..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">142</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"So there are exactly:"</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">140</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"So there are exactly:"</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">192</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cddays</span><span class="string"> with just..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">190</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cddays</span><span class="string"> days with just..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">242</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cdminutes</span><span class="string"> minutes and only..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">240</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cdminutes</span><span class="string"> minutes and only..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">292</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cdseconds</span><span class="string"> seconds until..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">290</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"</span><span class="default">$cdseconds</span><span class="string"> seconds until..."</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">29</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">17</span><span class="keyword">, </span><span class="default">342</span><span class="keyword">, </span><span class="default">$c2</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"- + </span><span class="default">$event</span><span class="string"> + -"</span><span class="keyword">);<br></span><span class="default">imagettftext</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">28</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">340</span><span class="keyword">, </span><span class="default">$c3</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="string">"- + </span><span class="default">$event</span><span class="string"> + -"</span><span class="keyword">);<br><br></span><span class="comment">// Using imagepng() results in clearer text compared with imagejpeg()<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70731">  
  <a class="name">
  <strong class="user"><em>info at 555webdesign dot com</em></strong></a><div class="date" title="2006-10-25 10:13"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70731">
<div class="phpcode"><code><span class="html">
Thanks terereese. it took me over two hours to figure that one out.<br>it worked locally: imagefilledrectangle(imagresource, int x1, int x2, int y1, inty2, color)<br><br>BUT remote on my provider only this worked: imagefilledrectangle(imagresource, int x1, int y2, int x1, inty1, color)<br><br>Any ideas why and where?</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68066">  
  <a class="name">
  <strong class="user"><em>terereese at hotmail dot com</em></strong></a><div class="date" title="2006-07-11 08:02"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68066">
<div class="phpcode"><code><span class="html">
I would like to inform developers about a problem I encountered when trying to use imagefilledrectangle.<br><br>I noted that the order in which the start and end y coordinates are listed is extremely important.<br>as in the statements below.<br>if($this-&gt;d_values[$i]['unit_value'] &lt; 0)<br>imagefilledrectangle($this-&gt;img,$position_x, $start_y , $end_x, $end_y ,$d_color);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>else&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>imagefilledrectangle($this-&gt;img, $position_x,$ end_y , $end_x, $start_y,$d_colour);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br><br>Thanks</span>
</code></div>
  </div>
 </div>
  <div class="note" id="17216">  
  <a class="name">
  <strong class="user"><em>saramg at uclink dot berkeley dot edu</em></strong></a><div class="date" title="2001-11-29 07:42"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom17216">
<div class="phpcode"><code><span class="html">
Important quirk to note:
<br>
<br>While imagerectangle will allow you to use a different order of your coordinates (such as bottom-left to upper-right), imagefilledrectangle will only work correctly if you use top-left to bottom-right as indicated in the docs.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109787">  
  <a class="name">
  <strong class="user"><em>olivier dot pons at google dot mail dot com</em></strong></a><div class="date" title="2012-08-21 09:48"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109787">
<div class="phpcode"><code><span class="html">
I wanted to clear an image, and set it to full transparent.
<br>imagefilledrectangle() seems to ignore alpha channel and alpha blending.
<br>Use imagefill() instead:
<br>
<br><span class="default">&lt;?php
<br>$w </span><span class="keyword">= </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);
<br></span><span class="default">$h </span><span class="keyword">= </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);
<br></span><span class="default">$grande </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">);
<br>
<br></span><span class="comment">// Alpha blending on to use channel alpha
<br></span><span class="default">imagealphablending</span><span class="keyword">(</span><span class="default">$grande</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);
<br></span><span class="comment">// Allocate a transparent color and fill the new image with it.
<br>// Without this the image will have a black background instead
<br>// of being transparent.
<br></span><span class="default">$transparent </span><span class="keyword">= </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$grande</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">127</span><span class="keyword">);
<br></span><span class="comment">// transparent alpha will be _ignored_:
<br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$grande</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$transparent</span><span class="keyword">);
<br></span><span class="comment">// ok, transparent will be used and set whole alpha channel to transparent:
<br></span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$grande</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$transparent</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="20333">  
  <a class="name">
  <strong class="user"><em>ivank at 2xtreme dot net</em></strong></a><div class="date" title="2002-03-30 04:34"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom20333">
<div class="phpcode"><code><span class="html">
As stated above, it needs to go from the top left corner to the bottom right corner. Just use this to flip it if neccessary:<br><br>// flip them if neccessary (x3, y3 are temp vars)<br>if($x1 &gt; $x2) { $x3 = $x2; $x2 = $x1; $x1 = $x3; }<br>if($y1 &gt; $y2) { $y3 = $y2; $y2 = $y1; $y1 = $y3; }<br>ImageFilledRectangle($im, $x1, $y1, $x2, $y2, $color);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96871">  
  <a class="name">
  <strong class="user"><em>Mice32</em></strong></a><div class="date" title="2010-03-19 04:57"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96871">
<div class="phpcode"><code><span class="html">
That script draws Serpinski's carpet:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; set_time_limit</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Iterations
<br>&nbsp; &nbsp; </span><span class="default">$xy </span><span class="keyword">= </span><span class="default">500</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Picture size
<br>
<br>&nbsp; &nbsp; </span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$xy</span><span class="keyword">, </span><span class="default">$xy</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$white </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$xy</span><span class="keyword">, </span><span class="default">$xy</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);
<br>&nbsp; &nbsp; function </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$img</span><span class="keyword">, </span><span class="default">$white</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$n </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) return;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$a1 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$a </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">$c </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c1 </span><span class="keyword">= </span><span class="default">$a </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$c </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$b1 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$b </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">$d </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$d1 </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$d </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">;
<br> 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$white</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$b1</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">drawCarpet</span><span class="keyword">(</span><span class="default">$c1</span><span class="keyword">, </span><span class="default">$d1</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Type: image/png'</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.imagefilledrectangle.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:53 GMT -->


</body></html>