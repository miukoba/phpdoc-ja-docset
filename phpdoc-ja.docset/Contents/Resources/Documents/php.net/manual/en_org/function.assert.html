<html><!-- Mirrored from php.net/manual/en/function.assert.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:11 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>assert</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.assert.html">
 <link rel="shorturl" href="http://php.net/assert">
 <link rel="alternate" href="http://php.net/assert" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.info.html">
 <link rel="prev" href="function.assert-options.html">
 <link rel="next" href="function.cli-get-process-title.html">

 <link rel="alternate" href="function.assert.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.assert.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.assert.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.assert.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.assert.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.assert.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.assert.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.assert.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.assert.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.assert.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.assert.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>      <li><a href="book.info.html">PHP Options/Info</a></li>      <li><a href="ref.info.html">PHP Options/Info Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.assert" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">assert</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">assert</span> — <span class="dc-title">Checks if assertion is <strong><code>FALSE</code></strong></span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.assert-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>assert</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$assertion</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$description</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>assert()</strong></span> will check the given
   <code class="parameter">assertion</code> and take appropriate action if
   its result is <strong><code>FALSE</code></strong>.
  </p>
  <p class="para">
   If the <code class="parameter">assertion</code> is given as a string it
   will be evaluated as PHP code by <span class="function"><strong>assert()</strong></span>.
   The advantages of a string <code class="parameter">assertion</code> are
   less overhead when assertion checking is off and messages
   containing the <code class="parameter">assertion</code> expression when
   an assertion fails. This means that if you pass a boolean condition
   as <code class="parameter">assertion</code> this condition will not show up as
   parameter to the assertion function which you may have defined with the
   <span class="function"><a href="function.assert-options.html" class="function">assert_options()</a></span> function, the condition is converted
   to a string before calling that handler function, and the boolean <strong><code>FALSE</code></strong>
   is converted as the empty string.
  </p>
  <p class="para">
   Assertions should be used as a debugging feature only. You may
   use them for sanity-checks that test for conditions that should
   always be <strong><code>TRUE</code></strong> and that indicate some programming errors if not
   or to check for the presence of certain features like extension
   functions or certain system limits and features.
  </p>
  <p class="para">
   Assertions should not be used for normal runtime operations like
   input parameter checks. As a rule of thumb your code should
   always be able to work correctly if assertion checking is not
   activated.
  </p>
  <p class="para">
   The behavior of <span class="function"><strong>assert()</strong></span> may be configured by
   <span class="function"><a href="function.assert-options.html" class="function">assert_options()</a></span> or by .ini-settings described
   in that functions manual page.
  </p>
  <p class="para">
   The <span class="function"><a href="function.assert-options.html" class="function">assert_options()</a></span> function and/or
   <strong><code>ASSERT_CALLBACK</code></strong> configuration directive allow a
   callback function to be set to handle failed assertions.
  </p>
  <p class="para">
   <span class="function"><strong>assert()</strong></span> callbacks are particularly useful for
   building automated test suites because they allow you to easily
   capture the code passed to the assertion, along with information
   on where the assertion was made. While this information can be
   captured via other methods, using assertions makes it much faster
   and easier!
  </p>
  <p class="para">
   The callback function should accept three arguments. The first
   argument will contain the file the assertion failed in. The
   second argument will contain the line the assertion failed on and
   the third argument will contain the expression that failed (if
   any — literal values such as 1 or "two" will not be passed via
   this argument). Users of PHP 5.4.8 and later may also provide a fourth
   optional argument, which will contain the
   <code class="parameter">description</code> given to <span class="function"><strong>assert()</strong></span>, if
   it was set.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.assert-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">assertion</code></dt>

     <dd>

      <p class="para">
       The assertion.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">description</code></dt>

     <dd>

      <p class="para">
       An optional description that will be included in the failure message if
       the <code class="parameter">assertion</code> fails.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.assert-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   <strong><code>FALSE</code></strong> if the assertion is false, <strong><code>TRUE</code></strong> otherwise.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.assert-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.8</td>
       <td>
        The <code class="parameter">description</code> parameter was added. The
        <code class="parameter">description</code> is also now provided to a callback
        function in <strong><code>ASSERT_CALLBACK</code></strong> mode as the fourth
        argument.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.assert-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-497">
    <p><strong>Example #1 Handle a failed assertion with a custom handler</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Active&nbsp;assert&nbsp;and&nbsp;make&nbsp;it&nbsp;quiet<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_ACTIVE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_WARNING</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_QUIET_EVAL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;handler&nbsp;function<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">my_assert_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;hr&gt;Assertion&nbsp;Failed:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;'</span><span style="color: #0000BB">$file</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Line&nbsp;'</span><span style="color: #0000BB">$line</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Code&nbsp;'</span><span style="color: #0000BB">$code</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;&lt;hr&nbsp;/&gt;"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">//&nbsp;Set&nbsp;up&nbsp;the&nbsp;callback<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_CALLBACK</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_assert_handler'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Make&nbsp;an&nbsp;assertion&nbsp;that&nbsp;should&nbsp;fail<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysql_query("")'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-498">
    <p><strong>Example #2 Using a custom handler to print a description</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Active&nbsp;assert&nbsp;and&nbsp;make&nbsp;it&nbsp;quiet<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_ACTIVE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_WARNING</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_QUIET_EVAL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;handler&nbsp;function<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">my_assert_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$desc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Assertion&nbsp;failed&nbsp;at&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #DD0000">:</span><span style="color: #0000BB">$line</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$code</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$desc</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">":&nbsp;</span><span style="color: #0000BB">$desc</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">//&nbsp;Set&nbsp;up&nbsp;the&nbsp;callback<br></span><span style="color: #0000BB">assert_options</span><span style="color: #007700">(</span><span style="color: #0000BB">ASSERT_CALLBACK</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'my_assert_handler'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Make&nbsp;an&nbsp;assertion&nbsp;that&nbsp;should&nbsp;fail<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #DD0000">'2&nbsp;&lt;&nbsp;1'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">assert</span><span style="color: #007700">(</span><span style="color: #DD0000">'2&nbsp;&lt;&nbsp;1'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Two&nbsp;is&nbsp;less&nbsp;than&nbsp;one'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Assertion failed at test.php:21: 2 &lt; 1
Assertion failed at test.php:22: 2 &lt; 1: Two is less than one
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.assert-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.assert-options.html" class="function" rel="rdfs-seeAlso">assert_options()</a> - Set/get the various assert flags</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="78176">  
  <a class="name">
  <strong class="user"><em>Krzysztof &amp;#39;ChanibaL&amp;#39; Bociurko</em></strong></a><div class="date" title="2007-10-01 06:13"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78176">
<div class="phpcode"><code><span class="html">
Note that func_get_args() should be used carefully and never in a string! For example:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">asserted_normal</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">assert</span><span class="keyword">(</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">func_get_args</span><span class="keyword">()));<br>&nbsp; &nbsp; }<br>function </span><span class="default">asserted_string</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">assert</span><span class="keyword">(</span><span class="string">'var_dump(func_get_args())'</span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br><span class="default">&lt;?php asserted_normal</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">) </span><span class="default">?&gt;</span> prints<br>array(2) {<br>&nbsp; [0]=&gt;<br>&nbsp; int(1)<br>&nbsp; [1]=&gt;<br>&nbsp; int(2)<br>}<br><br>but <span class="default">&lt;?php asserted_string</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">) </span><span class="default">?&gt;</span> prints<br>array(1) {<br>&nbsp; [0]=&gt;<br>&nbsp; string(25) "var_dump(func_get_args())"<br>}<br><br>This is because of that the string passed to assert() is being evaled inside assert, and not your function. Also, note that this works correctly, because of the eval scope:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">asserted_evaled_string</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">assert</span><span class="keyword">(eval(</span><span class="string">'var_dump(func_get_args())'</span><span class="keyword">));<br>&nbsp; &nbsp; }<br></span><span class="default">asserted_evaled_string</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>array(2) {<br>&nbsp; [0]=&gt;<br>&nbsp; int(5)<br>&nbsp; [1]=&gt;<br>&nbsp; int(6)<br>}<br><br>(oh, and for simplicity's sake the evaled code doesn't return true, so&nbsp; don't worry that it fails assertion...)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113276">  
  <a class="name">
  <strong class="user"><em>office dot stojmenovic at gmail dot com</em></strong></a><div class="date" title="2013-09-20 12:35"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113276">
<div class="phpcode"><code><span class="html">
Example from Ikac Framework how they use assert()<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * Set Assertion Debug<br>&nbsp; &nbsp;&nbsp; * <br>&nbsp; &nbsp;&nbsp; * This method will check the given assertion and take appropriate -<br>&nbsp; &nbsp;&nbsp; * action if its result is FALSE. <br>&nbsp; &nbsp;&nbsp; * <br>&nbsp; &nbsp;&nbsp; * This file is part of Ikac Framework.<br>&nbsp; &nbsp;&nbsp; * <br>&nbsp; &nbsp;&nbsp; * @package Ikac Framework<br>&nbsp; &nbsp;&nbsp; * @author Ivan Stojmenovic Ikac &lt;contact.@stojmenovic.info&gt;<br>&nbsp; &nbsp;&nbsp; * <br>&nbsp; &nbsp;&nbsp; * @param mixed $assertion&nbsp; The assertion.<br>&nbsp; &nbsp;&nbsp; * @param mixed $callback Callback to call on failed assertions<br>&nbsp; &nbsp;&nbsp; * @param array $options&nbsp; Set the various control options or just query their current settings. <br>&nbsp; &nbsp;&nbsp; * @param string $description&nbsp; An optional description that will be included in the failure message if the assertion fails. <br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">public function </span><span class="default">setAssertionDebug</span><span class="keyword">(</span><span class="default">$assertion</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">, array </span><span class="default">$options</span><span class="keyword">, </span><span class="default">$description </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$options</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$options </span><span class="keyword">AS </span><span class="default">$option </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">assert_options</span><span class="keyword">(</span><span class="default">$option</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$callback</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">assert_options</span><span class="keyword">(</span><span class="default">ASSERT_CALLBACK</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">assert</span><span class="keyword">(</span><span class="default">$assertion</span><span class="keyword">, </span><span class="default">$description</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">?&gt;<br></span><br>How to use:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">use </span><span class="default">Ikac</span><span class="keyword">\</span><span class="default">Component</span><span class="keyword">\</span><span class="default">SystemBehaviour</span><span class="keyword">\</span><span class="default">OptionsInfo</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; </span><span class="default">$system </span><span class="keyword">= new </span><span class="default">OptionsInfo</span><span class="keyword">();<br><br>&nbsp; &nbsp; &nbsp; </span><span class="default">$option </span><span class="keyword">= array(</span><span class="default">ASSERT_ACTIVE </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,</span><span class="default">ASSERT_WARNING </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,</span><span class="default">ASSERT_QUIET_EVAL </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">);<br><br>&nbsp; &nbsp;&nbsp; </span><span class="default">$system</span><span class="keyword">-&gt;</span><span class="default">setAssertionDebug</span><span class="keyword">(</span><span class="string">'2&lt;1'</span><span class="keyword">, function(){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"Assertion failed"</span><span class="keyword">;<br>&nbsp; &nbsp;&nbsp; }, </span><span class="default">$option</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98521">  
  <a class="name">
  <strong class="user"><em>uramihsayibok, gmail, com</em></strong></a><div class="date" title="2010-06-20 01:48"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98521">
<div class="phpcode"><code><span class="html">
There's a nice advantage to giving assert() some code to execute, as a string, rather than a simple true/false value: commenting.<br><br><span class="default">&lt;?php<br><br>assert</span><span class="keyword">(</span><span class="string">'is_int($int) /* $int parameter must be an int, not just numeric */'</span><span class="keyword">);<br><br></span><span class="comment">// and my personal favorite<br></span><span class="default">assert</span><span class="keyword">(</span><span class="string">'false /* not yet implemented */'</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>The comment will show up in the output (or in your assertion handler) and doesn't require someone debugging to go through your code trying to figure out why the assertion happened. That's no excuse to not comment your code, of course.<br><br>You need to use a block comment (/*...*/) because a line comment (//...) creates an "unexpected $end" parse error in the evaluated code. Bug? Could be.<br>(You can get around it with "false // not yet implemented\n" but that screws up the message)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84760">  
  <a class="name">
  <strong class="user"><em>hodgman at ali dot com dot au</em></strong></a><div class="date" title="2008-07-28 09:19"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84760">
<div class="phpcode"><code><span class="html">
As noted on Wikipedia - "assertions are primarily a development tool, they are often disabled when a program is released to the public." and "Assertions should be used to document logically impossible situations and discover programming errors— if the 'impossible' occurs, then something fundamental is clearly wrong. This is distinct from error handling: most error conditions are possible, although some may be extremely unlikely to occur in practice. Using assertions as a general-purpose error handling mechanism is usually unwise: assertions do not allow for graceful recovery from errors, and an assertion failure will often halt the program's execution abruptly. Assertions also do not display a user-friendly error message."<br><br>This means that the advice given by "gk at proliberty dot com" to force assertions to be enabled, even when they have been disabled manually, goes against best practices of only using them as a development tool.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69647">  
  <a class="name">
  <strong class="user"><em>mail&lt;at&gt;aaron-mueller.de</em></strong></a><div class="date" title="2006-09-13 10:51"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69647">
<div class="phpcode"><code><span class="html">
Here is a simple demonstration of Design By Contract with PHP<br><br><span class="default">&lt;?php<br><br>assert_options</span><span class="keyword">(</span><span class="default">ASSERT_ACTIVE</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br></span><span class="default">assert_options</span><span class="keyword">(</span><span class="default">ASSERT_WARNING</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">assert_options</span><span class="keyword">(</span><span class="default">ASSERT_BAIL</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br></span><span class="default">assert_options</span><span class="keyword">(</span><span class="default">ASSERT_CALLBACK</span><span class="keyword">, </span><span class="string">'dcb_callback'</span><span class="keyword">);<br><br>function </span><span class="default">dcb_callback</span><span class="keyword">(</span><span class="default">$script</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$message</span><span class="keyword">) {<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;h1&gt;Condition failed!&lt;/h1&gt;&lt;br /&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; Script: &lt;strong&gt;</span><span class="default">$script</span><span class="string">&lt;/strong&gt;&lt;br /&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; Line: &lt;strong&gt;</span><span class="default">$line</span><span class="string">&lt;/strong&gt;&lt;br /&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; Condition: &lt;br /&gt;&lt;pre&gt;</span><span class="default">$message</span><span class="string">&lt;/pre&gt;"</span><span class="keyword">;<br>}<br><br></span><span class="comment">// Parameters<br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br></span><span class="default">$b </span><span class="keyword">= </span><span class="string">'Simple DCB with PHP'</span><span class="keyword">;<br><br></span><span class="comment">// Pre-Condition<br></span><span class="default">assert</span><span class="keyword">(</span><span class="string">'<br>&nbsp; &nbsp; is_integer($a) &amp;&amp;<br>&nbsp; &nbsp; ($a &gt; 0) &amp;&amp;<br>&nbsp; &nbsp; ($a &lt; 20) &amp;&amp;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; is_string($b) &amp;&amp;<br>&nbsp; &nbsp; (strlen($b) &gt; 5);<br>'</span><span class="keyword">);<br><br></span><span class="comment">// Function<br></span><span class="keyword">function </span><span class="default">combine</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="string">"Kombined: " </span><span class="keyword">. </span><span class="default">$b </span><span class="keyword">. </span><span class="default">$a</span><span class="keyword">;<br>}<br><br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">combine</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);<br><br></span><span class="comment">// Post-Condition<br></span><span class="default">assert</span><span class="keyword">(</span><span class="string">'<br>&nbsp; &nbsp; is_string($result) &amp;&amp;<br>&nbsp; &nbsp; (strlen($result) &gt; 0);<br>'</span><span class="keyword">);<br><br></span><span class="comment">// All right, the Function works fine<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112602">  
  <a class="name">
  <strong class="user"><em>devoto13 at gmail dot com</em></strong></a><div class="date" title="2013-07-03 10:29"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112602">
<div class="phpcode"><code><span class="html">
"If you would like to compare with === or !== you need to add '(string)' before string numbers. Or wrap them with quotes."<br><br>Do not use this aproach, because it would not work, look at <a rel="nofollow" target="_blank">http://php.net/manual/en/function.var-export.php</a> .</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56206">  
  <a class="name">
  <strong class="user"><em>gk at proliberty dot com</em></strong></a><div class="date" title="2005-08-26 07:35"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom56206">
<div class="phpcode"><code><span class="html">
If you expect your code to be able to work well with other code, then you should not make any assumptions about the current state of assert_options() flags, prior to calling assert(): other code may disable ASSERT_ACTIVE, without you knowing it - this would render assert() useless!
<br>
<br>To avoid this, ALWAYS set assert_options() IMMEDIATELY before calling assert(), per the C++ paradigm for assertion usage:
<br>
<br>In one C++ source file, you can define and undefine NDEBUG multiple times, each time followed by #include &lt;cassert&gt;, to enable or disable the assert macro multiple times in the same source file.
<br>
<br>Here is how I workaround this issue in my PHP code: 
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//////////////////////////////////////////////////////////////////////
<br>/// phpxAssertHandler_f 
<br>//////////////////////////////////////////////////////////////////////
<br>/**
<br> * @desc&nbsp; &nbsp;&nbsp; Handler which also sets up assert options if not being called as handler
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Always fatal when assertion fails
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Always make sure assertion is enabled
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Cannot depend on other code not using assert or using its own assert handler!
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; USAGE:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // customize error level of assertion (php assert_options() only allows E_WARNING or nothing at all):
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phpxAssertHandler_f(E_USER_NOTICE); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // control assertion active state: not dependent on anything another piece of code might do with ASSERT_ACTIVE
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $GLOBALS['MY_ASSERT_ACTIVE']=false;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phpxAssertHandler_f(E_USER_NOTICE,$GLOBALS['MY_ASSERT_ACTIVE']); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // use alternate assertion callback function:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // NOTE: pass null as custom options parameter to use default options
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // NOTE: pass no values for assert options parameter array elements to use default options
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $GLOBALS['MY_ASSERT_ACTIVE']=false;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $GLOBALS['MY_ASSERT_CALLBACK']='myAssertCallback';
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; phpxAssertHandler_f(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; null,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0=&gt;$GLOBALS['MY_ASSERT_ACTIVE'],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3=&gt;$GLOBALS['MY_ASSERT_CALLBACK'],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br> * @param&nbsp;&nbsp; mixed = file or options
<br> * @param&nbsp;&nbsp; line
<br> * @param&nbsp;&nbsp; code
<br> * @return&nbsp;&nbsp; void
<br> */
<br></span><span class="keyword">function </span><span class="default">phpxAssertHandler_f</span><span class="keyword">(</span><span class="default">$file_or_custom_options</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$line_or_assert_options</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$code</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">){
<br>
<br>&nbsp; &nbsp; static </span><span class="default">$custom_options</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$debug </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$code</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// set default assert_options
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assert_options</span><span class="keyword">[]=</span><span class="default">1</span><span class="keyword">;</span><span class="comment">//ASSERT_ACTIVE
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assert_options</span><span class="keyword">[]=</span><span class="default">0</span><span class="keyword">;</span><span class="comment">//ASSERT_WARNING - 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assert_options</span><span class="keyword">[]=</span><span class="default">0</span><span class="keyword">;</span><span class="comment">//ASSERT_QUIET_EVAL
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assert_options</span><span class="keyword">[]=</span><span class="default">__FUNCTION__</span><span class="keyword">;</span><span class="comment">//ASSERT_CALLBACK&nbsp; &nbsp; &nbsp; &nbsp; 
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; // set default custom_options
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$custom_options</span><span class="keyword">[]=</span><span class="default">E_USER_ERROR</span><span class="keyword">;</span><span class="comment">// error level&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$line_or_assert_options</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// assert_options are passed in
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$line_or_assert_options</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$line_or_assert_options</span><span class="keyword">=array(</span><span class="default">$line_or_assert_options</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$line_or_assert_options </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$assert_option</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$assert_option</span><span class="keyword">===</span><span class="default">true</span><span class="keyword">) </span><span class="default">$assert_option</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$assert_option</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) </span><span class="default">$assert_option</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assert_options</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$assert_option</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$debug</span><span class="keyword">) echo (</span><span class="string">"assert_options[</span><span class="default">$i</span><span class="string">]=</span><span class="default">$assert_option</span><span class="string">\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$file_or_custom_options</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// custom_options are passed in
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$file_or_custom_options</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$file_or_custom_options</span><span class="keyword">=array(</span><span class="default">$file_or_custom_options</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$file_or_custom_options </span><span class="keyword">as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$custom_option</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$custom_option</span><span class="keyword">===</span><span class="default">true</span><span class="keyword">) </span><span class="default">$custom_option</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$custom_option</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) </span><span class="default">$custom_option</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$custom_options</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]=</span><span class="default">$custom_option</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$debug</span><span class="keyword">) echo (</span><span class="string">"custom_options[</span><span class="default">$i</span><span class="string">]=</span><span class="default">$custom_option</span><span class="string">\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// set assert options
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">@</span><span class="default">assert_options </span><span class="keyword">(</span><span class="default">ASSERT_ACTIVE</span><span class="keyword">, </span><span class="default">$assert_options</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; @</span><span class="default">assert_options </span><span class="keyword">(</span><span class="default">ASSERT_WARNING</span><span class="keyword">, </span><span class="default">$assert_options</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; @</span><span class="default">assert_options </span><span class="keyword">(</span><span class="default">ASSERT_QUIET_EVAL</span><span class="keyword">, </span><span class="default">$assert_options</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; @</span><span class="default">assert_options </span><span class="keyword">(</span><span class="default">ASSERT_CALLBACK</span><span class="keyword">, </span><span class="default">$assert_options</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]);&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br>
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; </span><span class="comment">// we are acting as a callback function
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$file </span><span class="keyword">= </span><span class="default">$file_or_custom_options</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">$line_or_assert_options</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$msg</span><span class="keyword">=</span><span class="string">"ASSERTION FAILED: </span><span class="default">$code</span><span class="string">"</span><span class="keyword">; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">phpxErrorHandler_f </span><span class="keyword">(</span><span class="default">$custom_options</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$msg</span><span class="keyword">,</span><span class="default">$file</span><span class="keyword">,</span><span class="default">$line</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}</span><span class="comment">//phpxAssertHandler_f()
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113432">  
  <a class="name">
  <strong class="user"><em>fabiano dot fa04 at gmail dot com</em></strong></a><div class="date" title="2013-10-09 05:40"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113432">
<div class="phpcode"><code><span class="html">
You can also use a function instead a string description as the second parameter.<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">assertIsFalse</span><span class="keyword">(){<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"Hey, this assert is false and I'm a function."</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$bar </span><span class="keyword">= </span><span class="default">$foo</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">"bar"</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">assert</span><span class="keyword">( </span><span class="default">$foo </span><span class="keyword">== </span><span class="default">$bar</span><span class="keyword">, </span><span class="default">assertIsFalse</span><span class="keyword">() );<br><br></span><span class="default">?&gt;<br></span><br>The result would be:<br><br>Hey, this assert is false and I'm a function.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.assert.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:11 GMT -->


</body></html>