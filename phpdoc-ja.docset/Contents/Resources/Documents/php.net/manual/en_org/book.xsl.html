<html><!-- Mirrored from php.net/manual/en/book.xsl.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:43:56 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>XSL</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="book.xsl.html">
 <link rel="shorturl" href="http://php.net/xsl">
 <link rel="alternate" href="http://php.net/xsl" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="refs.xml.html">
 <link rel="prev" href="function.xmlwriter-write-raw.html">
 <link rel="next" href="intro.xsl.html">

 <link rel="alternate" href="book.xsl.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/book.xsl.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/book.xsl.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/book.xsl.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/book.xsl.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/book.xsl.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/book.xsl.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/book.xsl.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/book.xsl.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/book.xsl.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/book.xsl.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.xml.html">XML Manipulation</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="book.xsl" class="book">
 
 <h1 class="title">XSL</h1>
 
 
 
 
 
 







 





 




 

 


 




<ul class="chunklist chunklist_book"><li><a href="intro.xsl.html">Introduction</a></li><li><a href="xsl.setup.html">Installing/Configuring</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="xsl.requirements.html">Requirements</a></li><li><a href="xsl.installation.html">Installation</a></li><li><a href="xsl.configuration.html">Runtime Configuration</a></li><li><a href="xsl.resources.html">Resource Types</a></li></ul></li><li><a href="xsl.constants.html">Predefined Constants</a></li><li><a href="xsl.examples.html">Examples</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="xsl.examples-collection.html">Example collection.xml and collection.xsl files</a></li></ul></li><li><a href="class.xsltprocessor.html">XSLTProcessor</a> — The XSLTProcessor class<ul class="chunklist chunklist_book chunklist_children"><li><a href="xsltprocessor.construct.html">XSLTProcessor::__construct</a> — Creates a new XSLTProcessor object</li><li><a href="xsltprocessor.getparameter.html">XSLTProcessor::getParameter</a> — Get value of a parameter</li><li><a href="xsltprocessor.getsecurityprefs.html">XsltProcessor::getSecurityPrefs</a> — Get security preferences</li><li><a href="xsltprocessor.hasexsltsupport.html">XSLTProcessor::hasExsltSupport</a> — Determine if PHP has EXSLT support</li><li><a href="xsltprocessor.importstylesheet.html">XSLTProcessor::importStylesheet</a> — Import stylesheet</li><li><a href="xsltprocessor.registerphpfunctions.html">XSLTProcessor::registerPHPFunctions</a> — Enables the ability to use PHP functions as XSLT functions</li><li><a href="xsltprocessor.removeparameter.html">XSLTProcessor::removeParameter</a> — Remove parameter</li><li><a href="xsltprocessor.setparameter.html">XSLTProcessor::setParameter</a> — Set value for a parameter</li><li><a href="xsltprocessor.setprofiling.html">XSLTProcessor::setProfiling</a> — Sets profiling output file</li><li><a href="xsltprocessor.setsecurityprefs.html">XsltProcessor::setSecurityPrefs</a> — Set security preferences</li><li><a href="xsltprocessor.transformtodoc.html">XSLTProcessor::transformToDoc</a> — Transform to a DOMDocument</li><li><a href="xsltprocessor.transformtouri.html">XSLTProcessor::transformToUri</a> — Transform to URI</li><li><a href="xsltprocessor.transformtoxml.html">XSLTProcessor::transformToXML</a> — Transform to XML</li></ul></li></ul></div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="43514">  
  <a class="name">
  <strong class="user"><em>rojaro</em></strong></a><div class="date" title="2004-06-23 07:43"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43514">
<div class="phpcode"><code><span class="html">
If you're want to use XML from a variable e.g. $xmldata but the XSLT-StyleSheet from a file, you can do it also the following way:<br><br><span class="default">&lt;?php<br>$xslt </span><span class="keyword">= new </span><span class="default">xsltProcessor</span><span class="keyword">;<br></span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">importStyleSheet</span><span class="keyword">(</span><span class="default">DomDocument</span><span class="keyword">::</span><span class="default">load</span><span class="keyword">(</span><span class="string">'filename.xsl'</span><span class="keyword">));<br>print </span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">transformToXML</span><span class="keyword">(</span><span class="default">DomDocument</span><span class="keyword">::</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$xmldata</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90395">  
  <a class="name">
  <strong class="user"><em>allens at nospam dot com</em></strong></a><div class="date" title="2009-04-19 08:45"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90395">
<div class="phpcode"><code><span class="html">
Problem:<br>Getting Netbeans error message:<br>Fatal error: Class 'xsltprocessor' not found<br><br>Solution:<br>place copy of php.ini in the c:\windows directory!<br><br>by default the php.ini file has xsl disabled......search for the line <br><br>;extension=php_xsl.dll<br><br>to enable XSL....remove ; so that the extension gets included<br><br>Then if Netbeans gives you the following message:<br>PHP Startup: Unable to load dynamic library './php_xsl.dll'<br><br>then you need to run the php-5.2.9-1-win32-installer.msi again<br>this time selecting the XSL extension!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81755">  
  <a class="name">
  <strong class="user"><em>emilise dot victor at gmail dot com</em></strong></a><div class="date" title="2008-03-12 08:10"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81755">
<div class="phpcode"><code><span class="html">
Here is a way to get an output without using &lt;xml:message&gt; : use the var_dump function of php : <br>- First bind the php functions with<br>&lt;? $xslt-&gt;registerPHPFunctions() ?&gt; <br>and xmlns:php="<a rel="nofollow" target="_blank">http://php.net/xsl</a>" in the stylesheet<br>- Then you can call the var_dump function like this : &lt;xsl:variable name="a" select="php:function('var_dump', $return)" /&gt;<br><br>I couldn't find a way to call the function and have it really print the result without creating a variable, but well, it's just for debugging...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80348">  
  <a class="name">
  <strong class="user"><em>shangxiao at php dot net</em></strong></a><div class="date" title="2008-01-10 05:38"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80348">
<div class="phpcode"><code><span class="html">
When using the DOM api to add xsl commands to your stylesheet dynamically, be sure to use createElementNS() rather than createElement() otherwise the XSLTProcessor will not recognise these DOM nodes.<br><br>Eg:<br>$xsl-&gt;createElementNS('<a rel="nofollow" target="_blank">http://www.w3.org/1999/XSL/Transform</a>', 'xsl:element');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78436">  
  <a class="name">
  <strong class="user"><em>pb at online-magazin dot at</em></strong></a><div class="date" title="2007-10-11 03:13"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78436">
<div class="phpcode"><code><span class="html">
Calling the Saxon XSLT Processor is a very esay task to do!<br><br>You just need to do some simple task<br><br>1. Install the JavaBridge for PHP<br><br>2. Download the freeware (B) Saxon distribution from <a rel="nofollow" target="_blank">http://saxon.sourceforge.net/</a><br><br>3. Put the jar files in a directory whre you have access<br><br>4. Use this sample of code<br><br>// Directory where the jar files are located<br>define("SAXON_DIR", $_SERVER['DOCUMENT_ROOT']."/saxonb8.9.0/");<br><br>// include the jars<br>java_require(SAXON_DIR."saxon8.jar;".SAXON_DIR."saxon8-dom.jar");<br> <br> <br>$sXslFile = $_SERVER['DOCUMENT_ROOT']."/myfirst.xsl"; // The xsl file<br>$sXmlFile = $_SERVER['DOCUMENT_ROOT']."/myfirst.xml"; // The xml file<br><br>try<br>{<br>&nbsp; $oXslSource = new java("javax.xml.transform.stream.StreamSource", "file://".$sXslFile);<br>&nbsp; $oXmlSource = new java("javax.xml.transform.stream.StreamSource", "file://".$sXmlFile);<br><br>&nbsp; $oFeatureKeys = new JavaClass("net.sf.saxon.FeatureKeys");<br><br>&nbsp; // Create the Factory<br>&nbsp; $oTransformerFactory = new java("net.sf.saxon.TransformerFactoryImpl");<br><br>&nbsp; //Disable source document validation<br>&nbsp; $oTransformerFactory-&gt;setAttribute($oFeatureKeys-&gt;SCHEMA_VALIDATION, 4);<br><br>&nbsp; // Create a new Transformer<br>&nbsp; $oTransFormer = $oTransformerFactory-&gt;newTransformer($oXslSource);<br>&nbsp; &nbsp; <br>&nbsp; // Create a StreamResult to store the output<br>&nbsp; $oResultStringWriter = new java("java.io.StringWriter");<br>&nbsp; $oResultStream = new java("javax.xml.transform.stream.StreamResult", $oResultStringWriter);<br>&nbsp; <br>&nbsp; // Transform<br>&nbsp; $oTransFormer-&gt;transform($oXmlSource, $oResultStream);<br>&nbsp; <br>&nbsp; // Echo the output from the transformation<br>&nbsp; echo java_cast($oResultStringWriter-&gt;toString(), "string");<br>&nbsp; <br>}<br>catch(JavaException $e){<br>&nbsp;&nbsp; echo java_cast($e-&gt;getCause()-&gt;toString(), "string");<br>&nbsp;&nbsp; exit;<br>}<br><br>5. Enjoy<br><br>This is working quite well.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77244">  
  <a class="name">
  <strong class="user"><em>Vasil Rangelov</em></strong></a><div class="date" title="2007-08-21 07:31"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom77244">
<div class="phpcode"><code><span class="html">
@basslines at gmail dot com<br>"<br>As far as I can tell, the most recent stable versions of LibXML/LibXSLT/LibEXSLT do NOT support xPath 2.0 / XSLT 2.0 transformations. The only support for XSLT 2.0 that I've found is in Java's SAXON processor (<a rel="nofollow" target="_blank">http://saxon.sourceforge.net/</a>).<br>"<br><br>Using SAXON or AltovaXML by using their JAVA bindings could prove to be a difficult task to do, and .NET seems to be buggy (at least for me). However, I've made a class that uses SAXON or AltovaXML from the command line. AltovaXML could also be used with COM, provided it's registered as a COM component.<br><br>You can download my wrapper from:<br><a rel="nofollow" target="_blank">http://xslt2processor.sourceforge.net/</a><br><br>I still need to implement a more graceful error handling (the way the XSL extension uses the Libxml functions), and once the bug<br><a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=41577</a><br>is fixed, I'll implement the .NET interfaces too.<br><br>I'll appreciate any feedback.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76132">  
  <a class="name">
  <strong class="user"><em>geoffreyj dot lee at gmail dot com</em></strong></a><div class="date" title="2007-07-01 11:02"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76132">
<div class="phpcode"><code><span class="html">
Here are a couple useful tips for those who care about cross-browser compatibility.<br><br>Given:<br><br>&lt;script type="text/javascript" src="test.js"&gt;&lt;/script&gt;<br><br>XSLT will automatically condense it to:<br><br>&lt;script type="text/javascript" src="test.js"/&gt;<br><br>While this is good, Internet Explorer breaks on empty script tags. So, the simple solution is to add something to prevent an empty tag. For example:<br><br>&lt;script type="text/javascript" src="test.js"&gt;&lt;xsl:comment/&gt;&lt;/script&gt;<br><br>Produces:<br><br>&lt;script type="text/javascript" src="test.js"&gt;<br><br>&lt;/script&gt;<br><br>------------------------<br><br>Also, here is a way to use IE's conditional comments:<br><br>&lt;xsl:comment&gt;[if gte IE 5]&amp;#62;<br>&amp;#60;link rel="stylesheet" type="text/css" href="ie.css" /&amp;#62;<br>&amp;#60;![endif]&lt;/xsl:comment&gt;<br><br>Produces:<br><br>&lt;!--[if gte IE 5]&gt;<br>&lt;link rel="stylesheet" type="text/css" href="ie.css" /&gt;<br>&lt;![endif]--&gt;<br><br>This will let you isolate IE-related CSS without needing to use ugly CSS hacks.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75055">  
  <a class="name">
  <strong class="user"><em>gabriel dot birke at web dot de</em></strong></a><div class="date" title="2007-05-10 03:19"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75055">
<div class="phpcode"><code><span class="html">
Each &lt;xsl:message&gt; tag will generate a PHP error (level Warning). If you want to collect and pretty-print them, you could use a custom error handling function that collects the warnings in a static variable.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75025">  
  <a class="name">
  <strong class="user"><em>mnot at mnot dot net</em></strong></a><div class="date" title="2007-05-08 08:59"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75025">
<div class="phpcode"><code><span class="html">
You can set an HTTP proxy for the XSLT document() function to use (as well as DTD external references) by setting http_proxy in the environment.<br><br>E.g., in Apache configuration;<br><br>SetEnv http_proxy <a rel="nofollow" target="_blank">http://127.0.0.1:3128/</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="74883">  
  <a class="name">
  <strong class="user"><em>Ryan D. Hatch</em></strong></a><div class="date" title="2007-05-02 01:14"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74883">
<div class="phpcode"><code><span class="html">
Looking for php_xsl.dll?<br><br>If you installed on Windows using the MSI Installer - you may not have it.<br><br>1.) Add/Remove Programs and Change PHP Installation.&nbsp; Select XSL Extension.<br><br>OR<br><br>2.) Download complete .zip file of PHP and you can copy php_xsl.dll into your PHP/etc directory.<br><br>Just a note.<br><br>Ryan D. Hatch</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69661">  
  <a class="name">
  <strong class="user"><em>adrian at foeder dot de</em></strong></a><div class="date" title="2006-09-14 02:45"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69661">
<div class="phpcode"><code><span class="html">
If you want to use the document()-function inside your XSL stylesheet, please note that you have to use an absolute path there.<br>Important for windows users: the absolute path *has* to be with forward slashes, so subsitute windows-path-backslashes to forward slashes before you transform the document.<br><br>Examples:<br>This will NOT work:<br>&lt;xsl:copy-of select="document('test.xml')" /&gt;<br><br>This will also NOT work:<br>&lt;xsl:copy-of select="document('c:\temp\test.xml')" /&gt;<br><br>But this WILL work:<br>&lt;xsl:copy-of select="document('c:/temp/test.xml')" /&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="65277">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-04-27 06:26"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom65277">
<div class="phpcode"><code><span class="html">
Enable libxslt library, PHP 5, under windows:<br><br>To Enable:<br>In your php.ini<br>1. Uncomment ;extension=php_xsl.dll<br>2. Change extension_dir to<br>&nbsp; &nbsp;&nbsp; extension_dir = "./ext"<br><br>To Confirm:<br>1. In a test.php page:<br><span class="default">&lt;?php phpinfo</span><span class="keyword">() </span><span class="default">?&gt;<br></span>2. Run test.php<br>3. Search for "libxslt Version". It should return a version number in a XSL headed table.<br><br>Further info Google<br>"Configuring and Testing PHP Servers for XSL Support"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63764">  
  <a class="name">
  <strong class="user"><em>Fabrice Bonny</em></strong></a><div class="date" title="2006-03-30 01:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63764">
<div class="phpcode"><code><span class="html">
In response to how to use entities from DTD (internal or external) in XSLT. It works if you do this way:<br><br>$xsl = new DOMDocument;<br>$xsl-&gt;resolveExternals = TRUE;<br>$xsl-&gt;substituteEntities = TRUE;<br>$xsl-&gt;load(...);<br><br>Hope this helps! ;-)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63738">  
  <a class="name">
  <strong class="user"><em>basslines at gmail dot com</em></strong></a><div class="date" title="2006-03-29 10:07"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63738">
<div class="phpcode"><code><span class="html">
As far as I can tell, the most recent stable versions of LibXML/LibXSLT/LibEXSLT do NOT support xPath 2.0 / XSLT 2.0 transformations. The only support for XSLT 2.0 that I've found is in Java's SAXON processor (<a rel="nofollow" target="_blank">http://saxon.sourceforge.net/</a>).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63264">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-03-17 09:14"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63264">
<div class="phpcode"><code><span class="html">
In response to appletalk at gmail dot com<br>&lt;snip&gt;<br>As many of you may have noticed, DOM parser gives errors if the '&amp;nbsp;' entity is present. The E_WARN message looks like:<br>Warning: DOMDocument::load() [function.load]: Entity 'nbsp' not defined in ...<br>There're many ways to solve this:<br>.....<br>b) Defining &amp;nbsp;<br>At the top of the document, after the &lt;?xml?&gt; definition, add:<br>&nbsp;&nbsp; &lt;!DOCTYPE xsl:stylesheet [<br>&nbsp;&nbsp; &lt;!ENTITY nbsp "&amp;#160;" &gt;<br>&nbsp;&nbsp; ]&gt;<br>.......&lt;/snip&gt;<br>Just wanted to let people know that option b does NOT work. I'm not sure why this isn't implemented correctly, but it isn't, so don't waste your time. It's unfortunate the DOMXSL transform is so much less capable than the old xslt function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55513">  
  <a class="name">
  <strong class="user"><em>olivier dot sow at alias dot france</em></strong></a><div class="date" title="2005-08-05 06:27"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55513">
<div class="phpcode"><code><span class="html">
if you have 'XML parser error 4: not well-formed (invalid token)' error without but your are sure to do no error at all, try this:<br>&lt;?<br>function<br>XSL_transformation($XMLFile,$XSLFile,$ResultFile,$xsl_params){<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; $Str = '';<br><br>&nbsp; &nbsp; &nbsp; &nbsp; $xp = xslt_create() or trigger_error('Could not create XSLT process.', E_USER_ERROR);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; xslt_set_encoding($xp, 'ISO-8859-1');<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // read the files into memory<br>&nbsp; &nbsp; &nbsp; &nbsp; $xsl_string = join('', file($XSLFile));<br>&nbsp; &nbsp; &nbsp; &nbsp; $xml_string = join('', file($XMLFile));<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // set the argument buffer<br>&nbsp; &nbsp; &nbsp; &nbsp; $arg_buffer = array('/xml' =&gt; $xml_string, '/xsl' =&gt; $xsl_string);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // process the two files to get the desired output<br>&nbsp; &nbsp; &nbsp; &nbsp; if (($Str = xslt_process($xp, 'arg:/xml', 'arg:/xsl', NULL, $arg_buffer, $xsl_params))){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Saves transformation result into '$ResultFile'<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $fp = fopen($ResultFile,"w+"); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fwrite($fp,$Str); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fclose($fp);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return false;<br><br>&nbsp; &nbsp; }<br>?&gt;<br><br>found here: <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=16193</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="50472">  
  <a class="name">
  <strong class="user"><em>venkatesh at lammersmedical dot com</em></strong></a><div class="date" title="2005-03-01 06:17"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50472">
<div class="phpcode"><code><span class="html">
Here is function to read from the XSL sheet which is saved as a text file.<br><br>function ReadExcelSheet($filename){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $test=file($filename);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ar1=str_replace("~[^\t]*\t","\t",$test);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ar2=str_replace("~","",$ar1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ar=str_replace("�","",$ar2);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $temp=array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for ($i=0; $i&lt;count($ar); $i++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if((substr($ar[$i],0,1)!= "\t")){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($ar[$i]!=="\r\n"){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array_push($temp,$ar[$i]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; $name=split("\t",$temp[0]);<br>&nbsp; &nbsp; $ExcelList=array();<br>&nbsp; &nbsp; for($i=1;$i&lt;count($temp);$i++){<br>&nbsp; &nbsp; &nbsp; &nbsp; $split_result=split("\t",$temp[$i]);<br>&nbsp; &nbsp; &nbsp; &nbsp; array_push($ExcelList,$split_result);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; $result=insert_into_array($ExcelList,0,$name);<br>&nbsp; &nbsp; return($result);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49694">  
  <a class="name">
  <strong class="user"><em>appletalk at gmail dot com</em></strong></a><div class="date" title="2005-02-04 10:32"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49694">
<div class="phpcode"><code><span class="html">
As many of you may have noticed, DOM parser gives errors if the '&amp;nbsp;' entity is present. The E_WARN message looks like:<br><br>Warning: DOMDocument::load() [function.load]: Entity 'nbsp' not defined in ...<br><br>There're many ways to solve this:<br>a) The hard way<br>&lt;xsl:text disable-output-escaping="yes"&gt; &amp;amp;nbsp;&lt;/xsl:text&gt;<br><br>b) Defining &amp;nbsp;<br>At the top of the document, after the &lt;?xml?&gt; definition, add:<br>&nbsp;&nbsp; &lt;!DOCTYPE xsl:stylesheet [ <br>&nbsp; &nbsp; &lt;!ENTITY nbsp "&amp;#160;" &gt;<br>&nbsp; &nbsp; ]&gt;<br><br>c) External Doctype<br>Just in case you want need other HTML entities, you can call an external doctype with the proper definitions<br><br>&lt;!DOCTYPE page SYSTEM "<a rel="nofollow" target="_blank">http://gv.ca/dtd/character-entities.dtd</a>"&gt;<br><br>Of course, you can download the file and place it in your server.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="48416">  
  <a class="name">
  <strong class="user"><em>kekoajs at yahoo dot com</em></strong></a><div class="date" title="2004-12-22 02:07"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom48416">
<div class="phpcode"><code><span class="html">
Wow, I spent the better part of a day looking for how one could pass an entire test expression to an XSL stylesheet.&nbsp; It seems that the XSLT 1.0 specification doesn't support it but PHP 5 (and maybe 4s) inclusion of&nbsp; EXSLT allows one to do exactly that...<br><br>simply add these lines...<br><br>xmlns:dyn="<a rel="nofollow" target="_blank">http://exslt.org/dynamic</a>"<br>extension-element-prefixes="dyn"<br><br>to the &lt;xsl:stylesheet&gt; element and when using an expression stored in a &lt;xsl:param&gt; element write<br><br>&lt;xsl:if test="dyn:evaluate($param-name)"&gt;<br><br>and viola!&nbsp; you can now use expressions generated externally in your stylesheet!<br><br>EXSLT adds many useful functions that can be integrated into your XSL in a similar fashion.&nbsp; You can go to <a rel="nofollow" target="_blank">http://exslt.org/</a> to learn more...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45950">  
  <a class="name">
  <strong class="user"><em>rd at jerntorget dot se</em></strong></a><div class="date" title="2004-09-24 03:58"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45950">
<div class="phpcode"><code><span class="html">
If you get the following warning message:<br><br>xsltApplyOneTemplate: _if_ was not compiled in (if can for example be apply-template or some other method), i've found that the problem seems to be an &amp;nbsp; directly before the &lt;xsl:if&gt; or what ever is causing the problem.<br><br>One way to get thru the problem is to use span tags around &amp;nbsp;&nbsp; like : &lt;span&gt;&amp;nbsp;&lt;/span&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45415">  
  <a class="name">
  <strong class="user"><em>jw at jwscripts dot com</em></strong></a><div class="date" title="2004-09-06 02:23"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45415">
<div class="phpcode"><code><span class="html">
The following code is a wrapper to support calls to some of the old xslt_* functions:<br><br>&lt;?<br><br>if (PHP_VERSION &gt;= 5) {<br>&nbsp; &nbsp; // Emulate the old xslt library functions<br>&nbsp; &nbsp; function xslt_create() {<br>&nbsp; &nbsp; &nbsp; &nbsp; return new XsltProcessor();<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; function xslt_process($xsltproc, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xml_arg, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xsl_arg, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xslcontainer = null, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $args = null, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $params = null) {<br>&nbsp; &nbsp; &nbsp; &nbsp; // Start with preparing the arguments<br>&nbsp; &nbsp; &nbsp; &nbsp; $xml_arg = str_replace('arg:', '', $xml_arg);<br>&nbsp; &nbsp; &nbsp; &nbsp; $xsl_arg = str_replace('arg:', '', $xsl_arg);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Create instances of the DomDocument class<br>&nbsp; &nbsp; &nbsp; &nbsp; $xml = new DomDocument;<br>&nbsp; &nbsp; &nbsp; &nbsp; $xsl = new DomDocument;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Load the xml document and the xsl template<br>&nbsp; &nbsp; &nbsp; &nbsp; $xml-&gt;loadXML($args[$xml_arg]);<br>&nbsp; &nbsp; &nbsp; &nbsp; $xsl-&gt;loadXML($args[$xsl_arg]);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Load the xsl template<br>&nbsp; &nbsp; &nbsp; &nbsp; $xsltproc-&gt;importStyleSheet($xsl);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Set parameters when defined<br>&nbsp; &nbsp; &nbsp; &nbsp; if ($params) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($params as $param =&gt; $value) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xsltproc-&gt;setParameter("", $param, $value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Start the transformation<br>&nbsp; &nbsp; &nbsp; &nbsp; $processed = $xsltproc-&gt;transformToXML($xml);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // Put the result in a file when specified<br>&nbsp; &nbsp; &nbsp; &nbsp; if ($xslcontainer) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return @file_put_contents($xslcontainer, $processed);<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $processed;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; function xslt_free($xsltproc) {<br>&nbsp; &nbsp; &nbsp; &nbsp; unset($xsltproc);<br>&nbsp; &nbsp; }<br>}<br><br>$arguments = array(<br>&nbsp; &nbsp; '/_xml' =&gt; file_get_contents("newxslt.xml"),<br>&nbsp; &nbsp; '/_xsl' =&gt; file_get_contents("newxslt.xslt")<br>);<br><br>$xsltproc = xslt_create();<br>$html = xslt_process(<br>&nbsp; &nbsp; $xsltproc, <br>&nbsp; &nbsp; 'arg:/_xml', <br>&nbsp; &nbsp; 'arg:/_xsl', <br>&nbsp; &nbsp; null, <br>&nbsp; &nbsp; $arguments<br>);<br><br>xslt_free($xsltproc);<br>print $html;<br><br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85852">  
  <a class="name">
  <strong class="user"><em>visual77 at gmail dot com</em></strong></a><div class="date" title="2008-09-20 04:35"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85852">
<div class="phpcode"><code><span class="html">
The XSLTProcessor is kind of a pain to use to generate an entire website, mostly due to the tedious process of building an XML tree through DOMDocument's createElement and appendChild functions.<br><br>To get an entire website out of nothing but XML and XSL (which really is a superior system to just echoing out the HTML), you could use an object that does all the PHP data structure to XML data tree conversion, and combines with the XSLTProcessor for rendering. A good object like this is DOMi, which you can find at <a rel="nofollow" target="_blank">http://domi.sourceforge.net.</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="104572">  
  <a class="name">
  <strong class="user"><em>Jaroslaw Zabiello</em></strong></a><div class="date" title="2011-06-23 07:10"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104572">
<div class="phpcode"><code><span class="html">
This is more usefull, no files needed, it just takes XML and XSL strings as input parameters and returns transformed XML
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * @param&nbsp; $xml
<br> * @param&nbsp; $xsl
<br> * @return string xml
<br> */
<br></span><span class="keyword">function </span><span class="default">transform</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">, </span><span class="default">$xsl</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$xslt </span><span class="keyword">= new </span><span class="default">XSLTProcessor</span><span class="keyword">();
<br>&nbsp;&nbsp; </span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">importStylesheet</span><span class="keyword">(new&nbsp; </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="default">$xsl</span><span class="keyword">));
<br>&nbsp;&nbsp; return </span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">transformToXml</span><span class="keyword">(new </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">));
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90510">  
  <a class="name">
  <strong class="user"><em>sudhir dot vis at gmail dot com</em></strong></a><div class="date" title="2009-04-25 11:40"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90510">
<div class="phpcode"><code><span class="html">
Here is a simplest way to transform the xml from php 
<br>
<br><span class="default">&lt;?php
<br>$sXml&nbsp; </span><span class="keyword">= </span><span class="string">"&lt;xml&gt;"</span><span class="keyword">;
<br></span><span class="default">$sXml </span><span class="keyword">.= </span><span class="string">"&lt;sudhir&gt;hello sudhir&lt;/sudhir&gt;"</span><span class="keyword">;
<br></span><span class="default">$sXml </span><span class="keyword">.= </span><span class="string">"&lt;/xml&gt;"</span><span class="keyword">;
<br>
<br></span><span class="comment"># LOAD XML FILE
<br></span><span class="default">$XML </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();
<br></span><span class="default">$XML</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">( </span><span class="default">$sXml </span><span class="keyword">);
<br>
<br></span><span class="comment"># START XSLT
<br></span><span class="default">$xslt </span><span class="keyword">= new </span><span class="default">XSLTProcessor</span><span class="keyword">();
<br></span><span class="default">$XSL </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();
<br></span><span class="default">$XSL</span><span class="keyword">-&gt;</span><span class="default">load</span><span class="keyword">( </span><span class="string">'xsl/index.xsl'</span><span class="keyword">, </span><span class="default">LIBXML_NOCDATA</span><span class="keyword">);
<br></span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">importStylesheet</span><span class="keyword">( </span><span class="default">$XSL </span><span class="keyword">);
<br></span><span class="comment">#PRINT
<br></span><span class="keyword">print </span><span class="default">$xslt</span><span class="keyword">-&gt;</span><span class="default">transformToXML</span><span class="keyword">( </span><span class="default">$XML </span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/book.xsl.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:43:59 GMT -->


</body></html>