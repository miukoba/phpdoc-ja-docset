<html><!-- Mirrored from php.net/manual/en/regexp.reference.back-references.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:25 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Back references</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="regexp.reference.back-references.html">
 <link rel="shorturl" href="regexp.reference.back-references.html">
 <link rel="alternate" href="regexp.reference.back-references.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="reference.pcre.pattern.syntax.html">
 <link rel="prev" href="regexp.reference.repetition.html">
 <link rel="next" href="regexp.reference.assertions.html">

 <link rel="alternate" href="regexp.reference.back-references.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/regexp.reference.back-references.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/regexp.reference.back-references.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/regexp.reference.back-references.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/regexp.reference.back-references.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/regexp.reference.back-references.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/regexp.reference.back-references.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/regexp.reference.back-references.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/regexp.reference.back-references.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/regexp.reference.back-references.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/regexp.reference.back-references.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.pcre.html">PCRE</a></li>      <li><a href="pcre.pattern.html">PCRE Patterns</a></li>      <li><a href="reference.pcre.pattern.syntax.html">PCRE regex syntax</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="regexp.reference.back-references" class="section">
  <h2 class="title">Back references</h2>
  <p class="para">
   Outside a character class, a backslash followed by  a  digit
   greater  than  0  (and  possibly  further  digits) is a back
   reference to a capturing subpattern  earlier  (i.e.  to  its
   left)  in  the  pattern,  provided there have been that many
   previous capturing left parentheses.
  </p>
  <p class="para">
   However, if the decimal number following  the  backslash  is
   less  than  10,  it is always taken as a back reference, and
   causes an error only if there are not  that  many  capturing
   left  parentheses in the entire pattern. In other words, the
   parentheses that are referenced need not be to the  left  of
   the  reference  for  numbers  less  than 10. 
   A "forward back reference" can make sense when a repetition
   is involved and the subpattern to the right has participated
   in an earlier iteration. See the section
   entitled "Backslash" above for further details of  the  handling
   of digits following a backslash.
  </p>
  <p class="para">
   A back reference matches whatever actually matched the  capturing
   subpattern in the current subject string, rather than
   anything matching the subpattern itself. So the pattern
   
   <em>(sens|respons)e and \1ibility</em>
   
   matches "sense and sensibility" and "response and  responsibility",
   but  not  "sense  and  responsibility". If case-sensitive (caseful)
   matching is in force at the time of the back reference, then
   the case of letters is relevant. For example,
   
   <em>((?i)rah)\s+\1</em>
   
   matches "rah rah" and "RAH RAH", but  not  "RAH  rah",  even
   though  the  original  capturing subpattern is matched
   case-insensitively (caselessly).
  </p>
  <p class="para">
   There may be more than one back reference to the  same  subpattern.
   If  a  subpattern  has not actually been used in a
   particular match, then any  back  references  to  it  always
   fail. For example, the pattern
   
   <em>(a|(bc))\2</em>
   
   always fails if it starts to match  "a"  rather  than  "bc".
   Because  there  may  be up to 99 back references, all digits
   following the backslash are taken as  part  of  a  potential
   back reference number. If the pattern continues with a digit
   character, then some delimiter must be used to terminate the
   back reference. If the <a href="reference.pcre.pattern.modifiers.html" class="link">PCRE_EXTENDED</a>  option 
   is set, this can be whitespace.  Otherwise an empty comment can be used.
  </p>
  <p class="para">
   A back reference that occurs inside the parentheses to which
   it  refers  fails when the subpattern is first used, so, for
   example, (a\1) never matches.  However, such references  can
   be useful inside repeated subpatterns. For example, the pattern
   
   <em>(a|b\1)+</em>
   
   matches any number of "a"s and also "aba", "ababba" etc.  At
   each iteration of the subpattern, the back reference matches
   the character string corresponding to  the  previous  iteration.
   In order for this to work, the pattern must be such
   that the first iteration does not need  to  match  the  back
   reference.  This  can  be  done using alternation, as in the
   example above, or by a quantifier with a minimum of zero.
  </p>
  <p class="para">
   As of PHP 5.2.2, the <em>\g</em> escape sequence can be 
   used for absolute and relative referencing of subpatterns.
   This escape sequence must be followed by an unsigned number or a negative
   number, optionally enclosed in braces. The sequences <em>\1</em>, 
   <em>\g1</em> and <em>\g{1}</em> are synonymous 
   with one another. The use of this pattern with an unsigned number can 
   help remove the ambiguity inherent when using digits following a 
   backslash. The sequence helps to distinguish back references from octal 
   characters and also makes it easier to have a back reference followed 
   by a literal number, e.g. <em>\g{2}1</em>.
  </p>
  <p class="para">
   The use of the <em>\g</em> sequence with a negative number
   signifies a relative reference. For example, <em>(foo)(bar)\g{-1}</em> 
   would match the sequence "foobarbar" and <em>(foo)(bar)\g{-2}</em> 
   matches "foobarfoo". This can be useful in long patterns as an alternative 
   to keeping track of the number of subpatterns in order to reference
   a specific previous subpattern.
  </p>
  <p class="para">
   Back references to the named subpatterns can be achieved by
   <em>(?P=name)</em> or, since PHP 5.2.2, also by
   <em>\k&lt;name&gt;</em> or <em>\k'name'</em>. 
   Additionally PHP 5.2.4 added support for <em>\k{name}</em> 
   and <em>\g{name}</em>.
  </p>
 </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/regexp.reference.back-references.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:26 GMT -->


</body></html>