<html><!-- Mirrored from php.net/manual/en/function.floor.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:18 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>floor</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.floor.html">
 <link rel="shorturl" href="http://php.net/floor">
 <link rel="alternate" href="http://php.net/floor" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.math.html">
 <link rel="prev" href="function.expm1.html">
 <link rel="next" href="function.fmod.html">

 <link rel="alternate" href="function.floor.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.floor.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.floor.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.floor.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.floor.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.floor.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.floor.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.floor.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.floor.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.floor.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.floor.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.math.html">Mathematical Extensions</a></li>      <li><a href="book.math.html">Math</a></li>      <li><a href="ref.math.html">Math Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.floor" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">floor</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">floor</span> â€” <span class="dc-title">Round fractions down</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.floor-description">
  <h3 class="title">Description</h3>
   <div class="methodsynopsis dc-description">
    <span class="type">float</span> <span class="methodname"><strong>floor</strong></span>
     ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$value</code></span>
    )</div>

  <p class="simpara">
   Returns the next lowest integer value by rounding down
   <code class="parameter">value</code> if necessary. 
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.floor-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       The numeric value to round
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.floor-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   <code class="parameter">value</code> rounded to the next lowest integer.
   The return value of <span class="function"><strong>floor()</strong></span> is still of type
   <span class="type"><a href="language.types.float.html" class="type float">float</a></span> because the value range of <span class="type"><a href="language.types.float.html" class="type float">float</a></span> is 
   usually bigger than that of <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.floor-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3557">
    <p><strong>Example #1 <span class="function"><strong>floor()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">floor</span><span style="color: #007700">(</span><span style="color: #0000BB">4.3</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;4<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">floor</span><span style="color: #007700">(</span><span style="color: #0000BB">9.999</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;9<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">floor</span><span style="color: #007700">(-</span><span style="color: #0000BB">3.14</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;-4<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.floor-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ceil.html" class="function" rel="rdfs-seeAlso">ceil()</a> - Round fractions up</span></li>
    <li class="member"><span class="function"><a href="function.round.html" class="function" rel="rdfs-seeAlso">round()</a> - Rounds a float</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="96568">  
  <a class="name">
  <strong class="user"><em>seppili_ at gmx dot de</em></strong></a><div class="date" title="2010-03-05 08:52"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96568">
<div class="phpcode"><code><span class="html">
I use this function to floor with decimals:<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">floordec</span><span class="keyword">(</span><span class="default">$zahl</span><span class="keyword">,</span><span class="default">$decimals</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">){&nbsp; &nbsp; <br>&nbsp; &nbsp;&nbsp; return </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$zahl</span><span class="keyword">*</span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">,</span><span class="default">$decimals</span><span class="keyword">))/</span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">,</span><span class="default">$decimals</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83478">  
  <a class="name">
  <strong class="user"><em>greene dot mc at removethispart dot gmail dot com</em></strong></a><div class="date" title="2008-05-27 01:08"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83478">
<div class="phpcode"><code><span class="html">
I believe this behavior of the floor function was intended.&nbsp; Note that it says "the next lowest integer".&nbsp; -1 is "higher" than -1.6.&nbsp; As in, -1 is logically greater than -1.6.&nbsp; To go lower the floor function would go to -2 which is logically less than -1.6.<br><br>Floor isn't trying to give you the number closest to zero, it's giving you the lowest bounding integer of a float.<br><br>In reply to Glen who commented:<br> Glen<br>01-Dec-2007 04:22<br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">echo </span><span class="default">floor</span><span class="keyword">(</span><span class="default">1.6</span><span class="keyword">);&nbsp; </span><span class="comment">// will output "1"<br>&nbsp; </span><span class="keyword">echo </span><span class="default">floor</span><span class="keyword">(-</span><span class="default">1.6</span><span class="keyword">); </span><span class="comment">// will output "-2"<br></span><span class="default">?&gt;<br></span><br>instead use intval (seems to work v5.1.6):<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">echo </span><span class="default">intval</span><span class="keyword">(</span><span class="default">1.6</span><span class="keyword">);&nbsp; </span><span class="comment">// will output "1"<br>&nbsp; </span><span class="keyword">echo </span><span class="default">intval</span><span class="keyword">(-</span><span class="default">1.6</span><span class="keyword">); </span><span class="comment">// will output "-1"<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79515">  
  <a class="name">
  <strong class="user"><em>Glen</em></strong></a><div class="date" title="2007-12-01 01:22"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79515">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">echo </span><span class="default">floor</span><span class="keyword">(</span><span class="default">1.6</span><span class="keyword">);&nbsp; </span><span class="comment">// will output "1"<br>&nbsp; </span><span class="keyword">echo </span><span class="default">floor</span><span class="keyword">(-</span><span class="default">1.6</span><span class="keyword">); </span><span class="comment">// will output "-2"<br></span><span class="default">?&gt;<br></span><br>instead use intval (seems to work v5.1.6):<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">echo </span><span class="default">intval</span><span class="keyword">(</span><span class="default">1.6</span><span class="keyword">);&nbsp; </span><span class="comment">// will output "1"<br>&nbsp; </span><span class="keyword">echo </span><span class="default">intval</span><span class="keyword">(-</span><span class="default">1.6</span><span class="keyword">); </span><span class="comment">// will output "-1"<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88197">  
  <a class="name">
  <strong class="user"><em>fragov at gmail dot com</em></strong></a><div class="date" title="2009-01-14 09:39"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88197">
<div class="phpcode"><code><span class="html">
Have solved a "price problem":
<br>
<br><span class="default">&lt;?php
<br>$peny </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">-&gt;</span><span class="default">price</span><span class="keyword">*</span><span class="default">1000</span><span class="keyword">) - </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">-&gt;</span><span class="default">price</span><span class="keyword">)*</span><span class="default">1000</span><span class="keyword">)/</span><span class="default">10</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82042">  
  <a class="name">
  <strong class="user"><em>jay at w3prodigy dot com</em></strong></a><div class="date" title="2008-03-25 12:01"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82042">
<div class="phpcode"><code><span class="html">
Note:
<br>
<br><span class="default">&lt;?php
<br>$int </span><span class="keyword">= </span><span class="default">0.99999999999999999</span><span class="keyword">;
<br>echo </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">); </span><span class="comment">// returns 1
<br></span><span class="default">?&gt;
<br></span>
<br>and
<br>
<br><span class="default">&lt;?php
<br>$int </span><span class="keyword">= </span><span class="default">0.9999999999999999</span><span class="keyword">;
<br>echo </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">); </span><span class="comment">// returns 0
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108371">  
  <a class="name">
  <strong class="user"><em>php is the best</em></strong></a><div class="date" title="2012-04-20 06:36"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108371">
<div class="phpcode"><code><span class="html">
Floor decimal numebrs with precision:<br><br>function floor_dec($number,$precision,$separator)<br>{<br>&nbsp; &nbsp; $numberpart=explode($separator,$number);<br>&nbsp; &nbsp; $numberpart[1]=substr_replace($numberpart[1],$separator,$precision,0);<br>&nbsp; &nbsp; if($numberpart[0]&gt;=0)<br>&nbsp; &nbsp; {$numberpart[1]=floor($numberpart[1]);}<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; {$numberpart[1]=ceil($numberpart[1]);}<br><br>&nbsp; &nbsp;&nbsp; $ceil_number= array($numberpart[0],$numberpart[1]);<br>&nbsp; &nbsp; return implode($separator,$ceil_number);<br>}<br><br>echo floor_dec(1.125,2,"."); //1.12<br>echo floor_dec(-1.3436,3,"."); //-1.344<br>echo floor_dec(102938.1,4,"."); //102938.1</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89195">  
  <a class="name">
  <strong class="user"><em>lewis at lewishenshall dot co dot uk</em></strong></a><div class="date" title="2009-02-25 11:12"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89195">
<div class="phpcode"><code><span class="html">
If you're wanting to round down to the nearest hundred:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">rounddowntohundred</span><span class="keyword">(</span><span class="default">$theNumber</span><span class="keyword">) {<br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$theNumber</span><span class="keyword">)&lt;</span><span class="default">3</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$theNumber</span><span class="keyword">=</span><span class="default">$theNumber</span><span class="keyword">;<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; </span><span class="default">$theNumber</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$theNumber</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$theNumber</span><span class="keyword">)-</span><span class="default">2</span><span class="keyword">) . </span><span class="string">"00"</span><span class="keyword">;<br><br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$theNumber</span><span class="keyword">;<br><br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114204">  
  <a class="name">
  <strong class="user"><em>till at tonda dot de</em></strong></a><div class="date" title="2014-01-24 12:55"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114204">
<div class="phpcode"><code><span class="html">
Note that the use of floor may (intended or not) uncover false integers:<br><br><span class="default">&lt;?php<br><br>$arrRoots</span><span class="keyword">=array();<br></span><span class="default">$arrRoots</span><span class="keyword">[]=</span><span class="default">pow</span><span class="keyword">(</span><span class="default">27</span><span class="keyword">,(</span><span class="default">1</span><span class="keyword">/</span><span class="default">3</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// pow(3,3)=27<br></span><span class="default">$arrRoots</span><span class="keyword">[]=</span><span class="default">pow</span><span class="keyword">(</span><span class="default">64</span><span class="keyword">,(</span><span class="default">1</span><span class="keyword">/</span><span class="default">3</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// pow(4,3)=64<br><br></span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br>{<br>if(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]!=</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))<br>&nbsp; echo </span><span class="string">'&lt;div style="background-color:#ffff99"&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'Unfloored value: '</span><span class="keyword">.</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">' (Format float? '</span><span class="keyword">.</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]).</span><span class="string">')&lt;br /&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'Floored value: '</span><span class="keyword">.</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]).</span><span class="string">' (Format float? '</span><span class="keyword">.</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])).</span><span class="string">')'</span><span class="keyword">;<br>if(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]!=</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$arrRoots</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))<br>&nbsp; echo </span><span class="string">'&lt;/div&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'&lt;br /&gt;&lt;br /&gt;'</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;<br></span><br>The directly retrieved cubic root of 64 (by pow with a fraction exp) equals 4; an outcome any maths teacher will reckon correct.<br><br>Yet bringing the same number - the cubic root of 64 retrieved in the very same manner - to the floor will result in a value of 3 only. This behaviour is in no way exceptional.<br><br>It is pivotal to check whether you are dealing with genuine integers or floats in disguise. floor should be used carefully.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115007">  
  <a class="name">
  <strong class="user"><em>josoort at home dot nl</em></strong></a><div class="date" title="2014-05-12 07:08"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115007">
<div class="phpcode"><code><span class="html">
You can simply make a floor with decimals function by using the round() function and subtract 0.05 to the value if the value must have 1 decimal accuracy, or 0.005 for 2 decimals accuracy, or 0.0005 for 3 decimals etc.<br><br>Example :<br><br>function floorDec($input, $decimals)<br>{<br>&nbsp; &nbsp; return round($input - (5 / pow(10, $decimals + 1)), $decimals);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114195">  
  <a class="name">
  <strong class="user"><em>maikl</em></strong></a><div class="date" title="2014-01-23 08:45"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114195">
<div class="phpcode"><code><span class="html">
A correction to the funcion floor_dec from the user "php is the best".<br>If the number is 0.05999 it returns 0.59 because the zero at left position is deleted.<br>I just added a '1' and after the floor or ceil call remove with a substr.<br>Hope it helps.<br><br>function floor_dec($number,$precision = 2,$separator = '.') {<br>&nbsp; $numberpart=explode($separator,$number);<br>&nbsp; $numberpart[1]=substr_replace($numberpart[1],$separator,$precision,0);<br>&nbsp; if($numberpart[0]&gt;=0) {<br>&nbsp; &nbsp; $numberpart[1]=substr(floor('1'.$numberpart[1]),1);<br>&nbsp; } else {<br>&nbsp; &nbsp; $numberpart[1]=substr(ceil('1'.$numberpart[1]),1);<br>&nbsp; }<br>&nbsp; $ceil_number= array($numberpart[0],$numberpart[1]);<br>&nbsp; return implode($separator,$ceil_number);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83784">  
  <a class="name">
  <strong class="user"><em>benrr101 at gmail dot com</em></strong></a><div class="date" title="2008-06-11 09:39"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83784">
<div class="phpcode"><code><span class="html">
But, if you want the number closest to zero, you could use this:<br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">if(</span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br>&nbsp; } else {<br>&nbsp; &nbsp; </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br>&nbsp; }<br></span><span class="default">?&gt;<br></span><br>-benrr101</span>
</code></div>
  </div>
 </div>
  <div class="note" id="25079">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2002-09-10 03:08"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom25079">
<div class="phpcode"><code><span class="html">
mathematical functions lack a floating point version of the modulo operation, which returns the difference between the floor() of the argument and the argument itself:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; return </span><span class="default">$value </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Very useful with trigonometric functions to reduce the angle argument to a circle that includes angle 0.
<br>
<br>Useful also to reduce an arbitrarily large floating point value into an entropy source, by first transforming this value into a pair using logarithm functions with distinct bases (add 1 if the function can return 0, to avoid floating point errors with logarithms!):
<br>
<br><span class="default">&lt;?php
<br>$f </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">+ @</span><span class="default">disk_free_space</span><span class="keyword">(</span><span class="string">"/tmp"</span><span class="keyword">);
<br></span><span class="default">$r </span><span class="keyword">= (int)(</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">Log</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">)) * </span><span class="default">0x7FFFFFFF</span><span class="keyword">)
<br>^ (int)(</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">Log10</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">)) * </span><span class="default">0x7FFFFFFF</span><span class="keyword">)
<br></span><span class="default">?&gt;
<br></span>
<br>Then $r can be used as a good entropy source, if the free space in your temporary folder used by PHP is constantly evolving within a large range of values.
<br>
<br>You can combine this value by xoring it with other values such as time(), (int)microtime(), ip2long($_SERVER['REMOTE_ADDR'], $_SERVER['REMOTE_PORT'], getmypid(), ...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42345">  
  <a class="name">
  <strong class="user"><em>illyena at musefish dot net</em></strong></a><div class="date" title="2004-05-12 03:53"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42345">
<div class="phpcode"><code><span class="html">
For calculating the number of days, hours, minutes and seconds to an event.
<br>
<br><span class="default">&lt;?php
<br>$then </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">8</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">,</span><span class="default">2004</span><span class="keyword">)); </span><span class="comment">//remember that mktime is hour,min,sec,month,day,year
<br></span><span class="default">$now </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"U"</span><span class="keyword">); </span><span class="comment">// "U" is the number of seconds since the epoch, equivilant to using "YmdHis"
<br>
<br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">$then </span><span class="keyword">- </span><span class="default">$now</span><span class="keyword">; </span><span class="comment">//gets the number of seconds between now and the event
<br></span><span class="default">$days </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">86400</span><span class="keyword">); </span><span class="comment">//rounds down to the whole number, in this case # of days
<br></span><span class="keyword">echo </span><span class="default">$days</span><span class="keyword">.</span><span class="string">" Days"</span><span class="keyword">;
<br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">$time </span><span class="keyword">- (</span><span class="default">$days</span><span class="keyword">*</span><span class="default">86400</span><span class="keyword">); </span><span class="comment">//leaves you with the amount of time ramaining after subtracting the days
<br></span><span class="default">$hours </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">3600</span><span class="keyword">); </span><span class="comment">//rounds down to the whole number, in this case # of hours
<br></span><span class="keyword">echo </span><span class="default">$hours</span><span class="keyword">.</span><span class="string">" Hours"</span><span class="keyword">;
<br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">$time </span><span class="keyword">- (</span><span class="default">$hours</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">); </span><span class="comment">//leaves you with the amount of time ramaining after subtracting the hours
<br></span><span class="default">$min </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">); </span><span class="comment">//rounds down to the whole number, in this case # of minutes
<br></span><span class="keyword">echo </span><span class="default">$min</span><span class="keyword">.</span><span class="string">" Minutes"</span><span class="keyword">;
<br></span><span class="default">$sec </span><span class="keyword">= </span><span class="default">$time </span><span class="keyword">- (</span><span class="default">$min</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">); </span><span class="comment">//leaves you with the amount of time ramaining after subtracting the minutes which is equivilant to the remainins seconds
<br></span><span class="keyword">echo </span><span class="default">$sec</span><span class="keyword">.</span><span class="string">" Seconds"</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44595">  
  <a class="name">
  <strong class="user"><em>jolyon at mways dot co dot uk</em></strong></a><div class="date" title="2004-08-10 09:41"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44595">
<div class="phpcode"><code><span class="html">
Beware of FLOAT weirdness!
<br>
<br>Floats have a mind of their own, and what may look like an integer stored in a float isn't.
<br>
<br>Here's a baffling example of how floor can be tripped up by this:
<br>
<br><span class="default">&lt;?php
<br>$price </span><span class="keyword">= </span><span class="default">79.99</span><span class="keyword">;
<br>
<br>print </span><span class="default">$price</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">;&nbsp; &nbsp;&nbsp; </span><span class="comment">// correct result, 79.99 shown
<br>
<br></span><span class="default">$price </span><span class="keyword">= </span><span class="default">$price </span><span class="keyword">* </span><span class="default">100</span><span class="keyword">;
<br>
<br>print </span><span class="default">$price</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// correct result, 7999 shown
<br>
<br></span><span class="keyword">print </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$price</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// 7998 shown! what's going on?
<br></span><span class="default">?&gt;
<br></span>
<br>The thing to remember here is that the way a float stores a value makes it very easy for these kind of things to happen. When the 79.99 was multiplied by 100, the actual value stored in the float was probably something like 7998.9999999999999999999999999999999999, PHP would print out 7999 when the value is displayed but floor would therefore round this down to 7998.
<br>
<br>THe moral of this story - never use float for anything that needs to be accurate! If you're doing prices for products or a shopping cart, then always use an integer and store prices as a number of pence, you'll thank me for this later :)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38423">  
  <a class="name">
  <strong class="user"><em>PHP Helper</em></strong></a><div class="date" title="2003-12-20 02:39"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38423">
<div class="phpcode"><code><span class="html">
floor basically truncates, or chops off everything to the right of a decimal. For instance, if you have a length of 5.1234, but just wanted the whole number, you could use the following code:<br><br><span class="default">&lt;?php<br>$length </span><span class="keyword">= </span><span class="default">5.1234</span><span class="keyword">; </span><span class="comment">//this is our original length<br></span><span class="default">$length </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">); </span><span class="comment">//length is truncated, original variable name is kept<br></span><span class="keyword">print </span><span class="string">"</span><span class="default">$length</span><span class="string">"</span><span class="keyword">; </span><span class="comment">//this prints our result<br></span><span class="default">?&gt;<br></span><br>This code would print the following: 5<br><br>Now, although there is a specific function in PHP for rounding, rounding can also be performed with the floor function. Let's say we wanted to round the length to the hundredths place.<br><br><span class="default">&lt;?php<br>$length </span><span class="keyword">= </span><span class="default">5.1234</span><span class="keyword">;<br></span><span class="default">$length </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$length</span><span class="keyword">) * </span><span class="default">100 </span><span class="keyword">+ </span><span class="default">.5</span><span class="keyword">) * </span><span class="default">.01</span><span class="keyword">;<br>print </span><span class="string">"</span><span class="default">$length</span><span class="string">"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>The result is: 5.12<br><br>This works because, first, the length is multiplied by 100, which moves the decimal point to the right two places, giving us the value of 512.34. Next .5 is added to the length, which gives us a value of 512.84. Then the floor function truncates the value, leaving us with 512. Lastly, to compensate for multiplying by 100 earlier, now we must divide by 100, or in this case, multiply by .01. This moves the decimal point back 2 places to it's original place and gives us the rounded value of 5.12.<br><br>We can also round to other values, such as the thousandths, by adjusting the code as follows:<br><br><span class="default">&lt;?php<br>$length </span><span class="keyword">= </span><span class="default">5.1234</span><span class="keyword">;<br></span><span class="default">$length </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$length</span><span class="keyword">) * </span><span class="default">1000 </span><span class="keyword">+ </span><span class="default">.5</span><span class="keyword">) * </span><span class="default">.001</span><span class="keyword">;<br>print </span><span class="string">"</span><span class="default">$length</span><span class="string">"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Result: 5.123</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.floor.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:18 GMT -->


</body></html>