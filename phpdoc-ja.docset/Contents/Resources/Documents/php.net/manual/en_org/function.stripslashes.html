<html><!-- Mirrored from php.net/manual/en/function.stripslashes.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:54:49 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>stripslashes</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.stripslashes.html">
 <link rel="shorturl" href="http://php.net/stripslashes">
 <link rel="alternate" href="http://php.net/stripslashes" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.strings.html">
 <link rel="prev" href="function.stripos.html">
 <link rel="next" href="function.stristr.html">

 <link rel="alternate" href="function.stripslashes.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.stripslashes.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.stripslashes.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.stripslashes.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.stripslashes.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.stripslashes.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.stripslashes.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.stripslashes.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.stripslashes.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.stripslashes.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.stripslashes.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.strings.html">Strings</a></li>      <li><a href="ref.strings.html">String Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.stripslashes" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">stripslashes</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">stripslashes</span> â€” <span class="dc-title">Un-quotes a quoted string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.stripslashes-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>stripslashes</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>
   )</div>

  <p class="para rdfs-comment">
   Un-quotes a quoted string.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    If <a href="sybase.configuration.html#ini.magic-quotes-sybase" class="link">magic_quotes_sybase</a> is
    on, no backslashes are stripped off but two apostrophes are replaced by
    one instead.
   </p>
  <p></p></blockquote>
  <p class="para">
   An example use of <span class="function"><strong>stripslashes()</strong></span> is when the PHP
   directive <a href="info.configuration.html#ini.magic-quotes-gpc" class="link">magic_quotes_gpc</a>
   is <em>on</em> (it was on by default before PHP 5.4), and you aren't inserting
   this data into a place (such as a database) that requires escaping.
   For example, if you're simply outputting data straight from an HTML form.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.stripslashes-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">str</code></dt>

     <dd>

      <p class="para">
       The input string.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.stripslashes-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a string with backslashes stripped off.
   (<em>\'</em> becomes <em>'</em> and so on.)
   Double backslashes (<em>\\</em>) are made into a single
   backslash (<em>\</em>).
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.stripslashes-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5006">
    <p><strong>Example #1 A <span class="function"><strong>stripslashes()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Is&nbsp;your&nbsp;name&nbsp;O\'reilly?"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Outputs:&nbsp;Is&nbsp;your&nbsp;name&nbsp;O'reilly?<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">stripslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    <span class="function"><strong>stripslashes()</strong></span> is not recursive. If you want to apply
    this function to a multi-dimensional array, you need to use a recursive
    function.
   </p>
  <p></p></blockquote>
  <p class="para">
   </p><div class="example" id="example-5007">
    <p><strong>Example #2 Using <span class="function"><strong>stripslashes()</strong></span> on an array</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">stripslashes_deep</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'stripslashes_deep'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">stripslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #FF8000">//&nbsp;Example<br></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"f\\'oo"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b\\'ar"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"fo\\'o"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b\\'ar"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stripslashes_deep</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Output<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [0] =&gt; f'oo
    [1] =&gt; b'ar
    [2] =&gt; Array
        (
            [0] =&gt; fo'o
            [1] =&gt; b'ar
        )

)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.stripslashes-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.addslashes.html" class="function" rel="rdfs-seeAlso">addslashes()</a> - Quote string with slashes</span></li>
    <li class="member"><span class="function"><a href="function.get-magic-quotes-gpc.html" class="function" rel="rdfs-seeAlso">get_magic_quotes_gpc()</a> - Gets the current configuration setting of magic_quotes_gpc</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="114533">  
  <a class="name">
  <strong class="user"><em>ivijan dot stefan at gmail dot com</em></strong></a><div class="date" title="2014-03-04 03:29"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114533">
<div class="phpcode"><code><span class="html">
Sometimes for some reason is happens that PHP or Javascript or some naughty insert a lot of&nbsp; backslash. Ordinary function does not notice that. Therefore, it is necessary that the bit "inflate":<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">removeslashes</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$string</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\\"</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">));<br>&nbsp; &nbsp; return </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">));<br>}<br><br></span><span class="comment">/* Example */<br><br></span><span class="default">$text</span><span class="keyword">=</span><span class="string">"My dog don\\\\\\\\\\\\\\\\'t like the postman!"</span><span class="keyword">;<br>echo </span><span class="default">removeslashes</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>RESULT: My dog don't like the postman!<br><br>This flick has served me wery well, because I had this problem before.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89687">  
  <a class="name">
  <strong class="user"><em>o-zone at zerozone dot it</em></strong></a><div class="date" title="2009-03-19 03:53"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89687">
<div class="phpcode"><code><span class="html">
If you need to remove all slashes from a string, here's a quick hack:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">stripallslashes</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {
<br>&nbsp; &nbsp; while(</span><span class="default">strchr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="string">'\\'</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Hope it's usefull , O-Zone</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111216">  
  <a class="name">
  <strong class="user"><em>StefanoAI</em></strong></a><div class="date" title="2013-01-27 02:31"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111216">
<div class="phpcode"><code><span class="html">
Recursive stripslashes<br><span class="default">&lt;?php<br></span><span class="keyword">if (</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) {<br><br>&nbsp; &nbsp; function </span><span class="default">stripslashes_array</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; &amp;</span><span class="default">$v</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nk </span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$nk </span><span class="keyword">!= </span><span class="default">$k</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$nk</span><span class="keyword">] = &amp;</span><span class="default">$v</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">stripslashes_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$nk</span><span class="keyword">] = </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">stripslashes_array</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">stripslashes_array</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">stripslashes_array</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">stripslashes_array</span><span class="keyword">(</span><span class="default">$_COOKIE</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45556">  
  <a class="name">
  <strong class="user"><em>mattyblah at gmail dot com</em></strong></a><div class="date" title="2004-09-10 08:51"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45556">
<div class="phpcode"><code><span class="html">
It should be of note that if you are stripping slashes to get rid of the slashes added by magic_quotes_gpc then it will also remove slashes from \. This may not seem that bad but if you have someone enter text such as 'testing\' with a slash at the end, this will cause an error if not corrected. It's best to strip the slashes, then add a slash to every single slash using $text = str_replace('\\', '\\\\', $text);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79976">  
  <a class="name">
  <strong class="user"><em>alex dot launi at gmail dot com</em></strong></a><div class="date" title="2007-12-21 07:16"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79976">
<div class="phpcode"><code><span class="html">
kibby: I modified the stripslashes_deep() function so that I could use it on NULL values.<br><br>function stripslashes_deep($value)<br>{<br>&nbsp; &nbsp; if(isset($value)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; $value = is_array($value) ?<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array_map('stripslashes_deep', $value) :<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stripslashes($value);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return $value;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75887">  
  <a class="name">
  <strong class="user"><em>lukas.skowronski at gmail dot com</em></strong></a><div class="date" title="2007-06-20 04:15"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75887">
<div class="phpcode"><code><span class="html">
If You want to delete all slashes from any table try to use my function:<br><br>function no_slashes($array)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($array as $key=&gt;$value)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(is_array($value))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $value=no_slashes($value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $array_temp[$key]=$value;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $array_temp[$key]=stripslashes($value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return $array_temp;&nbsp; &nbsp; <br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72094">  
  <a class="name">
  <strong class="user"><em>stoic</em></strong></a><div class="date" title="2007-01-02 08:31"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72094">
<div class="phpcode"><code><span class="html">
in response to crab dot crab at gmail dot com:<br><br>$value need not be passed by reference. The 'stripped' value is returned. The passed value is not altered.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49858">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-02-10 07:45"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49858">
<div class="phpcode"><code><span class="html">
If you want to deal with slashes in double-byte encodings, such as shift_jis or big5, you may use this:<br><br>&lt;?<br>function stripslashes2($string) {<br>&nbsp; &nbsp; $string = str_replace("\\\"", "\"", $string);<br>&nbsp; &nbsp; $string = str_replace("\\'", "'", $string);<br>&nbsp; &nbsp; $string = str_replace("\\\\", "\\", $string);<br>&nbsp; &nbsp; return $string;<br>}<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107802">  
  <a class="name">
  <strong class="user"><em>tarmo at goyf dot de</em></strong></a><div class="date" title="2012-03-06 02:58"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107802">
<div class="phpcode"><code><span class="html">
When matching strings with approstrophes against the mysql database, my query kept failing while it worked fine when I copied the same query directly to perform the database query. After several hours I found that stripslashes() made the string longer and hence it wasn't "equal" for the query.<br><br>This code shows the behavior (copy into "test.php"). Replacing stripslashes worked for me.<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="string">'&lt;h2&gt;Post-Data&lt;/h2&gt;'</span><span class="keyword">;<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">);<br><br></span><span class="default">$f1 </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">form</span><span class="keyword">]), </span><span class="default">FILTER_SANITIZE_STRING</span><span class="keyword">));<br>echo </span><span class="string">'&lt;h2&gt;stripslashes&lt;/h2&gt;'</span><span class="keyword">;<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$f1</span><span class="keyword">);<br><br></span><span class="default">$f2 </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"|"</span><span class="keyword">,</span><span class="string">"'"</span><span class="keyword">,</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\'"</span><span class="keyword">,</span><span class="string">"|"</span><span class="keyword">,</span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">form</span><span class="keyword">]), </span><span class="default">FILTER_SANITIZE_STRING</span><span class="keyword">)));<br>echo </span><span class="string">'&lt;h2&gt;workaround&lt;/h2&gt;'</span><span class="keyword">;<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$f2</span><span class="keyword">);<br>&nbsp; &nbsp; <br>echo </span><span class="string">'&lt;form action="test.php" method="post"&gt;<br>&nbsp; &nbsp; &lt;input type="text" name="form"&gt;<br>&nbsp; &nbsp; &lt;input type="submit"&gt;<br>&nbsp; &nbsp; &lt;/form&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Entering "foo'bar" creates this output:<br>// Post-Data<br>// array(1) { ["form"]=&gt; string(8) "foo\'bar" }<br>// stripslashes<br>// string(11) "foo'bar"<br>// workaround<br>// string(7) "foo'bar"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73820">  
  <a class="name">
  <strong class="user"><em>dragonfly at networkinsight dot net</em></strong></a><div class="date" title="2007-03-11 03:22"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73820">
<div class="phpcode"><code><span class="html">
If you are having trouble with stripslashes() corrupting binary data, try using urlencode() and urldecode() instead.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109189">  
  <a class="name">
  <strong class="user"><em>todd at toddzebert dot com</em></strong></a><div class="date" title="2012-06-26 07:18"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109189">
<div class="phpcode"><code><span class="html">
Attempting to use stripslashes on an array in 5.2.17 returns the string "Array", but in 5.3.6 it returns NULL.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101338">  
  <a class="name">
  <strong class="user"><em>jeremysawesome</em></strong></a><div class="date" title="2010-12-10 12:39"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101338">
<div class="phpcode"><code><span class="html">
I'm using this to clean the $_POST array:<br><span class="default">&lt;?php<br>array_walk_recursive</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'&amp;$val'</span><span class="keyword">, </span><span class="string">'$val = stripslashes($val);'</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90788">  
  <a class="name">
  <strong class="user"><em>shredder at technodrome dot com</em></strong></a><div class="date" title="2009-05-09 03:50"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90788">
<div class="phpcode"><code><span class="html">
Hi, <br><br>Here are recursive addslashes / stripslashes functions.<br>given a string - it will simply add / strip slashes<br>given an array - it will recursively add / strip slashes from the array and all of it subarrays. <br>if the value is not a string or array - it will remain unmodified!<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">add_slashes_recursive</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if ( </span><span class="default">is_string</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) )<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">addslashes</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) ;<br><br>&nbsp; &nbsp; elseif ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) )<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach( </span><span class="default">$variable </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$variable</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] = </span><span class="default">add_slashes_recursive</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) ;<br><br>&nbsp; &nbsp; return </span><span class="default">$variable </span><span class="keyword">;<br>}<br><br>function </span><span class="default">strip_slashes_recursive</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if ( </span><span class="default">is_string</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) )<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">stripslashes</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) ;<br>&nbsp; &nbsp; if ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$variable </span><span class="keyword">) )<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach( </span><span class="default">$variable </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$variable</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">] = </span><span class="default">strip_slashes_recursive</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) ;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$variable </span><span class="keyword">; <br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73418">  
  <a class="name">
  <strong class="user"><em>gregory at nutt dot ca</em></strong></a><div class="date" title="2007-02-22 06:48"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73418">
<div class="phpcode"><code><span class="html">
Here is code I use to clean the results from a MySQL query using the stripslashes function.<br><br>I do it by passing the sql result and the sql columns to the function strip_slashes_mysql_results.&nbsp; This way, my data is already clean by the time I want to use it.<br><br>&nbsp; &nbsp; function db_query($querystring, $array, $columns)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; if (!$this-&gt;connect_to_mysql())<br>&nbsp; &nbsp; &nbsp;&nbsp; return 0;<br><br>&nbsp; &nbsp;&nbsp; $queryresult = mysql_query($querystring, $this-&gt;link)<br>&nbsp; &nbsp; &nbsp; &nbsp; or die("Invalid query: " . mysql_error());<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; if(mysql_num_rows($queryresult))<br>&nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $columns = mysql_field_names ($queryresult);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($array)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while($row = mysql_fetch_row($queryresult))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $row_meta[] = $this-&gt;strip_slashes_mysql_results($row, $columns);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $row_meta;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while($row = mysql_fetch_object($queryresult))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $row_meta[] = $this-&gt;strip_slashes_mysql_results($row, $columns);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $row_meta;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; return 0;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function strip_slashes_mysql_results($result, $columns)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($columns as $column)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($this-&gt;debug)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printp(sprintf("strip_slashes_mysql_results: %s",strip_slashes_mysql_results));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $result-&gt;$column = stripslashes($result-&gt;$column);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return $result;<br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37876">  
  <a class="name">
  <strong class="user"><em>hash at samurai dot fm</em></strong></a><div class="date" title="2003-11-30 09:34"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom37876">
<div class="phpcode"><code><span class="html">
Might I warn readers that they should be vary careful with the use of stripslashes on Japanese text. The shift_jis character set includes a number of two-byte code charcters that contain the hex-value 0x5c (backslash) which will get stripped by this function thus garbling those characters.<br><br>What a nightmare!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73658">  
  <a class="name">
  <strong class="user"><em>JAB Creations</em></strong></a><div class="date" title="2007-03-05 08:49"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73658">
<div class="phpcode"><code><span class="html">
When writing to a flatfile such as an HTML page you'll notice slashes being inserted. When you write to that page it's interesting how to apply stripslashes...<br><br>I replaced this line...<br><span class="default">&lt;?php fwrite</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'textarea'</span><span class="keyword">]); </span><span class="default">?&gt;<br></span><br>With...<br><span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) {</span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'textarea'</span><span class="keyword">]));}</span><span class="default">?&gt;<br></span><br>You have to directly apply stripslashes to $_POST, $_GET, $_REQUEST, and $_COOKIE.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66081">  
  <a class="name">
  <strong class="user"><em>Kibby</em></strong></a><div class="date" title="2006-05-14 01:41"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66081">
<div class="phpcode"><code><span class="html">
Okay, if using stripslashes_deep, it will definitely replace any NULL to "".&nbsp; This will affect to coding that depends isset().&nbsp; Please provide a workaround based on recent note.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111426">  
  <a class="name">
  <strong class="user"><em>Yousef Ismaeil Cliprz</em></strong></a><div class="date" title="2013-02-19 07:41"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111426">
<div class="phpcode"><code><span class="html">
If you want to use stripslashes(); function for a string or array you can create a user function<br><br>as in example:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'strip_slashes'</span><span class="keyword">))<br>{<br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * Un-quotes a quoted string.<br>&nbsp; &nbsp;&nbsp; *<br>&nbsp; &nbsp;&nbsp; * @param (mixed) $str - The input string.<br>&nbsp; &nbsp;&nbsp; * @author Yousef Ismaeil Cliprz<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">strip_slashes</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$str </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">strip_slashes</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">'Yousef\\\'s'</span><span class="keyword">,</span><span class="string">'\"PHP.net\"'</span><span class="keyword">,</span><span class="string">'user\\\'s'</span><span class="keyword">);<br><br>echo </span><span class="string">'With strip_slashes() function:&lt;br /&gt;'</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">strip_slashes</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">));<br>echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'Without strip_slashes() function:&lt;br /&gt;'</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br><br></span><span class="comment">/** You will get<br>With strip_slashes() function:<br>Array ( [0] =&gt; Yousef's [1] =&gt; "PHP.net" [2] =&gt; user's )<br>Without strip_slashes() function:<br>Array ( [0] =&gt; Yousef\'s [1] =&gt; \"PHP.net\" [2] =&gt; user\'s )<br>*/<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99183">  
  <a class="name">
  <strong class="user"><em>jeremycook0 at googlemail dot com</em></strong></a><div class="date" title="2010-08-01 08:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99183">
<div class="phpcode"><code><span class="html">
Here's a way of stripping slashes in PHP 5.3 using a recursive closure:<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">if (</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$strip_slashes_deep </span><span class="keyword">= function (</span><span class="default">$value</span><span class="keyword">) use (&amp;</span><span class="default">$strip_slashes_deep</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$strip_slashes_deep</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) : </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$_GET </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$strip_slashes_deep</span><span class="keyword">, </span><span class="default">$_GET</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$_POST </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$strip_slashes_deep</span><span class="keyword">, </span><span class="default">$_POST</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$_COOKIE </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$strip_slashes_deep</span><span class="keyword">, </span><span class="default">$_COOKIE</span><span class="keyword">);<br>&nbsp; }<br></span><span class="default">?&gt;<br></span><br>Note that the variable '$strip_slashes_deep' has to be passed to the closure by reference. I think that this is because at the time the closure is created the variable '$strip_slashes_deep' doesn't exist: the closure itself becomes the value of the variable. Passing by reference solves this issue. This closure could easily be adapted to use other methods of stripping slashes such as preg_replace().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94758">  
  <a class="name">
  <strong class="user"><em>eugene at ultimatecms dot co dot za</em></strong></a><div class="date" title="2009-11-23 05:03"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94758">
<div class="phpcode"><code><span class="html">
This is a simple function to remove the slashes added by functions such as magic_quotes_gpc and mysql_escape_string etc.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">no_magic_quotes</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\\"</span><span class="keyword">,</span><span class="default">$query</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$cleaned </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cleaned</span><span class="keyword">;<br>}<br><br></span><span class="comment">// I'm using mysql_escape_string as a simple example, but this function would work for any escaped string.<br></span><span class="default">$query </span><span class="keyword">= </span><span class="string">"It's amaizing! Who's to say this isn't a simple function?"</span><span class="keyword">;<br></span><span class="default">$badstring </span><span class="keyword">= </span><span class="default">mysql_escape_string</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br><br>echo </span><span class="string">'&lt;b&gt;Without funtion:&lt;/b&gt; '</span><span class="keyword">.</span><span class="default">$badstring</span><span class="keyword">;<br>echo </span><span class="string">'&lt;br&gt;&lt;br&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'&lt;b&gt;With function:&lt;/b&gt; '</span><span class="keyword">.</span><span class="default">no_magic_quotes</span><span class="keyword">(</span><span class="default">$badstring</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Output:<br>Without funtion: It\'s amaizing! Who\'s to say this isn\'t a simple function?<br><br>With function: It's amaizing! Who's to say this isn't a simple function?</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93278">  
  <a class="name">
  <strong class="user"><em>michal at roszka dot pl</em></strong></a><div class="date" title="2009-08-31 08:00"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93278">
<div class="phpcode"><code><span class="html">
The goal is to leave the input untouched in PHP 5.2.8. Let's have this sample text given in $_POST['example']:<br><br>a backslash ( \ ), a single-quote ( ' ), a double-quote ( " ) and a null character ( \0 )<br><br>Let's have two simple scripts:<br><br>Script A:<br><span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'example'</span><span class="keyword">]; </span><span class="default">?&gt;<br></span><br>Script B:<br><span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'example'</span><span class="keyword">]); </span><span class="default">?&gt;<br></span><br>Let's have four different configurations and corresponding output:<br><br>Case #1:<br><br> * magic_quotes_gpc = Off<br> * magic_quotes_sybase = Off<br><br>A: a backslash ( \ ), a single-quote ( ' ), a double-quote ( " ) and a null character ( \0 )<br>B: a backslash (&nbsp; ), a single-quote ( ' ), a double-quote ( " ) and a null character ( ï¿½ )<br><br>Case #2<br><br> * magic_quotes_gpc = On<br> * magic_quotes_sybase = Off<br><br>A: a backslash ( \\ ), a single-quote ( \' ), a double-quote ( \" ) and a null character ( \\0 )<br>B: a backslash ( \ ), a single-quote ( ' ), a double-quote ( " ) and a null character ( \0 )<br><br>Case #3<br><br> * magic_quotes_gpc = On<br> * magic_quotes_sybase = On<br> <br>A: a backslash ( \ ), a single-quote ( '' ), a double-quote ( " ) and a null character ( \0 )<br>B: a backslash ( \ ), a single-quote ( ' ), a double-quote ( " ) and a null character ( ï¿½ )<br><br>Case #4<br><br> * magic_quotes_gpc = Off<br> * magic_quotes_sybase = On<br><br>A: a backslash ( \ ), a single-quote ( ' ), a double-quote ( " ) and a null character ( \0 )<br>B: a backslash (&nbsp; ), a single-quote ( ' ), a double-quote ( " ) and a null character ( ï¿½ )<br><br>Conclusions:<br><br>1) we do not need to do anything, if the magic_quotes_gpc is disabled (cases 1 and 4);<br>2) stripslashes($_POST['example']) only works, if the magic_quotes_gpc is enabled, but the magic_quotes_sybase is disabled (case 2);<br>3) str_replace("''", "'", $_POST['example']) will do the trick if both the magic_quotes_gpc and the magic_quotes_sybase are enabled (case 3);<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">disable_magic_quotes_gpc</span><span class="keyword">()<br>{<br>&nbsp; &nbsp; if (</span><span class="default">TRUE </span><span class="keyword">== </span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'get_magic_quotes_gpc'</span><span class="keyword">) &amp;&amp; </span><span class="default">1 </span><span class="keyword">== </span><span class="default">get_magic_quotes_gpc</span><span class="keyword">())<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mqs </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">'magic_quotes_sybase'</span><span class="keyword">));<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">TRUE </span><span class="keyword">== empty(</span><span class="default">$mqs</span><span class="keyword">) || </span><span class="string">'off' </span><span class="keyword">== </span><span class="default">$mqs</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we need to do stripslashes on $_GET, $_POST and $_COOKIE<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we need to do str_replace("''", "'", ...) on $_GET, $_POST, $_COOKIE<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="comment">// otherwise we do not need to do anything<br></span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>Important notes:<br><br>1) arrays need to be processed recursively;<br><br>2) both stripslashes and str_replace functions always return strings, so:<br><br>* TRUE will become a string "1",<br>* FALSE will become an empty string,<br>* integers and floats will become strings,<br>* NULL will become an empty string.<br><br>On the other hand you only need to process strings, so use the is_string function to check;<br><br>3) when dealing with other (than GPC) data sources, such as databases or text files, remember to play with the magic_quotes_runtime setting as well, see, what happens and write a corresponding function, i.e. disable_magic_quotes_runtime() or something.<br><br>4) VERY IMPORTANT: when testing, remember the null character. Otherwise your tests will be inconclusive and you may end up with... well, serious bugs :)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92524">  
  <a class="name">
  <strong class="user"><em>JacobRas.nl</em></strong></a><div class="date" title="2009-07-28 05:41"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92524">
<div class="phpcode"><code><span class="html">
Hi,<br><br>Here's an function that strips not only \', but also \\' and \\\' and so on (depending on $times). $text = the text that needs to be stripped, $times = how much backslashes should be stripped.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">stripslashes_deep </span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$times</span><span class="keyword">) {<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// loop will execute $times times.<br>&nbsp; &nbsp; </span><span class="keyword">while (</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">) &amp;&amp; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$times</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text</span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;<br>&nbsp; &nbsp; <br>}<br><br></span><span class="default">?&gt;<br></span><br>Example: $text = \\'quote\\' . <span class="default">&lt;?php stripslashes_deep</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="default">?&gt;</span> will return 'quote'.<br>Note: <span class="default">&lt;?php stripslashes_deep</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">); </span><span class="default">?&gt;</span> will also return 'quote'.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82121">  
  <a class="name">
  <strong class="user"><em>Aditya P Bhatt (adityabhai at gmail dot com)</em></strong></a><div class="date" title="2008-03-27 10:03"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82121">
<div class="phpcode"><code><span class="html">
Here is simple example code which you can use as a common function in your functions file:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">stripslashes_if_gpc_magic_quotes</span><span class="keyword">( </span><span class="default">$string </span><span class="keyword">) {<br>&nbsp; &nbsp; if(</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62146">  
  <a class="name">
  <strong class="user"><em>hauser dot j at gmail dot com</em></strong></a><div class="date" title="2006-02-21 02:13"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62146">
<div class="phpcode"><code><span class="html">
Don't use stripslashes if you depend on the values NULL.<br><br>Apparently stripslashes converts NULL to string(0) "" <br><br><span class="default">&lt;?php<br>$a </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br><br></span><span class="default">$b </span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>Will output<br><br>NULL<br>string(0) ""</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89819">  
  <a class="name">
  <strong class="user"><em>dragon[dot]dionysius[at]gmail[dot]com</em></strong></a><div class="date" title="2009-03-24 08:07"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89819">
<div class="phpcode"><code><span class="html">
I use this function in my class to stripslashes arrays including NULL-check:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">private function </span><span class="default">stripslashes_deep</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">stripslashes_deep</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif(isset(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89785">  
  <a class="name">
  <strong class="user"><em>Tom Worster</em></strong></a><div class="date" title="2009-03-23 07:26"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89785">
<div class="phpcode"><code><span class="html">
A replacement that should be safe on utf-8 strings.<br><span class="default">&lt;?php<br>&nbsp; preg_replace</span><span class="keyword">(array(</span><span class="string">'/\x5C(?!\x5C)/u'</span><span class="keyword">, </span><span class="string">'/\x5C\x5C/u'</span><span class="keyword">), array(</span><span class="string">''</span><span class="keyword">,</span><span class="string">'\\'</span><span class="keyword">), </span><span class="default">$s</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82831">  
  <a class="name">
  <strong class="user"><em>techdesk100</em></strong></a><div class="date" title="2008-04-28 07:58"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82831">
<div class="phpcode"><code><span class="html">
Function which checks if $input has correct slashes,<br>otherwise adds slashes. For cases when you are not sure the input is not already addslashed.<br><br>&nbsp; &nbsp; public function addslashes_once($input){<br>&nbsp; &nbsp; &nbsp; &nbsp; //These characters are single quote ('), double quote ("), backslash (\) and NUL (the NULL byte).<br>&nbsp; &nbsp; &nbsp; &nbsp; $pattern = array("\\'", "\\\"", "\\\\", "\\0");<br>&nbsp; &nbsp; &nbsp; &nbsp; $replace = array("", "", "", "");<br>&nbsp; &nbsp; &nbsp; &nbsp; if(preg_match("/[\\\\'\"\\0]/", str_replace($pattern, $replace, $input))){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return addslashes($input);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $input;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58159">  
  <a class="name">
  <strong class="user"><em>alf at mitose dot net</em></strong></a><div class="date" title="2005-10-25 05:09"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58159">
<div class="phpcode"><code><span class="html">
Take care using stripslashes() if the text you want to insert in the database contain \n characters ! You'll see "n" instead of (not seeing) "\n".<br><br>It should be no problem for XML, but is still boring ...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81402">  
  <a class="name">
  <strong class="user"><em>Evgeny</em></strong></a><div class="date" title="2008-02-26 07:52"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81402">
<div class="phpcode"><code><span class="html">
extended version of stripslashes_deep. This allow to strip one also in the array_keys<br><br>&nbsp; &nbsp; function stripslashes_deep($value) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (is_array($value)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (count($value)&gt;0) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $return = array_combine(array_map('stripslashes_deep', array_keys($value)),array_map('stripslashes_deep', array_values($value)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $return = array_map('stripslashes_deep', $value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $return;<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $return = stripslashes($value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $return ;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.stripslashes.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:54:50 GMT -->


</body></html>