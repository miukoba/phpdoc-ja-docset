<html><!-- Mirrored from php.net/manual/en/install.unix.apache.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:01 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Apache 1.3.x on Unix systems</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="install.unix.apache.html">
 <link rel="shorturl" href="install.unix.apache.html">
 <link rel="alternate" href="install.unix.apache.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="install.unix.html">
 <link rel="prev" href="install.unix.html">
 <link rel="next" href="install.unix.apache2.html">

 <link rel="alternate" href="install.unix.apache.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/install.unix.apache.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/install.unix.apache.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/install.unix.apache.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/install.unix.apache.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/install.unix.apache.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/install.unix.apache.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/install.unix.apache.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/install.unix.apache.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/install.unix.apache.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/install.unix.apache.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="install.html">Installation and Configuration</a></li>      <li><a href="install.unix.html">Installation on Unix systems</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="install.unix.apache" class="sect1">
    <h2 class="title">Apache 1.3.x on Unix systems</h2>
    <p class="para">
     This section contains notes and hints specific to Apache installs
     of PHP on Unix platforms. We also have <a href="install.unix.apache2.html" class="link">instructions and notes for Apache 2
     on a separate page</a>.
    </p>   
    <p class="para">
     You can select arguments to add to the
     <strong class="command">configure</strong> on line 10 below from the <a href="configure.html" class="link">list of core configure options</a> and
     from extension specific options described at the respective
     places in the manual. The version numbers have been omitted here, to
     ensure the instructions are not incorrect. You will need to replace
     the 'xxx' here with the correct values from your files.
    </p>

    <div class="example" id="install.unix.apache.example">
     <p><strong>Example #1 
      Installation Instructions (Apache Shared Module Version) for PHP
     </strong></p>
     <div class="example-contents screen">
<div class="cdata"><pre>1.  gunzip apache_xxx.tar.gz
2.  tar -xvf apache_xxx.tar
3.  gunzip php-xxx.tar.gz
4.  tar -xvf php-xxx.tar
5.  cd apache_xxx
6.  ./configure --prefix=/www --enable-module=so
7.  make
8.  make install
9.  cd ../php-xxx

10. Now, configure your PHP.  This is where you customize your PHP
    with various options, like which extensions will be enabled.  Do a
    ./configure --help for a list of available options.  In our example
    we'll do a simple configure with Apache 1 and MySQL support.  Your
    path to apxs may differ from our example.

      ./configure --with-mysql --with-apxs=/www/bin/apxs

11. make
12. make install

    If you decide to change your configure options after installation,
    you only need to repeat the last three steps. You only need to 
    restart apache for the new module to take effect. A recompile of
    Apache is not needed.
  
    Note that unless told otherwise, 'make install' will also install PEAR,
    various PHP tools such as phpize, install the PHP CLI, and more.

13. Setup your php.ini file:

      cp php.ini-development /usr/local/lib/php.ini

    You may edit your .ini file to set PHP options.  If you prefer your
    php.ini in another location, use --with-config-file-path=/some/path in
    step 10. 
    
    If you instead choose php.ini-production, be certain to read the list
    of changes within, as they affect how PHP behaves.

14. Edit your httpd.conf to load the PHP module.  The path on the right hand
    side of the LoadModule statement must point to the path of the PHP
    module on your system.  The make install from above may have already
    added this for you, but be sure to check.

      LoadModule php5_module libexec/libphp5.so
      
15. And in the AddModule section of httpd.conf, somewhere under the
    ClearModuleList, add this:
    
      AddModule mod_php5.c

16. Tell Apache to parse certain extensions as PHP.  For example,
    let's have Apache parse the .php extension as PHP.  You could
    have any extension(s) parse as PHP by simply adding more, with
    each separated by a space.  We'll add .phtml to demonstrate.

      AddType application/x-httpd-php .php .phtml

    It's also common to setup the .phps extension to show highlighted PHP
    source, this can be done with:
    
      AddType application/x-httpd-php-source .phps

17. Use your normal procedure for starting the Apache server. (You must
    stop and restart the server, not just cause the server to reload by
    using a HUP or USR1 signal.)
</pre></div>
     </div>
    </div>

    <p class="para">
     Alternatively, to install PHP as a static object:
    </p>

    <div class="example" id="install.unix.apache.example-static">
     <p><strong>Example #2 
      Installation Instructions (Static Module Installation for Apache) for PHP
     </strong></p>
     <div class="example-contents screen">
<div class="cdata"><pre>1.  gunzip -c apache_1.3.x.tar.gz | tar xf -
2.  cd apache_1.3.x
3.  ./configure
4.  cd ..

5.  gunzip -c php-5.x.y.tar.gz | tar xf -
6.  cd php-5.x.y
7.  ./configure --with-mysql --with-apache=../apache_1.3.x
8.  make
9.  make install

10. cd ../apache_1.3.x

11. ./configure --prefix=/www --activate-module=src/modules/php5/libphp5.a
    (The above line is correct! Yes, we know libphp5.a does not exist at this
    stage. It isn't supposed to. It will be created.)

12. make
    (you should now have an httpd binary which you can copy to your Apache bin dir if
    it is your first install then you need to "make install" as well)

13. cd ../php-5.x.y
14. cp php.ini-development /usr/local/lib/php.ini

15. You can edit /usr/local/lib/php.ini file to set PHP options.
    Edit your httpd.conf or srm.conf file and add:
    AddType application/x-httpd-php .php
</pre></div>
      </div>
     </div>

     <p class="para">
      Depending on your Apache install and Unix variant, there are many
      possible ways to stop and restart the server. Below are some typical
      lines used in restarting the server, for different apache/unix
      installations. You should replace <em>/path/to/</em> with
      the path to these applications on your systems.
     </p>
     <p class="para">
      </p><div class="example" id="example-11">
       <p><strong>Example #3 Example commands for restarting Apache</strong></p>
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">1. Several Linux and SysV variants:
/etc/rc.d/init.d/httpd restart

2. Using apachectl scripts:
/path/to/apachectl stop
/path/to/apachectl start

3. httpdctl and httpsdctl (Using OpenSSL), similar to apachectl:
/path/to/httpsdctl stop
/path/to/httpsdctl start

4. Using mod_ssl, or another SSL server, you may want to manually
stop and start:
/path/to/apachectl stop
/path/to/apachectl startssl</pre>
</div>
       </div>

      </div>
     <p></p>
     <p class="para">
      The locations of the apachectl and http(s)dctl binaries often
      vary. If your system has <em>locate</em> or
      <em>whereis</em> or <em>which</em> commands,
      these can assist you in finding your server control programs.
     </p>

     <p class="para">
      Different examples of compiling PHP for apache are as follows:
      </p><div class="informalexample">
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">./configure --with-apxs --with-pgsql</pre>
</div>
       </div>

      </div>
     <p></p>
     <p class="para">
      This will create a <var class="filename">libphp5.so</var> shared library
      that is loaded into Apache using a LoadModule line in Apache's
      <var class="filename">httpd.conf</var> file. The PostgreSQL support is embedded into this
      library.
     </p>
     <p class="para">
      </p><div class="informalexample">
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">./configure --with-apxs --with-pgsql=shared</pre>
</div>
       </div>

      </div>
     <p></p>
     <p class="para">
      This will create a <var class="filename">libphp5.so</var> shared
      library for Apache, but it will also create a
      <var class="filename">pgsql.so</var> shared library that is loaded into
      PHP either by using the extension directive in
      <var class="filename">php.ini</var> file or by loading it explicitly in
      a script using the <span class="function"><a href="function.dl.html" class="function">dl()</a></span> function.
     </p>
     <p class="para">
      </p><div class="informalexample">
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">./configure --with-apache=/path/to/apache_source --with-pgsql</pre>
</div>
       </div>

      </div>
     <p></p>
     <p class="para">
      This will create a <var class="filename">libmodphp5.a</var> library, a
      <var class="filename">mod_php5.c</var> and some accompanying files and
      copy this into the <em>src/modules/php5</em> directory
      in the Apache source tree. Then you compile Apache using
      <em>--activate-module=src/modules/php5/libphp5.a</em>
      and the Apache build system will create
      <var class="filename">libphp5.a</var> and link it statically into the
      <var class="filename">httpd</var> binary. The PostgreSQL support is
      included directly into this <var class="filename">httpd</var> binary,
      so the final result here is a single <var class="filename">httpd</var>
      binary that includes all of Apache and all of PHP.
     </p>
     <p class="para">
      </p><div class="informalexample">
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">./configure --with-apache=/path/to/apache_source --with-pgsql=shared</pre>
</div>
       </div>

      </div>
     <p></p>
     <p class="para">
      Same as before, except instead of including PostgreSQL support
      directly into the final <var class="filename">httpd</var> you will get
      a <var class="filename">pgsql.so</var> shared library that you can load
      into PHP from either the <var class="filename">php.ini</var> file or
      directly using <span class="function"><a href="function.dl.html" class="function">dl()</a></span>.
     </p>
     <p class="para">
      When choosing to build PHP in different ways, you should consider
      the advantages and drawbacks of each method. Building as a shared
      object will mean that you can compile apache separately, and don't
      have to recompile everything as you add to, or change, PHP.
      Building PHP into apache (static method) means that PHP will
      load and run faster. For more information, see the Apache
      <a href="http://httpd.apache.org/docs/current/dso.html" class="link external">»&nbsp;web page on DSO support</a>.
     </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     </p><p class="para">
      Apache's default <var class="filename">httpd.conf</var> currently ships with a section that looks
      like this:
      </p><div class="informalexample">
       <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">User nobody
Group "#-1"</pre>
</div>
       </div>

      </div>
      Unless you change that to "Group nogroup" or something like that ("Group daemon" is
      also very common) PHP will not be able to open files.
     <p></p>
    <p></p></blockquote>  
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     </p><p class="para">
      Make sure you specify the installed version of apxs when using
      <strong class="option configure">--with-apxs=/path/to/apxs</strong>
.
      You must NOT use the apxs version that is in the apache sources but the one
      that is actually installed on your system.
     </p>
    <p></p></blockquote>   
   </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/install.unix.apache.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:01 GMT -->


</body></html>