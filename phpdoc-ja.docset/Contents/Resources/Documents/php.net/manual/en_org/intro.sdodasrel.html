<html><!-- Mirrored from php.net/manual/en/intro.sdodasrel.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:52:40 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Introduction</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="intro.sdodasrel.html">
 <link rel="shorturl" href="intro.sdodasrel.html">
 <link rel="alternate" href="intro.sdodasrel.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.sdodasrel.html">
 <link rel="prev" href="book.sdodasrel.html">
 <link rel="next" href="sdodasrel.setup.html">

 <link rel="alternate" href="intro.sdodasrel.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/intro.sdodasrel.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/intro.sdodasrel.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/intro.sdodasrel.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/intro.sdodasrel.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/intro.sdodasrel.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/intro.sdodasrel.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/intro.sdodasrel.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/intro.sdodasrel.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/intro.sdodasrel.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/intro.sdodasrel.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.xml.html">XML Manipulation</a></li>      <li><a href="book.sdodasrel.html">SDO-DAS-Relational</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="intro.sdodasrel" class="preface">
  <h1 class="title">Introduction</h1>
  <p class="para">
   
    </p><div class="warning"><strong class="warning">Warning</strong><p class="simpara">This extension is
<em class="emphasis">EXPERIMENTAL</em>. The behaviour of this extension including
the names of its functions and any other documentation surrounding this
extension may change without notice in a future release of PHP.
This extension should be used at your own risk.</p></div>
  <p></p>
  <p class="para">
   In order to use the Relational Data Access Service for 
   Service Data Objects,
   you will need to understand some of the concepts behind SDO: 
   the data graph, the data object, the disconnected way of working, 
   the change summary, XPath and property expressions, and so on.
   If you are not familiar with these ideas, you might want to look first at
   <a href="ref.sdo.html" class="link">the section on SDO</a>.
   In addition, the Relational DAS makes use of the PDO extension to 
   isolate itself from specifics of different back-end relational databases.
   In order to use the Relational DAS you will need to be able to 
   create and pass a PDO database connection;
   for this reason you might also want to take a look at
   <a href="intro.pdo.html" class="link">the section on PDO</a>.
  </p>

  <p class="para">
   The job of the Relational DAS is to move data between the application
   and a relational database. In order to do this it needs to be told 
   the mapping between the database entities 
   - tables, columns, primary keys and foreign keys - 
   and the elements of the SDO model 
   - types, properties, containment relationships and so on.
   You specify this information as metadata when you 
   construct the Relational DAS.
  </p>
     
  <div class="procedure">
   <strong class="title">Overview of Operation</strong>
   <ol type="1"><li>
    <p class="para">
     The first step is to call the Relational DAS's constructor,
     passing the metadata that defines the mapping between 
     database and SDO model.
     There are examples of this below.
    </p>
   </li>

   <li>
    <p class="para">
     The next step might be to call the
     <span class="function"><strong>executeQuery()</strong></span>
     or
     <span class="function"><strong>executePreparedQuery()</strong></span>
     methods on the Relational DAS, passing either a literal SQL statement
     for the DAS to prepare and execute, or a prepared statement with 
     placeholders and a list of values to be inserted.
     You may also need to specify a small amount of metadata 
     about the query itself, so that the Relational DAS knows 
     exactly what columns will be returned from the database and 
     in what order. You will also need to pass a PDO database connection.
    </p>
         
    <p class="para">
     The return value from
     <span class="function"><strong>executeQuery()</strong></span>
     or 
     <span class="function"><strong>executePreparedQuery()</strong></span>
     is a normalised data graph containing all the data from the result set.
     For a query that returns data obtained from a number of tables, 
     this graph will contain a number of data objects, 
     linked by SDO containment relationships. 
     There may also be SDO non-containment references within the data.
    </p>

    <p class="para">
     Once the query has been executed and the data graph constructed, 
     there is no need for either that instance of the Relational DAS or 
     the database connection. There are no locks held on the database.
     Both the Relational DAS and the PDO database connection can be 
     garbage collected.
    </p>
   </li>
   <li>
    <p class="para">
     Quite possibly the data in the data graph will go through 
     a number of modifications. The data graph can be serialised 
     into the PHP session and so may have a lifetime beyond just 
     one client-server interaction. Data objects can be created 
     and added to the graph, the data objects already in the graph 
     can be deleted, and data objects in the graph can be modified.
    </p>
   </li>
   <li>
    <p class="para">
     Finally, the changes made to the data graph can be applied 
     back to the database using the
     <span class="function"><strong>applyChanges()</strong></span>
      method of the Relational DAS. For this, another instance 
      of the Relational DAS  must be constructed, using the 
      same metadata, and another connection to the database obtained.
      The connection and the data graph are passed to
     <span class="function"><strong>applyChanges()</strong></span>.
     At this point the Relational DAS examines the change summary 
     and generates the necessary INSERT, UPDATE and DELETE SQL statements 
     to apply the changes. Any UPDATE and DELETE statements are qualified 
     with the original values of the data so that should the data have 
     changed in the database in the meantime this will be detected.
     Assuming no such collisions have occurred the changes will be 
     committed to the database. The application can then continue to work 
     with the data graph, make more changes and apply them, or can discard 
     it.
    </p>
   </li>
  </ol></div>
  <p class="para">
   There are other ways of working with the data in the database: 
   it is possible to just create data objects and write them to the 
   database without a preliminary call to
   <span class="function"><strong>executeQuery()</strong></span>,
   for example. This scenario and others are explored in the
   <a href="sdodasrel.examples.html" class="link">Examples</a>
   section below.
  </p>
 </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/intro.sdodasrel.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:52:41 GMT -->


</body></html>