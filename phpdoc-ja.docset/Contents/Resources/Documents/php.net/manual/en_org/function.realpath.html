<html><!-- Mirrored from php.net/manual/en/function.realpath.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:48 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>realpath</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.realpath.html">
 <link rel="shorturl" href="http://php.net/realpath">
 <link rel="alternate" href="http://php.net/realpath" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.filesystem.html">
 <link rel="prev" href="function.realpath-cache-size.html">
 <link rel="next" href="function.rename.html">

 <link rel="alternate" href="function.realpath.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.realpath.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.realpath.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.realpath.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.realpath.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.realpath.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.realpath.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.realpath.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.realpath.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.realpath.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.realpath.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.file.html">File System Related Extensions</a></li>      <li><a href="book.filesystem.html">Filesystem</a></li>      <li><a href="ref.filesystem.html">Filesystem Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.realpath" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">realpath</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">realpath</span> â€” <span class="dc-title">Returns canonicalized absolute pathname</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.realpath-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>realpath</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>realpath()</strong></span> expands all symbolic links and
   resolves references to '/./', '/../' and extra '/' characters in
   the input <code class="parameter">path</code> and returns the canonicalized
   absolute pathname.  
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.realpath-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       The path being checked.
       </p><blockquote class="note"><p><strong class="note">Note</strong>: 
        </p><p class="para">
         Whilst a path must be supplied, the value can be blank or <strong><code>NULL</code></strong>
         In these cases, the value is interpreted as the current directory.
        </p>
       <p></p></blockquote>
      <p></p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.realpath-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the canonicalized absolute pathname on success. The resulting path 
   will have no symbolic link, '/./' or '/../' components.
  </p>
  <p class="para">
   <span class="function"><strong>realpath()</strong></span> returns <strong><code>FALSE</code></strong> on failure, e.g. if
   the file does not exist.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The running script must have executable permissions on all directories in
    the hierarchy, otherwise <span class="function"><strong>realpath()</strong></span> will return
    <strong><code>FALSE</code></strong>.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">
    Because PHP's integer type is signed and many platforms use 32bit integers,
    some filesystem functions may return unexpected results for files which
    are larger than 2GB.
   </span></p></blockquote>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.realpath-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Prior to this release, if only the last <code class="parameter">path</code>
        component did not exist, <span class="function"><strong>realpath()</strong></span> would not fail on
        *BSD systems. <span class="function"><strong>realpath()</strong></span> now fails in this case.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>



 <div class="refsect1 examples" id="refsect1-function.realpath-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2520">
    <p><strong>Example #1 <span class="function"><strong>realpath()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>chdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/var/www/'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">'./../../etc/passwd'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>/etc/passwd
</pre></div>
    </div>
   </div>
   <div class="example" id="example-2521">
    <p><strong>Example #2 <span class="function"><strong>realpath()</strong></span> on Windows</strong></p>
    <div class="example-contents"><p>
     On windows <span class="function"><strong>realpath()</strong></span> will change unix style paths to
     windows style.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">'/windows/system32'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>C:\WINDOWS\System32
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.realpath-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.basename.html" class="function" rel="rdfs-seeAlso">basename()</a> - Returns trailing name component of path</span></li>
    <li class="member"><span class="function"><a href="function.dirname.html" class="function" rel="rdfs-seeAlso">dirname()</a> - Returns parent directory's path</span></li>
    <li class="member"><span class="function"><a href="function.pathinfo.html" class="function" rel="rdfs-seeAlso">pathinfo()</a> - Returns information about a file path</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="108879">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2012-05-31 04:48"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108879">
<div class="phpcode"><code><span class="html">
Note: If you use this to check if a file exists, it's path will be cached, and returns true even if the file is removed (use file_exists instead).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112367">  
  <a class="name">
  <strong class="user"><em>runeimp at gmail dot com</em></strong></a><div class="date" title="2013-06-07 11:37"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112367">
<div class="phpcode"><code><span class="html">
Needed a method to normalize a virtual path that could handle .. references that go beyond the initial folder reference. So I created the following.<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">normalizePath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$parts </span><span class="keyword">= array();</span><span class="comment">// Array to build a new path from the good parts<br>&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);</span><span class="comment">// Replace backslashes with forwardslashes<br>&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/\/+/'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);</span><span class="comment">// Combine multiple slashes into a single slash<br>&nbsp; &nbsp; </span><span class="default">$segments </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);</span><span class="comment">// Collect path segments<br>&nbsp; &nbsp; </span><span class="default">$test </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;</span><span class="comment">// Initialize testing variable<br>&nbsp; &nbsp; </span><span class="keyword">foreach(</span><span class="default">$segments </span><span class="keyword">as </span><span class="default">$segment</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$segment </span><span class="keyword">!= </span><span class="string">'.'</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$test </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$parts</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$segment</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$segment </span><span class="keyword">== </span><span class="string">'..'</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$test </span><span class="keyword">== </span><span class="string">'..'</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$test</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$test </span><span class="keyword">== </span><span class="string">'..' </span><span class="keyword">|| </span><span class="default">$test </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$segment</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$test</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$segment</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$parts</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>Will convert /path/to/test/.././..//..///..///../one/two/../three/filename<br>to ../../one/three/filename</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105876">  
  <a class="name">
  <strong class="user"><em>imagiro</em></strong></a><div class="date" title="2011-09-21 02:20"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom105876">
<div class="phpcode"><code><span class="html">
Here is a small and handy method to calculate the relative path from $from to $to. Note: On Windows it does not work when $from and $to are on different drives.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">relativePath</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">, </span><span class="default">$ps </span><span class="keyword">= </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$arFrom </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$ps</span><span class="keyword">, </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$from</span><span class="keyword">, </span><span class="default">$ps</span><span class="keyword">));<br>&nbsp; </span><span class="default">$arTo </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$ps</span><span class="keyword">, </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$to</span><span class="keyword">, </span><span class="default">$ps</span><span class="keyword">));<br>&nbsp; while(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arFrom</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arTo</span><span class="keyword">) &amp;&amp; (</span><span class="default">$arFrom</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="default">$arTo</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]))<br>&nbsp; {<br>&nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arFrom</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arTo</span><span class="keyword">);<br>&nbsp; }<br>&nbsp; return </span><span class="default">str_pad</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arFrom</span><span class="keyword">) * </span><span class="default">3</span><span class="keyword">, </span><span class="string">'..'</span><span class="keyword">.</span><span class="default">$ps</span><span class="keyword">).</span><span class="default">implode</span><span class="keyword">(</span><span class="default">$ps</span><span class="keyword">, </span><span class="default">$arTo</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23415">  
  <a class="name">
  <strong class="user"><em>eric at themepark dot com</em></strong></a><div class="date" title="2002-07-17 06:15"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23415">
<div class="phpcode"><code><span class="html">
note that realpath() will chop any trailing delimiter like \ or / ...don't forget to add it back on if you need it.<br><br>Eric Mueller - themepark.com</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84012">  
  <a class="name">
  <strong class="user"><em>Sven Arduwie</em></strong></a><div class="date" title="2008-06-23 03:43"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84012">
<div class="phpcode"><code><span class="html">
Because realpath() does not work on files that do not<br>exist, I wrote a function that does.<br>It replaces (consecutive) occurences of / and \\ with<br>whatever is in DIRECTORY_SEPARATOR, and processes /. and /.. fine.<br>Paths returned by get_absolute_path() contain no<br>(back)slash at position 0 (beginning of the string) or<br>position -1 (ending)<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">get_absolute_path</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">'/'</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">), </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">), </span><span class="string">'strlen'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$absolutes </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$parts </span><span class="keyword">as </span><span class="default">$part</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="string">'.' </span><span class="keyword">== </span><span class="default">$part</span><span class="keyword">) continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="string">'..' </span><span class="keyword">== </span><span class="default">$part</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$absolutes</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$absolutes</span><span class="keyword">[] = </span><span class="default">$part</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$absolutes</span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>A test:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; var_dump</span><span class="keyword">(</span><span class="default">get_absolute_path</span><span class="keyword">(</span><span class="string">'this/is/../a/./test/.///is'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span>Returns: string(14) "this/a/test/is" <br><br>As you can so, it also produces Yoda-speak. :)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112724">  
  <a class="name">
  <strong class="user"><em>Leonard Challis</em></strong></a><div class="date" title="2013-07-17 07:40"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112724">
<div class="phpcode"><code><span class="html">
When using realpath (and similar functions) remember that PHP will take in to account open_basedir restrictions. So, if you do something like:<br><br><span class="default">&lt;?php<br></span><span class="comment">// test.php in httpdocs folder<br></span><span class="default">$path </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) . </span><span class="string">'/../application'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>where your open_basedir setting is set to the httpdocs folder and tmp, this will return false. You must set it to the level above (or off) for this to work.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81935">  
  <a class="name">
  <strong class="user"><em>131 dot php at cloudyks dot org</em></strong></a><div class="date" title="2008-03-19 05:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81935">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">//rp like, working with absolute/relative path &amp; a little bit shorter :p 
<br>
<br></span><span class="keyword">function </span><span class="default">rp</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">=array();
<br>&nbsp; &nbsp; foreach(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">) as </span><span class="default">$i</span><span class="keyword">=&gt;</span><span class="default">$fold</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$fold</span><span class="keyword">==</span><span class="string">'' </span><span class="keyword">|| </span><span class="default">$fold</span><span class="keyword">==</span><span class="string">'.'</span><span class="keyword">) continue;
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$fold</span><span class="keyword">==</span><span class="string">'..' </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">end</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">)!=</span><span class="string">'..'</span><span class="keyword">) </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);
<br>&nbsp; &nbsp; else </span><span class="default">$out</span><span class="keyword">[]= </span><span class="default">$fold</span><span class="keyword">;
<br>&nbsp; &nbsp; } return (</span><span class="default">$path</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">}==</span><span class="string">'/'</span><span class="keyword">?</span><span class="string">'/'</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">).</span><span class="default">join</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71334">  
  <a class="name">
  <strong class="user"><em>David Beck</em></strong></a><div class="date" title="2006-11-22 07:38"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71334">
<div class="phpcode"><code><span class="html">
Here's a function to canonicalize a URL containing relative paths. Ran into the problem when pulling links from a remote page.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">canonicalize</span><span class="keyword">(</span><span class="default">$address</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$address </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$address</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$address</span><span class="keyword">, </span><span class="string">'..'</span><span class="keyword">);<br><br>&nbsp; &nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">AS </span><span class="default">$keypos </span><span class="keyword">=&gt; </span><span class="default">$key</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$address</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">- (</span><span class="default">$keypos </span><span class="keyword">* </span><span class="default">2 </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$address </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$address</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$address </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'./'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$address</span><span class="keyword">);<br>}<br><br></span><span class="default">$url </span><span class="keyword">= </span><span class="string">'<a rel="nofollow" target="_blank">http://www.example.com/something/../else</a>'</span><span class="keyword">;<br>echo </span><span class="default">canonicalize</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">); </span><span class="comment">//<a rel="nofollow" target="_blank">http://www.example.com/else</a><br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107116">  
  <a class="name">
  <strong class="user"><em>dbags</em></strong></a><div class="date" title="2012-01-08 01:37"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107116">
<div class="phpcode"><code><span class="html">
If using Windows junction.exe to create a symlink, it seems impossible to get the real path to the file. Even __FILE__ contains the symlinked path, not the actual path of the file.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106207">  
  <a class="name">
  <strong class="user"><em>php at keith tyler dot com</em></strong></a><div class="date" title="2011-10-18 12:15"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106207">
<div class="phpcode"><code><span class="html">
Note that under Windows, a slash-rooted path will resolve on the local drive, and *not* necessarily C:\.<br><br>For example:<br><br>M:\&gt;php -r "print realpath('/AUTOEXEC.BAT');"<br>[prints nothing, because there is no M:\AUTOEXEC.BAT]<br><br>But:<br><br>M:\&gt;C:<br>C:\&gt;php -r "print realpath('/AUTOEXEC.BAT');"<br>C:\AUTOEXEC.BAT<br><br>Same script, different response depending on current drive.<br><br>I'm inclined to argue that this function *should* use the value of %SystemDrive% as the "slash root" base.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94891">  
  <a class="name">
  <strong class="user"><em>hrcerqueira at gmail dot com</em></strong></a><div class="date" title="2009-12-01 04:08"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94891">
<div class="phpcode"><code><span class="html">
if you just need to resolve a path that is not on your system, or you don't want to chdir to it, a simple regular expression can do the trick:<br><br><span class="default">&lt;?php<br><br>$p </span><span class="keyword">= </span><span class="string">'/cool/yeah/../zzz'</span><span class="keyword">;<br><br></span><span class="default">$p </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/\w+\/\.\.\//'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">);<br><br>echo </span><span class="default">$p</span><span class="keyword">; </span><span class="comment">//outputs /cool/zzz<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83705">  
  <a class="name">
  <strong class="user"><em>waldemar dot axdorph at gmail dot com</em></strong></a><div class="date" title="2008-06-08 08:49"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83705">
<div class="phpcode"><code><span class="html">
I made this function so that I could see if a user was trying to go above the current directory.<br><br>My top dir:<br>/var/www/dir/<br><br>User wanted<br>/var/www/<br><br>This comes in handy when you're making a php explorer/filemanager and you want your files in the directory above to be private.<br><br>Here it is<br><br><span class="default">&lt;?php<br></span><span class="comment">//usage<br>//$dir is the dir you are in<br>//$dir_top is the highest dir allowed.<br><br>//example<br>/*<br>if(above_dir('../', '/var/www/filemgr'))<br>&nbsp; &nbsp; die('Not allowed. Please stick to your directories');<br>*/<br></span><span class="keyword">function </span><span class="default">above_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">, </span><span class="default">$dir_top</span><span class="keyword">){<br>&nbsp; &nbsp; if(</span><span class="default">$dir </span><span class="keyword">== </span><span class="default">$dir_top</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$dir_top </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$dir_top</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$dir</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$dir_top </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$dir_top</span><span class="keyword">));<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if(</span><span class="default">$dir </span><span class="keyword">&lt;= </span><span class="default">$dir_top</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75992">  
  <a class="name">
  <strong class="user"><em>richpageau at yahoo dot co dot uk</em></strong></a><div class="date" title="2007-06-25 11:55"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75992">
<div class="phpcode"><code><span class="html">
This is my attempt at writing a realpath replacement. I needed to to run some Adobe code on a server with realpath disabled and this seemed to do the job. It is written for a unix server, I suppose it could be made cross platform using DIRECTORY_SEPARATOR. (With thanks to Marc Noirot for his code).
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">myRealPath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// check if path begins with "/" ie. is absolute
<br>&nbsp; &nbsp; // if it isnt concat with script path
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">) !== </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$base</span><span class="keyword">=</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_FILENAME'</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path</span><span class="keyword">=</span><span class="default">$base</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$path</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">// canonicalize
<br>&nbsp; &nbsp; </span><span class="default">$path</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$newpath</span><span class="keyword">=array();
<br>&nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$path</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]===</span><span class="string">'' </span><span class="keyword">|| </span><span class="default">$path</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]===</span><span class="string">'.'</span><span class="keyword">) continue;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$path</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]===</span><span class="string">'..'</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$newpath</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$newpath</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$finalpath</span><span class="keyword">=</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$newpath</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// check then return valid path or filename
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$finalpath</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">$finalpath</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else return </span><span class="default">FALSE</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8126">  
  <a class="name">
  <strong class="user"><em>jerome at dot451 dot com</em></strong></a><div class="date" title="2000-08-28 12:03"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom8126">
<div class="phpcode"><code><span class="html">
mkdir (and realpath) did not work because i'd used virtual() function to replace server side include in my file.
<br>And i've just seen that virtual() function changes the current directory ... that's why !
<br>
<br>jerome ;)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115620">  
  <a class="name">
  <strong class="user"><em>ilya-direct at ya dot ru</em></strong></a><div class="date" title="2014-08-27 06:44"><strong>1 day ago</strong></div>
  <div class="text" id="Hcom115620">
<div class="phpcode"><code><span class="html">
It's strange, but&nbsp; realpath('C:/wamp/www/sdo-test/data') sometime retuns false, use // or \ instead.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98372">  
  <a class="name">
  <strong class="user"><em>Jrg Wagner</em></strong></a><div class="date" title="2010-06-11 12:35"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98372">
<div class="phpcode"><code><span class="html">
Please be aware that this function does NOT always strip a trailing slash!:<br><br>LINUX (tested with PHP 5.2.11):<br>---<br>realpath('.')<br>: string = "/myhttpdfolder" <br>realpath('./')<br>: string = "/myhttpdfolder" <br>realpath('fileadmin')<br>: string = "/myhttpdfolder/fileadmin" <br>realpath('fileadmin/')<br>: string = "/myhttpdfolder/fileadmin" <br><br>WINDOWS (tested with PHP 5.2.5):<br>---<br>realpath('.')<br>: string = "C:\\myhttpdfolder" <br>realpath('./')<br>: string = "C:\\myhttpdfolder\\" <br>realpath('fileadmin')<br>: string = "C:\\myhttpdfolder\\fileadmin" <br>realpath('fileadmin/')<br>: string = "C:\\myhttpdfolder\\fileadmin\\"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94942">  
  <a class="name">
  <strong class="user"><em>roman dot vasicek at email dot cz</em></strong></a><div class="date" title="2009-12-03 09:01"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94942">
<div class="phpcode"><code><span class="html">
You may want to change script behavior depending on the way how its code is invoked (included by another script / called directly). Following code do the job<br><span class="default">&lt;?php<br></span><span class="keyword">if (</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) == </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_FILENAME'</span><span class="keyword">])) {<br>&nbsp; </span><span class="comment">// called directly<br>&nbsp; </span><span class="keyword">...<br>} else {<br>&nbsp; </span><span class="comment">// included<br>&nbsp; </span><span class="keyword">...<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90337">  
  <a class="name">
  <strong class="user"><em>orssey</em></strong></a><div class="date" title="2009-04-16 01:57"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90337">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="keyword">Class </span><span class="default">RealPath<br></span><span class="keyword">{<br>&nbsp; &nbsp; private </span><span class="default">$ServerPath</span><span class="keyword">;<br>&nbsp; &nbsp; private </span><span class="default">$ScriptPath</span><span class="keyword">;<br>&nbsp; &nbsp; private </span><span class="default">$AddSlashEnd</span><span class="keyword">;<br><br>&nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AddSlashEnd </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ServerPath </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ScriptPath </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_FILENAME'</span><span class="keyword">]), </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ServerPath</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; private function </span><span class="default">Server</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ThisPath </span><span class="keyword">= @</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ThisPathLength </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$ThisPath</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ThisPath</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ServerPath</span><span class="keyword">), </span><span class="default">$ThisPathLength</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">Absolute</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SERVER_NAME'</span><span class="keyword">] . </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Server</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">) . </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AddSlashEnd</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">RelativeServer</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Server</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">) . </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AddSlashEnd</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">RelativeScript</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ScriptExplode </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ScriptPath</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ServerExplode </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Server</span><span class="keyword">(</span><span class="default">$adress</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$TmpCount </span><span class="keyword">= </span><span class="default">$ScriptCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ScriptExplode</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ServerCount </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ServerExplode</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ReturnPath </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$TmpCount</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$ScriptExplode</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$ServerExplode</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --</span><span class="default">$ScriptCount</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$ScriptCount</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ReturnPath </span><span class="keyword">.= </span><span class="string">"/.."</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$TmpCount </span><span class="keyword">- </span><span class="default">$ScriptCount </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$ServerCount</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ReturnPath </span><span class="keyword">.= </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$ServerExplode</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$ReturnPath </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AddSlashEnd</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">AddSlash</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AddSlashEnd </span><span class="keyword">= (</span><span class="default">$value</span><span class="keyword">)? </span><span class="string">"/" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>}<br><br></span><span class="default">example</span><span class="keyword">:<br><br></span><span class="default">$ObjectPath </span><span class="keyword">= new </span><span class="default">RealPath</span><span class="keyword">;<br></span><span class="default">$ObjectPath</span><span class="keyword">-&gt;</span><span class="default">RelativeScript</span><span class="keyword">(</span><span class="string">"../a/b../c/d/f../g../h"</span><span class="keyword">);</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88964">  
  <a class="name">
  <strong class="user"><em>info[at]adico.co.il</em></strong></a><div class="date" title="2009-02-15 02:13"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88964">
<div class="phpcode"><code><span class="html">
for those who want to start realpath on windows platform and looking for example.
<br>
<br>OR
<br>
<br>for those who want to run zend framework on windows platform using the quick start guide 
<br>
<br><span class="default">&lt;?php
<br>define</span><span class="keyword">( </span><span class="string">"_CUR_OS"</span><span class="keyword">, </span><span class="default">substr</span><span class="keyword">( </span><span class="default">php_uname</span><span class="keyword">( ), </span><span class="default">0</span><span class="keyword">, </span><span class="default">7 </span><span class="keyword">) == </span><span class="string">"Windows" </span><span class="keyword">? </span><span class="string">"Win" </span><span class="keyword">: </span><span class="string">"_Nix" </span><span class="keyword">);
<br>
<br>function </span><span class="default">checkCurrentOS</span><span class="keyword">( </span><span class="default">$_OS </span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if ( </span><span class="default">strcmp</span><span class="keyword">( </span><span class="default">$_OS</span><span class="keyword">, </span><span class="default">_CUR_OS </span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">// public/index.php
<br>//
<br>// Step 1: APPLICATION_PATH is a constant pointing to our
<br>// application/subdirectory. We use this to add our "library" directory
<br>// to the include_path, so that PHP can find our Zend Framework classes.
<br>
<br></span><span class="keyword">if ( </span><span class="default">checkCurrentOS</span><span class="keyword">( </span><span class="string">"Win" </span><span class="keyword">) ) {
<br>&nbsp; &nbsp; </span><span class="default">$mappath </span><span class="keyword">= </span><span class="string">'/' </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">( </span><span class="string">"\\"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">str_replace</span><span class="keyword">( </span><span class="string">"C:\\"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) ) );
<br>}
<br>else {
<br>&nbsp; &nbsp; </span><span class="default">$mappath </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">);
<br>}
<br>
<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">'APPLICATION_PATH'</span><span class="keyword">, </span><span class="default">realpath</span><span class="keyword">(&nbsp; </span><span class="default">$mappath </span><span class="keyword">. </span><span class="string">'/../_privateadico/application/'</span><span class="keyword">) );
<br></span><span class="default">set_include_path</span><span class="keyword">(
<br>&nbsp; &nbsp; </span><span class="default">APPLICATION_PATH </span><span class="keyword">. </span><span class="string">'/../library' 
<br>&nbsp; &nbsp; </span><span class="keyword">. </span><span class="default">PATH_SEPARATOR </span><span class="keyword">. </span><span class="default">get_include_path</span><span class="keyword">()
<br>);
<br></span><span class="default">?&gt;
<br></span>
<br>I took the index.php for zend which is was written for unix and ported it to windows.
<br>
<br>The porting problem was with realpath function not understanding dirname(__FILE__) syntex on windows</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85388">  
  <a class="name">
  <strong class="user"><em>Isaac Z. Schlueter i at foohack dot com</em></strong></a><div class="date" title="2008-08-27 07:02"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85388">
<div class="phpcode"><code><span class="html">
If you need to resolve a url against a base url, as the browser does with anchor tags, then realpath won't help, because it's not on your file system.
<br>
<br>This function does that:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">resolve_href </span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">, </span><span class="default">$href</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">// href="" ==&gt; current url.
<br>&nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">$href</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$base</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// href="<a rel="nofollow" target="_blank">http://...</a>" ==&gt; href isn't relative
<br>&nbsp; &nbsp; </span><span class="default">$rel_parsed </span><span class="keyword">= </span><span class="default">parse_url</span><span class="keyword">(</span><span class="default">$href</span><span class="keyword">);
<br>&nbsp; &nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'scheme'</span><span class="keyword">, </span><span class="default">$rel_parsed</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$href</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// add an extra character so that, if it ends in a /, we don't lose the last piece.
<br>&nbsp; &nbsp; </span><span class="default">$base_parsed </span><span class="keyword">= </span><span class="default">parse_url</span><span class="keyword">(</span><span class="string">"</span><span class="default">$base</span><span class="string"> "</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="comment">// if it's just server.com and no path, then put a / there.
<br>&nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'path'</span><span class="keyword">, </span><span class="default">$base_parsed</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$base_parsed </span><span class="keyword">= </span><span class="default">parse_url</span><span class="keyword">(</span><span class="string">"</span><span class="default">$base</span><span class="string">/ "</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// href="/ ==&gt; throw away current path.
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$href</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} === </span><span class="string">"/"</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">$href</span><span class="keyword">;
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$base_parsed</span><span class="keyword">[</span><span class="string">'path'</span><span class="keyword">]) . </span><span class="string">"/</span><span class="default">$href</span><span class="string">"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// bla/./bloo ==&gt; bla/bloo
<br>&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'~/\./~'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// resolve /../
<br>&nbsp; &nbsp; // loop through all the parts, popping whenever there's a .., pushing otherwise.
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'~/+~'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">)) as </span><span class="default">$part
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">) if (</span><span class="default">$part </span><span class="keyword">=== </span><span class="string">".."</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$parts</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif (</span><span class="default">$part</span><span class="keyword">!=</span><span class="string">""</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$part</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; return (
<br>&nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'scheme'</span><span class="keyword">, </span><span class="default">$base_parsed</span><span class="keyword">)) ?
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$base_parsed</span><span class="keyword">[</span><span class="string">'scheme'</span><span class="keyword">] . </span><span class="string">'://' </span><span class="keyword">. </span><span class="default">$base_parsed</span><span class="keyword">[</span><span class="string">'host'</span><span class="keyword">] : </span><span class="string">""
<br>&nbsp; &nbsp; </span><span class="keyword">) . </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$parts</span><span class="keyword">);
<br>
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>[EDIT BY danbrown AT php DOT net:&nbsp; Code contains a bugfix supplied by (Zhenya DOT Morozov AT gmail DOT com) on 23-JAN-09, to address the following issue:
<br>'If your path contains "0" (or any "false" string) directory name, the function removes that directory from the path.']</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78224">  
  <a class="name">
  <strong class="user"><em>alex at bartl dot net</em></strong></a><div class="date" title="2007-10-03 08:25"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78224">
<div class="phpcode"><code><span class="html">
Sometimes it is helpful to check for the existance of a file
<br>which might be found by using the include_path like in 
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">include(</span><span class="string">"file_from_include_path.php"</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>A simple function iterates the include_path and tries all
<br>possibilites, returns translated_local_path on success or false
<br>if not found.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">mappath</span><span class="keyword">(</span><span class="default">$path_to_translate</span><span class="keyword">){
<br>&nbsp; </span><span class="default">$IncludePath</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">,</span><span class="default">get_include_path</span><span class="keyword">());
<br>&nbsp; foreach(</span><span class="default">$IncludePath </span><span class="keyword">as </span><span class="default">$prefix</span><span class="keyword">){
<br>&nbsp; &nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$prefix</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">)==</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$prefix</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$prefix</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$try_path</span><span class="keyword">=</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%s%s%s"
<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">,</span><span class="default">$prefix</span><span class="keyword">,</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">,</span><span class="default">$path_to_translate</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$try_path</span><span class="keyword">))return(</span><span class="default">$try_path</span><span class="keyword">);
<br>&nbsp; }
<br>&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77203">  
  <a class="name">
  <strong class="user"><em>Santosh Patnaik</em></strong></a><div class="date" title="2007-08-20 02:52"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom77203">
<div class="phpcode"><code><span class="html">
Given real paths of two files, this function finds the relative path of one ($dest) with respect to the other ($root).
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">echo </span><span class="default">rel_path</span><span class="keyword">(</span><span class="string">'a/b/c'</span><span class="keyword">, </span><span class="string">'d/e'</span><span class="keyword">); </span><span class="comment">// './../../a/b/c'
<br></span><span class="keyword">echo </span><span class="default">rel_path</span><span class="keyword">(</span><span class="string">'a/b/c'</span><span class="keyword">, </span><span class="string">'a/b/c/d/e'</span><span class="keyword">); </span><span class="comment">// './../..'
<br></span><span class="keyword">echo </span><span class="default">rel_path</span><span class="keyword">(</span><span class="string">'a/b/c/d/e'</span><span class="keyword">, </span><span class="string">'a/b/c'</span><span class="keyword">); </span><span class="comment">// './d/e'
<br>
<br></span><span class="keyword">function </span><span class="default">rel_path</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">, </span><span class="default">$root </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$dir_sep </span><span class="keyword">= </span><span class="string">'/'</span><span class="keyword">)
<br>{
<br> </span><span class="default">$root </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$dir_sep</span><span class="keyword">, </span><span class="default">$root</span><span class="keyword">);
<br> </span><span class="default">$dest </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$dir_sep</span><span class="keyword">, </span><span class="default">$dest</span><span class="keyword">);
<br> </span><span class="default">$path </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">;
<br> </span><span class="default">$fix </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br> </span><span class="default">$diff </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br> for(</span><span class="default">$i </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">; ++</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">max</span><span class="keyword">((</span><span class="default">$rC </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$root</span><span class="keyword">)), (</span><span class="default">$dC </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">)));)
<br> {
<br>&nbsp; if(isset(</span><span class="default">$root</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) and isset(</span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) 
<br>&nbsp; {
<br>&nbsp;&nbsp; if(</span><span class="default">$diff</span><span class="keyword">)
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">.= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="string">'..'</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$fix </span><span class="keyword">.= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; continue;
<br>&nbsp;&nbsp; }
<br>&nbsp;&nbsp; if(</span><span class="default">$root</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] != </span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$diff </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">.= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="string">'..'</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$fix </span><span class="keyword">.= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; continue;
<br>&nbsp;&nbsp; }
<br>&nbsp; }
<br>&nbsp; elseif(!isset(</span><span class="default">$root</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) and isset(</span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))
<br>&nbsp; {
<br>&nbsp;&nbsp; for(</span><span class="default">$j </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; ++</span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$dC</span><span class="keyword">;)
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$fix </span><span class="keyword">.= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];
<br>&nbsp;&nbsp; }
<br>&nbsp;&nbsp; break;
<br>&nbsp; }
<br>&nbsp; elseif(isset(</span><span class="default">$root</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) and !isset(</span><span class="default">$dest</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))
<br>&nbsp; {
<br>&nbsp;&nbsp; for(</span><span class="default">$j </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; ++</span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$rC</span><span class="keyword">;)
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$fix </span><span class="keyword">= </span><span class="default">$dir_sep</span><span class="keyword">. </span><span class="string">'..'</span><span class="keyword">. </span><span class="default">$fix</span><span class="keyword">;
<br>&nbsp;&nbsp; }
<br>&nbsp;&nbsp; break;
<br>&nbsp; } 
<br> }
<br>&nbsp; return </span><span class="default">$path</span><span class="keyword">. </span><span class="default">$fix</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76646">  
  <a class="name">
  <strong class="user"><em>berglov1 at hotmail dot com</em></strong></a><div class="date" title="2007-07-24 07:22"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76646">
<div class="phpcode"><code><span class="html">
There might be other solutions like mine in here, <br>but here is one more.<br><br>This function converts Virtual Paths into Relative Paths. <br>I needed that at one time, and I did'nt have much luck finding a solution amongst the PHP Functions in the manual.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">GetPath</span><span class="keyword">(</span><span class="default">$RedPath</span><span class="keyword">) {<br><br>&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$RedPath</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) == </span><span class="string">"/"</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$SysPath </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]); <br><br>&nbsp; &nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$RedPath</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">) == </span><span class="string">"/"</span><span class="keyword">) </span><span class="default">$RedPath </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$RedPath</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br><br>&nbsp; &nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$SysPath</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="string">"."</span><span class="keyword">.</span><span class="default">$RedPath</span><span class="keyword">;<br>&nbsp; &nbsp; elseif(</span><span class="default">strcmp</span><span class="keyword">(</span><span class="default">$SysPath</span><span class="keyword">,</span><span class="default">$RedPath</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="string">"./"</span><span class="keyword">;&nbsp; <br><br>&nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$s_tmp </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$SysPath</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$r_tmp </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$RedPath</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; while((</span><span class="default">$r_tmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$s_tmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) &amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br><br>&nbsp; &nbsp; &nbsp; </span><span class="default">$t_RedPath </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">split</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$RedPath</span><span class="keyword">, (</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)));&nbsp; <br><br>&nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">== </span><span class="default">count</span><span class="keyword">(</span><span class="default">$s_tmp</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"./"</span><span class="keyword">.</span><span class="default">$t_RedPath</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">"../"</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$s_tmp</span><span class="keyword">)-</span><span class="default">$i</span><span class="keyword">).</span><span class="default">$t_RedPath</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; }<br>&nbsp; else<br>&nbsp; &nbsp; return </span><span class="default">$RedPath</span><span class="keyword">;<br><br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76453">  
  <a class="name">
  <strong class="user"><em>julabz at laposte dot net</em></strong></a><div class="date" title="2007-07-16 11:49"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76453">
<div class="phpcode"><code><span class="html">
Here's a little function to return the relative path between two urls:<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">get_relative_path</span><span class="keyword">(</span><span class="default">$start_dir</span><span class="keyword">, </span><span class="default">$final_dir</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$firstPathParts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$start_dir</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$secondPathParts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$final_dir</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sameCounter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">min</span><span class="keyword">( </span><span class="default">count</span><span class="keyword">(</span><span class="default">$firstPathParts</span><span class="keyword">), </span><span class="default">count</span><span class="keyword">(</span><span class="default">$secondPathParts</span><span class="keyword">) ); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$firstPathParts</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) !== </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$secondPathParts</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sameCounter</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$sameCounter </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$final_dir</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$sameCounter</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$firstPathParts</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">$sameCounter </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">.= </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">.= </span><span class="string">".."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">count</span><span class="keyword">(</span><span class="default">$newPath</span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">= </span><span class="string">"."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$sameCounter</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$secondPathParts</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">.= </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newPath </span><span class="keyword">.= </span><span class="default">$secondPathParts</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$newPath</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54951">  
  <a class="name">
  <strong class="user"><em>php.netatjulian-lemburg.de</em></strong></a><div class="date" title="2005-07-20 08:55"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54951">
<div class="phpcode"><code><span class="html">
You have a realpath.<br>Now you want a htmlpath.<br><br>First Suggestion:<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">htmlpath</span><span class="keyword">(</span><span class="default">$relative_path</span><span class="keyword">) {<br>&nbsp;&nbsp; </span><span class="default">$realpath</span><span class="keyword">=</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$relative_path</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">$htmlpath</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">],</span><span class="string">''</span><span class="keyword">,</span><span class="default">$realpath</span><span class="keyword">);<br>&nbsp;&nbsp; return </span><span class="default">$htmlpath</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>But this does not work on some servers.<br><br>Second Suggestion:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">htmlpath</span><span class="keyword">(</span><span class="default">$realpath</span><span class="keyword">) {<br>&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">"SCRIPT_URL"</span><span class="keyword">],</span><span class="string">'/'</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br>&nbsp;&nbsp; </span><span class="default">$baserealpath</span><span class="keyword">=</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">'../'</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">));<br>&nbsp;&nbsp; </span><span class="default">$htmlpath</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$baserealpath</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$realpath</span><span class="keyword">);<br>&nbsp;&nbsp; return </span><span class="default">$htmlpath</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53668">  
  <a class="name">
  <strong class="user"><em>Lars Scheithauer &lt;l dot scheithauer at gmx dot de&gt;</em></strong></a><div class="date" title="2005-06-08 10:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53668">
<div class="phpcode"><code><span class="html">
This function is also nice to test for security-breaches. You can forbid the script to access files below a certain directory to prevent "../../../etc/shadow" and similar attacks:<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// declare the basic directory for security reasons<br>// Please do NOT attach a "/"-suffix !<br></span><span class="default">$basedir </span><span class="keyword">= </span><span class="string">'/var/www/cgi-bin/scriptfolder'</span><span class="keyword">;<br><br></span><span class="comment">// compare the entered path with the basedir<br></span><span class="default">$path_parts </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'file_to_get'</span><span class="keyword">]);<br>if (</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'dirname'</span><span class="keyword">]) != </span><span class="default">$basedir</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">/* appropriate action against crack-attempt*/<br>&nbsp; &nbsp; </span><span class="keyword">die (</span><span class="string">'coding good - h4x1ng bad!'</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>The url "script.php?file_to_get=../../../etc/shadow" will now result in an error.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="48361">  
  <a class="name">
  <strong class="user"><em>pulstar at ig dot com dot br</em></strong></a><div class="date" title="2004-12-20 01:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom48361">
<div class="phpcode"><code><span class="html">
Sometimes you may need to refer to the absolute path of a file in your website instead of a relative path, but the realpath() function returns the path relative to the server's filesystem, not a path relative to your website root directory. <br><br>For example, realpath() may return something like this:<br><br>/home/yoursite/public_html/dir1/file.ext<br><br>You can't use this in an HTML document, because the web server will not find the file. To do so, you can use:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">htmlpath</span><span class="keyword">(</span><span class="default">$relative_path</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$realpath</span><span class="keyword">=</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$relative_path</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$htmlpath</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">],</span><span class="string">''</span><span class="keyword">,</span><span class="default">$realpath</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$htmlpath</span><span class="keyword">;<br>}<br><br>echo </span><span class="string">'&lt;img src="'</span><span class="keyword">,</span><span class="default">htmlpath</span><span class="keyword">(</span><span class="string">'../../relative/path/to/file.ext'</span><span class="keyword">),</span><span class="string">'" border=1&gt;'</span><span class="keyword">; <br><br></span><span class="default">?&gt;<br></span><br>It will return something like:<br><br>&lt;img src="/dir1/relative/path/to/file.ext" border=1&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103440">  
  <a class="name">
  <strong class="user"><em>netmosfera at gmail dot com</em></strong></a><div class="date" title="2011-04-13 09:55"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103440">
<div class="phpcode"><code><span class="html">
please note that realpath is a performance killer<br><br>on my sys listing 100 files with realpath takes 0.2 sec (core2quad 6600 x64 4gbddr2)<br><br>in most cases, its better to use getcwd() instead and work with dirname() to resolve ".."</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97885">  
  <a class="name">
  <strong class="user"><em>jpic</em></strong></a><div class="date" title="2010-05-13 12:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97885">
<div class="phpcode"><code><span class="html">
There is no native function that does the opposite.<br><br>Pure-php implementation:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getRelativePath</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$compareTo </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// clean arguments by removing trailing and prefixing slashes<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if ( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$compareTo</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$compareTo </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$compareTo</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$compareTo</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$compareTo </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$compareTo</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// simple case: $compareTo is in $path<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if ( </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$compareTo </span><span class="keyword">) === </span><span class="default">0 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$compareTo </span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$relative&nbsp; </span><span class="keyword">= array(&nbsp; );<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pathParts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">( </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$compareToParts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">( </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$compareTo </span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; foreach( </span><span class="default">$compareToParts </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$part </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( isset( </span><span class="default">$pathParts</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] ) &amp;&amp; </span><span class="default">$pathParts</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] == </span><span class="default">$part </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$relative</span><span class="keyword">[] = </span><span class="string">'..'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; foreach( </span><span class="default">$pathParts </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$part </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( isset( </span><span class="default">$compareToParts</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] ) &amp;&amp; </span><span class="default">$compareToParts</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] == </span><span class="default">$part </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$relative</span><span class="keyword">[] = </span><span class="default">$part</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">implode</span><span class="keyword">( </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$relative </span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>Some tests forr phpunit:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">static public function </span><span class="default">getRelativePathProvider</span><span class="keyword">(&nbsp; )&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar/'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar/'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/test'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'../foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/test/fool'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'../../foo/bar'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/mad/xp/mad/model/static/css/uni-form.css'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/srv/mad/xp/liria/'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'../mad/model/static/css/uni-form.css'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; );<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * @dataProvider getRelativePathProvider<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">public function </span><span class="default">testGetRelativePath</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$compareTo</span><span class="keyword">, </span><span class="default">$expected </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">getRelativePath</span><span class="keyword">( </span><span class="default">$path</span><span class="keyword">, </span><span class="default">$compareTo </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertEquals</span><span class="keyword">( </span><span class="default">$expected</span><span class="keyword">, </span><span class="default">$result </span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13842">  
  <a class="name">
  <strong class="user"><em>jemptyg at rwmc dot net</em></strong></a><div class="date" title="2001-07-05 03:38"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13842">
<div class="phpcode"><code><span class="html">
realpath() seems to be equivalent to ASP's Server.MapPath.&nbsp; On my Win2k box I have successfully used realpath() to give me the full path for a file outside of the document_root.&nbsp; This will be very useful in conjunction with is_dir and/or is_file, which require a full path.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77968">  
  <a class="name">
  <strong class="user"><em>alban dot lopez+php dot net at gmail dot com</em></strong></a><div class="date" title="2007-09-21 12:15"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77968">
<div class="phpcode"><code><span class="html">
Here's a little function to return the shortest relative path between dest folder and current folder (you can be replace $_SERVER['PHP_SEFL'] by your variable folder) :<br><br><span class="default">&lt;?php<br></span><span class="comment">// if you run in /var/www/<br><br></span><span class="keyword">echo </span><span class="default">UnRealPath </span><span class="keyword">(</span><span class="string">'./'</span><span class="keyword">); </span><span class="comment">// return "./"<br></span><span class="keyword">echo </span><span class="default">UnRealPath </span><span class="keyword">(</span><span class="string">'./ajax-browser/AJAX-B/scripts/'</span><span class="keyword">); </span><span class="comment">// return "./ajax-browser/AJAX-B/scripts/"<br></span><span class="keyword">echo </span><span class="default">UnRealPath </span><span class="keyword">(</span><span class="string">'/var/'</span><span class="keyword">); </span><span class="comment">// return "./../"<br></span><span class="keyword">echo </span><span class="default">UnRealPath </span><span class="keyword">(</span><span class="string">'/opt/picasa/wine/'</span><span class="keyword">); </span><span class="comment">// return "./../../opt/picasa/wine/"<br><br></span><span class="keyword">function </span><span class="default">UnRealPath </span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$Ahere </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SEFL'</span><span class="keyword">]));<br>&nbsp; &nbsp; </span><span class="default">$Adest </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="string">'.'</span><span class="keyword">; </span><span class="comment">// le chemin retounÃ© dois forcement commancÃ© par ./&nbsp;&nbsp; c'est le but<br>&nbsp; &nbsp; </span><span class="keyword">while (</span><span class="default">implode </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$Adest</span><span class="keyword">) != </span><span class="default">implode </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$Ahere</span><span class="keyword">))</span><span class="comment">// &amp;&amp; count ($Adest)&gt;0 &amp;&amp; count($Ahere)&gt;0 )<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$Ahere</span><span class="keyword">)&gt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$Adest</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$Ahere</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="string">'/..'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$Adest</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">.</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">implode </span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$Adest</span><span class="keyword">), </span><span class="string">''</span><span class="keyword">, </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">)).(@</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$dest</span><span class="keyword">))?</span><span class="string">'/'</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.realpath.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:49 GMT -->


</body></html>