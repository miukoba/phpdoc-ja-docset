<html><!-- Mirrored from php.net/manual/en/runkit.sandbox.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:11:12 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Runkit_Sandbox</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="runkit.sandbox.html">
 <link rel="shorturl" href="runkit.sandbox.html">
 <link rel="alternate" href="runkit.sandbox.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.runkit.html">
 <link rel="prev" href="ref.runkit.html">
 <link rel="next" href="runkit.sandbox-parent.html">

 <link rel="alternate" href="runkit.sandbox.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/runkit.sandbox.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/runkit.sandbox.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/runkit.sandbox.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/runkit.sandbox.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/runkit.sandbox.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/runkit.sandbox.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/runkit.sandbox.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/runkit.sandbox.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/runkit.sandbox.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/runkit.sandbox.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>      <li><a href="book.runkit.html">runkit</a></li>      <li><a href="ref.runkit.html">runkit Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="runkit.sandbox" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Runkit_Sandbox</h1>
  <p class="verinfo">(PECL runkit &gt;= 0.7.0)</p><p class="refpurpose"><span class="refname">Runkit_Sandbox</span> â€” <span class="dc-title">
   Runkit Sandbox Class -- PHP Virtual Machine
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-runkit.sandbox-description">
  <h3 class="title">Description</h3>

  <p class="para">
   Instantiating the <strong class="classname">Runkit_Sandbox</strong>
   class creates a new thread with its own scope
   and program stack.  Using a set of options passed to the constructor, this environment
   may be restricted to a subset of what the primary interpreter can do and provide a
   safer environment for executing user supplied code.
  </p>

  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Sandbox support (required for
<span class="function"><a href="function.runkit-lint.html" class="function">runkit_lint()</a></span>, <span class="function"><a href="function.runkit-lint-file.html" class="function">runkit_lint_file()</a></span>,
and the <strong class="classname">Runkit_Sandbox</strong> class) is only available as of
PHP 5.1.0 or specially patched versions of PHP 5.0, and requires that thread
safety be enabled.
See the <var class="filename">README</var> file included in the runkit package for
more information.</span></p></blockquote>
 </div>


 <div class="refsect1 constructor" id="refsect1-runkit.sandbox-constructor">
  <h3 class="title">Constructor</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>Runkit_Sandbox::__construct</strong></span>
    ([ <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code></span>
  ] )</div>


  <p class="para rdfs-comment">
   <code class="parameter">options</code> is an associative array containing
   any combination of the special ini options listed below.
  </p>

  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">safe_mode</code></dt>

     <dd>

      <p class="para">
       If the outer script which is instantiating the
       <strong class="classname">Runkit_Sandbox</strong> class
       is configured with <em>safe_mode = off</em>, then safe_mode
       may be turned on for the sandbox environment.  This setting can not
       be used to disable <em>safe_mode</em> when it's already
       enabled in the outer script.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">safe_mode_gid</code></dt>

     <dd>

      <p class="para">
       If the outer script which is instantiating the
       <strong class="classname">Runkit_Sandbox</strong> class
       is configured with <em>safe_mode_gid = on</em>, then safe_mode_gid
       may be turned off for the sandbox environment.  This setting can not
       be used to enable <em>safe_mode_gid</em> when it's already
       disabled in the outer script.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">safe_mode_include_dir</code></dt>

     <dd>

      <p class="para">
       If the outer script which is instantiating the
       <strong class="classname">Runkit_Sandbox</strong> class
       is configured with a <em>safe_mode_include_dir</em>,
       then a new safe_mode_include_dir may be set for sandbox environments
       below the currently defined value.  safe_mode_include_dir may also be
       cleared to indicate that the bypass feature is disabled.
       If safe_mode_include_dir was blank in the outer script, but safe_mode
       was not enabled, then any arbitrary safe_mode_include_dir may be set
       while turning safe_mode on.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">open_basedir</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">open_basedir</code> may be set to any path below the
       current setting of <em>open_basedir</em>. If
       <em>open_basedir</em> is not set within the global scope,
       then it is assumed to be the root directory and may be set to any location.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">allow_url_fopen</code></dt>

     <dd>

      <p class="para">
       Like <code class="parameter">safe_mode</code>, this setting can only be made more restrictive,
       in this case by setting it to <strong><code>FALSE</code></strong> when it is previously set to <strong><code>TRUE</code></strong>
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">disable_functions</code></dt>

     <dd>

      <p class="para">
       Comma separated list of functions to disable within the sandbox sub-interpreter.
       This list need not contain the names of the currently disabled functions,
       they will remain disabled whether listed here or not.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">disable_classes</code></dt>

     <dd>

      <p class="para">
       Comma separated list of classes to disable within the sandbox sub-interpreter.
       This list need not contain the names of the currently disabled classes,
       they will remain disabled whether listed here or not.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">runkit.superglobal</code></dt>

     <dd>

      <p class="para">
       Comma separated list of variables to be treated as superglobals within the
       sandbox sub-interpreter.  These variables will be used in addition to any
       variables defined internally or through the global runkit.superglobal setting.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">runkit.internal_override</code></dt>

     <dd>

      <p class="para">
       Ini option <em>runkit.internal_override</em> may be disabled
       (but not re-enabled) within sandboxes.
      </p>
     </dd>

    
   </dl>

  <p></p>

  <div class="example" id="example-547">
   <p><strong>Example #1 Instantiating a restricted sandbox</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br>&nbsp;&nbsp;</span><span style="color: #DD0000">'safe_mode'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br>&nbsp;&nbsp;</span><span style="color: #DD0000">'open_basedir'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'/var/www/users/jdoe/'</span><span style="color: #007700">,<br>&nbsp;&nbsp;</span><span style="color: #DD0000">'allow_url_fopen'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'false'</span><span style="color: #007700">,<br>&nbsp;&nbsp;</span><span style="color: #DD0000">'disable_functions'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'exec,shell_exec,passthru,system'</span><span style="color: #007700">,<br>&nbsp;&nbsp;</span><span style="color: #DD0000">'disable_classes'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'myAppClass'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$sandbox&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Runkit_Sandbox</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br></span><span style="color: #FF8000">/*&nbsp;Non-protected&nbsp;ini&nbsp;settings&nbsp;may&nbsp;set&nbsp;normally&nbsp;*/<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'html_errors'</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 variables" id="refsect1-runkit.sandbox-variables">
  <h3 class="title">Accessing Variables</h3>
  <p class="para">
   All variables in the global scope of the sandbox environment
   are accessible as properties of the sandbox object.
   The first thing to note is that because of the way memory
   between these two threads is managed, object and resource
   variables can not currently be exchanged between interpreters.
   Additionally, all arrays are deep copied and any references
   will be lost.  This also means that references between
   interpreters are not possible.
  </p>

  <div class="example" id="example-548">
   <p><strong>Example #2 Working with variables in a sandbox</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$sandbox&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Runkit_Sandbox</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">eval</span><span style="color: #007700">(</span><span style="color: #DD0000">'echo&nbsp;"$foo\n";&nbsp;$bar&nbsp;=&nbsp;$foo&nbsp;.&nbsp;"baz";'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>if&nbsp;(isset(</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">))&nbsp;unset(</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">eval</span><span style="color: #007700">(</span><span style="color: #DD0000">'var_dump(isset($foo));'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">The above example will output:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>bar
barbaz
bool(false)
</pre></div>
  </div>
 </div>


 <div class="refsect1 functions" id="refsect1-runkit.sandbox-functions">
  <h3 class="title">Calling PHP Functions</h3>
  <p class="para">
   Any function defined within the sandbox may be called as
   a method on the sandbox object.  This also includes a few
   pseudo-function language constructs:  <span class="function"><a href="function.eval.html" class="function">eval()</a></span>,
   <span class="function"><a href="function.include.html" class="function">include</a></span>, <span class="function"><a href="function.include-once.html" class="function">include_once</a></span>,
   <span class="function"><a href="function.require.html" class="function">require</a></span>, <span class="function"><a href="function.require-once.html" class="function">require_once</a></span>,
   <span class="function"><a href="function.echo.html" class="function">echo</a></span>, <span class="function"><a href="function.print.html" class="function">print</a></span>,
   <span class="function"><a href="function.die.html" class="function">die()</a></span>, and <span class="function"><a href="function.exit.html" class="function">exit()</a></span>.
  </p>

  <div class="example" id="example-549">
   <p><strong>Example #3 Calling sandbox functions</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$sandbox&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Runkit_Sandbox</span><span style="color: #007700">();<br><br>echo&nbsp;</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,</span><span style="color: #DD0000">'f'</span><span style="color: #007700">,</span><span style="color: #DD0000">'abc'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">The above example will output:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>fbc
</pre></div>
  </div>

  <p class="para">
   When passing arguments to a sandbox function, the arguments
   are taken from the outer instance of PHP.  If you wish to pass
   arguments from the sandbox's scope, be sure to access them as
   properties of the sandbox object as illustrated above.
  </p>

  <div class="example" id="example-550">
   <p><strong>Example #4 Passing arguments to sandbox functions</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$sandbox&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Runkit_Sandbox</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,</span><span style="color: #0000BB">$sandbox</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">The above example will output:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>bar
baz
</pre></div>
  </div>
 </div>


 <div class="refsect1 settings" id="refsect1-runkit.sandbox-settings">
  <h3 class="title">Changing Sandbox Settings</h3>
  <p class="para">
   As of runkit version 0.5, certain Sandbox settings may
   be modified on the fly using ArrayAccess syntax.
   Some settings, such as <code class="parameter">active</code>
   are read-only and meant to provide status information.
   Other settings, such as <code class="parameter">output_handler</code>
   may be set and read much like a normal array offset.
   Future settings may be write-only, however no such
   settings currently exist.
  </p>

  <p class="para">
   </p><table class="doctable table">
    <caption><strong>Sandbox Settings / Status Indicators</strong></caption>
    
     <thead>
      <tr>
       <th>Setting</th>
       <th>Type</th>
       <th>Purpose</th>
       <th>Default</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td><em>active</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span> (Read Only)</td>
       <td>
        <strong><code>TRUE</code></strong> if the Sandbox is still in a usable state,
        <strong><code>FALSE</code></strong> if the request is in bailout due to a
        call to die(), exit(), or because of a fatal
        error condition.
       </td>
       <td><strong><code>TRUE</code></strong> (Initial)</td>
      </tr>

      <tr>
       <td><em>output_handler</em></td>
       <td><span class="type"><a href="language.pseudo-types.html#language.types.callback" class="type Callback">Callback</a></span></td>
       <td>
        When set to a valid callback, all output generated
        by the Sandbox instance will be processed through
        the named function.
        Sandbox output handlers follow the same calling
        conventions as the system-wide output handler.
       </td>
       <td>None</td>
      </tr>

      <tr>
       <td><em>parent_access</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox use instances of the
        <strong class="classname">Runkit_Sandbox_Parent</strong> class?
        Must be enabled for other
        <strong class="classname">Runkit_Sandbox_Parent</strong>
        related settings to work.
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_read</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox read variables in its parent's context?
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_write</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox modify variables in its parent's context?
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_eval</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox evaluate arbitrary code in its
        parent's context? <em class="emphasis">DANGEROUS</em>
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_include</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox include php code files in its
        parent's context? <em class="emphasis">DANGEROUS</em>
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_echo</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox echo data in its parent's context
        effectively bypassing its own output_handler?
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_call</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox call functions in its
        parent's context?
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_die</em></td>
       <td><span class="type"><a href="language.types.boolean.html" class="type Boolean">Boolean</a></span></td>
       <td>
        May the sandbox kill its own parent? (And thus itself)
       </td>
       <td><strong><code>FALSE</code></strong></td>
      </tr>

      <tr>
       <td><em>parent_scope</em></td>
       <td><span class="type"><a href="language.types.integer.html" class="type Integer">Integer</a></span></td>
       <td>
        What scope will parental property access look at?
        0 == Global scope, 1 == Calling scope,
        2 == Scope preceding calling scope,
        3 == The scope before that, etc..., etc...
       </td>
       <td><em>0</em> (Global)</td>
      </tr>

      <tr>
       <td><em>parent_scope</em></td>
       <td><span class="type"><a href="language.types.string.html" class="type String">String</a></span></td>
       <td>
        When <em>parent_scope</em> is set to
        a string value, it refers to a named array variable
        in the global scope.  If the named variable does not
        exist at the time of access it will be created as an
        empty array.  If the variable exists but it not an array,
        a dummy array will be created containing a reference
        to the named global variable.
       </td>
       <td class="empty">&nbsp;</td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/runkit.sandbox.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:11:13 GMT -->


</body></html>