<html><!-- Mirrored from php.net/manual/en/mysqli-result.fetch-array.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:02:19 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>mysqli_result::fetch_array</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="mysqli-result.fetch-array.html">
 <link rel="shorturl" href="mysqli-result.fetch-array.html">
 <link rel="alternate" href="mysqli-result.fetch-array.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="class.mysqli-result.html">
 <link rel="prev" href="mysqli-result.fetch-all.html">
 <link rel="next" href="mysqli-result.fetch-assoc.html">

 <link rel="alternate" href="mysqli-result.fetch-array.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/mysqli-result.fetch-array.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/mysqli-result.fetch-array.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/mysqli-result.fetch-array.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/mysqli-result.fetch-array.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/mysqli-result.fetch-array.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/mysqli-result.fetch-array.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/mysqli-result.fetch-array.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/mysqli-result.fetch-array.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/mysqli-result.fetch-array.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/mysqli-result.fetch-array.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqli.html">Mysqli</a></li>      <li><a href="class.mysqli-result.html">mysqli_result</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="mysqli-result.fetch-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqli_result::fetch_array</h1>
  <h1 class="refname">mysqli_fetch_array</h1>
  <p class="verinfo">(PHP 5)</p><p class="refpurpose"><span class="refname">mysqli_result::fetch_array</span> -- <span class="refname">mysqli_fetch_array</span> — <span class="dc-title">Fetch a result row as an associative, a numeric array, or both</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mysqli-result.fetch-array-description">
  <h3 class="title">Description</h3>
  <p class="para">Object oriented style</p>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>mysqli_result::fetch_array</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$resulttype</code><span class="initializer"> = MYSQLI_BOTH</span></span>
  ] )</div>

  <p class="para rdfs-comment">Procedural style</p>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>mysqli_fetch_array</strong></span>
    ( <span class="methodparam"><span class="type"><a href="class.mysqli-result.html" class="type mysqli_result">mysqli_result</a></span> <code class="parameter">$result</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$resulttype</code><span class="initializer"> = MYSQLI_BOTH</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Returns an array that corresponds to the fetched row or <strong><code>NULL</code></strong> if there
   are no more rows for the resultset represented by the
   <code class="parameter">result</code> parameter.
  </p>
  <p class="para">
   <span class="function"><strong>mysqli_fetch_array()</strong></span> is an extended version of the
   <span class="function"><a href="mysqli-result.fetch-row.html" class="function">mysqli_fetch_row()</a></span> function. In addition to storing the
   data in the numeric indices of the result array, the 
   <span class="function"><strong>mysqli_fetch_array()</strong></span> function can also store the data
   in associative indices, using the field names of the result set as keys.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Field names returned by this function
are <em class="emphasis">case-sensitive</em>.</span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function sets NULL fields to
the PHP <strong><code>NULL</code></strong> value.</span></p></blockquote>
  <p class="para">
   If two or more columns of the result have the same field names, the last
   column will take precedence and overwrite the earlier data. In order to
   access multiple columns with the same name, the numerically indexed
   version of the row must be used.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mysqli-result.fetch-array-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    <dt>
<code class="parameter">
result</code></dt>
<dd>
<p class="para">Procedural style only: A result set
identifier returned by <span class="function"><a href="mysqli.query.html" class="function">mysqli_query()</a></span>, <span class="function"><a href="mysqli.store-result.html" class="function">mysqli_store_result()</a></span>
or <span class="function"><a href="mysqli.use-result.html" class="function">mysqli_use_result()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">resulttype</code></dt>

     <dd>

      <p class="para">
       This optional parameter is a constant indicating what type of array
       should be produced from the current row data. The possible values for
       this parameter are the constants <strong><code>MYSQLI_ASSOC</code></strong>,
       <strong><code>MYSQLI_NUM</code></strong>, or <strong><code>MYSQLI_BOTH</code></strong>.
      </p>
      <p class="para">
       By using the <strong><code>MYSQLI_ASSOC</code></strong> constant this function
       will behave identically to the <span class="function"><a href="mysqli-result.fetch-assoc.html" class="function">mysqli_fetch_assoc()</a></span>,
       while <strong><code>MYSQLI_NUM</code></strong> will behave identically to the
       <span class="function"><a href="mysqli-result.fetch-row.html" class="function">mysqli_fetch_row()</a></span> function. The final option 
       <strong><code>MYSQLI_BOTH</code></strong> will create a single array with the
       attributes of both.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mysqli-result.fetch-array-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array of strings that corresponds to the fetched row or <strong><code>NULL</code></strong> if there
   are no more rows in resultset.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-mysqli-result.fetch-array-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-1807">
   <p><strong>Example #1 Object oriented style</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$mysqli&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_errno</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">"Connect&nbsp;failed:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_error</span><span style="color: #007700">);<br>}<br><br></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;Name,&nbsp;CountryCode&nbsp;FROM&nbsp;City&nbsp;ORDER&nbsp;by&nbsp;ID&nbsp;LIMIT&nbsp;3"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;numeric&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_NUM</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;associative&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_ASSOC</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;associative&nbsp;and&nbsp;numeric&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_BOTH</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;free&nbsp;result&nbsp;set&nbsp;*/<br></span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br><br></span><span style="color: #FF8000">/*&nbsp;close&nbsp;connection&nbsp;*/<br></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-1808">
   <p><strong>Example #2 Procedural style</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;check&nbsp;connection&nbsp;*/<br></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">())&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect&nbsp;failed:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br>&nbsp;&nbsp;&nbsp;&nbsp;exit();<br>}<br><br></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;Name,&nbsp;CountryCode&nbsp;FROM&nbsp;City&nbsp;ORDER&nbsp;by&nbsp;ID&nbsp;LIMIT&nbsp;3"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;numeric&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MYSQLI_NUM</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;associative&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MYSQLI_ASSOC</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;associative&nbsp;and&nbsp;numeric&nbsp;array&nbsp;*/<br></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MYSQLI_BOTH</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br><br></span><span style="color: #FF8000">/*&nbsp;free&nbsp;result&nbsp;set&nbsp;*/<br></span><span style="color: #0000BB">mysqli_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;close&nbsp;connection&nbsp;*/<br></span><span style="color: #0000BB">mysqli_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above examples will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>Kabul (AFG)
Qandahar (AFG)
Herat (AFG)
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-mysqli-result.fetch-array-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="mysqli-result.fetch-assoc.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_assoc()</a> - Fetch a result row as an associative array</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-row.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_row()</a> - Get a result row as an enumerated array</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-object.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_object()</a> - Returns the current row of a result set as an object</span></li>
    <li class="member"><span class="function"><a href="mysqli.query.html" class="function" rel="rdfs-seeAlso">mysqli_query()</a> - Performs a query on the database</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.data-seek.html" class="function" rel="rdfs-seeAlso">mysqli_data_seek()</a> - Adjusts the result pointer to an arbitrary row in the result</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="95881">  
  <a class="name">
  <strong class="user"><em>Jammerx2</em></strong></a><div class="date" title="2010-01-26 07:09"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95881">
<div class="phpcode"><code><span class="html">
Putting multiple rows into an array:<br><br><span class="default">&lt;?php<br>$mysqli </span><span class="keyword">= new </span><span class="default">mysqli</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">, </span><span class="string">"my_user"</span><span class="keyword">, </span><span class="string">"my_password"</span><span class="keyword">, </span><span class="string">"world"</span><span class="keyword">);<br><br></span><span class="comment">/* check connection */<br></span><span class="keyword">if (</span><span class="default">mysqli_connect_errno</span><span class="keyword">()) {<br>&nbsp; &nbsp; </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"Connect failed: %s\n"</span><span class="keyword">, </span><span class="default">mysqli_connect_error</span><span class="keyword">());<br>&nbsp; &nbsp; exit();<br>}<br><br></span><span class="default">$query </span><span class="keyword">= </span><span class="string">"SELECT Name, CountryCode FROM City ORDER by ID LIMIT 3"</span><span class="keyword">;<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">$mysqli</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br><br>while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">fetch_array</span><span class="keyword">())<br>{<br></span><span class="default">$rows</span><span class="keyword">[] = </span><span class="default">$row</span><span class="keyword">;<br>}<br><br>foreach(</span><span class="default">$rows </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">)<br>{<br>echo </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'CountryCode'</span><span class="keyword">];<br>}<br><br></span><span class="comment">/* free result set */<br></span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br><br></span><span class="comment">/* close connection */<br></span><span class="default">$mysqli</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104189">  
  <a class="name">
  <strong class="user"><em>ahouston at gmail dot com</em></strong></a><div class="date" title="2011-05-31 02:39"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104189">
<div class="phpcode"><code><span class="html">
Here is a function to return an associative array with multiple columns as keys to the array.<br><br>This is a rough approximation of the perl DBI-&gt;fetchall_hashref function - something I find myself using quite a bit.<br><br>Given a simple mySQL table:<br><br>mysql&gt; select * from city;<br>+----------------+----------------+------------------+------------+<br>| country&nbsp; &nbsp; &nbsp; &nbsp; | region&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; | city&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; | hemisphere |<br>+----------------+----------------+------------------+------------+<br>| South Africa&nbsp;&nbsp; | KwaZulu-Natal&nbsp; | Durban&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; | South&nbsp; &nbsp; &nbsp; |<br>| South Africa&nbsp;&nbsp; | Gauteng&nbsp; &nbsp; &nbsp; &nbsp; | Johannesburg&nbsp; &nbsp;&nbsp; | South&nbsp; &nbsp; &nbsp; |<br>| South Africa&nbsp;&nbsp; | Gauteng&nbsp; &nbsp; &nbsp; &nbsp; | Tshwane&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | South&nbsp; &nbsp; &nbsp; |<br>| South Africa&nbsp;&nbsp; | KwaZulu-Natal&nbsp; | Pietermaritzburg | South&nbsp; &nbsp; &nbsp; |<br>| United Kingdom | Greater London | City of London&nbsp;&nbsp; | North&nbsp; &nbsp; &nbsp; |<br>| United Kingdom | Greater London | Wimbledon&nbsp; &nbsp; &nbsp; &nbsp; | North&nbsp; &nbsp; &nbsp; |<br>| United Kingdom | Lancashire&nbsp; &nbsp;&nbsp; | Liverpool&nbsp; &nbsp; &nbsp; &nbsp; | North&nbsp; &nbsp; &nbsp; |<br>| United Kingdom | Lancashire&nbsp; &nbsp;&nbsp; | Manchester&nbsp; &nbsp; &nbsp;&nbsp; | North&nbsp; &nbsp; &nbsp; |<br>+----------------+----------------+------------------+------------+<br><br>*Note* - this is a simple function that makes no attempt to keep multiple values per key, so you need to specify all the unique keys you require.<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; &nbsp; &nbsp; $link </span><span class="keyword">= </span><span class="default">mysqli_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">, </span><span class="string">"username"</span><span class="keyword">, </span><span class="string">"password"</span><span class="keyword">, </span><span class="string">"test"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysqli_query</span><span class="keyword">(</span><span class="default">$link</span><span class="keyword">, </span><span class="string">"select * from city"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$results_arr </span><span class="keyword">= </span><span class="default">fetch_all_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,array(</span><span class="string">'hemisphere'</span><span class="keyword">,</span><span class="string">'country'</span><span class="keyword">,</span><span class="string">'region'</span><span class="keyword">,</span><span class="string">'city'</span><span class="keyword">));<br><br>function </span><span class="default">fetch_all_assoc</span><span class="keyword">(&amp; </span><span class="default">$result</span><span class="keyword">,</span><span class="default">$index_keys</span><span class="keyword">) {<br><br>&nbsp; </span><span class="comment">// Args :&nbsp; &nbsp; $result = mysqli result variable (passed as reference to allow a free() at the end<br>&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $indexkeys = array of columns to index on<br>&nbsp; // Returns : associative array indexed by the keys array<br><br>&nbsp; </span><span class="default">$assoc </span><span class="keyword">= array();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// The array we're going to be returning<br><br>&nbsp; </span><span class="keyword">while (</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysqli_fetch_array</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">MYSQLI_ASSOC</span><span class="keyword">)) {<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer </span><span class="keyword">= &amp; </span><span class="default">$assoc</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Start the pointer off at the base of the array<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$index_keys</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$key_name </span><span class="keyword">= </span><span class="default">$index_keys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!isset(</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$key_name</span><span class="keyword">])) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"Error: Key </span><span class="default">$key_name</span><span class="string"> is not present in the results output.\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">false</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$key_val</span><span class="keyword">= isset(</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$key_name</span><span class="keyword">]) ? </span><span class="default">$row</span><span class="keyword">[</span><span class="default">$key_name</span><span class="keyword">]&nbsp; : </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!isset(</span><span class="default">$pointer</span><span class="keyword">[</span><span class="default">$key_val</span><span class="keyword">])) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer</span><span class="keyword">[</span><span class="default">$key_val</span><span class="keyword">] = </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Start a new node<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer </span><span class="keyword">= &amp; </span><span class="default">$pointer</span><span class="keyword">[</span><span class="default">$key_val</span><span class="keyword">];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Move the pointer on to the new node<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer </span><span class="keyword">= &amp; </span><span class="default">$pointer</span><span class="keyword">[</span><span class="default">$key_val</span><span class="keyword">];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Already exists, move the pointer on to the new node<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br><br>&nbsp; &nbsp; &nbsp; &nbsp; } </span><span class="comment">// for $i<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // At this point, $pointer should be at the furthest point on the tree of keys<br>&nbsp; &nbsp; &nbsp; &nbsp; // Now we can go through all the columns and place their values on the tree<br>&nbsp; &nbsp; &nbsp; &nbsp; // For ease of use, include the index keys and their values at this point too<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$row </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pointer</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; } </span><span class="comment">// $row<br><br>&nbsp; /* free result set */<br>&nbsp; </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br><br>&nbsp; return(</span><span class="default">$assoc</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111208">  
  <a class="name">
  <strong class="user"><em>Duncan</em></strong></a><div class="date" title="2013-01-25 11:07"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111208">
<div class="phpcode"><code><span class="html">
Note that the array returned contains only strings.<br><br>E.g. when a MySQL field is an INT you may expect the field to be returned as an integer, however all fields are simply returned as strings.<br><br>What this means: use double-equals not triple equals when comparing numbers.<br><br><span class="default">&lt;?php<br></span><span class="keyword">print </span><span class="default">$array_from_mysqli_fetch_array</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">] == </span><span class="default">1 </span><span class="keyword">? </span><span class="string">"true" </span><span class="keyword">: </span><span class="string">"false"</span><span class="keyword">; </span><span class="comment">// true<br></span><span class="keyword">print </span><span class="default">$array_from_mysqli_fetch_array</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">] === </span><span class="default">1 </span><span class="keyword">? </span><span class="string">"true" </span><span class="keyword">: </span><span class="string">"false"</span><span class="keyword">; </span><span class="comment">// false<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/mysqli-result.fetch-array.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:02:19 GMT -->


</body></html>