<html><!-- Mirrored from php.net/manual/en/pdo.quote.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:57:29 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>PDO::quote</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="pdo.quote.html">
 <link rel="shorturl" href="pdo.quote.html">
 <link rel="alternate" href="pdo.quote.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="class.pdo.html">
 <link rel="prev" href="pdo.query.html">
 <link rel="next" href="pdo.rollback.html">

 <link rel="alternate" href="pdo.quote.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/pdo.quote.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/pdo.quote.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/pdo.quote.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/pdo.quote.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/pdo.quote.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/pdo.quote.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/pdo.quote.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/pdo.quote.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/pdo.quote.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/pdo.quote.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.abstract.html">Abstraction Layers</a></li>      <li><a href="book.pdo.html">PDO</a></li>      <li><a href="class.pdo.html">PDO</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="pdo.quote" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PDO::quote</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0, PECL pdo &gt;= 0.2.1)</p><p class="refpurpose"><span class="refname">PDO::quote</span> â€” <span class="dc-title">
   Quotes a string for use in a query.
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-pdo.quote-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><strong>PDO::quote</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$parameter_type</code><span class="initializer"> = PDO::PARAM_STR</span></span>
  ] )</div>


  <p class="para rdfs-comment">
   <span class="function"><strong>PDO::quote()</strong></span> places quotes around the input string (if
   required) and escapes special characters within the input string, using a
   quoting style appropriate to the underlying driver.
  </p>
  <p class="para">
   If you are using this function to build SQL statements, you are
   <em class="emphasis">strongly</em> recommended to use
   <span class="function"><a href="pdo.prepare.html" class="function">PDO::prepare()</a></span> to prepare SQL statements with bound
   parameters instead of using <span class="function"><strong>PDO::quote()</strong></span> to interpolate
   user input into an SQL statement.  Prepared statements with bound parameters
   are not only more portable, more convenient, immune to SQL injection, but
   are often much faster to execute than interpolated queries, as both the
   server and client side can cache a compiled form of the query.
  </p>
  <p class="para">
   Not all PDO drivers implement this method (notably PDO_ODBC).  Consider
   using prepared statements instead.
  </p>
  <div class="caution"><strong class="caution">Caution</strong>
   <h1 class="title">Security: the default character set</h1>
   <p class="para">
    The character set must be set either on the server level, or within the
    database connection itself (depending on the driver) for it to affect
    <span class="methodname"><strong>PDO::quote()</strong></span>. See the <a href="pdo.drivers.html" class="link">driver-specific
    documentation</a> for more information.
   </p>
  </div>
 </div>

 <div class="refsect1 parameters" id="refsect1-pdo.quote-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">string</code></dt>

      <dd>

       <p class="para">
        The string to be quoted.
       </p>
      </dd>

     
    
     <dt>
<code class="parameter">parameter_type</code></dt>

      <dd>

       <p class="para">
        Provides a data type hint for drivers that have alternate quoting styles.
       </p>
      </dd>

     
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-pdo.quote-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a quoted string that is theoretically safe to pass into an
   SQL statement.  Returns <strong><code>FALSE</code></strong> if the driver does not support quoting in
   this way.
  </p>
 </div>


 

 <div class="refsect1 examples" id="refsect1-pdo.quote-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-977">
    <p><strong>Example #1 Quoting a normal string</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$conn&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #DD0000">'sqlite:/home/lynn/music.sql3'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Simple&nbsp;string&nbsp;*/<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Nice'</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Unquoted&nbsp;string:&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Quoted&nbsp;string:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Unquoted string: Nice
Quoted string: 'Nice'
</pre></div>
    </div>
   </div>
   <div class="example" id="example-978">
    <p><strong>Example #2 Quoting a dangerous string</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$conn&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #DD0000">'sqlite:/home/lynn/music.sql3'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Dangerous&nbsp;string&nbsp;*/<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Naughty&nbsp;\'&nbsp;string'</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Unquoted&nbsp;string:&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Quoted&nbsp;string:"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Unquoted string: Naughty ' string
Quoted string: 'Naughty '' string'
</pre></div>
    </div>
   </div>
   <div class="example" id="example-979">
    <p><strong>Example #3 Quoting a complex string</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$conn&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #DD0000">'sqlite:/home/lynn/music.sql3'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Complex&nbsp;string&nbsp;*/<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Co'mpl''ex&nbsp;\"st'\"ring"</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Unquoted&nbsp;string:&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>print&nbsp;</span><span style="color: #DD0000">"Quoted&nbsp;string:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$conn</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Unquoted string: Co'mpl''ex "st'"ring
Quoted string: 'Co''mpl''''ex "st''"ring'
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-pdo.quote-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="pdo.prepare.html" class="function" rel="rdfs-seeAlso">PDO::prepare()</a> - Prepares a statement for execution and returns a statement object</span></li>
    <li class="member"><span class="function"><a href="pdostatement.execute.html" class="function" rel="rdfs-seeAlso">PDOStatement::execute()</a> - Executes a prepared statement</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="113335">  
  <a class="name">
  <strong class="user"><em>mirv</em></strong></a><div class="date" title="2013-09-28 12:40"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113335">
<div class="phpcode"><code><span class="html">
When converting from the old mysql_ functions to PDO, note that the quote function isn't exactly the same as the old mysql_real_escape_string function. It escapes, but also adds quotes; hence the name I guess :-)<br><br>After I replaced mysql_real_escape_string with $pdo-&gt;quote, it took me a bit to figure out why my strings were turning up in results with quotes around them. I felt like a fool when I realized all I needed to do was change ...\"".$pdo-&gt;quote($foo)."\"... to ...".$pdo-&gt;quote($foo)."...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112169">  
  <a class="name">
  <strong class="user"><em>col dot shrapnel at gmail dot com</em></strong></a><div class="date" title="2013-05-13 10:02"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112169">
<div class="phpcode"><code><span class="html">
One have to understand that string formatting has nothing to do with identifiers.<br>And thus string formatting should NEVER ever be used to format an identifier ( table of field name).<br>To quote an identifier, you have to format it as identifier, not as string.<br>To do so you have to<br><br>- Enclose identifier in backticks.<br>- Escape backticks inside by doubling them.<br><br>So, the code would be:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">quoteIdent</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="string">"`"</span><span class="keyword">.</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"`"</span><span class="keyword">,</span><span class="string">"``"</span><span class="keyword">,</span><span class="default">$field</span><span class="keyword">).</span><span class="string">"`"</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>this will make your identifier properly formatted and thus invulnerable to injection. <br><br>However, there is another possible attack vector - using dynamical identifiers in the query may give an outsider control over fields the aren't allowed to:<br>Say, a field user_role in the users table and a dynamically built INSERT query based on a $_POST array may allow a privilege escalation with easily forged $_POST array. <br>Or a select query which let a user to choose fields to display may reveal some sensitive information to attacker.<br><br>To prevent this kind of attack yet keep queries dynamic, one ought to use WHITELISTING approach.<br><br>Every dynamical identifier have to be checked against a hardcoded whitelist like this:<br><span class="default">&lt;?php<br>$allowed&nbsp; </span><span class="keyword">= array(</span><span class="string">"name"</span><span class="keyword">,</span><span class="string">"price"</span><span class="keyword">,</span><span class="string">"qty"</span><span class="keyword">);<br></span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'field'</span><span class="keyword">], </span><span class="default">$allowed</span><span class="keyword">));<br>if (</span><span class="default">$key </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Wrong field name'</span><span class="keyword">);<br>}<br></span><span class="default">$field </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">quoteIdent</span><span class="keyword">(</span><span class="default">$allowed</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br></span><span class="default">$query </span><span class="keyword">= </span><span class="string">"SELECT </span><span class="default">$field</span><span class="string"> FROM t"</span><span class="keyword">; </span><span class="comment">//value is safe<br></span><span class="default">?&gt;<br></span>(Personally I wouldn't use a query like this, but that's just an example of using a dynamical identifier in the query).<br><br>And similar approach have to be used when filtering dynamical arrays for insert and update:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">filterArray</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">$allowed</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) as </span><span class="default">$key </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( !</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$allowed</span><span class="keyword">) )<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>}<br></span><span class="comment">//used like this<br></span><span class="default">$allowed </span><span class="keyword">= array(</span><span class="string">'title'</span><span class="keyword">,</span><span class="string">'url'</span><span class="keyword">,</span><span class="string">'body'</span><span class="keyword">,</span><span class="string">'rating'</span><span class="keyword">,</span><span class="string">'term'</span><span class="keyword">,</span><span class="string">'type'</span><span class="keyword">);<br></span><span class="default">$data </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">filterArray</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">,</span><span class="default">$allowed</span><span class="keyword">); <br></span><span class="comment">// $data now contains allowed fields only <br>// and can be used to create INSERT or UPDATE query dynamically<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83313">  
  <a class="name">
  <strong class="user"><em>php at deobald dot org</em></strong></a><div class="date" title="2008-05-20 08:33"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83313">
<div class="phpcode"><code><span class="html">
Note that this function just does what the documentation says: It escapes special characters in strings. <br><br>It does NOT - however - detect a "NULL" value. If the value you try to quote is "NULL" it will return the same value as when you process an empty string (-&gt; ''), not the text "NULL".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114229">  
  <a class="name">
  <strong class="user"><em>milosdj at gmail dot com</em></strong></a><div class="date" title="2014-01-27 02:17"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114229">
<div class="phpcode"><code><span class="html">
This function also converts new lines to \r\n</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/pdo.quote.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:57:29 GMT -->


</body></html>