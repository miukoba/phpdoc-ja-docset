<html><!-- Mirrored from php.net/manual/en/function.mysql-connect.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:02:26 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>mysql_connect</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mysql-connect.html">
 <link rel="shorturl" href="http://php.net/mysql-connect">
 <link rel="alternate" href="http://php.net/mysql-connect" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.mysql.html">
 <link rel="prev" href="function.mysql-close.html">
 <link rel="next" href="function.mysql-create-db.html">

 <link rel="alternate" href="function.mysql-connect.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.mysql-connect.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.mysql-connect.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.mysql-connect.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.mysql-connect.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.mysql-connect.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.mysql-connect.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.mysql-connect.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.mysql-connect.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.mysql-connect.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.mysql-connect.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysql.html">Mysql</a></li>      <li><a href="ref.mysql.html">MySQL Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.mysql-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysql_connect</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mysql_connect</span> â€” <span class="dc-title">Open a connection to a MySQL Server</span></p>

 </div>

 <div id="function.mysql-connect-refsynopsisdiv">
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension is deprecated as of PHP 5.5.0, and will be removed in the future.
Instead, the <a href="book.mysqli.html" class="link">MySQLi</a> or <a href="ref.pdo-mysql.html" class="link">PDO_MySQL</a> extension should be used.
See also <a href="mysqlinfo.api.choosing.html" class="link">MySQL: choosing an API</a> guide and
<a href="faq.databases.html#faq.databases.mysql.deprecated" class="link">related FAQ</a> for more information. 
Alternatives to this function include:</p>
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mysqli-connect.html" class="function">mysqli_connect()</a></span></li>
    <li class="member"><span class="methodname"><a href="pdo.construct.html" class="methodname">PDO::__construct()</a></span></li>
   </ul>
  </div>
 </div>

 <div class="refsect1 description" id="refsect1-function.mysql-connect-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>mysql_connect</strong></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$server</code><span class="initializer"> = ini_get("mysql.default_host")</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code><span class="initializer"> = ini_get("mysql.default_user")</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code><span class="initializer"> = ini_get("mysql.default_password")</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$new_link</code><span class="initializer"> = false</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$client_flags</code><span class="initializer"> = 0</span></span>
  ]]]]] )</div>

  <p class="para rdfs-comment">
   Opens or reuses a connection to a MySQL server. 
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysql-connect-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">server</code></dt>

     <dd>

      <p class="para">
       The MySQL server. It can also include a port number. e.g. 
       "hostname:port" or a path to a local socket e.g. ":/path/to/socket" for 
       the localhost.
      </p>
      <p class="para">
       If the PHP directive <a href="mysql.configuration.html#ini.mysql.default-host" class="link">
       mysql.default_host</a> is undefined (default), then the default 
       value is 'localhost:3306'. In <a href="ini.core.html#ini.sql.safe-mode" class="link">SQL safe mode</a>, this parameter is ignored
       and value 'localhost:3306' is always used.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">username</code></dt>

     <dd>

      <p class="para">
       The username. Default value is defined by <a href="mysql.configuration.html#ini.mysql.default-user" class="link">mysql.default_user</a>. In
       <a href="ini.core.html#ini.sql.safe-mode" class="link">SQL safe mode</a>, this parameter is ignored and the name of the user that
       owns the server process is used.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">password</code></dt>

     <dd>

      <p class="para">
       The password. Default value is defined by <a href="mysql.configuration.html#ini.mysql.default-password" class="link">mysql.default_password</a>. In
       <a href="ini.core.html#ini.sql.safe-mode" class="link">SQL safe mode</a>, this parameter is ignored and empty password is used.
      </p>
     </dd>

       
    
     <dt>
<code class="parameter">new_link</code></dt>

     <dd>

      <p class="para">
       If a second call is made to <span class="function"><strong>mysql_connect()</strong></span>
       with the same arguments, no new link will be established, but
       instead, the link identifier of the already opened link will be
       returned. The <code class="parameter">new_link</code> parameter modifies this 
       behavior and makes <span class="function"><strong>mysql_connect()</strong></span> always open 
       a new link, even if <span class="function"><strong>mysql_connect()</strong></span> was called 
       before with the same parameters.
       In <a href="ini.core.html#ini.sql.safe-mode" class="link">SQL safe mode</a>, this parameter is ignored.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">client_flags</code></dt>

     <dd>

      <p class="para">
       The <code class="parameter">client_flags</code> parameter can be a combination 
       of the following constants:
       128 (enable <em>LOAD DATA LOCAL</em> handling),
       <strong><code>MYSQL_CLIENT_SSL</code></strong>,
       <strong><code>MYSQL_CLIENT_COMPRESS</code></strong>, 
       <strong><code>MYSQL_CLIENT_IGNORE_SPACE</code></strong> or
       <strong><code>MYSQL_CLIENT_INTERACTIVE</code></strong>.
       Read the section about <a href="mysql.constants.html#mysql.client-flags" class="xref">MySQL client constants</a> for further information.
       In <a href="ini.core.html#ini.sql.safe-mode" class="link">SQL safe mode</a>, this parameter is ignored.
      </p>
     </dd>

     
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mysql-connect-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a MySQL link identifier on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.mysql-connect-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.5.0</td>
       <td>
        This function will generate an <strong><code>E_DEPRECATED</code></strong>
        error.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mysql-connect-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-1648">
    <p><strong>Example #1 <span class="function"><strong>mysql_connect()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br>}<br>echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;successfully'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-1649">
    <p><strong>Example #2 <span class="function"><strong>mysql_connect()</strong></span> example using <em>hostname:port</em> syntax</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;we&nbsp;connect&nbsp;to&nbsp;example.com&nbsp;and&nbsp;port&nbsp;3307<br></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.com:3307'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br>}<br>echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;successfully'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;we&nbsp;connect&nbsp;to&nbsp;localhost&nbsp;at&nbsp;port&nbsp;3307<br></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.1:3307'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br>}<br>echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;successfully'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-1650">
    <p><strong>Example #3 <span class="function"><strong>mysql_connect()</strong></span> example using  ":/path/to/socket" syntax</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;we&nbsp;connect&nbsp;to&nbsp;localhost&nbsp;and&nbsp;socket&nbsp;e.g.&nbsp;/tmp/mysql.sock<br><br>//&nbsp;variant&nbsp;1:&nbsp;omit&nbsp;localhost<br></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">':/tmp/mysql'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br>}<br>echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;successfully'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br><br><br></span><span style="color: #FF8000">//&nbsp;variant&nbsp;2:&nbsp;with&nbsp;localhost<br></span><span style="color: #0000BB">$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost:/tmp/mysql.sock'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$link</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br>}<br>echo&nbsp;</span><span style="color: #DD0000">'Connected&nbsp;successfully'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mysql-connect-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Whenever you specify "localhost" or
    "localhost:port" as server, the MySQL client library will
    override this and try to connect to a local socket (named pipe on
    Windows). If you want to use TCP/IP, use "127.0.0.1"
    instead of "localhost". If the MySQL client library tries to
    connect to the wrong local socket, you should set the correct path as
    <a href="mysql.configuration.html#ini.mysql.default-host" class="xref"></a> in your PHP configuration and leave the server field
    blank.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The link to the server will be closed as soon as the execution of
    the script ends, unless it's closed earlier by explicitly calling
    <span class="function"><a href="function.mysql-close.html" class="function">mysql_close()</a></span>.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    You can suppress the error message on failure by prepending 
    a <a href="language.operators.errorcontrol.html" class="link">@</a>
    to the function name.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Error "Can't create TCP/IP socket (10106)" usually means that the <a href="ini.core.html#ini.variables-order" class="link">variables_order</a> configure directive
    doesn't contain character <em>E</em>. On Windows, if the
    environment is not copied the <em>SYSTEMROOT</em> environment
    variable won't be available and PHP will have problems loading Winsock.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mysql-connect-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mysql-pconnect.html" class="function" rel="rdfs-seeAlso">mysql_pconnect()</a> - Open a persistent connection to a MySQL server</span></li>
    <li class="member"><span class="function"><a href="function.mysql-close.html" class="function" rel="rdfs-seeAlso">mysql_close()</a> - Close MySQL connection</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="84675">  
  <a class="name">
  <strong class="user"><em>Boris K</em></strong></a><div class="date" title="2008-07-24 08:41"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84675">
<div class="phpcode"><code><span class="html">
Coderlit and angelo,<br><br>this may be the solution:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">if (!isset(</span><span class="default">$g_link</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; function </span><span class="default">GetMyConnection</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$g_link </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( </span><span class="string">'localhost'</span><span class="keyword">, </span><span class="string">'dbuser'</span><span class="keyword">, </span><span class="string">'dbpass'</span><span class="keyword">) or die(</span><span class="string">'Could not connect to mysql server.' </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'wordpress'</span><span class="keyword">, </span><span class="default">$g_link</span><span class="keyword">) or die(</span><span class="string">'Could not select database.'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; function </span><span class="default">CleanUpDB</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$g_link </span><span class="keyword">!= </span><span class="default">false </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mysql_close</span><span class="keyword">(</span><span class="default">$g_link</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30243">  
  <a class="name">
  <strong class="user"><em>amn -at- frognet.net</em></strong></a><div class="date" title="2003-03-11 10:40"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30243">
<div class="phpcode"><code><span class="html">
Just in case you didn't know. You can use mysql_connect in a function to connect to a database and the connection is a super-global... meaning you can use mysql_query in other functions or in no function at all and PHP will use the connection that you opened. This is a handy bit of knowledge that helps if you have a large site with lots of scripts. If you create one function to connect to a db, and call that function in all your scripts, it makes for easier code maintenance since you only have to update one line of code to change your mysql connection instead of updating all your scripts individually.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82040">  
  <a class="name">
  <strong class="user"><em>arithmetric at gmail dot com</em></strong></a><div class="date" title="2008-03-25 10:59"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82040">
<div class="phpcode"><code><span class="html">
If you are trying to open multiple, separate MySQL connections with the same MySQL user, password, and hostname, you must set $new_link = TRUE to prevent mysql_connect from using an existing connection.<br><br>For example, you are opening two separate connections to two different databases (but on the same host, and with the same user and password):<br><br>$db1 = mysql_connect($dbhost, $dbuser, $dbpass);<br>$rv = mysql_select_db($dbname1, $db1);<br>$db2 = mysql_connect($dbhost, $dbuser, $dbpass);<br>$rv = mysql_select_db($dbname2, $db2);<br><br>At this point, both $db1 and $db2 will have selected the database named by $dbname2.<br><br>The workaround is to require that the second MySQL connection is new:<br><br>$db1 = mysql_connect($dbhost, $dbuser, $dbpass);<br>$rv = mysql_select_db($dbname1, $db1);<br>$db2 = mysql_connect($dbhost, $dbuser, $dbpass, TRUE);<br>$rv = mysql_select_db($dbname2, $db2);<br><br>Now, $db1 should have selected $dbname1, and $db2 should have selected $dbname2.<br><br>This has been documented on the mysql_select_db page as well.<br><br>Note: This occurs only when the server, username, and password parameters are identical for each mysql_connect statement.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71703">  
  <a class="name">
  <strong class="user"><em>sky dot sama dot remove dot dots at Gmail dot com</em></strong></a><div class="date" title="2006-12-12 08:42"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71703">
<div class="phpcode"><code><span class="html">
In case anyone else is getting "Client does not support authentication protocol requested by server; consider upgrading MySQL client" error. The problem is the new password hashing method used by MySQL &gt;= 4.1 mentioned below.<br><br>Either update your PHP to v5 where the new password hashing is supported or use old_password() in MySQL 4.1.<br><br>FROM: <a rel="nofollow" target="_blank">http://www.digitalpeer.com/id/mysql</a> <br><br>UPDATE mysql.user SET password=old_password("youroldhashpassword") WHERE user ='youruserid' and host ='yourhost'<br><br>then do<br><br>FLUSH PRIVILEGES</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86645">  
  <a class="name">
  <strong class="user"><em>Contact at LinuxIntro dot com</em></strong></a><div class="date" title="2008-10-27 09:34"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86645">
<div class="phpcode"><code><span class="html">
When you connect and expect to use a stored procedure,you must pass a special flag to MySQL via the connect command, otherwise you will not get the results returned, and it will result in this error:<br>PROCEDURE AlexGrim.GetStats_ForumCategories can't return a result set in the given context<br><br>To fix this, change you connection string, adding ",false,65536" as the last 2 fields:<br>$this-&gt;con = mysql_connect($this-&gt;h,$this-&gt;u,$this-&gt;p,false,65536);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103536">  
  <a class="name">
  <strong class="user"><em>avinc@live,hk</em></strong></a><div class="date" title="2011-04-18 05:47"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103536">
<div class="phpcode"><code><span class="html">
My situation: "I could connect to MySQL from the PHP via Apache and MySQL via the MySQL console, and could not connect via the PHP"<br><br>But, PHP only can connect to MySQL using mysql_connect("localhost", "root", "password");<br><br>"Its selinux not allowing apache to make remote connections"<br><br>Solution:<br>setsebool -P httpd_can_network_connect=1</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32035">  
  <a class="name">
  <strong class="user"><em>Graham_Rule at ed dot ac dot uk</em></strong></a><div class="date" title="2003-05-14 08:43"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32035">
<div class="phpcode"><code><span class="html">
Another solution to the security problems of putting usernames and passwords into scripts. I haven't found this documented anywhere else so thought I'd suggest it for the online documentation. ........
<br>
<br>Don't put passwords for mysql into scripts which may be read by any user on the machine.&nbsp; Instead put them into an Apache configuration file and make sure that it is not world-readable. (Apache reads its main config files as root.)
<br>
<br>For example, add this to your httpd.conf (and chmod it to 600 or 660) then tell your apache to reload itself (apachectl graceful).
<br>
<br>&lt;Directory /var/www/html/mydatabase&gt;
<br>&nbsp; &nbsp; php_value mysql.default_user fred
<br>&nbsp; &nbsp; php_value mysql.default_password secret
<br>&nbsp; &nbsp; php_value mysql.default_host server.example.com
<br>&lt;/Directory&gt;
<br>
<br>Then all you need in your PHP code is
<br>
<br>$handle = mysql_connect() or die(mysql_error());
<br>
<br>The passwords etc will only be picked up by scripts running in the named directory (or a sub-directory).&nbsp; The same may be done for virtualhosts etc.
<br>
<br>If you don't want to keep reloading your Apache server then you ay test things putting the php_value directives into a (world readable) .htaccess file. (Clearly not for production use.)
<br>
<br>If you need to debug the values that are being supplied (or not) then use this snippet:
<br>
<br>@syslog(LOG_DEBUG, "Using user=".ini_get("mysql.default_user").
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " pass=".ini_get("mysql.default_password").
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; " host=".ini_get("mysql.default_host"));
<br>
<br>(This assumes that you are not running in 'safe_mode' and that you are on a unix of some sort.)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102131">  
  <a class="name">
  <strong class="user"><em>Harouk</em></strong></a><div class="date" title="2011-01-28 06:11"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102131">
<div class="phpcode"><code><span class="html">
If you encounter speed problems using this command to a distant server, you can add the line "skip-name-resolve" in your my.cnf to fix it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74375">  
  <a class="name">
  <strong class="user"><em>jslakva at gmail dot com</em></strong></a><div class="date" title="2007-04-08 06:05"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74375">
<div class="phpcode"><code><span class="html">
if between first and second call with same arguments there was another call with another argument, initial connection link is not reused, but new connection is created instead, regardless of new_link argument.<br><br>for example, here only one single link will be opened and then reused:<br><span class="default">&lt;?php<br>$link1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br></span><span class="default">$link2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>and here _three_ separate links will be opened:<br><span class="default">&lt;?php<br>$link1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br></span><span class="default">$link3 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"127.0.0.1"</span><span class="keyword">);<br></span><span class="default">$link2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>so if you wanted to switch between connections just by call to mysql_connect, and rely on its internal link caching, you can be wasting your database connections.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71078">  
  <a class="name">
  <strong class="user"><em>Graham_Rule at ed dot ac dot uk</em></strong></a><div class="date" title="2006-11-10 01:43"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71078">
<div class="phpcode"><code><span class="html">
The addition of entries to httpd.conf to stop .inc files being served by Apache is certainly useful and to be recommended.<br><br>But it doesn't change the fact that these files have to be readable by Apache so that the PHP processor can get at them.<br><br>As long as your don't have multiple, possibly untrusted, users on your machine then that's OK.&nbsp; But when you are running a large multi-user service with thousands of users its always possible that one of them will look at your .inc files and take a note of the passwords you have in them.&nbsp; They could even copy them into their own scripts and modify your databases!<br><br>Even if local users are trusted, there is always the possibility of a rogue script (PHP or some nastier language) being installed by an ignorant user.&nbsp; That script might then read your .inc files (whether or not they are in the web publishing tree) and expose your password.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112461">  
  <a class="name">
  <strong class="user"><em>pepik at gmail dot cz</em></strong></a><div class="date" title="2013-06-19 11:50"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112461">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br> $server </span><span class="keyword">= </span><span class="string">'y.com'</span><span class="keyword">;<br> </span><span class="default">$login</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br> </span><span class="default">$pass</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br> </span><span class="default">$db</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br> <br> </span><span class="default">$spojeni</span><span class="keyword">=</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">,</span><span class="default">$login</span><span class="keyword">,</span><span class="default">$pass</span><span class="keyword">) or die (</span><span class="string">'nelze se pripojit'</span><span class="keyword">);<br> </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$spojeni</span><span class="keyword">);<br> </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"Set names 'utf8'"</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108721">  
  <a class="name">
  <strong class="user"><em>nicodenboer at yahoo dot com</em></strong></a><div class="date" title="2012-05-20 01:50"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108721">
<div class="phpcode"><code><span class="html">
Be carefull here if you use utf8.<br><br>The file db.opt of your database should contain the following lines:<br>default-character-set=utf8<br>default-collation=utf8_general_ci<br><br>It means that your database is created to use the utf8 characterset.<br>One way to accomplish this is:<br>CREATE DATABASE my_database DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;<br><br>Then, after connecting to it from PHP you should use:<br>mysql_set_charset("UTF8", $connection);<br><br>If you don't do this, you will get ugly problems in case other software is reading and writing to the same database!!!!!!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96824">  
  <a class="name">
  <strong class="user"><em>abelcheung at gmail dot com</em></strong></a><div class="date" title="2010-03-17 10:37"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96824">
<div class="phpcode"><code><span class="html">
Note that named pipe on Windows is unusable since PHP 5.3, and TCP connection shall be used even in localhost.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85539">  
  <a class="name">
  <strong class="user"><em>bmagilavy at avalon-internet dot com</em></strong></a><div class="date" title="2008-09-04 01:00"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85539">
<div class="phpcode"><code><span class="html">
If you trying to connect to a remote server, here are a few things that can go wrong. Perhaps this list will save someone some time:<br><br>1. You may need to get in touch with the remote server's tech support: <br><br> a. to ensure that you can get through its firewall. It is not necessarily enough to have your server number listed in the recipient site's cpanel remote access host list. It depends on how the server company has things set up;<br><br> b. to find out what port number they are using for database connections, which may not be the default used by mysql_connect;<br><br> c. If you are using ODBC, the host to which you are trying to connect may or may not have any ODBC drivers installed; and<br><br> d. If you are working from a dynamic IP, they may be set up to accommodate it, or you may have to use a proxy. See <a rel="nofollow" target="_blank">http://forge.mysql.com/wiki/MySQL_Proxy</a> .<br><br>2. If you are working from a shared server yourself, the server number you were sent in the sign-up letter is probably NOT the server number you should be using to connect to a remote database. You need the server number of the machine on which your site is sitting, not your virtual account server number on that machine. You can get this from your own tech support.<br><br>I am grateful to Jonathan Jones at Bluehost for this analysis.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78638">  
  <a class="name">
  <strong class="user"><em>Ignacio Casinelli Esviza</em></strong></a><div class="date" title="2007-10-20 10:51"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78638">
<div class="phpcode"><code><span class="html">
Sometimes, I want that MySQL service start automatically when my app need it. This is specially true if you work in a development PC and/or in an small intranet environment.<br><br>You can do something like this: if the mysql_connect() function returns FALSE, try to force the initialization of the MySQL service!<br><br>For example, under Windows:<br><br><span class="default">&lt;?php<br><br>$link </span><span class="keyword">= @</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">,</span><span class="default">$user</span><span class="keyword">,</span><span class="default">$pass</span><span class="keyword">);<br>if (empty(</span><span class="default">$link</span><span class="keyword">)){<br>&nbsp; &nbsp; @</span><span class="default">exec</span><span class="keyword">(</span><span class="string">"%SystemRoot%\\system32\\net.exe start mysql"</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$link </span><span class="keyword">= @</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$servidor</span><span class="keyword">,</span><span class="default">$usuario</span><span class="keyword">,</span><span class="default">$clave</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>In Linux of course you can try "/etc/init.d/mysqld start" but you will need special permissions.<br><br>Regards.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78187">  
  <a class="name">
  <strong class="user"><em>Peter Robinett</em></strong></a><div class="date" title="2007-10-02 06:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78187">
<div class="phpcode"><code><span class="html">
The use of mysql connections can become tricky with objects. I am using mysql_connect() in a database class I wrote and the class destructor calls mysql_close. Because I have several of these database objects, mysql_connect reuses existing connections. This is fine except when the script reaches the end of execution and PHP's garabage collection calls all the objects' __destruct() functions. mysql_close() throws a warning that the connection is invalid, in my case for one object. This is happening with objects which use an existing connection, as the connection has already been closed. I solved the problem by forcing mysql_connect() to create a new connection each time. This is not efficient but is sufficient for my purposes for now.<br><br>I wouldn't say this is a bug per-se, but it's something to look out for. I imagine using mysqli is the ultimate solution...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73983">  
  <a class="name">
  <strong class="user"><em>angelo [at] mandato &lt;dot&gt; com</em></strong></a><div class="date" title="2007-03-19 01:07"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73983">
<div class="phpcode"><code><span class="html">
The post from 'Graham_Rule at ed dot ac dot uk' should include the following WARNING:<br><br>WARING: THE VALUES OF THESE DIRECTIVES WILL BE EXPOSED IF ANY OF THE CODE INCLUDES THE phpinfo() FUNCTION.<br><br>The phpinfo() function will print these values clear as day.&nbsp; I highly suggest against this method of storing MySQL authentication information.<br><br>I recommend creating connect and cleanup functions in a separate include file.&nbsp; If security is a concern, locate the include file outside of your web root folder.<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; $g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">GetMyConnection</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$g_link </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( </span><span class="string">'host.name'</span><span class="keyword">, </span><span class="string">'user'</span><span class="keyword">, </span><span class="string">'password'</span><span class="keyword">) or die(</span><span class="string">'Could not connect to server.' </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'database_name'</span><span class="keyword">, </span><span class="default">$g_link</span><span class="keyword">) or die(</span><span class="string">'Could not select database.'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">CleanUpDB</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$g_link</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$g_link </span><span class="keyword">!= </span><span class="default">false </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mysql_close</span><span class="keyword">(</span><span class="default">$g_link</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br></span><span class="default">?&gt;<br></span><br>Simply include your connnection.php file in your script and anywhere you use the mysql_query() function include a call to the GetMyConnection() function.<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; $res </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT ..."</span><span class="keyword">, </span><span class="default">GetMyConnection</span><span class="keyword">() );<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80024">  
  <a class="name">
  <strong class="user"><em>Steve</em></strong></a><div class="date" title="2007-12-24 03:32"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80024">
<div class="phpcode"><code><span class="html">
The too many connections issue can be due to several problems.<br><br>1. you are using pconnect. This can tie up many connections and is not really needed for MySQL as new connections are really fast.<br><br>2. Apache children are hanging around for too long - combine this with pconnect and you have recipe for disaster.<br><br>Suggestions: reduce the amount of time apache child processes stay connected to the client and how many connections before they are killed off. And don't use pconnect.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91965">  
  <a class="name">
  <strong class="user"><em>cory dot mawhorter  gmail.com</em></strong></a><div class="date" title="2009-07-02 04:38"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91965">
<div class="phpcode"><code><span class="html">
Hopefully this saves someone some grief.<br><br>My dev computer is windows and runs wampserver.&nbsp; I have frequent problems with PHP being unable to connect to MySQL after periods of extreme DB activity.<br><br>Long story short, it was because I was not running mysql via named-pipes and Windows was running out of available ports to serve PHP.&nbsp; Apparently, on windows, you have 5000 ports to work with and once they are opened, they remain so for 120 seconds before being released.&nbsp; This causes problems with mysql/networking because a new port is requested for each connection.<br><br>You can read more about the problem at:<br>(Link too long and had to be broken up)<br><a rel="nofollow" target="_blank">http://dev.mysql.com/doc/refman/5.0/en</a><br>/can-not-connect-to-server.html#can-not-connect-to-server-on-windows<br>?&gt;<br><br>Since mysql is on localhost, I can just enable named-pipes (which is how you should have mysql setup if you don't need networking) to get around the problem instead of the workaround listed on that page.<br><br>For details, see:<br><a rel="nofollow" target="_blank">http://dev.mysql.com/tech-resources</a><br>/articles/securing_mysql_windows.html</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54160">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-06-25 03:18"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54160">
<div class="phpcode"><code><span class="html">
connect to mysql via named pipe under windows :<br><br>in my.ini, add this:<br><br>[mysqld]<br>enable-named-pipe<br><br>then connect to the server, then connect to mysql using<br><br>mysql_connect('.')</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77000">  
  <a class="name">
  <strong class="user"><em>martin</em></strong></a><div class="date" title="2007-08-09 07:35"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom77000">
<div class="phpcode"><code><span class="html">
MYSQL_CLIENT_SSL is not working, use MySQLi and mysqli-&gt;ssl_set()</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85255">  
  <a class="name">
  <strong class="user"><em>pascalxusNOSPAM at yahoo dot com</em></strong></a><div class="date" title="2008-08-22 12:08"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85255">
<div class="phpcode"><code><span class="html">
I just wanted to share a common wrapper that I use for executing one line SQL statements.&nbsp; Its an easy wrapper to use that takes care of the connection open/close.&nbsp; Optionally, the mysql_connect can be replaced with mysql_pconnect for persistent connections.<br><br>&nbsp; function executeQuery( $query, $db, $nocon )<br>&nbsp; {<br>&nbsp; &nbsp; &nbsp; if( $nocon != "nocon" )<br>&nbsp; &nbsp; &nbsp; &nbsp; if( $db != "" ) connect( $db );<br>&nbsp; &nbsp; &nbsp; &nbsp; else connect( "pascal_crm" );<br><br>&nbsp; &nbsp; &nbsp; $result= mysql_query( $query );<br>&nbsp; &nbsp; &nbsp; $err&nbsp;&nbsp; = mysql_error();<br>&nbsp; &nbsp; &nbsp; if( $err != "" ) echo "error=$err&nbsp; ";<br><br>&nbsp; &nbsp; &nbsp; if( $nocon != "nocon" )<br>&nbsp; &nbsp; &nbsp; &nbsp; mysql_close();<br>&nbsp; &nbsp; &nbsp; return $result;<br>&nbsp; }<br><br>Here's a related mysql_pconnect trivia question:<br><a rel="nofollow" target="_blank">http://www.codesplunk.com/nr/questions/php17.html</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="93476">  
  <a class="name">
  <strong class="user"><em>david dot schueler at wapkamera dot de</em></strong></a><div class="date" title="2009-09-11 08:51"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93476">
<div class="phpcode"><code><span class="html">
If you are getting MySQL Errors like #2006: MySQL server has gone away, and you are using mysql_connect() and pcntl_fork() then make shure that you are reconnecting to the mysql server with each created child which you fork()ed.<br><br>I pulled my hair out for many days because i was using the same mysql connection for each child and was getting that "MySQL server has gone away" errors.<br><br>Here is a simple example:<br><span class="default">&lt;?php<br>$link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$db_server</span><span class="keyword">, </span><span class="default">$db_user</span><span class="keyword">, </span><span class="default">$db_pass</span><span class="keyword">);<br></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db_database</span><span class="keyword">,</span><span class="default">$link</span><span class="keyword">));<br><br></span><span class="default">$pid </span><span class="keyword">= </span><span class="default">pcntl_fork</span><span class="keyword">();<br>if (</span><span class="default">$pid </span><span class="keyword">== -</span><span class="default">1</span><span class="keyword">)<br>&nbsp; </span><span class="comment">// Error forking child<br></span><span class="keyword">elseif (</span><span class="default">$pid</span><span class="keyword">) {<br>&nbsp; </span><span class="comment">// Parent will be here<br></span><span class="keyword">} else {<br>&nbsp; </span><span class="comment">// The child has to esablish a *new* mysql connection.<br>&nbsp; // if you use mysql_connect without the 4th parameter<br>&nbsp; // then it will use the connection from the parent. But<br>&nbsp; // if the child dies, the connection will be unaviable in<br>&nbsp; // the parent too.<br>&nbsp; // So, note the "true" as 4th parameter.<br>&nbsp; </span><span class="default">$newlink </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$db_server</span><span class="keyword">, </span><span class="default">$db_user</span><span class="keyword">, </span><span class="default">$db_pass</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br>&nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db_database</span><span class="keyword">,</span><span class="default">$newlink</span><span class="keyword">));<br>&nbsp; </span><span class="comment">// ...<br></span><span class="keyword">}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81554">  
  <a class="name">
  <strong class="user"><em>aeolianmeson at blitzeclipse dot com</em></strong></a><div class="date" title="2008-03-03 12:15"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81554">
<div class="phpcode"><code><span class="html">
Recently, I saw an obscure problem where I could connect to MySQL from the PHP via Apache and MySQL via the MySQL console, and could not connect via the PHP-CLI. This was in Windows (XP). I usually use MySQLi extension, but also tried MySQL, and both refused to work.<br><br>I restarted the service multiple times, and the PHP-CLI still would not connect.<br><br>This eventually cleared up.<br><br>I made sure to stop the service. Then, I downloaded a zipped binary-package from dev.mysql.com and started the server a few times from the commandline (mysqld/mysqld-nt, where mysqld-nt is tuned specifically for Windows) and stopped it ("mysqladmin shutdown"). I was then able to successfully connect from the PHP-CLI ("php -r "mysql_connect('localhost', 'root', ''); ").<br><br>Making sure it was stopped, I started the regular server from the commandline, and that was then successful. I then stopped it and started it via the Services panel, and everything still worked.<br><br>I'm assuming that when the service was restarted initially, there was a component that had died and refused to be shutdown even though the service appeared to be stopped, but shutting it down via mysqladmin killed everything entirely.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104284">  
  <a class="name">
  <strong class="user"><em>bimal at sanjaal dot com</em></strong></a><div class="date" title="2011-06-05 12:15"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104284">
<div class="phpcode"><code><span class="html">
Portable connections: If you migrate your source code from one to different servers and you would like to avoid re-configuration on a new serve, user the $_SERVER['SERVER_NAME'] flag as:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">switch(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SERVER_NAME'</span><span class="keyword">])
<br>{
<br>case </span><span class="string">'server1.example.com'</span><span class="keyword">:
<br>&nbsp; </span><span class="default">mysqlconnect</span><span class="keyword">(</span><span class="string">'host1'</span><span class="keyword">, </span><span class="string">'user1'</span><span class="keyword">, </span><span class="string">'password1'</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db1'</span><span class="keyword">);
<br>&nbsp; break;
<br>case </span><span class="string">'server2.example.com'</span><span class="keyword">:
<br>&nbsp; </span><span class="default">mysqlconnect</span><span class="keyword">(</span><span class="string">'host2'</span><span class="keyword">, </span><span class="string">'user2'</span><span class="keyword">, </span><span class="string">'password2'</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db2'</span><span class="keyword">);
<br>&nbsp; break;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>This makes a conditional connection to mysql database. It automatically chooses the correct server according to the server name from where your script runs.
<br>
<br>Hopefully, you like this portable configuration.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37029">  
  <a class="name">
  <strong class="user"><em>martinnitram at excite dot com</em></strong></a><div class="date" title="2003-10-31 02:22"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom37029">
<div class="phpcode"><code><span class="html">
to use load data local infile function from mysql (at mysql 4.0.16, php 4.3.3), set fifth parameter of mysql_connect() to CLIENT_LOCAL_FILES(128), which based on MYSQL C API ( also mysql server support load file, check by "show variables like 'local_infile' ")<br><br>Thank&nbsp; 'phpweb at eden2 dot com' to point this out</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45029">  
  <a class="name">
  <strong class="user"><em>chaoscontrol_hq at yahoo dot com</em></strong></a><div class="date" title="2004-08-23 02:10"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom45029">
<div class="phpcode"><code><span class="html">
In MySQL4.1 and later, the default password hashing format has changed making it incompatible with 3.x clients.<br>I found out mysql_connect() works on server versions &gt;= 4.1 when your MySQL user password is blank because password authentication isn't done in that case, otherwise you need to use another connection method (e.g. mysqli).<br>Also if you are using old MySQL tables on a new server (i.e. the passwords are stored in the old format), then the server will use the old auth method automatically and this function should work in all cases.<br>Hopefully this will help someone, it had me confused for a while because some of the users on my 4.1 server could connect and some couldn't.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71046">  
  <a class="name">
  <strong class="user"><em>brinca at substancia dot com</em></strong></a><div class="date" title="2006-11-09 07:43"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71046">
<div class="phpcode"><code><span class="html">
If you prefer to use a hostname instead of an ip on your connection string in a script (to be able to change the ip at will), but don't want the overhead of dns lookups, just add it to your /etc/hosts file (in windows: %WINDIR%/system32/drivers/etc/hosts).<br><br>For example, add the following to your hosts file (changing the bogus ip to your server's real ip):<br><br>123.123.123.123&nbsp;&nbsp; mysqlserver1<br><br>Note: On linux, make sure you have "order: hosts,bind" on your /etc/host.conf file.<br><br>On a script, make the mysql connection like so:<br><br>&lt;?<br>&nbsp; $sid = mysql_connect ("mysqlserver1", "user", "pass");<br>?&gt;<br><br>Note: this sample is in php, but it can be any other programming language (just type "ping mysqlserver1" on a prompt, on your server)<br><br>And there you have it! If your server ever gets assigned a different ip, just update the hosts file with the new one (every script will work as-is, even if under different hostnames).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94927">  
  <a class="name">
  <strong class="user"><em>sholland at napervillegi dot com</em></strong></a><div class="date" title="2009-12-02 09:18"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94927">
<div class="phpcode"><code><span class="html">
If you are getting an error "Can't assign requested address" you may have a problem with the mysql port.&nbsp; I had just moved my server to Mac OS X 10.6 and mysql_connect was giving this error.&nbsp; Going into the /etc/php.ini file and setting the default port number to 3306 fixed the problem.&nbsp; <br><br>mysql.default_port = 3306<br><br>The php.ini file suggests that PHP will select the port by using the $MYSQL_TCP_PORT or the mysql-tcp entry in /etc/services, but in this case it is not so.&nbsp; /etc/services on my machine has 3306 listed, but it didn't get picked up.<br><br>This is sort of a bug report, in that the documented feature isn't working.&nbsp; Please don't delete this until the community decides how to address the problem.&nbsp; This is one of those hair pulling exercises to get fixed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81028">  
  <a class="name">
  <strong class="user"><em>dan at novapulsar dot com</em></strong></a><div class="date" title="2008-02-11 11:24"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81028">
<div class="phpcode"><code><span class="html">
[EDIT by danbrown AT php DOT net: The issue this user is illustrating is a common problem when dealing with multiple databases from PHP.&nbsp; Note his comments at the end of the code for an explanation.]
<br>
<br>
<br>Looks like I learned this the hard way:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">//establish connection to master db server
<br></span><span class="default">mysql_connect </span><span class="keyword">(</span><span class="default">DB_HOST</span><span class="keyword">, </span><span class="default">DB_USER</span><span class="keyword">, </span><span class="default">DB_PASSWORD</span><span class="keyword">);
<br></span><span class="default">mysql_select_db </span><span class="keyword">(</span><span class="default">DB_NAME</span><span class="keyword">);
<br>
<br></span><span class="comment">//establish connection to read-only slave cluster
<br></span><span class="default">$objMySQL_Read </span><span class="keyword">= </span><span class="default">mysql_connect </span><span class="keyword">(</span><span class="default">SLAVE_DB_HOST</span><span class="keyword">, </span><span class="default">SLAVE_DB_USER</span><span class="keyword">, </span><span class="default">SLAVE_DB_PASSWORD</span><span class="keyword">);
<br></span><span class="default">mysql_select_db </span><span class="keyword">(</span><span class="default">DB_NAME</span><span class="keyword">, </span><span class="default">$objMySQL_Read</span><span class="keyword">);
<br>
<br></span><span class="default">$strSQL </span><span class="keyword">= </span><span class="string">"SELECT col1,col2 FROM "&nbsp; </span><span class="keyword">. </span><span class="default">DB_NAME </span><span class="keyword">. </span><span class="string">"." </span><span class="keyword">. </span><span class="string">"tbl1 WHERE 1=1"</span><span class="keyword">;
<br>
<br></span><span class="default">$objRS </span><span class="keyword">= </span><span class="default">mysql_query </span><span class="keyword">(</span><span class="default">$strSQL</span><span class="keyword">, </span><span class="default">$objMySQL_Read</span><span class="keyword">); </span><span class="comment">//returns data from slaves
<br>
<br></span><span class="default">$strSQL </span><span class="keyword">= </span><span class="string">"INSERT INTO " </span><span class="keyword">. </span><span class="default">DB_NAME </span><span class="keyword">. </span><span class="string">"." </span><span class="keyword">. </span><span class="string">"tbl1 (col1,col2) VALUES (val1,val2)"</span><span class="keyword">;
<br>
<br></span><span class="default">mysql_query </span><span class="keyword">(</span><span class="default">$strSQL</span><span class="keyword">);
<br>
<br></span><span class="comment">//expected behavior, to insert the last statement into the master db, since it doesn't reference the read-only resource explicitly. instead, it inserts the record into the last connection, even though it shouldn't, since the last connection is not a global/anonymous connection like the first one, it's $objMySQL_Read.
<br>
<br>//you'll get out of sync db's across your cluster unless you explicitly define all connection resources
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109668">  
  <a class="name">
  <strong class="user"><em>trev at dedicate dot co dot uk</em></strong></a><div class="date" title="2012-08-07 04:42"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109668">
<div class="phpcode"><code><span class="html">
A little note if your scripts sleep a lot, you want to run exactly the same SQL statement 2+ times and you have the "MySQL has gone away" error a lot.<br><br>Try setting the 4th parameter to TRUE as it seems sometimes PHP doesn't spot that resource ID x which it used for the last identical lookup is now dud and so tries to use it, thus bypassing tests such as is_resource() and causing a failure.<br><br>This is for when mysql_ping() doesn't work for your situation of course.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97657">  
  <a class="name">
  <strong class="user"><em>tpl99 at yandex dot ru</em></strong></a><div class="date" title="2010-04-30 01:56"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97657">
<div class="phpcode"><code><span class="html">
Whenever you open two connections to a single database,<br>you are likely not to get any error when selecting not existing db.<br><br><span class="default">&lt;?php<br>$db1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( ... );<br></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'existing_db'</span><span class="keyword">,</span><span class="default">$db1</span><span class="keyword">);<br><br></span><span class="default">$db2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( ... );<br></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'not_existing_db'</span><span class="keyword">, </span><span class="default">$db2</span><span class="keyword">);<br><br></span><span class="default">mysql_query</span><span class="keyword">(... , </span><span class="default">$db2</span><span class="keyword">);<br></span><span class="comment">//will return no errors and the query wouldn't be executed.<br></span><span class="default">?&gt;<br></span><br>Pay attention and you may save few hours of debugging.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66893">  
  <a class="name">
  <strong class="user"><em>rui dot batista at netcabo dot pt</em></strong></a><div class="date" title="2006-05-31 08:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66893">
<div class="phpcode"><code><span class="html">
Ever wonder what "default username" is?<br><span class="default">&lt;?php<br>$link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">() or die(</span><span class="default">mysql_error</span><span class="keyword">());<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT SESSION_USER(), CURRENT_USER();"</span><span class="keyword">);<br></span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_row</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br>echo </span><span class="string">"SESSION USER: "</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br>echo </span><span class="string">"CURRENT USER: "</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span>Both are ODBC@localhost in my win2k install, so my advice for windows is:<br>- create a MySQL user named ODBC with no password<br>- add localhost to ODBC user [right-click ODBC]<br>- set schema previleges to ODBC@localhost<br>- use mysql_connect() with no parms, or do not use ;)<br>This turns to work also with odbc_connect:<br>odbc_connect("myDSN", "", "")</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108292">  
  <a class="name">
  <strong class="user"><em>php at lanar dot com dot au</em></strong></a><div class="date" title="2012-04-15 01:11"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108292">
<div class="phpcode"><code><span class="html">
After upgrading mysql sever to 5.5.21 from 5.0.9 on centos, my WinXP stopped being able to connect with host with the error message <br>'Bad Handshake'. <br><br>Eventual solution to problem was to remove MYSQL_CLIENT_SSL from the call to mysql_connect().<br><br>I will also report this as a bug.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112223">  
  <a class="name">
  <strong class="user"><em>yangqingrong at wudimei dot com</em></strong></a><div class="date" title="2013-05-18 02:17"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112223">
<div class="phpcode"><code><span class="html">
hello,every one.<br>&nbsp; do use "127.0.0.1" instead of "localhost" for php5.4-win7 if you feel the speed is slow.because win7 use ipv6 default.<br>&nbsp;&nbsp; "localhost" is for ipv4.<br><br>&nbsp; <span class="default">&lt;?php<br>&nbsp;&nbsp; $conn </span><span class="keyword">=</span><span class="default">mysql_connect</span><span class="keyword">( </span><span class="string">"127.0.0.1"</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"root"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"pass"</span><span class="keyword">);<br> </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100896">  
  <a class="name">
  <strong class="user"><em>i dot linker at gmail dot com</em></strong></a><div class="date" title="2010-11-13 10:55"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100896">
<div class="phpcode"><code><span class="html">
MySQL connection string regexp:<br>~mysql://([^:@/]*):?([^@/]*)@?([^/]*)/?([^/]*)~</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.mysql-connect.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:02:26 GMT -->


</body></html>