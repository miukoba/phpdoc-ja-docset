<html><!-- Mirrored from php.net/manual/en/function.strtotime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:52 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>strtotime</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.strtotime.html">
 <link rel="shorturl" href="http://php.net/strtotime">
 <link rel="alternate" href="http://php.net/strtotime" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.datetime.html">
 <link rel="prev" href="function.strptime.html">
 <link rel="next" href="function.time.html">

 <link rel="alternate" href="function.strtotime.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.strtotime.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.strtotime.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.strtotime.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.strtotime.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.strtotime.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.strtotime.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.strtotime.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.strtotime.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.strtotime.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.strtotime.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="ref.datetime.html">Date/Time Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.strtotime" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">strtotime</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">strtotime</span> — <span class="dc-title">Parse about any English textual datetime description into a Unix timestamp</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.strtotime-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>strtotime</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$time</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$now</code><span class="initializer"> = time()</span></span>
  ] )</div>

  <p class="simpara">
   The function expects to be given a string containing an English date format
   and will try to parse that format into a Unix timestamp (the number of
   seconds since January 1 1970 00:00:00 UTC), relative to the timestamp given
   in <code class="parameter">now</code>, or the current time if
   <code class="parameter">now</code> is not supplied.
  </p>
  <p class="para">
   Each parameter of this function uses the default time zone unless a
   time zone is specified in that parameter.  Be careful not to use
   different time zones in each parameter unless that is intended.
   See <span class="function"><a href="function.date-default-timezone-get.html" class="function">date_default_timezone_get()</a></span> on the various
   ways to define the default time zone.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.strtotime-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">time</code></dt>

     <dd>

      <p class="para">A date/time string. Valid formats are explained in <a href="datetime.formats.html" class="link">Date and Time Formats</a>.</p>
     </dd>

    
    
     <dt>
<code class="parameter">now</code></dt>

     <dd>

      <p class="para">
       The timestamp which is used as a base for the calculation of relative
       dates.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.strtotime-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a timestamp on success, <strong><code>FALSE</code></strong> otherwise. Previous to PHP 5.1.0,
   this function would return <em>-1</em> on failure.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.strtotime-errors">
  <h3 class="title">Errors/Exceptions</h3>
   
   <p class="para">
Every call to a date/time function will generate a <strong><code>E_NOTICE</code></strong>
if the time zone is not valid, and/or a <strong><code>E_STRICT</code></strong>
or <strong><code>E_WARNING</code></strong> message
if using the system settings or the <var class="varname"><var class="varname">TZ</var></var> environment
variable. See also <span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span></p>
 
 </div>


 <div class="refsect1 changelog" id="refsect1-function.strtotime-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Prior to PHP 5.3.0, relative time formats supplied to the
        <code class="parameter">time</code> argument of <span class="function"><strong>strtotime()</strong></span>
        such as <em>this week</em>, <em>previous week</em>,
        <em>last week</em>, and <em>next week</em> were
        interpreted to mean a 7 day period relative to the current date/time, rather
        than a week period of <em>Monday</em> through <em>Sunday</em>.
       </td>
      </tr>

      <tr>
       <td>5.3.0</td>
       <td>
        Prior to PHP 5.3.0, <em>24:00</em> was not a valid format and
        <span class="function"><strong>strtotime()</strong></span> returned <strong><code>FALSE</code></strong>.
       </td>
      </tr>

      <tr>
       <td>5.2.7</td>
       <td>
        In PHP 5 prior to 5.2.7, requesting a given occurrence of a
        given weekday in a month where that weekday was the first day
        of the month would incorrectly add one week to the returned
        timestamp. This has been corrected in 5.2.7 and later
        versions.
       </td>
      </tr>

      <tr>
       <td>5.1.0</td>
       <td>
        Now returns <strong><code>FALSE</code></strong> on failure, instead
        of <em>-1</em>.
       </td>
      </tr>


      <tr><td>5.1.0</td><td><p class="para">
Now issues the <strong><code>E_STRICT</code></strong> and <strong><code>E_NOTICE</code></strong>
time zone errors.</p></td></tr>


      <tr>
       <td>5.0.2</td>
       <td>
        In PHP 5 up to 5.0.2, <em>"now"</em> and other
        relative times are wrongly computed from today's
        midnight. This differs from other versions where it is
        correctly computed from current time.
       </td>
      </tr>

      <tr>
       <td>5.0.0</td>
       <td>
        Microseconds began to be allowed, but they are ignored.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.strtotime-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2416">
    <p><strong>Example #1 A <span class="function"><strong>strtotime()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"now"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"10&nbsp;September&nbsp;2000"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;day"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;week"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;week&nbsp;2&nbsp;days&nbsp;4&nbsp;hours&nbsp;2&nbsp;seconds"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"next&nbsp;Thursday"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"last&nbsp;Monday"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-2417">
    <p><strong>Example #2 Checking for failure</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Not&nbsp;Good'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;previous&nbsp;to&nbsp;PHP&nbsp;5.1.0&nbsp;you&nbsp;would&nbsp;compare&nbsp;with&nbsp;-1,&nbsp;instead&nbsp;of&nbsp;false<br></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$timestamp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">))&nbsp;===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;string&nbsp;(</span><span style="color: #0000BB">$str</span><span style="color: #DD0000">)&nbsp;is&nbsp;bogus"</span><span style="color: #007700">;<br>}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$str</span><span style="color: #DD0000">&nbsp;==&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'l&nbsp;dS&nbsp;\o\f&nbsp;F&nbsp;Y&nbsp;h:i:s&nbsp;A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$timestamp</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.strtotime-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    If the number of the year is specified in a two digit format, the values
    between 00-69 are mapped to 2000-2069 and 70-99 to 1970-1999. See the notes
    below for possible differences on 32bit systems (possible dates might end on 
    2038-01-19 03:14:07).
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The valid range of a timestamp is typically from Fri, 13 Dec
    1901 20:45:54 UTC to Tue, 19 Jan 2038 03:14:07 UTC. (These are
    the dates that correspond to the minimum and maximum values for
    a 32-bit signed integer.)
   </p>
   <p class="para">
    Prior to PHP 5.1.0, not all platforms support negative timestamps, therefore
    your date range may be limited to no earlier than the Unix epoch. This
    means that e.g. dates prior to Jan 1, 1970 will not work on Windows,
    some Linux distributions, and a few other operating systems.
   </p>
   <p class="para">
    For 64-bit versions of PHP, the valid range of a timestamp is effectively
    infinite, as 64 bits can represent approximately 293 billion years in either
    direction.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Dates in the <em>m/d/y</em> or <em>d-m-y</em> formats
    are disambiguated by looking at the separator between the various
    components: if the separator is a slash (<em>/</em>), then the
    American <em>m/d/y</em> is assumed; whereas if the separator is a
    dash (<em>-</em>) or a dot (<em>.</em>), then the
    European <em>d-m-y</em> format is assumed.
   </p>
   <p class="para">
    To avoid potential ambiguity, it's best to use ISO 8601
    (<em>YYYY-MM-DD</em>) dates or
    <span class="methodname"><a href="datetime.createfromformat.html" class="methodname">DateTime::createFromFormat()</a></span> when possible.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Using this function for mathematical operations is not advisable.
    It is better to use <span class="methodname"><a href="datetime.add.html" class="methodname">DateTime::add()</a></span> and
    <span class="methodname"><a href="datetime.sub.html" class="methodname">DateTime::sub()</a></span> in PHP 5.3 and later, or
    <span class="methodname"><a href="datetime.modify.html" class="methodname">DateTime::modify()</a></span> in PHP 5.2.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.strtotime-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><a href="datetime.formats.html" class="link">Date and Time Formats</a></li>
    <li class="member"><span class="methodname"><a href="datetime.createfromformat.html" class="methodname" rel="rdfs-seeAlso">DateTime::createFromFormat()</a> - Returns new DateTime object formatted according to the specified format</span></li>
    <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - Validate a Gregorian date</span></li>
    <li class="member"><span class="function"><a href="function.strptime.html" class="function" rel="rdfs-seeAlso">strptime()</a> - Parse a time/date generated with strftime</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="100144">  
  <a class="name">
  <strong class="user"><em>sam at frontiermedia dot net dot au</em></strong></a><div class="date" title="2010-09-28 03:23"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100144">
<div class="phpcode"><code><span class="html">
I've had a little trouble with this function in the past because (as some people have pointed out) you can't really set a locale for strtotime. If you're American, you see 11/12/10 and think "12 November, 2010". If you're Australian (or European), you think it's 11 December, 2010. If you're a sysadmin who reads in ISO, it looks like 10th December 2011.
<br>
<br>The best way to compensate for this is by modifying your joining characters. Forward slash (/) signifies American M/D/Y formatting, a dash (-) signifies European D-M-Y and a period (.) signifies ISO Y.M.D.
<br>
<br>Observe:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11.12.10"</span><span class="keyword">));
<br></span><span class="comment">// outputs 10th December, 2011
<br>
<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11/12/10"</span><span class="keyword">));
<br></span><span class="comment">// outputs 12th November, 2010
<br>
<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11-12-10"</span><span class="keyword">));
<br></span><span class="comment">// outputs 11th December, 2010&nbsp; 
<br></span><span class="default">?&gt;
<br></span>
<br>Hope this helps someone!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99149">  
  <a class="name">
  <strong class="user"><em>Stefan Kunstmann</em></strong></a><div class="date" title="2010-07-30 06:32"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99149">
<div class="phpcode"><code><span class="html">
UK dates (eg. 27/05/1990) won't work with strotime, even with timezone properly set. 
<br>However, if you just replace "/" with "-" it will work fine.
<br><span class="default">&lt;?php
<br>$timestamp </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="string">'-'</span><span class="keyword">, </span><span class="string">'27/05/1990'</span><span class="keyword">));
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109929">  
  <a class="name">
  <strong class="user"><em>me at will morgan dot co dot you kay</em></strong></a><div class="date" title="2012-09-03 05:01"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom109929">
<div class="phpcode"><code><span class="html">
For negative UNIX timestamps, strtotime seems to return the literal you passed in, or it may try to deduct the number of seconds from today's date.<br><br>To work around this behaviour, it appears that the same behaviour as described in the DateTime classes applies:<br><br><a rel="nofollow" target="_blank">http://php.net/manual/en/datetime.construct.php</a><br><br>Specifically this line here (in the EN manual):<br><br>&gt; The $timezone parameter and the current timezone are ignored when the $time parameter either is a UNIX timestamp (e.g. @946684800) or specifies a timezone (e.g. 2010-01-28T15:00:00+02:00).<br><br>Therefore strtotime('@-1000') returns 1000 seconds before the epoch.<br><br>Hope this helps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85702">  
  <a class="name">
  <strong class="user"><em>orel16 at ya dot ru</em></strong></a><div class="date" title="2008-09-12 11:35"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85702">
<div class="phpcode"><code><span class="html">
I'm find some simple way to find all days between a couple of dates 
<br>(Все дни между двумя датами):
<br>
<br><span class="default">&lt;?php
<br>$dt</span><span class="keyword">=Array(</span><span class="string">"27.01.1985"</span><span class="keyword">,</span><span class="string">"12.09.2008"</span><span class="keyword">);
<br></span><span class="default">$dates</span><span class="keyword">=Array();
<br></span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>while (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])&gt;=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">" day"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])))
<br></span><span class="default">$dates</span><span class="keyword">[]=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">++.</span><span class="string">" day"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$dt</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])));
<br>
<br>foreach (</span><span class="default">$dates </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) echo </span><span class="default">$value</span><span class="keyword">.</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106442">  
  <a class="name">
  <strong class="user"><em>jdiamond at taoti dot com</em></strong></a><div class="date" title="2011-11-09 09:34"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106442">
<div class="phpcode"><code><span class="html">
To avoid frustrating confusion I recommend always calling<br>date_default_timezone_set('UTC') before using strtotime().<br><br>Because the UNIX Epoch is always in UTC; you will most likely output the wrong time if you do not do this.<br><br>Cheers</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92756">  
  <a class="name">
  <strong class="user"><em>michal dot kocarek at brainbox dot cz</em></strong></a><div class="date" title="2009-08-07 06:35"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92756">
<div class="phpcode"><code><span class="html">
strtotime() also returns time by year and weeknumber. (I use PHP 5.2.8, PHP 4 does not support it.) Queries can be in two forms:
<br>- "yyyyWww", where yyyy is 4-digit year, W is literal and ww is 2-digit weeknumber. Returns timestamp for first day of week (for me Monday)
<br>- "yyyy-Www-d", where yyyy is 4-digit year, W is literal, ww is 2-digit weeknumber and dd is day of week (1 for Monday, 7 for Sunday) 
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Get timestamp of 32nd week in 2009.
<br></span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009W32'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Mon, 03 Aug 2009 00:00:00
<br>// Weeknumbers &lt; 10 must be padded with zero:
<br></span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009W01'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Mon, 29 Dec 2008 00:00:00
<br>// strtotime('2009W1'); // error! returns false
<br>
<br>// See timestamp for Tuesday in 5th week of 2008
<br></span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2008-W05-2'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Tue, 29 Jan 2008 00:00:00
<br></span><span class="default">?&gt;
<br></span>
<br>Weeknumbers are (probably) computed according to ISO-8601 specification, so doing date('W') on given timestamps should return passed weeknumber.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104368">  
  <a class="name">
  <strong class="user"><em>Annomoys</em></strong></a><div class="date" title="2011-06-11 03:43"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104368">
<div class="phpcode"><code><span class="html">
Strtotime() can be used to loop through date range.
<br>as follows
<br>
<br><span class="default">&lt;?php
<br>$start </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009-02-01'</span><span class="keyword">);
<br></span><span class="default">$end </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009-03-10'</span><span class="keyword">);
<br></span><span class="default">$date </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">;
<br>while(</span><span class="default">$date </span><span class="keyword">&lt; </span><span class="default">$end</span><span class="keyword">)
<br>{
<br>
<br>&nbsp;&nbsp; </span><span class="comment">//write your code here
<br>&nbsp;&nbsp; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+1 day"</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">);(</span><span class="default">counter</span><span class="keyword">)
<br>
<br>}
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92163">  
  <a class="name">
  <strong class="user"><em>nan at ladyslipperwebs dot com</em></strong></a><div class="date" title="2009-07-12 04:27"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92163">
<div class="phpcode"><code><span class="html">
A great little function to see if dates chosen are more than three months apart and if they are, change the end date to three months from the begin date. This is easy to change.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">daysDifference</span><span class="keyword">(</span><span class="default">$endDate</span><span class="keyword">, </span><span class="default">$startDate</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$startTS </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$endTS </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$endDate</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$maxTS </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">.</span><span class="string">' + 3 months'</span><span class="keyword">);&nbsp; &nbsp; 
<br>&nbsp; &nbsp; if(</span><span class="default">$endTS </span><span class="keyword">&gt; </span><span class="default">$maxTS</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$endTS </span><span class="keyword">= </span><span class="default">$maxTS</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$endDate </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$endTS</span><span class="keyword">);&nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$endDate</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85942">  
  <a class="name">
  <strong class="user"><em>orel16 at ya dot ru</em></strong></a><div class="date" title="2008-09-25 10:48"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85942">
<div class="phpcode"><code><span class="html">
Some simple function to find all periods in dates list
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">extract_periods</span><span class="keyword">(</span><span class="default">$dates</span><span class="keyword">,</span><span class="default">$delimiter</span><span class="keyword">=</span><span class="string">"="</span><span class="keyword">){
<br></span><span class="default">sort</span><span class="keyword">(</span><span class="default">$dates</span><span class="keyword">);
<br></span><span class="default">$period</span><span class="keyword">=Array();
<br></span><span class="default">$date_from</span><span class="keyword">=</span><span class="default">$date_to</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;
<br></span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>foreach (</span><span class="default">$dates </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {
<br> if (empty(</span><span class="default">$date_from</span><span class="keyword">)) </span><span class="default">$date_from</span><span class="keyword">=</span><span class="default">$value</span><span class="keyword">;
<br> else {
<br>&nbsp; </span><span class="default">$k</span><span class="keyword">++;
<br>&nbsp; </span><span class="default">$tmp_date</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+ "</span><span class="keyword">.</span><span class="default">$k</span><span class="keyword">.</span><span class="string">" day"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date_from</span><span class="keyword">));
<br>&nbsp; if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">$tmp_date</span><span class="keyword">)!=</span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$tmp_date</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+ "</span><span class="keyword">.(</span><span class="default">$k</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">).</span><span class="string">" day"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date_from</span><span class="keyword">))
<br>&nbsp;&nbsp; </span><span class="default">$date_to</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">,</span><span class="default">$tmp_date</span><span class="keyword">);
<br>&nbsp;&nbsp; if (</span><span class="default">$date_from</span><span class="keyword">!=</span><span class="default">$date_to</span><span class="keyword">)
<br>&nbsp; &nbsp; </span><span class="default">$period</span><span class="keyword">[]=</span><span class="default">$date_from</span><span class="keyword">.</span><span class="default">$delimiter</span><span class="keyword">.</span><span class="default">$date_to</span><span class="keyword">;
<br>&nbsp;&nbsp; else
<br>&nbsp; &nbsp; </span><span class="default">$period</span><span class="keyword">[]=</span><span class="default">$date_from</span><span class="keyword">;
<br>&nbsp;&nbsp; </span><span class="default">$date_from</span><span class="keyword">=</span><span class="default">$value</span><span class="keyword">;
<br>&nbsp;&nbsp; </span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; }
<br> }
<br>}
<br>return </span><span class="default">$period</span><span class="keyword">;
<br>}
<br>
<br>Use:
<br>
<br></span><span class="default">$dates </span><span class="keyword">= Array( 
<br></span><span class="string">"2008-09-30"</span><span class="keyword">,
<br></span><span class="string">"2008-09-28"</span><span class="keyword">,
<br></span><span class="string">"2008-09-26"</span><span class="keyword">,
<br></span><span class="string">"2008-09-27"</span><span class="keyword">,
<br></span><span class="string">"2008-09-25"</span><span class="keyword">);
<br></span><span class="default">$periods </span><span class="keyword">= </span><span class="default">extract_periods</span><span class="keyword">(</span><span class="default">$dates</span><span class="keyword">);
<br>
<br>foreach (</span><span class="default">$periods </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br>echo </span><span class="default">$value</span><span class="keyword">.</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>Output:
<br>
<br>2008-09-25=2008-09-28
<br>2008-09-30</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87900">  
  <a class="name">
  <strong class="user"><em>joris dot landman at gmail dot com</em></strong></a><div class="date" title="2008-12-29 12:13"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87900">
<div class="phpcode"><code><span class="html">
Possible UTC (GMT) version of strtotime()<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">gmstrtotime</span><span class="keyword">(</span><span class="default">$my_time_string</span><span class="keyword">) {<br>&nbsp; &nbsp; return(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$my_time_string </span><span class="keyword">. </span><span class="string">" UTC"</span><span class="keyword">));<br>}<br><br></span><span class="default">?&gt;<br></span><br>strtotime() assumes that anything you feed into it, uses the server's "relative" time zone.<br>By adding " UTC" to any input string, you make it "absolute".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111989">  
  <a class="name">
  <strong class="user"><em>kumar AT swatantra.info Swatantra Kumar</em></strong></a><div class="date" title="2013-04-19 07:27"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111989">
<div class="phpcode"><code><span class="html">
The "+1 month" issue with strtotime<br>===================================<br>As noted in several blogs, strtotime() solves the "+1 month" ("next month") issue on days that do not exist in the subsequent month differently than other implementations like for example MySQL.<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +1 month" </span><span class="keyword">) ); </span><span class="comment">// PHP:&nbsp; 2009-03-03<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +2 month" </span><span class="keyword">) ); </span><span class="comment">// PHP:&nbsp; 2009-03-31<br></span><span class="default">?&gt;<br></span><br><span class="default">&lt;?php<br>SELECT DATE_ADD</span><span class="keyword">( </span><span class="string">'2009-01-31'</span><span class="keyword">, </span><span class="default">INTERVAL 1 MONTH </span><span class="keyword">); </span><span class="comment">// MySQL:&nbsp; 2009-02-28<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103352">  
  <a class="name">
  <strong class="user"><em>peterson at npd dot ufsc dot br</em></strong></a><div class="date" title="2011-04-08 01:38"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103352">
<div class="phpcode"><code><span class="html">
A function to add two times, without using the explode function<br><br><span class="default">&lt;?php <br><br>$hour_one </span><span class="keyword">= </span><span class="string">"01:20:20"</span><span class="keyword">;<br></span><span class="default">$hour_two </span><span class="keyword">= </span><span class="string">"05:50:20"</span><span class="keyword">;<br></span><span class="default">$h </span><span class="keyword">=&nbsp; </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$hour_one</span><span class="keyword">);<br></span><span class="default">$h2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$hour_two</span><span class="keyword">);<br><br></span><span class="default">$minute </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"i"</span><span class="keyword">, </span><span class="default">$h2</span><span class="keyword">);<br></span><span class="default">$second </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"s"</span><span class="keyword">, </span><span class="default">$h2</span><span class="keyword">);<br></span><span class="default">$hour </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"H"</span><span class="keyword">, </span><span class="default">$h2</span><span class="keyword">);<br><br>echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br><br></span><span class="default">$convert </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+</span><span class="default">$minute</span><span class="string"> minutes"</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">);<br></span><span class="default">$convert </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+</span><span class="default">$second</span><span class="string"> seconds"</span><span class="keyword">, </span><span class="default">$convert</span><span class="keyword">);<br></span><span class="default">$convert </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+</span><span class="default">$hour</span><span class="string"> hours"</span><span class="keyword">, </span><span class="default">$convert</span><span class="keyword">);<br></span><span class="default">$new_time </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">$convert</span><span class="keyword">);<br><br>echo </span><span class="default">$new_time</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105344">  
  <a class="name">
  <strong class="user"><em>Michael Muryn (MickoZ)</em></strong></a><div class="date" title="2011-08-10 10:54"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105344">
<div class="phpcode"><code><span class="html">
This comment apply to PHP5+<br><br>We can now do thing like this with strtotime:<br><span class="default">&lt;?php <br>$weekMondayTime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'Monday this week'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>However this works based on a week starting Sunday.&nbsp; I do not know if we can tweak this PHP behavior, anyone know?<br><br>If you want the timestamp of the start of the ISO Week (i.e. on Monday) as defined by ISO 8601, you can use this one liner:<br><span class="default">&lt;?php<br>$isoWeekStartTime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'o-\\WW'</span><span class="keyword">)); </span><span class="comment">// {isoYear}-W{isoWeekNumber}<br></span><span class="default">?&gt;<br></span><br>You can also find out the start of week of any time and format it into an ISO date with another one liner like this:<br><span class="default">&lt;?php<br>$isoWeekStartDate </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'o-\\WW'</span><span class="keyword">, </span><span class="default">$time</span><span class="keyword">)));<br></span><span class="default">?&gt;<br></span><br>For more information about ISO-8601 and ISO week date:<br><a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/ISO_8601#Week_dates</a><br><a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/ISO_week_date</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="97553">  
  <a class="name">
  <strong class="user"><em>A dot  Lepe dev+php at alepe dot com</em></strong></a><div class="date" title="2010-04-25 08:11"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97553">
<div class="phpcode"><code><span class="html">
This is a quick function to calculate the "working days" within a period of one year. "Working days" are those without weekends and without the holidays specified in the $holiday array. I left for the reader its implementation for more than 1 year.<br><span class="default">&lt;?php<br></span><span class="comment">/*<br> * Author: Alberto Lepe<br> * Calculates the working days from today to an specific date.<br> * NOTE: counting starts from today<br> * @pararm to_date: timestamp<br> */<br></span><span class="keyword">function </span><span class="default">get_working_days</span><span class="keyword">(</span><span class="default">$to_date</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$holidays </span><span class="keyword">= array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(</span><span class="default">10</span><span class="keyword">), </span><span class="comment">//2011 ...<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array(</span><span class="default">11</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">3 </span><span class="keyword">=&gt; array(</span><span class="default">21</span><span class="keyword">), </span><span class="comment">//... 2011<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">4 </span><span class="keyword">=&gt; array(</span><span class="default">29</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">), </span><span class="comment">//2010 ...<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">5 </span><span class="keyword">=&gt; array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">6 </span><span class="keyword">=&gt; array(),<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">7 </span><span class="keyword">=&gt; array(</span><span class="default">19</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">8 </span><span class="keyword">=&gt; array(</span><span class="default">11</span><span class="keyword">,</span><span class="default">12</span><span class="keyword">,</span><span class="default">13</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">9 </span><span class="keyword">=&gt; array(</span><span class="default">20</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">10 </span><span class="keyword">=&gt; array(</span><span class="default">11</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">11 </span><span class="keyword">=&gt; array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">12 </span><span class="keyword">=&gt; array(</span><span class="default">23</span><span class="keyword">) </span><span class="comment">//... 2010<br>&nbsp; &nbsp; </span><span class="keyword">);<br><br>&nbsp; &nbsp; for(</span><span class="default">$to_date</span><span class="keyword">, </span><span class="default">$w </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$x </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$to_date</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++, </span><span class="default">$x </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+</span><span class="default">$i</span><span class="string"> day"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"N"</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">) &lt; </span><span class="default">6 </span><span class="keyword">&amp;! </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"j"</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">),</span><span class="default">$holidays</span><span class="keyword">[</span><span class="default">date</span><span class="keyword">(</span><span class="string">"n"</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">)])) </span><span class="default">$w</span><span class="keyword">++;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$w</span><span class="keyword">;<br>}<br><br></span><span class="comment">//Usage:<br></span><span class="keyword">echo </span><span class="default">get_working_days</span><span class="keyword">(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2011-01-08"</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86375">  
  <a class="name">
  <strong class="user"><em>will at mooloop dot com</em></strong></a><div class="date" title="2008-10-15 09:25"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86375">
<div class="phpcode"><code><span class="html">
A simple way to work out someone's age in years:<br><br><span class="default">&lt;?php<br>$dob </span><span class="keyword">= </span><span class="string">'1984-09-04'</span><span class="keyword">;<br></span><span class="default">$age </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">) - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$dob</span><span class="keyword">));<br>if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'md'</span><span class="keyword">) &lt; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'md'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$dob</span><span class="keyword">))) {<br>&nbsp; &nbsp; </span><span class="default">$age</span><span class="keyword">--;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96095">  
  <a class="name">
  <strong class="user"><em>katylava at gmail dot com</em></strong></a><div class="date" title="2010-02-08 11:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96095">
<div class="phpcode"><code><span class="html">
You should play around with strtotime() before you decide what it can't do.&nbsp; for example:<br><br><span class="default">&lt;?php<br><br></span><span class="comment"># on 2/8/2010<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'first day'</span><span class="keyword">)); </span><span class="comment"># 02/01/10<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day'</span><span class="keyword">)); </span><span class="comment"># 02/28/10<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day next month'</span><span class="keyword">)); </span><span class="comment"># 03/31/10<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day last month'</span><span class="keyword">)); </span><span class="comment"># 01/31/10<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009-12 last day'</span><span class="keyword">)); </span><span class="comment"># 12/31/09 - this doesn't work if you reverse the order of the year and month<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009-03 last day'</span><span class="keyword">)); </span><span class="comment"># 03/31/09<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009-03'</span><span class="keyword">)); </span><span class="comment"># 03/01/09<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day of march 2009'</span><span class="keyword">)); </span><span class="comment"># 03/31/09<br></span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day of march'</span><span class="keyword">)); </span><span class="comment"># 03/31/10<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107331">  
  <a class="name">
  <strong class="user"><em>cristinawithout</em></strong></a><div class="date" title="2012-01-31 09:15"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107331">
<div class="phpcode"><code><span class="html">
WARNING when using "next month", "last month", "+1 month",&nbsp; "-1 month" or any combination of +/-X months. It will give non-intuitive results on Jan 30th and 31st. <br><br>As described at : <a rel="nofollow" target="_blank">http://derickrethans.nl/obtaining-the-next-month-in-php.html</a><br><br><span class="default">&lt;?php<br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-31' </span><span class="keyword">);<br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'next month' </span><span class="keyword">);<br>echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>In the above, using "next month" on January 31 will output "March" even though you might want it to output "February". ("+1 month" will give the same result. "last month", "-1 month" are similarly affected, but the results would be seen at beginning of March.)<br><br>The way to get what people would generally be looking for when they say "next month" even on Jan 30 and Jan 31 is to use "first day of next month":<br><br><span class="default">&lt;?php<br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-08' </span><span class="keyword">);<br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'first day of next month' </span><span class="keyword">);<br>echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br><span class="default">&lt;?php<br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-08' </span><span class="keyword">);<br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'first day of +1 month' </span><span class="keyword">);<br>echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108673">  
  <a class="name">
  <strong class="user"><em>info at jesperveldhuizen dot com</em></strong></a><div class="date" title="2012-05-16 02:33"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108673">
<div class="phpcode"><code><span class="html">
There is a change in the strtotime function...<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'0000-00-00 00:00:00'</span><span class="keyword">));<br><br></span><span class="comment">/*<br>PHP 5.3.3<br>returns: -0001<br><br>PHP 5.2.10<br>returns: 1970<br>*/<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89755">  
  <a class="name">
  <strong class="user"><em>fuhrysteve at gmail dot com</em></strong></a><div class="date" title="2009-03-21 07:18"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89755">
<div class="phpcode"><code><span class="html">
Here's a hack to make this work for MS SQL's datetime junk, since strtotime() has issues with fractional seconds.<br><br><span class="default">&lt;?php<br><br>$MSSQLdatetime </span><span class="keyword">= </span><span class="string">"Feb&nbsp; 7 2009 09:48:06:697PM"</span><span class="keyword">;<br></span><span class="default">$newDatetime </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/:[0-9][0-9][0-9]/'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$MSSQLdatetime</span><span class="keyword">);<br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$newDatetime</span><span class="keyword">);<br>echo </span><span class="default">$time</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88867">  
  <a class="name">
  <strong class="user"><em>Zoe Blade</em></strong></a><div class="date" title="2009-02-11 08:40"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88867">
<div class="phpcode"><code><span class="html">
Here's a revised version of [code I originally wrote on 21-JAN-09].&nbsp; You can work out the number of days left in the month or year like this.&nbsp; [This version] also works with arbitrary dates given to it rather than only working with the current date:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">days_left_in_month</span><span class="keyword">(</span><span class="default">$isoDate</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$isoDate</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]++;
<br>&nbsp; </span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);
<br>
<br>&nbsp; if (</span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] == </span><span class="string">'13'</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$date</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]++;
<br>&nbsp; &nbsp; </span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">'01'</span><span class="keyword">;
<br>&nbsp; }
<br>
<br>&nbsp; </span><span class="default">$date</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">'01'</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$isoDateNextMonth </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">); 
<br>&nbsp; return </span><span class="default">ceil</span><span class="keyword">((</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$isoDateNextMonth</span><span class="keyword">) - </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$isoDate</span><span class="keyword">)) / </span><span class="default">86400</span><span class="keyword">);
<br>}
<br>
<br>echo </span><span class="default">days_left_in_month</span><span class="keyword">(</span><span class="string">'2009-01-31'</span><span class="keyword">); </span><span class="comment">// Much better
<br></span><span class="default">?&gt;
<br></span>
<br>
<br>[EDIT BY danbrown AT php DOT net: Contains bugfixes by (akniep AT rayo DOT info) on 03-FEB-09 and the original author.]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70974">  
  <a class="name">
  <strong class="user"><em>Bandit</em></strong></a><div class="date" title="2006-11-06 05:06"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70974">
<div class="phpcode"><code><span class="html">
So I wanted a little function to output an easy to read but inaccurate date. I came up with the following (probably very inefficient) little function;
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">ezDate</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ts </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,</span><span class="default">$d</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">31536000</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">31536000</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' year'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">2419200</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">2419200</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' month'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">604800</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">604800</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' week'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">86400</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">86400</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' day'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">3600</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">3600</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' hour'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else if(</span><span class="default">$ts</span><span class="keyword">&gt;</span><span class="default">60</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">).</span><span class="string">' minute'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$val </span><span class="keyword">= </span><span class="default">$ts</span><span class="keyword">.</span><span class="string">' second'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$val</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">) </span><span class="default">$val </span><span class="keyword">.= </span><span class="string">'s'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$val</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>Then I use it as follows;
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">ucwords</span><span class="keyword">(</span><span class="default">ezDate</span><span class="keyword">(</span><span class="string">'2006-09-07 18:42:00'</span><span class="keyword">)).</span><span class="string">' Ago'</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>Which would output;
<br>
<br>&nbsp; &nbsp; 2 Months Ago
<br>
<br>I add an acronym tag around the output also, so my users can mouse-over for the exact date.
<br>
<br>Hope it helps someone!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93972">  
  <a class="name">
  <strong class="user"><em>flexibill2001 at hotmail dot com</em></strong></a><div class="date" title="2009-10-09 12:38"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93972">
<div class="phpcode"><code><span class="html">
lot of people said that there is bug in strtotime method like given in this example:
<br>
<br><span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +1 months" </span><span class="keyword">) ).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">; </span><span class="default">?&gt;
<br></span>
<br>this gives 03-03-2009 instead of 28-02-2009
<br>
<br>here is work arround for this bug.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/// n=no of months&nbsp; , $y =year, $m = month, $d = day , $t = + or -
<br>
<br></span><span class="keyword">function </span><span class="default">NewMonthDate</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$m</span><span class="keyword">,</span><span class="default">$d</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$t</span><span class="keyword">==</span><span class="string">"+"</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pmonth</span><span class="keyword">=</span><span class="default">$m</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">;&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$t</span><span class="keyword">==</span><span class="string">"-"</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pmonth</span><span class="keyword">=</span><span class="default">$m</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">;&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pyear</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aa</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/////////////////this will show lastmonth//////////////
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lastmonth </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pmonth</span><span class="keyword">, </span><span class="default">$aa</span><span class="keyword">,&nbsp; </span><span class="default">$pyear</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$smonth</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"m"</span><span class="keyword">,</span><span class="default">$lastmonth</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$syear</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">,</span><span class="default">$lastmonth</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ndays</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"t"</span><span class="keyword">,</span><span class="default">$lastmonth</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$valarray</span><span class="keyword">=array(</span><span class="default">$smonth</span><span class="keyword">,</span><span class="default">$syear</span><span class="keyword">,</span><span class="default">$ndays</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mm</span><span class="keyword">=</span><span class="default">$mm</span><span class="keyword">+</span><span class="default">$ndays</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$basedate</span><span class="keyword">=</span><span class="string">"</span><span class="default">$pyear</span><span class="string">-</span><span class="default">$m</span><span class="string">-</span><span class="default">$d</span><span class="string">"</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$basedate</span><span class="string"> </span><span class="default">$t$mm</span><span class="string"> days"</span><span class="keyword">);&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date1</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"d-m-Y"</span><span class="keyword">,</span><span class="default">$date2</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; return&nbsp; </span><span class="default">$date1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }&nbsp;&nbsp; </span><span class="comment">////
<br>
<br></span><span class="default">$n</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br></span><span class="default">$y</span><span class="keyword">=</span><span class="default">2009</span><span class="keyword">;
<br></span><span class="default">$m</span><span class="keyword">=</span><span class="default">01</span><span class="keyword">;
<br></span><span class="default">$d</span><span class="keyword">=</span><span class="default">31</span><span class="keyword">;
<br></span><span class="default">$t</span><span class="keyword">=</span><span class="string">"+"</span><span class="keyword">;
<br>
<br></span><span class="default">$rr</span><span class="keyword">=</span><span class="default">NewMonthDate</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$m</span><span class="keyword">,</span><span class="default">$d</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">);
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$rr</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92600">  
  <a class="name">
  <strong class="user"><em>php at davidstockton dot com</em></strong></a><div class="date" title="2009-07-30 09:04"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92600">
<div class="phpcode"><code><span class="html">
Adding a note to an already long page:<br><br>Try to be as specific as you can with the string you pass in.&nbsp; For example<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'F'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'February'</span><span class="keyword">)); <br></span><span class="default">?&gt;<br></span><br>is not specific enough.&nbsp; Depending on the day of the month, you may get a different response.&nbsp; For a non-leap year, you'll get March if the _current day of the month_ is the 29th, 30th or 31st.&nbsp; If it's a leap year, you'll get March on the 30th or 31st of the month.&nbsp; The same thing will happen on the 31st of any month when you pass in the name of any month with less than 31 days.&nbsp; This happens because the strtotime() function will fill in missing parts from the current day.<br><br>Assuming today is July 31, the timestamp returned by strtotime('February') will ultimately be seen as February 31 (non-existant obviously), which then is interpreted as March 3, thus giving a month name of March.<br><br>Interestingly, adding the year or the day will give you back the expected month.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112919">  
  <a class="name">
  <strong class="user"><em>agok at yandex dot ru</em></strong></a><div class="date" title="2013-08-07 12:32"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112919">
<div class="phpcode"><code><span class="html">
//get first and last day of quarter for some date<br>$date = new DateTime('2013-01-01'); <br>echo <br>$date-&gt;modify('-'.(($date-&gt;format('n') - 1)%3).' month')-&gt;modify('first day of this month')-&gt;format('Y-m-d'); <br>echo '&lt;br/&gt;'; <br>echo <br>$date-&gt;modify('+2 month')-&gt;modify('last day of this month')-&gt;format('Y-m-d');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93898">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2009-10-05 03:47"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93898">
<div class="phpcode"><code><span class="html">
This function DOES NOT work from left-to-right as one would think. This function parses the string as a whole, then applies the intervals by size (year, month, ...). Take the following example:<br><br><span class="default">&lt;?php<br>$Date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2011-02-22'</span><span class="keyword">); </span><span class="comment">// February 22nd, 2011. 28 days in this month, 29 next year.<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n/j/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+1 year, +7 days'</span><span class="keyword">, </span><span class="default">$Date</span><span class="keyword">)); </span><span class="comment">// add 1 year and 7 days. prints 2/29/2012<br></span><span class="keyword">echo </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n/j/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+7 days, +1 year'</span><span class="keyword">, </span><span class="default">$Date</span><span class="keyword">)); </span><span class="comment">// add 7 days and 1 year, but this also prints 2/29/2012<br></span><span class="keyword">echo </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'n/j/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+1 year'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+7 days'</span><span class="keyword">, </span><span class="default">$Date</span><span class="keyword">))); </span><span class="comment">// this prints 3/1/2012, what the 2nd would do if it was left-to-right<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88679">  
  <a class="name">
  <strong class="user"><em>akniep at rayo dot info</em></strong></a><div class="date" title="2009-02-03 08:37"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88679">
<div class="phpcode"><code><span class="html">
The "+1 month" issue solved as in MySQL.<br>========================================<br>As noted in several comments, PHP's strtotime() solves the "+1 month" ("next month") issue on days that do not exist in the subsequent month differently than other implementations like for example MySQL.<br><br>// PHP:&nbsp; 2009-03-03<br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +1 month" </span><span class="keyword">) );<br></span><span class="default">?&gt;<br></span><br>// MySQL:&nbsp; 2009-02-28<br><span class="default">&lt;?php<br>SELECT DATE_ADD</span><span class="keyword">( </span><span class="string">'2009-01-31'</span><span class="keyword">, </span><span class="default">INTERVAL 1 MONTH </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>========================================<br>If not for consistency with MySQL there are several reasons why one may need a PHP-function that calculates "+1 month" as MySQL does. Certainly, for various kinds of business logic it seems much more intuitiv to land on a date within the subsequent month rather than on a date within the next but one if you calculate "next month" ("+1 month").<br><br>The following function calculates a date X months in the future of a given date ($base_time).<br><br><span class="default">&lt;?php<br><br></span><span class="comment">/**<br> * Calculates a date lying a given number of months in the future of a given date.<br> * The results resemble the logic used in MySQL where '2009-01-31 +1 month' is '2009-02-28' rather than '2009-03-03' (like in PHP's strtotime).<br> * <br> * @author akniep<br> * @since 2009-02-03<br> * @param $base_time long, The timestamp used to calculate the returned value .<br> * @param $months int, The number of months to jump to the future of the given $base_time. <br> * @return long, The timestamp of the day $months months in the future of $base_time<br> */<br></span><span class="keyword">function </span><span class="default">get_x_months_to_the_future</span><span class="keyword">( </span><span class="default">$base_time </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$months </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$base_time</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$base_time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$x_months_to_the_future&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"+" </span><span class="keyword">. </span><span class="default">$months </span><span class="keyword">. </span><span class="string">" months"</span><span class="keyword">, </span><span class="default">$base_time </span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$month_before&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= (int) </span><span class="default">date</span><span class="keyword">( </span><span class="string">"m"</span><span class="keyword">, </span><span class="default">$base_time </span><span class="keyword">) + </span><span class="default">12 </span><span class="keyword">* (int) </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y"</span><span class="keyword">, </span><span class="default">$base_time </span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$month_after&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= (int) </span><span class="default">date</span><span class="keyword">( </span><span class="string">"m"</span><span class="keyword">, </span><span class="default">$x_months_to_the_future </span><span class="keyword">) + </span><span class="default">12 </span><span class="keyword">* (int) </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y"</span><span class="keyword">, </span><span class="default">$x_months_to_the_future </span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if (</span><span class="default">$month_after </span><span class="keyword">&gt; </span><span class="default">$months </span><span class="keyword">+ </span><span class="default">$month_before</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x_months_to_the_future </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">( </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Ym01His"</span><span class="keyword">, </span><span class="default">$x_months_to_the_future</span><span class="keyword">) . </span><span class="string">" -1 day" </span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$x_months_to_the_future</span><span class="keyword">;<br>} </span><span class="comment">//get_x_months_to_the_future()<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; <br>// Tests<br>// =======<br><br>// returns 2009-02-28<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">, </span><span class="default">get_x_months_to_the_future</span><span class="keyword">( </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'2009-01-31' </span><span class="keyword">) ) ), </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="comment">// returns 2008-02-29<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">, </span><span class="default">get_x_months_to_the_future</span><span class="keyword">( </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'2008-01-31' </span><span class="keyword">) ) ), </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="comment">// returns 2009-09-30 12:00:00<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">, </span><span class="default">get_x_months_to_the_future</span><span class="keyword">( </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'2009-05-31 12:00:00' </span><span class="keyword">), </span><span class="default">4 </span><span class="keyword">) ), </span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100632">  
  <a class="name">
  <strong class="user"><em>marcodemaio at vanylla dot it</em></strong></a><div class="date" title="2010-10-27 11:09"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100632">
<div class="phpcode"><code><span class="html">
NOTE: strttotime returns wrong values (or guessed values) when the Week day does not macth the date.<br>Simple example:<br><br><span class="default">&lt;?php<br>$d1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"26 Oct 0010 12:00:00 +0100"</span><span class="keyword">);<br></span><span class="default">$d2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Tue, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">);<br></span><span class="default">$d3 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Sun, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">); </span><span class="comment">//But Oct 26 is a Tuesday, NOT a Sunday.<br><br></span><span class="keyword">echo </span><span class="default">$d1</span><span class="keyword">; </span><span class="comment">//ok 1288090800 that is "26 Ott 2010 - 11:00";<br></span><span class="keyword">echo </span><span class="default">$d2</span><span class="keyword">; </span><span class="comment">//ok 1288090800 that is "26 Ott 2010 - 11:00";<br></span><span class="keyword">echo </span><span class="default">$d3</span><span class="keyword">; </span><span class="comment">//WRONG! 1288522800 that is "31 Ott 2010 - 11:00";<br></span><span class="default">?&gt;<br></span><br>Sometime I found RSS feeds that contains week days that do not match the date.<br><br>A possible solution is to remove useless week day before passing the date string into strtime, example:<br><br><span class="default">&lt;?php<br>&nbsp;&nbsp; $date_string </span><span class="keyword">= </span><span class="string">"Sun, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">;<br>&nbsp;&nbsp; if( (</span><span class="default">$comma_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">)) !== </span><span class="default">FALSE </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$date_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">, </span><span class="default">$comma_pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">$d3 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114279">  
  <a class="name">
  <strong class="user"><em>gffabio at hotmail dot com</em></strong></a><div class="date" title="2014-02-01 06:58"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom114279">
<div class="phpcode"><code><span class="html">
una solucion al para saber el primer y ultimo dia del mes siguiente<br><span class="default">&lt;?php<br>$fecha </span><span class="keyword">= </span><span class="string">'2014-01-31'</span><span class="keyword">;<br></span><span class="comment">//resultado incorrecto<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-01'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-03-01<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-t'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-03-31<br>//correcto<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-01'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> last day of next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-02-01<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-t'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> last day of next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-02-28<br><br></span><span class="default">$fecha </span><span class="keyword">= </span><span class="string">'2014-05-31'</span><span class="keyword">;<br></span><span class="comment">//resultado incorrecto<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-01'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-07-01<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-t'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-07-31<br>//correcto<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-01'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> last day of next month"</span><span class="keyword">)).</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;</span><span class="comment">//2014-06-01<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-t'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$fecha</span><span class="string"> last day of next month"</span><span class="keyword">));</span><span class="comment">//2014-06-28<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109049">  
  <a class="name">
  <strong class="user"><em>elad dot yosifon at gmail dot com</em></strong></a><div class="date" title="2012-06-15 08:12"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109049">
<div class="phpcode"><code><span class="html">
This example shows common methods to get a timestamp from $year,$month,$day variables.
<br>strtotime() with implode() seems to be the fastest way (performance wise..)
<br>
<br><span class="default">&lt;?php
<br>
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">logTime</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$functionName</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"</span><span class="default">$functionName</span><span class="string">() = "</span><span class="keyword">.(float)(</span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">)*(</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="default">$day </span><span class="keyword">= </span><span class="string">'01'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="string">'01'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$year </span><span class="keyword">= </span><span class="string">'2000'</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= array();
<br>&nbsp; &nbsp; </span><span class="default">$timestamps </span><span class="keyword">= array();
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'start'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$month</span><span class="keyword">,</span><span class="default">$day</span><span class="keyword">,</span><span class="default">$year</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'mktime'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$month</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$day</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'strtotime'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, array(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">)));
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'strtotime_Array'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">date_create_from_format</span><span class="keyword">(</span><span class="string">'!Y-m-d'</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$month</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$day</span><span class="keyword">)-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'date_create_from_format'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">date_create_from_format</span><span class="keyword">(</span><span class="string">'!Y-m-d'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, array(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">)))-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'date_create_from_format_Array'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'!Y-m-d'</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$month</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$day</span><span class="keyword">)-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'DateTime'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$timestamps</span><span class="keyword">[] = </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'!Y-m-d'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, array(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">)))-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$time</span><span class="keyword">[] = array(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">),</span><span class="string">'DateTime_Array'</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; foreach (</span><span class="default">$time </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">) == </span><span class="default">$value</span><span class="keyword">){}else{
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">logTime</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$time</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">],</span><span class="default">$time</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// just to show that all timestamps are correct
<br>&nbsp; &nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$timestamps</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106105">  
  <a class="name">
  <strong class="user"><em>silveraxe at gmail dot com</em></strong></a><div class="date" title="2011-10-11 02:01"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106105">
<div class="phpcode"><code><span class="html">
This date is interpreted as American date (MM/DD/YYYY):<br>$date = "06/10/2011 14:28"; // Oct 10, 2011<br><br>This date is interpreted as European date (DD/MM/YYYY):<br>$otherDate = "06-10-2011 14:28"; // Jun 10, 2011<br><br>That's why you see those differences.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41328">  
  <a class="name">
  <strong class="user"><em>cryogen at mac dot com</em></strong></a><div class="date" title="2004-04-06 11:39"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41328">
<div class="phpcode"><code><span class="html">
Append the string "GMT" to all of your datetimes pulled from MySQL or other database that store date-times in the format "yyyy-mm-dd hh:ii:ss" just prior to converting them to a unix timestamp with strtotime().&nbsp; This will ensure you get a valid GMT result for times during daylight savings.
<br>
<br>EXAMPLE:
<br><span class="default">&lt;?php
<br>$date_time1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2004-04-04 02:00:00"</span><span class="keyword">); </span><span class="comment">// returns bad value -1 due to DST
<br></span><span class="default">$date_time2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2004-04-04 02:00:00 GMT"</span><span class="keyword">); </span><span class="comment">// works great!
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113507">  
  <a class="name">
  <strong class="user"><em>les dot mc dot pls at gmail dot com</em></strong></a><div class="date" title="2013-10-22 02:44"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113507">
<div class="phpcode"><code><span class="html">
@lazzich<br>just wanted to say that by coincidence i commented out the: <br><br>//$date(2011/07/15);<br>//$time(15:00:00);<br> <br>and the result was 16,000 days ago...<br><br>Happy 16,000 day anniversary of <br>01/01/1970 everyone!!!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99992">  
  <a class="name">
  <strong class="user"><em>Tim</em></strong></a><div class="date" title="2010-09-18 09:52"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99992">
<div class="phpcode"><code><span class="html">
Unlike "yesterday 14:00", "14:00 yesterday" will return 00:00 of yesterday.&nbsp; Here's a function that'll fix that:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">fix_strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/([012]?[0-9]?:[0-5]{1}\d\s*[aA|pP]?[mM]?)(\s+)(.+)/'</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] . </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] . </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">);<br>}<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">fix_strtotime</span><span class="keyword">(</span><span class="string">'14:00 yesterday'</span><span class="keyword">)); </span><span class="comment">// 2010-09-17 14:00:00<br></span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">fix_strtotime</span><span class="keyword">(</span><span class="string">'yesterday 14:00'</span><span class="keyword">)); </span><span class="comment">// 2010-09-17 14:00:00<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97446">  
  <a class="name">
  <strong class="user"><em>ariunbayar</em></strong></a><div class="date" title="2010-04-20 05:03"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97446">
<div class="phpcode"><code><span class="html">
if you looking for next 31 here it is for PHP5.3<br><span class="default">&lt;?php<br>$d </span><span class="keyword">= </span><span class="default">31</span><span class="keyword">;<br></span><span class="default">$now </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2010-06-02'</span><span class="keyword">);<br>while (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'t'</span><span class="keyword">, </span><span class="default">$now</span><span class="keyword">) &lt; </span><span class="default">$d</span><span class="keyword">){<br>&nbsp; </span><span class="default">$now </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'last day of next month'</span><span class="keyword">, </span><span class="default">$now</span><span class="keyword">);<br>}<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-'</span><span class="keyword">.</span><span class="default">$d</span><span class="keyword">, </span><span class="default">$now</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>will output "2010-07-31".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101508">  
  <a class="name">
  <strong class="user"><em>x at xero dot nu</em></strong></a><div class="date" title="2010-12-21 09:41"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101508">
<div class="phpcode"><code><span class="html">
strtotime is awesome for converting dates.
<br>in this example i will make an RSS date, an
<br>ATOM date, then convert them to a human
<br>readable m/d/Y dates.
<br>
<br><span class="default">&lt;?php
<br>$rss </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"r"</span><span class="keyword">);
<br></span><span class="default">$atom </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"c"</span><span class="keyword">);
<br></span><span class="default">$human1 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$rss</span><span class="keyword">));
<br></span><span class="default">$human2 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$atom</span><span class="keyword">));
<br>
<br>echo </span><span class="default">$rss</span><span class="keyword">.</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">.</span><span class="default">$atom</span><span class="keyword">.</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">.</span><span class="default">$human1</span><span class="keyword">.</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">.</span><span class="default">$human2</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94184">  
  <a class="name">
  <strong class="user"><em>kooshal at live dot com</em></strong></a><div class="date" title="2009-10-21 06:59"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94184">
<div class="phpcode"><code><span class="html">
when using PHP 5.3, you must use date_default_timezone_set() to set the time zone otherwise you will get warning similar to this (if you have display_errors=On)—<br><br>Warning: date() [function.date]: It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Asia/Dubai' for '4.0/no DST' instead in path/to/php/script.php<br>on line ##<br><br>Example:<br>date_default_timezone_set('Indian/Mauritius');<br><br>For a list of supported timezones in PHP, see <a rel="nofollow" target="_blank">http://www.php.net/manual/en/timezones.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="84985">  
  <a class="name">
  <strong class="user"><em>jaymin at gmx dot net</em></strong></a><div class="date" title="2008-08-08 06:48"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84985">
<div class="phpcode"><code><span class="html">
strtotime() seems to treat dates delimited by slashes as m/d/y and dates delimited by dashes are treated as d-m-y.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">print </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"06/08/2008"</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>returns 2008-06-08
<br>
<br>while
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">print </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"06-08-2008"</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>returns 2008-08-06
<br>
<br>Using PHP 5.2.6</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98878">  
  <a class="name">
  <strong class="user"><em>prajo74 at gmail dot com</em></strong></a><div class="date" title="2010-07-13 08:59"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98878">
<div class="phpcode"><code><span class="html">
Take Care: strtotime() may not add months properly. The out put may not be as expected.<br><br><span class="default">&lt;?php </span><span class="keyword">echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">.</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+1 month'</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">2010</span><span class="keyword">))); </span><span class="default">?&gt;<br></span><br>PHP Output - 2010-03-03 (Version 5.3.2) (Not Expected)<br><br>MySQL Output while adding 1 month to 2010-01-31 will be 2010-02-28 (As Expeced)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91801">  
  <a class="name">
  <strong class="user"><em>Killermonk</em></strong></a><div class="date" title="2009-06-25 04:13"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91801">
<div class="phpcode"><code><span class="html">
You are not restricted to the same date ranges when running PHP on a 64-bit machine. This is because you are using 64-bit integers instead of 32-bit integers (at least if your OS is smart enough to use 64-bit integers in a 64-bit OS)<br><br>The following code will produce difference output in 32 and 64 bit environments.<br><br>var_dump(strtotime('1000-01-30'));<br><br>32-bit PHP: bool(false)<br>64-bit PHP: int(-30607689600)<br><br>This is true for php 5.2.* and 5.3<br><br>Also, note that the anything about the year 10000 is not supported. It appears to use only the last digit in the year field. As such, the year 10000 is interpretted as the year 2000; 10086 as 2006, 13867 as 2007, etc</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85633">  
  <a class="name">
  <strong class="user"><em>raph</em></strong></a><div class="date" title="2008-09-09 02:39"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85633">
<div class="phpcode"><code><span class="html">
A little function to add 2 time lenghts. Enjoy !
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">AddPlayTime </span><span class="keyword">(</span><span class="default">$oldPlayTime</span><span class="keyword">, </span><span class="default">$PlayTimeToAdd</span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; </span><span class="default">$pieces </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$oldPlayTime</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"00"</span><span class="keyword">,</span><span class="string">"12"</span><span class="keyword">,</span><span class="default">$hours</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$minutes</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$seconds</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$oldPlayTime</span><span class="keyword">=</span><span class="default">$hours</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">.</span><span class="default">$minutes</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">.</span><span class="default">$seconds</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; </span><span class="default">$pieces </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$PlayTimeToAdd</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"00"</span><span class="keyword">,</span><span class="string">"12"</span><span class="keyword">,</span><span class="default">$hours</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$minutes</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$seconds</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">$str</span><span class="keyword">.</span><span class="default">$minutes</span><span class="keyword">.</span><span class="string">" minute "</span><span class="keyword">.</span><span class="default">$seconds</span><span class="keyword">.</span><span class="string">" second" </span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="string">"01/01/2000 "</span><span class="keyword">.</span><span class="default">$oldPlayTime</span><span class="keyword">.</span><span class="string">" am + "</span><span class="keyword">.</span><span class="default">$hours</span><span class="keyword">.</span><span class="string">" hour "</span><span class="keyword">.</span><span class="default">$minutes</span><span class="keyword">.</span><span class="string">" minute "</span><span class="keyword">.</span><span class="default">$seconds</span><span class="keyword">.</span><span class="string">" second" </span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">// Avant PHP 5.1.0, vous devez comparer avec&nbsp; -1, au lieu de false
<br>&nbsp; &nbsp; </span><span class="keyword">if ((</span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)) === </span><span class="default">false</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">'h:i:s'</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pieces </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$sum</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hours</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"12"</span><span class="keyword">,</span><span class="string">"00"</span><span class="keyword">,</span><span class="default">$hours</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$minutes</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$seconds</span><span class="keyword">=</span><span class="default">$pieces</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum</span><span class="keyword">=</span><span class="default">$hours</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">.</span><span class="default">$minutes</span><span class="keyword">.</span><span class="string">":"</span><span class="keyword">.</span><span class="default">$seconds</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$sum</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$firstTime</span><span class="keyword">=</span><span class="string">"00:03:12"</span><span class="keyword">;
<br></span><span class="default">$secondTime</span><span class="keyword">=</span><span class="string">"02:04:34"</span><span class="keyword">;
<br>
<br></span><span class="default">$sum</span><span class="keyword">=</span><span class="default">AddPlayTime</span><span class="keyword">(</span><span class="default">$firstTime</span><span class="keyword">,</span><span class="default">$secondTime</span><span class="keyword">);
<br>if (</span><span class="default">$sum</span><span class="keyword">!=</span><span class="default">false</span><span class="keyword">) {
<br>&nbsp; &nbsp; echo </span><span class="default">$firstTime</span><span class="keyword">.</span><span class="string">" + "</span><span class="keyword">.</span><span class="default">$secondTime</span><span class="keyword">.</span><span class="string">" === "</span><span class="keyword">.</span><span class="default">$sum</span><span class="keyword">;
<br>}
<br>else {
<br>&nbsp; &nbsp; echo </span><span class="string">"failed"</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38658">  
  <a class="name">
  <strong class="user"><em>kyle at frozenonline dot com</em></strong></a><div class="date" title="2004-01-01 03:24"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38658">
<div class="phpcode"><code><span class="html">
I was having trouble parsing Apache log files that consisted of a time entry (denoted by %t for Apache configuration). An example Apache-date looks like: [21/Dec/2003:00:52:39 -0500]<br><br>Apache claims this to be a 'standard english format' time. strtotime() feels otherwise. <br><br>I came up with this function to assist in parsing this peculiar format.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">from_apachedate</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; &nbsp; &nbsp; list(</span><span class="default">$d</span><span class="keyword">, </span><span class="default">$M</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$z</span><span class="keyword">) = </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">, </span><span class="string">"[%2d/%3s/%4d:%2d:%2d:%2d %5s]"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$d</span><span class="string"> </span><span class="default">$M</span><span class="string"> </span><span class="default">$y</span><span class="string"> </span><span class="default">$h</span><span class="string">:</span><span class="default">$m</span><span class="string">:</span><span class="default">$s</span><span class="string"> </span><span class="default">$z</span><span class="string">"</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>Hope it helps anyone else seeking such a conversion.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91165">  
  <a class="name">
  <strong class="user"><em>viper7 at viper-7 dot com</em></strong></a><div class="date" title="2009-05-28 03:42"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91165">
<div class="phpcode"><code><span class="html">
Observed date formats that strtotime expects, it can be quite confusing, so hopefully this makes things a little clearer for some.<br><br>mm/dd/yyyy - 02/01/2003&nbsp; - strtotime() returns : 1st February 2003<br>mm/dd/yy&nbsp;&nbsp; - 02/01/03&nbsp; &nbsp; - strtotime() returns : 1st February 2003<br>yyyy/mm/dd&nbsp; - 2003/02/01 - strtotime() returns : 1st February 2003<br>dd-mm-yyyy - 01-02-2003&nbsp; - strtotime() returns : 1st February 2003<br>yy-mm-dd&nbsp;&nbsp; - 03-02-01&nbsp; &nbsp; - strtotime() returns : 1st February 2003<br>yyyy-mm-dd - 2003-02-01&nbsp; - strtotime() returns : 1st February 2003</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89184">  
  <a class="name">
  <strong class="user"><em>bbutts at stormcode dot net</em></strong></a><div class="date" title="2009-02-25 10:43"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89184">
<div class="phpcode"><code><span class="html">
After looking around I couldn't find any code that would properly and simply compute the last day of the month.&nbsp; +1 month will not work ex. 1 month after February 28th is March 3rd.
<br>
<br>This line of code returns the last day of the current month:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">echo </span><span class="string">'Last day of the month: ' </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/d/y h:i a'</span><span class="keyword">,(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'next month'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'m/01/y'</span><span class="keyword">))) - </span><span class="default">1</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>It uses the first of the current month, gets the first of the next month, then subtracts 1 second to give you 11:59pm on the last day of the current month.
<br>
<br>Hope this helps someone.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90881">  
  <a class="name">
  <strong class="user"><em>PHP_Chimp</em></strong></a><div class="date" title="2009-05-14 06:08"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90881">
<div class="phpcode"><code><span class="html">
A warning for those that think that their is only one way to interpret 2009 April 4th...PHP thinks otherwise.<br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $test </span><span class="keyword">= </span><span class="string">"April 4th 2009"</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"test == false &lt;br /&gt;\n t = </span><span class="default">$test</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"test == true"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span>Works fine, with the American 'Month Day Year'.<br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $test </span><span class="keyword">= </span><span class="string">"2009 April 4th"</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"test == false &lt;br /&gt;\n t = </span><span class="default">$test</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"test == true"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span>Will produce a false result. It seems that even with a 4 figure year that the American date format overrules the obviousness of 2009 April 4th.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79618">  
  <a class="name">
  <strong class="user"><em>andrew dot myers at civicwifi dot com</em></strong></a><div class="date" title="2007-12-05 10:42"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79618">
<div class="phpcode"><code><span class="html">
Here is a list of differences between PHP 4 and PHP 5 that I have found<br>(specifically PHP 4.4.2 and PHP 5.2.3).<br><br><span class="default">&lt;?php<br><br>$ts_from_nothing </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">();<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$ts_from_nothing</span><span class="keyword">);<br></span><span class="comment">// PHP 5 <br>//&nbsp; &nbsp; bool(false)<br>//&nbsp; &nbsp; WARNING: Wrong parameter count...<br>// PHP 4<br>//&nbsp; &nbsp; NULL <br>//&nbsp; &nbsp; WARNING: Wrong parameter count...<br><br>// remember that unassigned variables evaluate to NULL<br></span><span class="default">$ts_from_null </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$null</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$ts_from_null</span><span class="keyword">)...<br></span><span class="comment">// PHP 5<br>//&nbsp; &nbsp; bool(false)<br>//&nbsp; &nbsp; throws a NOTICE: Undefined variable<br>// PHP 4<br>//&nbsp; &nbsp; current time<br>//&nbsp; &nbsp; NOTICE: Undefined variable $null...<br>//&nbsp; &nbsp; NOTICE: Called with empty time parameter... <br><br></span><span class="default">$ts_from_empty </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$ts_from_empty</span><span class="keyword">);<br></span><span class="comment">// PHP 5<br>//&nbsp; &nbsp; bool(false)<br>// PHP 4<br>//&nbsp; &nbsp; current time<br>//&nbsp; &nbsp; NOTICE: Called with empty time parameter<br><br></span><span class="default">$ts_from_bogus </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"not a date"</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$ts_from_bogus</span><span class="keyword">);<br></span><span class="comment">// PHP 5<br>//&nbsp; &nbsp; bool(false)<br>// PHP 4<br>//&nbsp; &nbsp; -1<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107354">  
  <a class="name">
  <strong class="user"><em>giacomo at cinquepunti dot it</em></strong></a><div class="date" title="2012-02-02 04:09"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107354">
<div class="phpcode"><code><span class="html">
this function allow the use of native strtotime with dates before 1970 (and before 1900) even in Windows
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">safe_strtotime</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if(!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/\\d{4}/"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$match</span><span class="keyword">)) return </span><span class="default">null</span><span class="keyword">; </span><span class="comment">//year must be in YYYY form
<br>&nbsp; &nbsp; </span><span class="default">$year </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);</span><span class="comment">//converting the year to integer
<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$year </span><span class="keyword">&gt;= </span><span class="default">1970</span><span class="keyword">) return </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">));</span><span class="comment">//the year is after 1970 - no problems even for Windows
<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">PHP_OS</span><span class="keyword">, </span><span class="string">"WIN"</span><span class="keyword">) &amp;&amp; !</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">PHP_OS</span><span class="keyword">, </span><span class="string">"DARWIN"</span><span class="keyword">)) </span><span class="comment">//OS seems to be Windows, not Unix nor Mac
<br>&nbsp; &nbsp; </span><span class="keyword">{
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$diff </span><span class="keyword">= </span><span class="default">1975 </span><span class="keyword">- </span><span class="default">$year</span><span class="keyword">;</span><span class="comment">//calculating the difference between 1975 and the year
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_year </span><span class="keyword">= </span><span class="default">$year </span><span class="keyword">+ </span><span class="default">$diff</span><span class="keyword">;</span><span class="comment">//year + diff = new_year will be for sure &gt; 1970
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_date </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">, </span><span class="default">$new_year</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">)));</span><span class="comment">//replacing the year with the new_year, try strtotime, rendering the date
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$new_year</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">, </span><span class="default">$new_date</span><span class="keyword">);</span><span class="comment">//returning the date with the correct year
<br>&nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; return </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">));</span><span class="comment">//do normal strtotime
<br></span><span class="keyword">}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83743">  
  <a class="name">
  <strong class="user"><em>richard at happymango dot me dot uk</em></strong></a><div class="date" title="2008-06-10 03:41"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83743">
<div class="phpcode"><code><span class="html">
If you want to round a timestamp to the closest specified increment, for example to the closest 15 minutes, then this function could help
<br>
<br>Definition:
<br>int roundTime ( string $increment[, int $timestamp] )
<br>
<br>Parameters:
<br>$increment is a string like you would for strtotime (but dont add a + or - to the front)
<br>$timestamp (optional) the timestamp used to calculate the returned value.
<br>
<br>Return Value:
<br>returns timestamp
<br>
<br>this function only works for increments less than or equal to an hour
<br>
<br>Its not pretty but it works.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">function </span><span class="default">roundTime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if(!</span><span class="default">$timestamp</span><span class="keyword">) </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$increment </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$this_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$next_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$increments </span><span class="keyword">= array();
<br>&nbsp; &nbsp; </span><span class="default">$differences </span><span class="keyword">= array();
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$this_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$next_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$increment</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$increments </span><span class="keyword">[]= </span><span class="default">$i</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$differences </span><span class="keyword">[]= (</span><span class="default">$timestamp </span><span class="keyword">&gt; </span><span class="default">$i</span><span class="keyword">)? </span><span class="default">$timestamp </span><span class="keyword">- </span><span class="default">$i </span><span class="keyword">: </span><span class="default">$i </span><span class="keyword">- </span><span class="default">$timestamp</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$differences</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$differences</span><span class="keyword">));
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$increments</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br>}
<br>
<br></span><span class="comment">////////////
<br>//EXAMPLE //
<br>////////////
<br>
<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">roundtime</span><span class="keyword">(</span><span class="string">"15 minutes"</span><span class="keyword">);
<br>
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"H:i"</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">" rounded to closest </span><span class="default">$increment</span><span class="string"> is "</span><span class="keyword">.</span><span class="default">date</span><span class="keyword">(</span><span class="string">"H:i"</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">);
<br>
<br></span><span class="comment">//11:24 rounded to closest 15 minutes is 11:30
<br></span><span class="default">?&gt;
<br></span>
<br>Here are two other functions. ceilTime() and floorTime() which round up or down to the specified increment respectively.
<br>&nbsp; 
<br><span class="default">&lt;?php 
<br></span><span class="comment">//RSS: 10/06/08 rounds a timestamp to the next specified increment 
<br>//only works for increments less than or equal to 1 hour 
<br>//EG: ceilTime("15 Minutes"); rounds the time right now to the next 15 minutes 11:12 rounds to 11:15 
<br></span><span class="keyword">function </span><span class="default">ceilTime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) 
<br>{ 
<br>&nbsp; &nbsp; if(!</span><span class="default">$timestamp</span><span class="keyword">) </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); 
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$increment </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; 
<br>&nbsp; &nbsp; </span><span class="default">$this_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">); 
<br>&nbsp; &nbsp; </span><span class="default">$next_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">); 
<br>
<br>&nbsp; &nbsp; </span><span class="default">$increments </span><span class="keyword">= array(); 
<br>&nbsp; &nbsp; </span><span class="default">$differences </span><span class="keyword">= array(); 
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$this_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$next_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">$increment</span><span class="keyword">) 
<br>&nbsp; &nbsp; { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">$timestamp</span><span class="keyword">) return </span><span class="default">$i</span><span class="keyword">; 
<br>&nbsp; &nbsp; } 
<br>} 
<br>
<br></span><span class="comment">//RSS: 10/06/08 rounds a timestamp to the last specified increment 
<br>//only works for increments less than or equal to 1 hour 
<br>//EG: floorTime("15 Minutes"); rounds the time right now to the last 15 minutes 11:12 rounds to 11:00 
<br></span><span class="keyword">function </span><span class="default">floorTime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) 
<br>{ 
<br>&nbsp; &nbsp; if(!</span><span class="default">$timestamp</span><span class="keyword">) </span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); 
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$increment </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$increment</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">; 
<br>&nbsp; &nbsp; </span><span class="default">$this_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">); 
<br>&nbsp; &nbsp; </span><span class="default">$next_hour </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d H:"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"+1 Hour"</span><span class="keyword">, </span><span class="default">$timestamp</span><span class="keyword">)).</span><span class="string">"00:00"</span><span class="keyword">); 
<br>
<br>&nbsp; &nbsp; </span><span class="default">$increments </span><span class="keyword">= array(); 
<br>&nbsp; &nbsp; </span><span class="default">$differences </span><span class="keyword">= array(); 
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$next_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">$this_hour</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">-= </span><span class="default">$increment</span><span class="keyword">) 
<br>&nbsp; &nbsp; { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$timestamp</span><span class="keyword">) return </span><span class="default">$i</span><span class="keyword">; 
<br>&nbsp; &nbsp; } 
<br>} 
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101702">  
  <a class="name">
  <strong class="user"><em>nyctimus at yahoo dot com</em></strong></a><div class="date" title="2011-01-05 05:54"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101702">
<div class="phpcode"><code><span class="html">
strtotime() produces different output on 32 and 64 bit systems running PHP 5.3.3 (as mentioned previously).&nbsp; This affects the "zero date" ("0000-00-00 00:00:00") as well as dates outside the traditional 32 date range.<br><br>strtotime("0000-00-00 00:00:00") returns FALSE on a 32 bit system.<br>strtotime("0000-00-00 00:00:00") returns -62169955200 on a 64 bit system.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114462">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2014-02-23 03:13"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom114462">
<div class="phpcode"><code><span class="html">
Be aware that you cannot rely on this function alone to validate a date, as it will accept insane dates like the 31st of February.<br><br>Also, the '... week' functionality by itself may not do what you expect. If used on a Sunday, 'next week' will not return a timestamp of the next Monday, but of the Monday after that. Similarly, a timestamp for the Monday of the current week is returned when 'previous/last week' is used and 'this week' returns a stamp of the Monday of the next week (i.e. the following day). This is not the 'week starts on Sunday' effect, as that would mean all the timestamps returned would have to be on a Sunday and none of them are.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113788">  
  <a class="name">
  <strong class="user"><em>Christian L.</em></strong></a><div class="date" title="2013-12-01 08:45"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113788">
<div class="phpcode"><code><span class="html">
To get the start of the current week this code works fine when the week starts on Sundays.<br><br><span class="default">&lt;?php strtotime</span><span class="keyword">(</span><span class="string">'this Monday'</span><span class="keyword">); </span><span class="default">?&gt;<br></span><br>To get the timestamp of the start of a week starting on Mondays (as defined by ISO 8601) this shoud do the trick.<br><br><span class="default">&lt;?php strtotime</span><span class="keyword">(</span><span class="string">'next Monday -1 week'</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115631">  
  <a class="name">
  <strong class="user"><em>alekas at elykinnovation dot com</em></strong></a><div class="date" title="2014-08-28 02:22"><strong>1 hour ago</strong></div>
  <div class="text" id="Hcom115631">
<div class="phpcode"><code><span class="html">
As this page documents: strtotime will "Parse about any English textual datetime description into a Unix timestamp," even ones that aren't immediately clear to the developer.<br><br>strtotime('west'); and strtotime('east'); return valid Unix timestamps even though it doesn't make sense semantically.<br><br>strtotime('west'); will return the time in the timezone to the west of your current timezone.<br>strtotime('east'); will return the time in the timezone to the east of your current timezone.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114629">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2014-03-14 07:21"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114629">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment"># strtotime() function with param "now" work only with UTC <br># time zone (GMT) Grinvich, but param "midnight" work with <br># local time zone<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"Europe/Kiev"</span><span class="keyword">);<br>echo </span><span class="string">"Kiev:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">; <br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"America/New_York"</span><span class="keyword">); <br>echo </span><span class="string">"New-York:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"UTC"</span><span class="keyword">); <br>echo </span><span class="string">"UTC:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;==========================&lt;br&gt;"</span><span class="keyword">;<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"Europe/Kiev"</span><span class="keyword">);<br>echo </span><span class="string">"Kiev:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"America/New_York"</span><span class="keyword">); <br>echo </span><span class="string">"New-York:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"UTC"</span><span class="keyword">); <br>echo </span><span class="string">"UTC:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>result:<br>Kiev:1394781415<br><br>New-York:1394781415<br><br>UTC:1394781415<br>==========================<br>Kiev:1394748000<br><br>New-York:1394769600<br><br>UTC:1394755200</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114545">  
  <a class="name">
  <strong class="user"><em>peixoto at live dot com</em></strong></a><div class="date" title="2014-03-05 12:23"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114545">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php strtotime</span><span class="keyword">(</span><span class="string">'-5 weeks monday'</span><span class="keyword">) </span><span class="default">?&gt;</span> returns the monday of 5 weeks ago.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114630">  
  <a class="name">
  <strong class="user"><em>a dot dyudyun at gmail dot com</em></strong></a><div class="date" title="2014-03-14 07:21"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114630">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment"># strtotime() function with param "now" work only with UTC <br># time zone (GMT) Grinvich, but param "midnight" work with <br># local time zone<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"Europe/Kiev"</span><span class="keyword">);<br>echo </span><span class="string">"Kiev:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">; <br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"America/New_York"</span><span class="keyword">); <br>echo </span><span class="string">"New-York:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"UTC"</span><span class="keyword">); <br>echo </span><span class="string">"UTC:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"now"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;==========================&lt;br&gt;"</span><span class="keyword">;<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"Europe/Kiev"</span><span class="keyword">);<br>echo </span><span class="string">"Kiev:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"America/New_York"</span><span class="keyword">); <br>echo </span><span class="string">"New-York:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"UTC"</span><span class="keyword">); <br>echo </span><span class="string">"UTC:"</span><span class="keyword">.</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"midnight"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br&gt;&lt;br&gt;"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>result:<br>Kiev:1394781415<br><br>New-York:1394781415<br><br>UTC:1394781415<br>==========================<br>Kiev:1394748000<br><br>New-York:1394769600<br><br>UTC:1394755200</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107839">  
  <a class="name">
  <strong class="user"><em>darylblake at gmail dot com</em></strong></a><div class="date" title="2012-03-08 10:13"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107839">
<div class="phpcode"><code><span class="html">
I was doing work with cisco phone systems, and thy record their times as NTP Format.<br><br>strtotime() doesnt process the whole NTP timestamp, off the bat, so if you want a quick function to work I bashed this together pretty quickly, there are probably more efficent ways of processing this, but it gets the job done. Enjoy.<br><br>[code]<br><span class="default">&lt;?php<br><br></span><span class="comment">//Note: I ran this in PHP 5.3.x<br></span><span class="keyword">function </span><span class="default">NTPtoUnixtime</span><span class="keyword">(</span><span class="default">$ntptime</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$explodedNTPtime </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$ntptime</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$startOfDay </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Today"</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$timeThroughDay </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$explodedNTPtime</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) - </span><span class="default">$startOfDay </span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$explodedNTPtime</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])+</span><span class="default">$timeThroughDay</span><span class="keyword">;<br>}<br><br></span><span class="default">$ntpTime </span><span class="keyword">= </span><span class="string">"09:49:22.897 NZDT Mon Feb 20 2012"</span><span class="keyword">; </span><span class="comment">//NTP time to convert.<br><br></span><span class="keyword">echo </span><span class="default">NTPtoUnixtime</span><span class="keyword">(</span><span class="default">$ntpTime</span><span class="keyword">);<br><br></span><span class="comment">//produces: 1329684562<br>// Which equates to: Mon 20 Feb 2012 09:49:22 NZDT GMT+13<br></span><span class="default">?&gt;<br></span><br>[/code]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105603">  
  <a class="name">
  <strong class="user"><em>hushuilong at gmail dot com</em></strong></a><div class="date" title="2011-08-31 02:37"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom105603">
<div class="phpcode"><code><span class="html">
There is a bug when around a month change.<br>The bug url: https://bugs.php.net/bug.php?id=27793<br><br>To work around this ,check the method below :<br><br>Pass the timestamp of the first second on the first day in current month to strtotime the second parameter.<br><br><span class="default">&lt;?php<br>date_default_timezone_set</span><span class="keyword">(</span><span class="string">'Asia/Shanghai'</span><span class="keyword">);<br><br></span><span class="default">$first_day_of_month </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m'</span><span class="keyword">,</span><span class="default">time</span><span class="keyword">()) . </span><span class="string">'-01 00:00:01'</span><span class="keyword">;<br></span><span class="default">$t </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$first_day_of_month</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(array(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m'</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'- 1 month'</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">)),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'- 2 month'</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">)),<br>));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105053">  
  <a class="name">
  <strong class="user"><em>ei7024 at wayne dot edu</em></strong></a><div class="date" title="2011-07-25 06:57"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105053">
<div class="phpcode"><code><span class="html">
This is the solution to the problems with date below 1970. Below code help the date to show up in format such as MM/DD/YYYY. It can be tailored to fit any format.<br><br>This works if the database stores the dates in "DATE" format. <br><br><span class="default">&lt;?php<br><br>$query </span><span class="keyword">= </span><span class="string">"SELECT emp_fn,emp_ln, emp_dob FROM requests WHERE id=</span><span class="default">$id</span><span class="string">;"</span><span class="keyword">;<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">,</span><span class="default">$DBConn</span><span class="keyword">);<br></span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_array</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br><br></span><span class="comment">//TESTING BELOW 1970 Date of Birth<br><br></span><span class="default">$dobcheck </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">[</span><span class="string">'emp_dob'</span><span class="keyword">]);<br><br></span><span class="comment">//NOTE: echo $dobcheck on your system to see if you get negative values for date below 1970<br><br></span><span class="keyword">if (</span><span class="default">$dobcheck </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'emp_dob'</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Y </span><span class="keyword">= </span><span class="default">$date</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$M </span><span class="keyword">= </span><span class="default">$date</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$D </span><span class="keyword">= </span><span class="default">$date</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dobshow </span><span class="keyword">= </span><span class="default">$M</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$D</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$Y</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//echos mm/dd/YYYY format for dates below 1970.<br>&nbsp; &nbsp; </span><span class="keyword">} else {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dobshow </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"m/d/Y"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">[</span><span class="string">'emp_dob'</span><span class="keyword">]));&nbsp; &nbsp; <br>&nbsp; &nbsp; }<br><br></span><span class="comment">//ENDTESTING<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102491">  
  <a class="name">
  <strong class="user"><em>a dot fruchi at bit-runners dot com</em></strong></a><div class="date" title="2011-02-17 05:45"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102491">
<div class="phpcode"><code><span class="html">
If you want to confront a date stored into mysql as a date field (not a datetime) and a date specified by a literal string, be sure to add "midnight" to the literal string, otherwise they won't match:<br><br><span class="default">&lt;?php<br></span><span class="comment">//I.E.: today is 17/02/2011<br><br></span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2011-01-01'</span><span class="keyword">); </span><span class="comment">//1293836400<br></span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'first day of last month'</span><span class="keyword">); </span><span class="comment">//1293888128 Note: it's different from the previous one, since it computes also the seconds passed from midnight!!! So this one is always greater than simple '2011-01-01'<br></span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'midnight first day of last monty'</span><span class="keyword">);</span><span class="comment">//1293836400 Note: it's the same as '2011-01-01'<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93408">  
  <a class="name">
  <strong class="user"><em>chris at teamsiems dot com</em></strong></a><div class="date" title="2009-09-08 10:20"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93408">
<div class="phpcode"><code><span class="html">
It took me a while to notice that strtotime starts searching from just after midnight of the first day of the month. So, if the month starts on the day you search for, the first day of the search is actually the next occurrence of the day.
<br>
<br>In my case, when I look for first Tuesday of the current month, I need to include a check to see if the month starts on a Tuesday.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">"l"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">"</span><span class="keyword">))==</span><span class="string">'Tuesday'</span><span class="keyword">) {
<br>&nbsp; echo </span><span class="string">"&lt;p&gt;This month starts on a Tuesday. Use \"</span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">\" to check for first Tuesday.&lt;/p&gt;\n"</span><span class="keyword">;
<br>} else {
<br>&nbsp; echo </span><span class="string">"&lt;p&gt;This month does not start on a Tuesday. Use \"first tuesday </span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">\" to check for first Tuesday.&lt;/p&gt;\n"</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92725">  
  <a class="name">
  <strong class="user"><em>Travis Pulley</em></strong></a><div class="date" title="2009-08-06 12:11"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92725">
<div class="phpcode"><code><span class="html">
Be aware that if you are running 5.2.8, there is a memory leak with this function and it could cost someone valuable time finding out what the problem was. Per usual, running the latest (minor) version tends to be a good idea.<br><br>See here: <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=46889</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="89949">  
  <a class="name">
  <strong class="user"><em>Peter</em></strong></a><div class="date" title="2009-03-30 05:57"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89949">
<div class="phpcode"><code><span class="html">
If you look for function to convert date from RSS pubDate, always make sure to check correct input format, found that for date("r") or "D, d M o G:i:s T" strtotime may return wrong result.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89528">  
  <a class="name">
  <strong class="user"><em>CEO at CarPool2Camp dot org</em></strong></a><div class="date" title="2009-03-12 05:41"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89528">
<div class="phpcode"><code><span class="html">
Another way to get the last day of a given month is to use date('t');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96795">  
  <a class="name">
  <strong class="user"><em>Alex Austin</em></strong></a><div class="date" title="2010-03-16 08:18"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96795">
<div class="phpcode"><code><span class="html">
Seems in PHP5 there are new values that can be passed to the function:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">echo </span><span class="default">time</span><span class="keyword">();
<br>echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;
<br>echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'noon'</span><span class="keyword">);
<br>echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;
<br>echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'midnight'</span><span class="keyword">);
<br>echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;
<br>echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'10am'</span><span class="keyword">);
<br>echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;
<br>echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2pm'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96385">  
  <a class="name">
  <strong class="user"><em>karim at sweetcode dot co dot uk</em></strong></a><div class="date" title="2010-02-24 04:17"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96385">
<div class="phpcode"><code><span class="html">
A handy function I wrote to tell you whether a given date (unix timestamp) is a working day in the UK. i.e. not a bank holiday or weekend day. Returns true or false.
<br>
<br><span class="default">&lt;?php&nbsp; 
<br></span><span class="keyword">function </span><span class="default">isUkWorkingDay</span><span class="keyword">( </span><span class="default">$utDate </span><span class="keyword">)
<br>&nbsp; {
<br>&nbsp; &nbsp; </span><span class="comment">/* weekend? */
<br>&nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">date</span><span class="keyword">( </span><span class="string">'N'</span><span class="keyword">, </span><span class="default">$utDate </span><span class="keyword">) &gt; </span><span class="default">5 </span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">/* bank holiday? */
<br>&nbsp; &nbsp; </span><span class="default">$year </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y'</span><span class="keyword">, </span><span class="default">$utDate </span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$utFirstJan </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'1st jan ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$firstJanDay </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">( </span><span class="string">'N'</span><span class="keyword">,&nbsp; </span><span class="default">$utFirstJan </span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; if ( </span><span class="default">$firstJanDay </span><span class="keyword">&gt; </span><span class="default">5 </span><span class="keyword">){ </span><span class="comment">// sat or sun
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'first monday january ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else{
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">,&nbsp; </span><span class="default">$utFirstJan</span><span class="keyword">) ;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="default">$utEasterSunday </span><span class="keyword">= </span><span class="default">easter_date</span><span class="keyword">( </span><span class="default">$year </span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'last friday'</span><span class="keyword">, </span><span class="default">$utEasterSunday </span><span class="keyword">));
<br>&nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'next monday'</span><span class="keyword">, </span><span class="default">$utEasterSunday </span><span class="keyword">));
<br>&nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'first monday may ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">));
<br>&nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'last monday june ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">)); </span><span class="comment">// end of may B.H.
<br>&nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'last monday september ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">));&nbsp; </span><span class="comment">// end of August B.H.
<br>
<br>&nbsp; &nbsp; </span><span class="default">$xmasDay </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">( </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'25th december ' </span><span class="keyword">. </span><span class="default">$year </span><span class="keyword">) );
<br>&nbsp; &nbsp; if ( </span><span class="default">date</span><span class="keyword">( </span><span class="string">'N'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">) == </span><span class="default">5 </span><span class="keyword">){ </span><span class="comment">// falls on friday
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'next monday'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; if ( </span><span class="default">date</span><span class="keyword">( </span><span class="string">'N'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">) &gt; </span><span class="default">5 </span><span class="keyword">){ </span><span class="comment">// falls on sat or sun
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'next monday'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'next tuesday'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; if ( </span><span class="default">date</span><span class="keyword">( </span><span class="string">'N'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">) &lt; </span><span class="default">5 </span><span class="keyword">){ </span><span class="comment">// falls on mon to thurs
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$holidays</span><span class="keyword">[] = </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">'next day'</span><span class="keyword">, </span><span class="default">$xmasDay </span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; return( !</span><span class="default">in_array</span><span class="keyword">( </span><span class="default">date</span><span class="keyword">( </span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$utDate </span><span class="keyword">), </span><span class="default">$holidays </span><span class="keyword">) ) ;
<br>&nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78167">  
  <a class="name">
  <strong class="user"><em>Beat</em></strong></a><div class="date" title="2007-10-01 01:36"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78167">
<div class="phpcode"><code><span class="html">
Some surprisingly wrong results (php 5.2.0): date and time seem not coherent:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Date: Default timezone&nbsp; &nbsp;&nbsp; Europe/Berlin&nbsp;&nbsp; (which is CET)
<br>// date.timezone&nbsp; &nbsp; no value
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 23:59:59"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 23:59:59 WRONG
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 23:59:59 CET"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 23:59:59 WRONG
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 23:59:59 GMT"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 00:59:59 CORRECT
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 22:59:59 GMT"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 23:59:59 WRONG AGAIN
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 00:00:00 GMT"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 01:00:00 CORRECT
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 00:00:00 CET"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 00:00:00 WRONG AGAIN
<br>
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 00:00:01"</span><span class="keyword">);
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"-3 months"</span><span class="keyword">, </span><span class="default">$basedate</span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 1 Oct 2007 00:00:01 WRONG AGAIN
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Here the workaround using mktime() properties on dates instead of strtotime(), and which seems to give correct results:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// check for equivalency
<br></span><span class="default">$basedate </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"31 Dec 2007 23:59:59"</span><span class="keyword">);
<br></span><span class="default">$timedate </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">( </span><span class="default">23</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2008 </span><span class="keyword">);
<br>echo </span><span class="string">"</span><span class="default">$basedate</span><span class="string"> </span><span class="default">$timedate</span><span class="string"> "</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// 1199141999 1199141999 : SO THEY ARE EQUIVALENT
<br>
<br>// workaround, as mktime knows to handle properly offseted dates:
<br></span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">( </span><span class="default">23</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">, </span><span class="default">59</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">- </span><span class="default">3</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2008 </span><span class="keyword">);
<br>echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"j M Y H:i:s"</span><span class="keyword">, </span><span class="default">$date1</span><span class="keyword">);&nbsp; </span><span class="comment">// 30 Sep 2007 23:59:59 CORRECT
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70173">  
  <a class="name">
  <strong class="user"><em>sgutauckis</em></strong></a><div class="date" title="2006-10-05 12:02"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70173">
<div class="phpcode"><code><span class="html">
The following might produce something different than you might expect:
<br><span class="default">&lt;?php 
<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'l, F jS Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"third wednesday"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2006-11-01"</span><span class="keyword">))) . </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br>&nbsp; &nbsp; echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'l, F jS Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"third sunday"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"2006-01-01"</span><span class="keyword">)));
<br></span><span class="default">?&gt;
<br></span>Produces:
<br>Wednesday, November 22nd 2006
<br>Sunday, January 22nd 2006
<br>
<br>The problem stems from strtotime when the requested day falls on the date passed to strtotime. If you look at your calendar you will see that they should return:
<br>
<br>Wednesday, November 15th 2006
<br>Sunday, January 15th 2006
<br>
<br>Because the date falls on the day requested it skips that day.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106043">  
  <a class="name">
  <strong class="user"><em>besluitloos at gmail dot com</em></strong></a><div class="date" title="2011-10-05 08:28"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106043">
<div class="phpcode"><code><span class="html">
I just found out PHP thinks slashes in date-formats aren't very european:<br>(I guess this is not a bug, just the way it works. But correct me if I'm wrong.)<br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; $date </span><span class="keyword">= </span><span class="string">"06/10/2011 14:28"</span><span class="keyword">; </span><span class="comment">// 6 october 2011 2:28 pm<br>&nbsp; &nbsp; </span><span class="default">$otherDate </span><span class="keyword">= </span><span class="string">"06-10-2011 14:28"</span><span class="keyword">; </span><span class="comment">// 6 october 2011 2:28 pm<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">$stamp </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// outputs 1307708880<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">$otherStamp </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$otherDate</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// outputs 1317904080<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d-m"</span><span class="keyword">, </span><span class="default">$stamp</span><span class="keyword">); </span><span class="comment">// outputs 10-06<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d-m"</span><span class="keyword">, </span><span class="default">$otherStamp</span><span class="keyword">); </span><span class="comment">// outputs 06-10<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114051">  
  <a class="name">
  <strong class="user"><em>brokndodge at yahoo dot com</em></strong></a><div class="date" title="2014-01-06 09:50"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114051">
<div class="phpcode"><code><span class="html">
If you want to add or subtract a strtotime to/from a strtotime:<br><span class="default">&lt;?php<br>$d </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 day'</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"first day of last month"</span><span class="keyword">))<br>echo </span><span class="default">$d<br>?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52161">  
  <a class="name">
  <strong class="user"><em>miamiseb at nospam_gmail dot com</em></strong></a><div class="date" title="2005-04-22 09:59"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52161">
<div class="phpcode"><code><span class="html">
If you strtotime the epoch (Jan 1 1970 00:00:00) you will usually get a value, rather than the expected 0. So for example, if you were to try to use the epoch to calculate the difference in times (strtotime(Jan 1 1970 21:00:00)-strtotime(Jan 1 1970 20:00:00) for example) You get a value that depends strongly upon your timezone. If you are in EST for example, the epoch is actually shifted -5 to YOUR epoch is Jan 1 1970 19:00:00) In order to get the offset, simply use the following call to report the number of seconds you are away from the unix epoch. $offset=strtotime("1970-01-01 00:00:00"); Additionally, you can append GMT at the end of your strtotime calls so save yourself the trouble of converting relative to timezone.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113508">  
  <a class="name">
  <strong class="user"><em>les dot mc dot pls at gmail dot com</em></strong></a><div class="date" title="2013-10-22 03:00"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113508">
<div class="phpcode"><code><span class="html">
@lazzich<br>just wanted to say that by coincidence i commented out the: <br><br>//$date(2011/07/15);<br>//$time(15:00:00);<br> <br>and the result was 16,000 days ago...<br><br>Happy 16,000 day anniversary of <br>01/01/1970 everyone!!!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96247">  
  <a class="name">
  <strong class="user"><em>octavio</em></strong></a><div class="date" title="2010-02-17 02:47"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96247">
<div class="phpcode"><code><span class="html">
This function calculates if date2 is within an interval of seconds from date1.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">is_on_interval</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">,</span><span class="default">$date2</span><span class="keyword">,</span><span class="default">$interval</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$dat2</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date2</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$dat3</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+'</span><span class="keyword">.</span><span class="default">$interval</span><span class="keyword">.</span><span class="string">' second '</span><span class="keyword">.</span><span class="default">$date1</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; if(</span><span class="default">$dat2</span><span class="keyword">&gt;=</span><span class="default">$dat3</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$date1</span><span class="keyword">=</span><span class="string">'2009-08-18 00:02:00'</span><span class="keyword">;
<br></span><span class="default">$date2</span><span class="keyword">=</span><span class="string">'2009-08-18 00:05:00'</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>$date2 is 180 seconds from $date1.
<br>
<br><span class="default">&lt;?php is_on_interval</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">,</span><span class="default">$date2</span><span class="keyword">,</span><span class="string">'120'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>will return false.
<br>
<br><span class="default">&lt;?php is_on_interval</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">,</span><span class="default">$date2</span><span class="keyword">,</span><span class="string">'180'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>will return true.
<br>
<br><span class="default">&lt;?php is_on_interval</span><span class="keyword">(</span><span class="default">$date1</span><span class="keyword">,</span><span class="default">$date2</span><span class="keyword">,</span><span class="string">'220'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>will return true.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94423">  
  <a class="name">
  <strong class="user"><em>Leon F.</em></strong></a><div class="date" title="2009-11-03 06:58"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94423">
<div class="phpcode"><code><span class="html">
I needed to generate timestamps for specific days of the week in a month (e.g. the 2nd wednesday or the 3rd friday).&nbsp; After messing about with different syntax, I found this works pretty consistently:
<br>
<br><span class="default">&lt;?php
<br>strtotime</span><span class="keyword">(</span><span class="string">'+0 week sun nov 2009'</span><span class="keyword">); </span><span class="comment">// first sunday in nov 2009
<br></span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+1 week sun nov 2009'</span><span class="keyword">); </span><span class="comment">// second sunday
<br></span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 week sun nov 2009'</span><span class="keyword">); </span><span class="comment">// last sunday in oct 2009
<br></span><span class="default">?&gt;
<br></span>
<br>This is helping me considerably in parsing ical spec's RRULE sets for example.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60579">  
  <a class="name">
  <strong class="user"><em>shaver at qspeed dot com</em></strong></a><div class="date" title="2006-01-11 08:13"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60579">
<div class="phpcode"><code><span class="html">
I'm posting these here as I believe these to be design changes, not bugs. 
<br>
<br>For those upgrading from PHP 4 to PHP 5 there are a number of things that are different about strtotime that I have NOT seen documented elsewhere, or at least not as clearly. I confirmed these with two separate fresh installations of PHP 4.4.1 and PHP 5.1.1. 
<br>
<br>1) Given that today is Tuesday: PHP4 "next tuesday" will return today. PHP5 "next tuesday" will actually return next tuesday as in "today +1week". Note that behavior has NOT changed for "last" and "this". For the string "last tuesday" both PHP4 and PHP5 would return "today -1week".&nbsp; For the string "this tuesday" both PHP4 and PHP5 would return "today". 
<br>
<br>2) You cannot include a space immediately following a + or - in PHP 5. In PHP4 the string "today + 1 week" works great. in PHP5 the string must be "today +1 week" to correctly parse. 
<br>
<br>3) (Partially noted in changelog.) If you pass php4 a string that is a mess ("asdf1234") it will return -1. If you in turn pass this to date() you'll get a warning like: Windows does not support dates prior to midnight. This is pretty useful for catching errors in your scripts. In PHP 5 strtotime will return FALSE which causes date() to return 12/31/69. Note that this is true of strings that might appear right such as "two weeks". 
<br>
<br>4) (Partially noted in changelog.) If you pass php4 an empty string it will error out with a "Notice: strtotime(): Called with empty time parameter". PHP5 will give no notice and return the current date stamp. (A much preferred behavior IMO.) 
<br>
<br>5) Some uppercase and mixed-case strings no longer parse correctly. In php4 "Yesterday" would parse correctly. In php5 "Yesterday" will return the infamous 1969 date. This is also true of Tomorrow and Today. [Red. This has been fixed in PHP already]
<br>
<br>6. The keyword "previous" is supported in PHP5. (Finally!) 
<br>
<br>Good luck with your upgrades. :)
<br> -Will</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97025">  
  <a class="name">
  <strong class="user"><em>clarkDONTSPAMMEwise at gmail dot com</em></strong></a><div class="date" title="2010-03-28 09:31"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97025">
<div class="phpcode"><code><span class="html">
Always use the format strtotime("+1 day") when adding/subtracting units of time rather than manually adding 24*60*60 seconds to a timestamp, for example, as this format works as desired with Daylight Saving Time changes. If your timezone adheres to Daylight Saving Time, a situation like the following may apply to you:<br><br><span class="default">&lt;?php<br>date_default_timezone_set</span><span class="keyword">(</span><span class="string">'America/Chicago'</span><span class="keyword">);<br><br></span><span class="comment">// Don't do this:<br></span><span class="default">$today </span><span class="keyword">= </span><span class="string">'2009-11-01'</span><span class="keyword">;<br></span><span class="default">$tomorrow </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$today</span><span class="keyword">) + </span><span class="default">24</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">;<br>print </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$tomorrow</span><span class="keyword">);<br></span><span class="comment">// Output: 2009-11-01<br><br>// Do this instead:<br></span><span class="default">$today </span><span class="keyword">= </span><span class="string">'2009-11-01'</span><span class="keyword">;<br></span><span class="default">$tomorrow </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'+1 day'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$today</span><span class="keyword">));<br>print </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">$tomorrow</span><span class="keyword">);<br></span><span class="comment">// Output: 2009-11-02</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.strtotime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:53 GMT -->


</body></html>