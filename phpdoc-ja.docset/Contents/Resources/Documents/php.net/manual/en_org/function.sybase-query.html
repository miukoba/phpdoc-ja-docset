<html><!-- Mirrored from php.net/manual/en/function.sybase-query.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:57:51 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>sybase_query</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.sybase-query.html">
 <link rel="shorturl" href="http://php.net/sybase-query">
 <link rel="alternate" href="http://php.net/sybase-query" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.sybase.html">
 <link rel="prev" href="function.sybase-pconnect.html">
 <link rel="next" href="function.sybase-result.html">

 <link rel="alternate" href="function.sybase-query.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.sybase-query.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.sybase-query.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.sybase-query.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.sybase-query.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.sybase-query.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.sybase-query.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.sybase-query.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.sybase-query.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.sybase-query.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.sybase-query.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="book.sybase.html">Sybase</a></li>      <li><a href="ref.sybase.html">Sybase Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.sybase-query" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sybase_query</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">sybase_query</span> â€” <span class="dc-title">Sends a Sybase query</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.sybase-query-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>sybase_query</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$query</code></span>
   [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$link_identifier</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>sybase_query()</strong></span> sends a query to the currently
   active database on the server that's associated with the specified
   link identifier.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sybase-query-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">query</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">link_identifier</code></dt>

     <dd>

      <p class="para">
       If the link identifier isn't specified, the last opened link is
       assumed. If no link is open, the function tries to establish a link as
       if <span class="function"><a href="function.sybase-connect.html" class="function">sybase_connect()</a></span> was called, and use it.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sybase-query-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a positive Sybase result identifier on success, <strong><code>FALSE</code></strong> on error,
   or <strong><code>TRUE</code></strong> if the query was successful but didn't return any columns.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sybase-query-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sybase-select-db.html" class="function" rel="rdfs-seeAlso">sybase_select_db()</a> - Selects a Sybase database</span></li>
    <li class="member"><span class="function"><a href="function.sybase-connect.html" class="function" rel="rdfs-seeAlso">sybase_connect()</a> - Opens a Sybase server connection</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="1227">  
  <a class="name">
  <strong class="user"><em>verdy_p at wanadoo dot fr</em></strong></a><div class="date" title="1999-07-24 03:00"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom1227">
<div class="phpcode"><code><span class="html">
This function can be used to call stored procedures, or to process multiple queries in the same call in the same "batch". However there's a limit on the kind of stored procedures you can call, because Sybase allows a stored procedure or "batch" to return multiple result sets, and because the surrent implementation of sybase support in PHP3 has no provision to process each result set, one after one. If your stored procedure or batch has multiple result sets returned, you will only be able to retrieved the first result set in you PHP3 script. Note that other result sets won't be processed by the SQL server until you close the current result set. So this may suspend the execution of a stored procedure or batch on the SQL Server. Note also that if a stored procedure or batch uses "print" or "raiserror" SQL statements, you won't be able to collect the returned messages in the result set, because these statements do not generate a result set but instead return asynchronous server messages which currently have no support in the sybase PHP3 set of functions.
<br>It would be a good idea for someone to add the support for queries that return multiple result sets and server messages, so that any kind of Sybase SQL queries can be used in PHP3 scripts.
<br>This would require adding a function to go to the next results set, and a function to retrieve server messages generated before, between, and after each result sets. Note also that server messages could be sent within a result set, this won't be from "print" or "raiserror" SQL statements but internal server errors while processing a result set returned by a SELECT statement, or messages generated by triggers. There could also exist asynchronous client messages while processing any kind of return (result set or server messages), and there's for now no function to return them. Such client messages mainly signal connection status and data conversion errors.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46958">  
  <a class="name">
  <strong class="user"><em>matt dot sawyer at gmail dot com</em></strong></a><div class="date" title="2004-10-28 09:21"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46958">
<div class="phpcode"><code><span class="html">
I am using PHP 4.1.1 to connect to an older version of Sybase that doesn't work with CT.&nbsp; I found that while attempting to execute an erroneous query, sybase_query() never returns false for non-select query statements.&nbsp; This was reported as a bug but then dismissed because the problem is that Sybase itself does not indicate any error to PHP.&nbsp; <br><br>However I appear to have found a workaround: after each query statement, call sybase_get_last_message().&nbsp; If that function returns you anything, it will be an error message.&nbsp; Then you know your non-select query has truly failed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24619">  
  <a class="name">
  <strong class="user"><em>cnbluesea at hotmail dot com</em></strong></a><div class="date" title="2002-08-22 11:54"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24619">
<div class="phpcode"><code><span class="html">
To use this function to execute stored procedures by parameters like this:<br>sybase_query("exec p_name '$para1','$para2'",$conn)<br>$para1 and $para2 are strings.<br>it works well.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="10871">  
  <a class="name">
  <strong class="user"><em>dezi at digicol dot de</em></strong></a><div class="date" title="2001-01-24 12:26"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom10871">
<div class="phpcode"><code><span class="html">
sybase_query stores the whole result set in memory before returning. This function is unusable for real large result sets, ie. dumping a large table from sybase to php.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="3887">  
  <a class="name">
  <strong class="user"><em>ilya at vtrails dot com</em></strong></a><div class="date" title="2000-02-21 06:42"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom3887">
<div class="phpcode"><code><span class="html">
This is true for stored procedures' execution results, too. If you have a result set and a status returned, you will only be able to access the result set. Argh.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23091">  
  <a class="name">
  <strong class="user"><em>dabratt at ifrance dot com</em></strong></a><div class="date" title="2002-07-09 06:00"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23091">
<div class="phpcode"><code><span class="html">
Strange problem... I'm accessing a SQL SERVER 2000 database through freetds with php v4.0.1pl2 on linux.<br>Thoses instructions work fine :<br><br>// Just a test<br>sybase_query("SELECT MES_ID FROM T_MESSAGE", $dbproc);<br><br>// data i want to retrieve, stored procedure<br>$resConfig = sybase_query("exec P_SLC_EMAILCONFIG", $dbproc);<br>$arrConfig = sybase_fetch_array($resConfig);<br><br>But, when i replace the SELECT statement by an UPDATE statement, i.e:<br><br>// Here's the update<br>sybase_query("UPDATE T_MESSAGE SET MES_STATE = 0", $dbproc);<br><br>// data i want to retrieve, stored procedure<br>$resConfig = sybase_query("exec P_SLC_EMAILCONFIG", $dbproc);<br>$arrConfig = sybase_fetch_array($resConfig);<br><br>Then i've got an error : "Supplied argument is not a valide Sybase result resource.." on the line containing the sybase_fetch_array command.<br>I don't understand why... I have to close and reopen the connection if i want those lines to work!!!</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.sybase-query.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:57:52 GMT -->


</body></html>