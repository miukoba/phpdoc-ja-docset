<html><!-- Mirrored from php.net/manual/en/function.get-meta-tags.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:38:55 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>get_meta_tags</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.get-meta-tags.html">
 <link rel="shorturl" href="http://php.net/get-meta-tags">
 <link rel="alternate" href="http://php.net/get-meta-tags" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.url.html">
 <link rel="prev" href="function.get-headers.html">
 <link rel="next" href="function.http-build-query.html">

 <link rel="alternate" href="function.get-meta-tags.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.get-meta-tags.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.get-meta-tags.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.get-meta-tags.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.get-meta-tags.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.get-meta-tags.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.get-meta-tags.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.get-meta-tags.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.get-meta-tags.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.get-meta-tags.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.get-meta-tags.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.other.html">Other Basic Extensions</a></li>      <li><a href="book.url.html">URLs</a></li>      <li><a href="ref.url.html">URL Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.get-meta-tags" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_meta_tags</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">get_meta_tags</span> â€” <span class="dc-title">Extracts all meta tag content attributes from a file and returns an array</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.get-meta-tags-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>get_meta_tags</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$use_include_path</code><span class="initializer"> = false</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Opens <code class="parameter">filename</code> and parses it line by line for
   &lt;meta&gt; tags in the file. The parsing stops at
   <em>&lt;/head&gt;</em>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.get-meta-tags-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       The path to the HTML file, as a string. This can be a local file or an
       <acronym title="Uniform Resource Locator">URL</acronym>.
      </p>
      <p class="para">
       </p><div class="example" id="example-4208">
        <p><strong>Example #1 What <span class="function"><strong>get_meta_tags()</strong></span> parses</strong></p>
        <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;meta name="author" content="name"&gt;
&lt;meta name="keywords" content="php documentation"&gt;
&lt;meta name="DESCRIPTION" content="a php manual"&gt;
&lt;meta name="geo.position" content="49.33;-86.59"&gt;
&lt;/head&gt; &lt;!-- parsing stops here --&gt;</pre>
</div>
        </div>

       </div>
       (pay attention to line endings - PHP uses a native function to
       parse the input, so a Mac file won't work on Unix).
      <p></p>
     </dd>

    
    
     <dt>
<code class="parameter">use_include_path</code></dt>

     <dd>

      <p class="para">
       Setting <code class="parameter">use_include_path</code> to <strong><code>TRUE</code></strong> will result
       in PHP trying to open the file along the standard include path as per
       the <a href="ini.core.html#ini.include-path" class="link">include_path</a> directive.
       This is used for local files, not URLs.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.get-meta-tags-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array with all the parsed meta tags.
  </p>
  <p class="para">
   The value of the name property becomes the key, the value of the content
   property becomes the value of the returned array, so you can easily use
   standard array functions to traverse it or access single values. 
   Special characters in the value of the name property are substituted with
   '_', the rest is converted to lower case.  If two meta tags have the same
   name, only the last one is returned.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.get-meta-tags-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-4209">
    <p><strong>Example #2 What <span class="function"><strong>get_meta_tags()</strong></span> returns</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Assuming&nbsp;the&nbsp;above&nbsp;tags&nbsp;are&nbsp;at&nbsp;www.example.com<br></span><span style="color: #0000BB">$tags&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_meta_tags</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Notice&nbsp;how&nbsp;the&nbsp;keys&nbsp;are&nbsp;all&nbsp;lowercase&nbsp;now,&nbsp;and<br>//&nbsp;how&nbsp;.&nbsp;was&nbsp;replaced&nbsp;by&nbsp;_&nbsp;in&nbsp;the&nbsp;key.<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tags</span><span style="color: #007700">[</span><span style="color: #DD0000">'author'</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;name<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tags</span><span style="color: #007700">[</span><span style="color: #DD0000">'keywords'</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;php&nbsp;documentation<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tags</span><span style="color: #007700">[</span><span style="color: #DD0000">'description'</span><span style="color: #007700">];&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a&nbsp;php&nbsp;manual<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tags</span><span style="color: #007700">[</span><span style="color: #DD0000">'geo_position'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;49.33;-86.59<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.get-meta-tags-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Only meta tags with name attributes will be parsed. Quotes are not required.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.get-meta-tags-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.htmlentities.html" class="function" rel="rdfs-seeAlso">htmlentities()</a> - Convert all applicable characters to HTML entities</span></li>
    <li class="member"><span class="function"><a href="function.urlencode.html" class="function" rel="rdfs-seeAlso">urlencode()</a> - URL-encodes string</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="69003">  
  <a class="name">
  <strong class="user"><em>roganty at gmail dot com</em></strong></a><div class="date" title="2006-08-19 03:33"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom69003">
<div class="phpcode"><code><span class="html">
This is a slight amendment to jimmyxx at gmail dot com function<br><br>I tried using the regex displayed in his code, and php threw up a couple of errors<br><br>Below is the correct regular expression that works<br>(Please note that I had to split the regex into strings because php.net was complaining about the line being to long)<br><span class="default">&lt;?php<br>preg_match_all</span><span class="keyword">(<br>&nbsp;&nbsp; </span><span class="string">"|&lt;meta[^&gt;]+name=\"([^\"]*)\"[^&gt;]" </span><span class="keyword">. </span><span class="string">"+content=\"([^\"]*)\"[^&gt;]+&gt;|i"</span><span class="keyword">,<br>&nbsp;&nbsp; </span><span class="default">$html</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">,</span><span class="default">PREG_PATTERN_ORDER</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>The problem was due to the quotes being incorrectly escaped.<br>I hope this helps anyone who has been having problems with his code</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87273">  
  <a class="name">
  <strong class="user"><em>doob_ at gmx dot de</em></strong></a><div class="date" title="2008-11-27 04:12"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87273">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br>
<br></span><span class="comment">/*
<br>** Extracts and formats meta tag content 
<br>*/
<br>
<br></span><span class="keyword">function </span><span class="default">get_meta_data</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">, </span><span class="default">$searchkey</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">get_meta_tags</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// get the meta data in an array
<br>&nbsp; &nbsp; </span><span class="keyword">foreach(</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">mb_detect_encoding</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">'UTF-8, ISO-8859-1'</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">) != </span><span class="string">'ISO-8859-1'</span><span class="keyword">) {&nbsp; &nbsp; </span><span class="comment">// check whether the content is UTF-8 or ISO-8859-1
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">utf8_decode</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// if UTF-8 decode it
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">strtr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">get_html_translation_table</span><span class="keyword">(</span><span class="default">HTML_ENTITIES</span><span class="keyword">));&nbsp; &nbsp; </span><span class="comment">// mask the content
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$searchkey </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) {&nbsp; &nbsp; </span><span class="comment">// if only one meta tag is in demand e.g. 'description'
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$key </span><span class="keyword">== </span><span class="default">$searchkey</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// just return the value
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {&nbsp; &nbsp; </span><span class="comment">// all meta tags
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">'/ |,/i'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// ' ' or ','
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">preg_split</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// split it in an array, so we have the count of words&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="string">'&lt;p&gt;&lt;span style="display:block;color:#000000;font-weight:bold;"&gt;' </span><span class="keyword">. </span><span class="default">$key </span><span class="keyword">. </span><span class="string">' &lt;span style="font-weight:normal;"&gt;(' </span><span class="keyword">. </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) . </span><span class="string">' words | ' </span><span class="keyword">. </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">' chars)&lt;/span&gt;&lt;/span&gt;' </span><span class="keyword">. </span><span class="default">$value </span><span class="keyword">. </span><span class="string">'&lt;/p&gt;'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// format data with count of words and chars
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$content </span><span class="keyword">.= </span><span class="default">get_meta_data</span><span class="keyword">(</span><span class="string">"<a rel="nofollow" target="_blank">http://www.example.com/</a>"</span><span class="keyword">);
<br></span><span class="comment">/*
<br>output looks like this:
<br>
<br>description (23 words | 167 chars)
<br>SELFHTML 8.1.2 - Die bekannte Dokumentation zu HTML, JavaScript und CGI/Perl - Tutorial und Referenz, mit etlichen Zusatztips zu Design, Grafik, Projektverwaltung usw.
<br>
<br>keywords (13 words | 119 chars)
<br>SELFHTML, HTML, Dynamic HTML, JavaScript, CGI, Perl, Grafik, WWW-Seiten, Web-Seiten, Hilfe, Dokumentation, Beschreibung
<br>
<br>etc.
<br>
<br>*/
<br>
<br></span><span class="default">$content </span><span class="keyword">.= </span><span class="default">get_meta_data</span><span class="keyword">(</span><span class="string">"<a rel="nofollow" target="_blank">http://www.example.com/</a>"</span><span class="keyword">, </span><span class="string">"description"</span><span class="keyword">);
<br></span><span class="comment">/*
<br>output looks like this:
<br>
<br>SELFHTML 8.1.2 - Die bekannte Dokumentation zu HTML, JavaScript und CGI/Perl - Tutorial und Referenz, mit etlichen Zusatztips zu Design, Grafik, Projektverwaltung usw.
<br>*/
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80451">  
  <a class="name">
  <strong class="user"><em>diel at caroes dot be</em></strong></a><div class="date" title="2008-01-16 10:38"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80451">
<div class="phpcode"><code><span class="html">
Quick meta data grabber<br>[code]<br>if(get_meta_tags('<a rel="nofollow" target="_blank">http://</a>'.$_POST['pagina'])){<br>&nbsp; &nbsp; &nbsp; &nbsp; print '&lt;font class="midden"&gt;Meta data from <a rel="nofollow" target="_blank">http://</a>'.$_POST['pagina'].'&lt;/font&gt;';<br>&nbsp; &nbsp; &nbsp; &nbsp; $metadata = get_meta_tags('<a rel="nofollow" target="_blank">http://</a>'.$_POST['pagina']);<br>&nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;table width="100%"&gt;';<br>&nbsp; &nbsp; &nbsp; &nbsp; print '&lt;tr&gt;&lt;td&gt;Meta&lt;/td&gt;&lt;td&gt;Waarde&lt;/td&gt;&lt;/tr&gt;';<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($metadata as $naam =&gt; $waarde){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo '&lt;tr&gt;&lt;td valign="top"&gt;'.$naam.'&lt;/td&gt;&lt;td&gt;'.$waarde.'&lt;/td&gt;&lt;/tr&gt;';<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; print '&lt;/table&gt;';<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; print '<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class="red_h"&gt;Incorrect&lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; ';<br>&nbsp; &nbsp; }<br>[/code]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56701">  
  <a class="name">
  <strong class="user"><em>mariano at cricava dot com</em></strong></a><div class="date" title="2005-09-12 05:18"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56701">
<div class="phpcode"><code><span class="html">
Based on Michael Knapp's code, and adding some regex, here's a function that will get all meta tags and the title based on a URL. If there's an error, it will return false. Using the function getUrlContents(), also included, it takes care of META REFRESH re-directions, following up to the specified number of redirections. Please note that the regular expressions included were split into strings because php.net was complaining about the line being to long ;)<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getUrlData</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$contents </span><span class="keyword">= </span><span class="default">getUrlContents</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);<br><br>&nbsp; &nbsp; if (isset(</span><span class="default">$contents</span><span class="keyword">) &amp;&amp; </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$contents</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$title </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$metaTags </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/&lt;title&gt;([^&gt;]*)&lt;\/title&gt;/si'</span><span class="keyword">, </span><span class="default">$contents</span><span class="keyword">, </span><span class="default">$match </span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if (isset(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$title </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/&lt;[\s]*meta[\s]*name="?' </span><span class="keyword">. </span><span class="string">'([^&gt;"]*)"?[\s]*' </span><span class="keyword">. </span><span class="string">'content="?([^&gt;"]*)"?[\s]*[\/]?[\s]*&gt;/si'</span><span class="keyword">, </span><span class="default">$contents</span><span class="keyword">, </span><span class="default">$match</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (isset(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) == </span><span class="default">3</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$originals </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$names </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$values </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$originals</span><span class="keyword">) == </span><span class="default">count</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">) == </span><span class="default">count</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$metaTags </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$limiti</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$limiti</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$metaTags</span><span class="keyword">[</span><span class="default">$names</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] = array (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'html' </span><span class="keyword">=&gt; </span><span class="default">htmlentities</span><span class="keyword">(</span><span class="default">$originals</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'value' </span><span class="keyword">=&gt; </span><span class="default">$values</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= array (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'title' </span><span class="keyword">=&gt; </span><span class="default">$title</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'metaTags' </span><span class="keyword">=&gt; </span><span class="default">$metaTags<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;<br>}<br><br>function </span><span class="default">getUrlContents</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">, </span><span class="default">$maximumRedirections </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$currentRedirection </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$contents </span><span class="keyword">= @</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Check if we need to go somewhere else<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">if (isset(</span><span class="default">$contents</span><span class="keyword">) &amp;&amp; </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$contents</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">'/&lt;[\s]*meta[\s]*http-equiv="?REFRESH"?' </span><span class="keyword">. </span><span class="string">'[\s]*content="?[0-9]*;[\s]*URL[\s]*=[\s]*([^&gt;"]*)"?' </span><span class="keyword">. </span><span class="string">'[\s]*[\/]?[\s]*&gt;/si'</span><span class="keyword">, </span><span class="default">$contents</span><span class="keyword">, </span><span class="default">$match</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (isset(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">) == </span><span class="default">2 </span><span class="keyword">&amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) == </span><span class="default">1</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!isset(</span><span class="default">$maximumRedirections</span><span class="keyword">) || </span><span class="default">$currentRedirection </span><span class="keyword">&lt; </span><span class="default">$maximumRedirections</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">getUrlContents</span><span class="keyword">(</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">], </span><span class="default">$maximumRedirections</span><span class="keyword">, ++</span><span class="default">$currentRedirection</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$contents</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$contents</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>Here's an example of its usage. Check that the included URL has a META REFRESH redirection:<br><br><span class="default">&lt;?php<br>$result </span><span class="keyword">= </span><span class="default">getUrlData</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://www.marianoiglesias.com.ar/</a>'</span><span class="keyword">);<br><br>echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br><br></span><span class="default">?&gt;<br></span><br>For the above code the output would be:<br><br><span class="default">&lt;?php<br></span><span class="keyword">Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">title</span><span class="keyword">] =&gt; </span><span class="default">Mariano Iglesias</span><span class="keyword">: </span><span class="default">El Eternauta&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">metaTags</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">description</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"description" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"Java, PHP, and some other technological mumble jumble. Also, some real-life stuff as well." </span><span class="keyword">/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; </span><span class="default">Java</span><span class="keyword">, </span><span class="default">PHP</span><span class="keyword">, and </span><span class="default">some other technological mumble jumble</span><span class="keyword">. </span><span class="default">Also</span><span class="keyword">, </span><span class="default">some real</span><span class="keyword">-</span><span class="default">life stuff </span><span class="keyword">as </span><span class="default">well</span><span class="keyword">.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">DC</span><span class="keyword">.</span><span class="default">title</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"DC.title" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"Mariano Iglesias - Weblog" </span><span class="keyword">/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; </span><span class="default">Mariano Iglesias </span><span class="keyword">- </span><span class="default">Weblog<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">ICBM</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"ICBM" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"-34.6017, -58.3956" </span><span class="keyword">/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; -</span><span class="default">34.6017</span><span class="keyword">, -</span><span class="default">58.3956<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">geo</span><span class="keyword">.</span><span class="default">position</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"geo.position" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"-34.6017;-58.3956" </span><span class="keyword">/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; -</span><span class="default">34.6017</span><span class="keyword">;-</span><span class="default">58.3956<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">geo</span><span class="keyword">.</span><span class="default">region</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"geo.region" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"AR-BA"</span><span class="keyword">&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; </span><span class="default">AR</span><span class="keyword">-</span><span class="default">BA<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">geo</span><span class="keyword">.</span><span class="default">placename</span><span class="keyword">] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">html</span><span class="keyword">] =&gt; &lt;</span><span class="default">meta name</span><span class="keyword">=</span><span class="string">"geo.placename" </span><span class="default">content</span><span class="keyword">=</span><span class="string">"Buenos Aires"</span><span class="keyword">&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="default">value</span><span class="keyword">] =&gt; </span><span class="default">Buenos Aires<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>)<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49559">  
  <a class="name">
  <strong class="user"><em>tim dot bennett at haveaniceplay dot com</em></strong></a><div class="date" title="2005-02-01 07:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49559">
<div class="phpcode"><code><span class="html">
If you want to get the contents of tags other than meta you can use:<br><br><span class="default">&lt;?php<br><br>$page </span><span class="keyword">= </span><span class="string">"<a rel="nofollow" target="_blank">http://www.mysite.com/apage.php</a>"</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// tags<br>&nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="string">'&lt;atag&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="string">'&lt;\/atag&gt;'</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// open the file<br>&nbsp; &nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">( </span><span class="default">$page</span><span class="keyword">, </span><span class="string">'r' </span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="default">$cont </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// read the contents<br>&nbsp; &nbsp; </span><span class="keyword">while( !</span><span class="default">feof</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$buf </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">( </span><span class="default">fgets</span><span class="keyword">( </span><span class="default">$fp</span><span class="keyword">, </span><span class="default">4096 </span><span class="keyword">) );<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$cont </span><span class="keyword">.= </span><span class="default">$buf</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// get tag contents<br>&nbsp; &nbsp; </span><span class="default">preg_match</span><span class="keyword">( </span><span class="string">"/</span><span class="default">$start</span><span class="string">(.*)</span><span class="default">$end</span><span class="string">/s"</span><span class="keyword">, </span><span class="default">$cont</span><span class="keyword">, </span><span class="default">$match </span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// tag contents<br>&nbsp; &nbsp; </span><span class="default">$contents </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[ </span><span class="default">1 </span><span class="keyword">]; <br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="5247">  
  <a class="name">
  <strong class="user"><em>richard at pifmagazine dot com</em></strong></a><div class="date" title="2000-04-21 05:00"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom5247">
<div class="phpcode"><code><span class="html">
An Important Note about META tags and this function :&nbsp; if your META tag contains newline "\n"&nbsp; characters, get_meta_tags() will return a NULL value for that name property.&nbsp; Removing the newlines from the source META tag corrects the problem.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113370">  
  <a class="name">
  <strong class="user"><em>richard dot dern at athaliasoft dot fr</em></strong></a><div class="date" title="2013-10-02 08:50"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113370">
<div class="phpcode"><code><span class="html">
I personally experienced less issues using the DOM functions than regular expressions while trying to fetch meta tags and not using get_meta_tags function (in order to get http-equiv meta tags too).<br><br><span class="default">&lt;?php<br><br>$doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br></span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="default">$html</span><span class="keyword">);<br><br></span><span class="default">$xpath </span><span class="keyword">= new </span><span class="default">DOMXPath</span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">);<br><br></span><span class="default">$nodes </span><span class="keyword">= </span><span class="default">$xpath</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">'//head/meta'</span><span class="keyword">);<br><br>foreach(</span><span class="default">$nodes </span><span class="keyword">as </span><span class="default">$node</span><span class="keyword">) {<br>&nbsp; &nbsp; [...]<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111617">  
  <a class="name">
  <strong class="user"><em>Ebpo</em></strong></a><div class="date" title="2013-03-08 06:31"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111617">
<div class="phpcode"><code><span class="html">
Be aware that the function looks for the metatags in the whole page. If one of the meta is commented in your code for some reason, it will still be grabed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92197">  
  <a class="name">
  <strong class="user"><em>jstel at 126 dot com</em></strong></a><div class="date" title="2009-07-13 09:36"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92197">
<div class="phpcode"><code><span class="html">
this function could get each meta of html content , and stripped all js and css. 
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">get_meta_data</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$content </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$content</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$content </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"'&lt;style[^&gt;]*&gt;.*&lt;/style&gt;'siU"</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$content</span><span class="keyword">);&nbsp; </span><span class="comment">// strip js
<br>&nbsp; &nbsp; </span><span class="default">$content </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"'&lt;script[^&gt;]*&gt;.*&lt;/script&gt;'siU"</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$content</span><span class="keyword">); </span><span class="comment">// strip css
<br>&nbsp; &nbsp; </span><span class="default">$split </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="default">$content</span><span class="keyword">);
<br>&nbsp; &nbsp; foreach (</span><span class="default">$split </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$v</span><span class="keyword">,</span><span class="string">'&lt;meta'</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(
<br></span><span class="string">"/&lt;meta[^&gt;]+(http\-equiv|name)=\"([^\"]*)\"[^&gt;]" </span><span class="keyword">. </span><span class="string">"+content=\"([^\"]*)\"[^&gt;]*&gt;/i"</span><span class="keyword">,
<br></span><span class="default">$v</span><span class="keyword">, </span><span class="default">$split_content</span><span class="keyword">[],</span><span class="default">PREG_PATTERN_ORDER</span><span class="keyword">);;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$split_content</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50865">  
  <a class="name">
  <strong class="user"><em>Michael Knapp</em></strong></a><div class="date" title="2005-03-12 12:47"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50865">
<div class="phpcode"><code><span class="html">
Tim's code is good (thanks Tim), except it won't work very well if the tag is part of a long non-breaking string.<br><br>E.g. try getting the title from Google Maps (<a rel="nofollow" target="_blank">http://www.google.com/maps</a>).<br><br>A better solution is:<br><br><span class="default">&lt;?php <br>$title </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; <br>if (</span><span class="default">$fp </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">( </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'url'</span><span class="keyword">], </span><span class="string">'r' </span><span class="keyword">)) {<br><br>&nbsp; &nbsp; </span><span class="default">$cont </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// read the contents<br>&nbsp; &nbsp; </span><span class="keyword">while( !</span><span class="default">feof</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$buf </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">fgets</span><span class="keyword">( </span><span class="default">$fp</span><span class="keyword">, </span><span class="default">4096 </span><span class="keyword">)) ;<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cont </span><span class="keyword">.= </span><span class="default">$buf</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// get tag contents<br>&nbsp; &nbsp; </span><span class="keyword">@</span><span class="default">preg_match</span><span class="keyword">( </span><span class="string">"/&lt;title&gt;([a-z 0-9]*)&lt;\/title&gt;/si"</span><span class="keyword">, </span><span class="default">$cont</span><span class="keyword">, </span><span class="default">$match </span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// tag contents<br>&nbsp; &nbsp; </span><span class="default">$title </span><span class="keyword">= </span><span class="default">strip_tags</span><span class="keyword">(@</span><span class="default">$match</span><span class="keyword">[ </span><span class="default">1 </span><span class="keyword">]); <br>} <br><br></span><span class="default">?&gt;<br></span><br>Note the strip_tags. Another thing to be careful of is to check for ", &lt;, and &gt;. You will need to strip those out if you are posting the output to a form.<br><br>Also, it is probably best to use the /i modifier, because some people might code &lt;TITLE&gt; etc...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49711">  
  <a class="name">
  <strong class="user"><em>rehfeld</em></strong></a><div class="date" title="2005-02-05 06:45"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49711">
<div class="phpcode"><code><span class="html">
in response to<br>jp at webgraphe dot com<br><br>this function grabs meta tags, not http headers<br><br>if you need the headers<br><br><span class="default">&lt;?php<br><br>$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://example.org/somepage.html</a>'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br><br></span><span class="comment">// the variable $http_response_header magically appears<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$http_response_header</span><span class="keyword">);<br><br></span><span class="comment">// or<br></span><span class="default">$meta_data </span><span class="keyword">= </span><span class="default">stream_get_meta_data</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$meta_data</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38228">  
  <a class="name">
  <strong class="user"><em>jp at webgraphe dot com</em></strong></a><div class="date" title="2003-12-12 05:37"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38228">
<div class="phpcode"><code><span class="html">
If the URL is doing a redirection using the headers (like you would do with PHP function header("Location: URL");), the page has no content (in general). It appears get_meta_tags() doesn't catch that kind of redirection (like cURL would do) and it lead me to a timeout of my script.<br><br>I experienced this in a spider I wrote in order to feed my database of all available pages on my site and one link was linking to a page that simply has the following code:<br><br><span class="default">&lt;?php<br>&nbsp; header</span><span class="keyword">(</span><span class="string">"Location: sections.php?section=home"</span><span class="keyword">);<br>&nbsp; exit();<br></span><span class="default">?&gt;<br></span><br>That made my script hang for a moment and apparently, get_meta_tags() wasn't even able to return me an error.<br><br>JP.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="17707">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2001-12-20 11:01"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom17707">
<div class="phpcode"><code><span class="html">
Tested PHP 4.0.6
<br>
<br>get_meta_tags() seems to look only in the beginning of a file, meaning that e.g. if there is a lot of PHP code before the HTML header it will return nothing ...
<br>Tested using get_meta_tags() on local files with about 9000 characters of PHP code before HTML HEADER.
<br>
<br>Workaround: if possible move code after header or if not: include a file.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="14419">  
  <a class="name">
  <strong class="user"><em>Ben dot Davis at furman dot edu</em></strong></a><div class="date" title="2001-07-30 03:29"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom14419">
<div class="phpcode"><code><span class="html">
I have found that for large searches, get_meta_tags is very slow.&nbsp; I created a large search engine for a website that couldnt use a database and I first tried pulling out the meta tags.&nbsp; 
<br>I have found that it is actually much faster to use eregi to pull out the meta tags.&nbsp; This code below pulls out the description:
<br>
<br>if (eregi ("&lt;meta name=\"description\" content=[^&gt;]*", $contents, $descresult))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $description = explode("&lt;meta name=\"description\" content=", $descresult[0]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;font face=\"Arial\" size=2&gt;$description[1]&lt;/font&gt;";
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="5249">  
  <a class="name">
  <strong class="user"><em>richard at pifmagazine dot com</em></strong></a><div class="date" title="2000-04-21 05:17"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom5249">
<div class="phpcode"><code><span class="html">
Something that is not mentioned above and should be : When using get_meta_tags on a remote PHP page the page will be parsed before the meta tags are returned - so you can capture meta tags generated dynamically (by PHP??) on the remote end.
<br>
<br>This DOES NOT work the same way when getting meta tags on local file systems.&nbsp; Local files are not parsed through the web server before returning to get_meta_tags().&nbsp; If the META tag is hard-coded into the page, you'll be fine - but if it dynamically generated you will not be able to capture it unless you use the full URL when calling your local files.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88851">  
  <a class="name">
  <strong class="user"><em>Antonio - Malaga</em></strong></a><div class="date" title="2009-02-10 02:21"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88851">
<div class="phpcode"><code><span class="html">
It's not work if meta syntax not have trailing slash.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56980">  
  <a class="name">
  <strong class="user"><em>jimmyxx at gmail dot com</em></strong></a><div class="date" title="2005-09-20 12:37"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56980">
<div class="phpcode"><code><span class="html">
I used this as part of my mini php search based search engine - it really slowed the whole thing down. I wrote this function to read HTML (just fetch the file or use something like snoopy) and extract the meta data via a simple regex, works a treat and made my crawler much faster:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">get_meta_data</span><span class="keyword">(</span><span class="default">$html</span><span class="keyword">) {<br><br>&nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br>&nbsp; &nbsp; </span><span class="string">"|&lt;meta[^&gt;]+name=\\"</span><span class="keyword">([^\\</span><span class="string">"]*)\\"</span><span class="keyword">[^&gt;]+</span><span class="default">content</span><span class="keyword">=\\</span><span class="string">"([^\\"</span><span class="keyword">]*)\\</span><span class="string">"[^&gt;]+&gt;|i"</span><span class="keyword">,&nbsp; </span><span class="default">$html</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">,</span><span class="default">PREG_PATTERN_ORDER</span><span class="keyword">);<br><br>&nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);</span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// loop through the meta data - add your own tags here if you need<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]) == </span><span class="string">"keywords"</span><span class="keyword">) </span><span class="default">$meta</span><span class="keyword">[</span><span class="string">'keywords'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]) == </span><span class="string">"description"</span><span class="keyword">) </span><span class="default">$meta</span><span class="keyword">[</span><span class="string">'description'</span><span class="keyword">] = </span><span class="default">$out</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; }<br><br>return </span><span class="default">$meta</span><span class="keyword">;&nbsp; &nbsp; <br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.get-meta-tags.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:38:55 GMT -->


</body></html>