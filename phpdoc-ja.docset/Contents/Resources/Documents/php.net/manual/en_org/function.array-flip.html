<html><!-- Mirrored from php.net/manual/en/function.array-flip.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:36 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>array_flip</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.array-flip.html">
 <link rel="shorturl" href="http://php.net/array-flip">
 <link rel="alternate" href="http://php.net/array-flip" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.array.html">
 <link rel="prev" href="function.array-filter.html">
 <link rel="next" href="function.array-intersect-assoc.html">

 <link rel="alternate" href="function.array-flip.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.array-flip.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.array-flip.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.array-flip.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.array-flip.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.array-flip.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.array-flip.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.array-flip.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.array-flip.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.array-flip.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.array-flip.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.array.html">Arrays</a></li>      <li><a href="ref.array.html">Array Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.array-flip" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_flip</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_flip</span> â€” <span class="dc-title">Exchanges all keys with their associated values in an array</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-flip-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_flip</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>array_flip()</strong></span> returns an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> in flip
   order, i.e. keys from <code class="parameter">array</code> become values and values
   from <code class="parameter">array</code> become keys.
  </p>
  <p class="para">
   Note that the values of <code class="parameter">array</code> need to be valid
   keys, i.e. they need to be either <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> or
   <span class="type"><a href="language.types.string.html" class="type string">string</a></span>. A warning will be emitted if a value has the wrong
   type, and the key/value pair in question <em class="emphasis">will not be included
   in the result</em>.
  </p>
  <p class="para">
   If a value has several occurrences, the latest key will be
   used as its value, and all others will be lost.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-flip-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       An array of key/value pairs to be flipped.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-flip-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the flipped array on success and <strong><code>NULL</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-flip-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5065">
    <p><strong>Example #1 <span class="function"><strong>array_flip()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$trans&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$trans</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$original&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$trans</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-5066">
    <p><strong>Example #2 <span class="function"><strong>array_flip()</strong></span> example : collision</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$trans&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$trans&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_flip</span><span style="color: #007700">(</span><span style="color: #0000BB">$trans</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$trans</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     now <var class="varname"><var class="varname">$trans</var></var> is:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [1] =&gt; b
    [2] =&gt; c
)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.array-flip-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-values.html" class="function" rel="rdfs-seeAlso">array_values()</a> - Return all the values of an array</span></li>
    <li class="member"><span class="function"><a href="function.array-keys.html" class="function" rel="rdfs-seeAlso">array_keys()</a> - Return all the keys or a subset of the keys of an array</span></li>
    <li class="member"><span class="function"><a href="function.array-reverse.html" class="function" rel="rdfs-seeAlso">array_reverse()</a> - Return an array with elements in reverse order</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="106895">  
  <a class="name">
  <strong class="user"><em>Final</em></strong></a><div class="date" title="2011-12-16 04:16"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106895">
<div class="phpcode"><code><span class="html">
I find this function vey useful when you have a big array and you want to know if a given value is in the array. in_array in fact becomes quite slow in such a case, but you can flip the big array and then use isset to obtain the same result in a much faster way.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112069">  
  <a class="name">
  <strong class="user"><em>Tony H</em></strong></a><div class="date" title="2013-04-29 02:59"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112069">
<div class="phpcode"><code><span class="html">
This function is useful when parsing a CSV file with a heading column, but the columns might vary in order or presence:<br><br><span class="default">&lt;?php<br><br>$f </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"file.csv"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br><br></span><span class="comment">/* Take the first line (the header) into an array, then flip it<br>so that the keys are the column name, and values are the<br>column index. */<br></span><span class="default">$cols </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">fgetcsv</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">));<br><br>while (</span><span class="default">$line </span><span class="keyword">= </span><span class="default">fgetcsv</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">))<br>{<br>&nbsp; &nbsp; </span><span class="comment">// Now we can reference CSV columns like so:<br>&nbsp; &nbsp; </span><span class="default">$status </span><span class="keyword">= </span><span class="default">$line</span><span class="keyword">[</span><span class="default">$cols</span><span class="keyword">[</span><span class="string">'OrderStatus'</span><span class="keyword">]];<br>}<br><br></span><span class="default">?&gt;<br></span><br>I find this better than referencing the numerical array index.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107097">  
  <a class="name">
  <strong class="user"><em>kjensen at iaff106 dot com</em></strong></a><div class="date" title="2012-01-06 10:23"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107097">
<div class="phpcode"><code><span class="html">
I needed a way to flip a multidimensional array and came up with this function to accomplish the task.&nbsp; I hope it helps someone else.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">multi_array_flip</span><span class="keyword">(</span><span class="default">$arrayIn</span><span class="keyword">, </span><span class="default">$DesiredKey</span><span class="keyword">, </span><span class="default">$DesiredKey2</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">, </span><span class="default">$OrigKeyName</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) { 
<br></span><span class="default">$ArrayOut</span><span class="keyword">=array();
<br>foreach (</span><span class="default">$arrayIn </span><span class="keyword">as </span><span class="default">$Key</span><span class="keyword">=&gt;</span><span class="default">$Value</span><span class="keyword">) 
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If there is an original key that need to be preserved as data in the new array then do that if requested ($OrigKeyName=true)
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$OrigKeyName</span><span class="keyword">) </span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$OrigKeyName</span><span class="keyword">]=</span><span class="default">$Key</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Require a string value in the data part of the array that is keyed to $DesiredKey
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$DesiredKey</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If $DesiredKey2 was specified then assume a multidimensional array is desired and build it
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$DesiredKey2</span><span class="keyword">)) 
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Require a string value in the data part of the array that is keyed to $DesiredKey2
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$DesiredKey2</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Build NEW multidimensional array
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ArrayOut</span><span class="keyword">[</span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$DesiredKey</span><span class="keyword">]][</span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$DesiredKey2</span><span class="keyword">]]=</span><span class="default">$Value</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Build NEW single dimention array
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">else </span><span class="default">$ArrayOut</span><span class="keyword">[</span><span class="default">$Value</span><span class="keyword">[</span><span class="default">$DesiredKey</span><span class="keyword">]][]=</span><span class="default">$Value</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>return </span><span class="default">$ArrayOut</span><span class="keyword">;
<br>}</span><span class="comment">//end multi_array_flip
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47640">  
  <a class="name">
  <strong class="user"><em>snaury at narod dot ru</em></strong></a><div class="date" title="2004-11-23 11:21"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47640">
<div class="phpcode"><code><span class="html">
When you do array_flip, it takes the last key accurence for each value, but be aware that keys order in flipped array will be in the order, values were first seen in original array. For example, array:<br><br>&nbsp; &nbsp; [1] =&gt; 1<br>&nbsp; &nbsp; [2] =&gt; 2<br>&nbsp; &nbsp; [3] =&gt; 3<br>&nbsp; &nbsp; [4] =&gt; 3<br>&nbsp; &nbsp; [5] =&gt; 2<br>&nbsp; &nbsp; [6] =&gt; 1<br>&nbsp; &nbsp; [7] =&gt; 1<br>&nbsp; &nbsp; [8] =&gt; 3<br>&nbsp; &nbsp; [9] =&gt; 3<br><br>After flipping will become:<br>(first seen value -&gt; first key)<br><br>&nbsp; &nbsp; [1] =&gt; 7<br>&nbsp; &nbsp; [2] =&gt; 5<br>&nbsp; &nbsp; [3] =&gt; 9<br><br>And not anything like this:<br>(last seen value -&gt; last key)<br><br>&nbsp; &nbsp; [2] =&gt; 5<br>&nbsp; &nbsp; [1] =&gt; 7<br>&nbsp; &nbsp; [3] =&gt; 9<br><br>In my application I needed to find five most recently commented entries. I had a sorted comment-id =&gt; entry-id array, and what popped in my mind is just do array_flip($array), and I thought I now would have last five entries in the array as most recently commented entry =&gt; comment pairs. In fact it wasn't (see above, as it is the order of values used). To achieve what I need I came up with the following (in case someone will need to do something like that):<br><br>First, we need a way to flip an array, taking the first encountered key for each of values in array. You can do it with:<br><br>&nbsp; $array = array_flip(array_unique($array));<br><br>Well, and to achieve that "last comments" effect, just do:<br><br>&nbsp; $array = array_reverse($array, true);<br>&nbsp; $array = array_flip(array_unique($array));<br>&nbsp; $array = array_reverse($array, true);<br><br>In the example from the very beginning array will become:<br><br>&nbsp; &nbsp; [2] =&gt; 5<br>&nbsp; &nbsp; [1] =&gt; 7<br>&nbsp; &nbsp; [3] =&gt; 9<br><br>Just what I (and maybe you?) need. =^_^=</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108184">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2012-04-05 10:17"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108184">
<div class="phpcode"><code><span class="html">
Similarly, if you want the last value without affecting the pointer, you can do:<br><br><span class="default">&lt;?php<br><br>$array </span><span class="keyword">= array(</span><span class="string">"one"</span><span class="keyword">,</span><span class="string">"two"</span><span class="keyword">,</span><span class="string">"three"</span><span class="keyword">);<br><br>echo </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// "two"<br><br></span><span class="default">$last </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));<br><br>echo </span><span class="default">$last</span><span class="keyword">;&nbsp; </span><span class="comment">// "three"<br><br></span><span class="keyword">echo </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// "two"<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89724">  
  <a class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><div class="date" title="2009-03-20 02:22"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89724">
<div class="phpcode"><code><span class="html">
Finding the longest string in an array?<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">longest_string_in_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$mapping </span><span class="keyword">= </span><span class="default">array_combine</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strlen'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">));<br>&nbsp; &nbsp; return </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$mapping</span><span class="keyword">, </span><span class="default">max</span><span class="keyword">(</span><span class="default">$mapping</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;<br></span><br>Differences are obvious: returns an array of [i]all[/i] of the longest strings, instead of just picking one arbitrarily. Doesn't do the stripslashing or magic stuff because that's another job for for another function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89436">  
  <a class="name">
  <strong class="user"><em>dan at aoindustries dot com</em></strong></a><div class="date" title="2009-03-07 12:48"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89436">
<div class="phpcode"><code><span class="html">
From an algorithmic efficiency standpoint, building an entire array of lengths to then sort to only retrieve the longest value is unnecessary work.&nbsp; The following should be O(n) instead of O(n log n).&nbsp; It could also be:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">get_longest_value</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="comment">// Some don't like to initialize, I do
<br>&nbsp; &nbsp; </span><span class="default">$longest </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$longestLen </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; foreach (</span><span class="default">$array $value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$len</span><span class="keyword">&gt;</span><span class="default">$longestLen</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$longest </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$longestLen </span><span class="keyword">= </span><span class="default">$len</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$longest </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\r\n"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$longest</span><span class="keyword">);
<br>&nbsp; &nbsp; if (</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) { return </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$longest</span><span class="keyword">); }
<br>&nbsp; &nbsp; return </span><span class="default">$longest</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114477">  
  <a class="name">
  <strong class="user"><em>grimdestripador at hotmail dot com</em></strong></a><div class="date" title="2014-02-25 12:06"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom114477">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_flip_into_subarray</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">){<br></span><span class="default">$output </span><span class="keyword">= array();<br>foreach (</span><span class="default">$input </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$values</span><span class="keyword">){<br>&nbsp; &nbsp; foreach (</span><span class="default">$values </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">][] = </span><span class="default">$key</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br>return </span><span class="default">$output</span><span class="keyword">;<br>}</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99880">  
  <a class="name">
  <strong class="user"><em>h3x</em></strong></a><div class="date" title="2010-09-12 01:11"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99880">
<div class="phpcode"><code><span class="html">
this function can be used to remove null elements form an array:<br><br><span class="default">&lt;?php<br>$ar </span><span class="keyword">= array(</span><span class="default">null</span><span class="keyword">,</span><span class="string">'1'</span><span class="keyword">,</span><span class="string">'2'</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="string">'3'</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">);<br></span><span class="comment">/*<br>result:<br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; <br>&nbsp; &nbsp; [1] =&gt; 1<br>&nbsp; &nbsp; [2] =&gt; 2<br>&nbsp; &nbsp; [3] =&gt; <br>&nbsp; &nbsp; [4] =&gt; 3<br>&nbsp; &nbsp; [5] =&gt; <br>)<br>*/<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">)));<br></span><span class="comment">/*<br>result:<br>Array<br>(<br>&nbsp; &nbsp; [1] =&gt; 1<br>&nbsp; &nbsp; [2] =&gt; 2<br>&nbsp; &nbsp; [4] =&gt; 3<br>)<br>*/<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34749">  
  <a class="name">
  <strong class="user"><em>znailz at yahoo dot com</em></strong></a><div class="date" title="2003-08-05 02:42"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34749">
<div class="phpcode"><code><span class="html">
I know a lot of people want a function to remove a key by value from an array. I saw solutions that iterate(!) though the whole array comparing value by value and then unsetting that value's key. PHP has a built-in function for pretty much everything (heard it will even cook you breakfast), so if you think "wouldn't it be cool if PHP had a function to do that...", odds are it already has. Check out this example. It takes a value, gets all keys for that value if it has duplicates, unsets them all, and returns a reindexed array.
<br>
<br><span class="default">&lt;?php
<br>$arr </span><span class="keyword">= array(</span><span class="default">11</span><span class="keyword">,</span><span class="default">12</span><span class="keyword">,</span><span class="default">13</span><span class="keyword">,</span><span class="default">12</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// sample array
<br></span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br>unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">12</span><span class="keyword">]);
<br></span><span class="default">$arr </span><span class="keyword">= array(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>$arr contains:
<br>
<br>Array
<br>(
<br>&nbsp; &nbsp; [0] =&gt; Array
<br>&nbsp; &nbsp; &nbsp; &nbsp; (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 11
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [1] =&gt; 13
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>?&gt;
<br>
<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74754">  
  <a class="name">
  <strong class="user"><em>pinkgothic at gmail dot com</em></strong></a><div class="date" title="2007-04-26 01:37"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74754">
<div class="phpcode"><code><span class="html">
In case anyone is wondering how array_flip() treats empty arrays:<br><br><span class="default">&lt;?php<br>print_r</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(array()));<br></span><span class="default">?&gt;<br></span><br>results in:<br><br>Array<br>(<br>)<br><br>I wanted to know if it would return false and/or even chuck out an error if there were no key-value pairs to flip, despite being non-intuitive if that were the case. But (of course) everything works as expected. Just a head's up for the paranoid.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87513">  
  <a class="name">
  <strong class="user"><em>corz at corz dot org</em></strong></a><div class="date" title="2008-12-08 01:36"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87513">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">/*<br>&nbsp; &nbsp; Fun function to return the longest physical *value* from an array.<br><br>&nbsp; &nbsp; Culled from a small script designed to capture the longest $_POST variable, <br>&nbsp; &nbsp; usually the textarea, which would then be dumped to a "emergency post dump file".<br><br>&nbsp; &nbsp; corz at corz dot org<br>*/<br><br></span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"input" </span><span class="keyword">=&gt; </span><span class="string">"submit"</span><span class="keyword">, </span><span class="string">"textarea" </span><span class="keyword">=&gt; </span><span class="string">"Some long spiel of text\r\na textarea, probably"</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"another-input" </span><span class="keyword">=&gt; </span><span class="string">"make me longer"</span><span class="keyword">, </span><span class="string">"and" </span><span class="keyword">=&gt; </span><span class="string">"another"</span><span class="keyword">, </span><span class="string">"etc" </span><span class="keyword">=&gt; </span><span class="string">"etc."</span><span class="keyword">);<br><br>echo </span><span class="string">'&lt;!DOCTYPE HTML SYSTEM&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;long&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;pre&gt;Longest value: '</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">get_longest_value</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">),</span><span class="string">'&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="keyword">;<br><br>function </span><span class="default">get_longest_value</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br>&nbsp; &nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lengths</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">); <br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$lengths</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$lengths </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$lengths</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$longest </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\r\n"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">[</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$lengths</span><span class="keyword">)]);<br>&nbsp; &nbsp; if (</span><span class="default">get_magic_quotes_gpc</span><span class="keyword">()) { return </span><span class="default">stripslashes</span><span class="keyword">(</span><span class="default">$longest</span><span class="keyword">); }<br>&nbsp; &nbsp; return </span><span class="default">$longest</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.array-flip.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:36 GMT -->


</body></html>