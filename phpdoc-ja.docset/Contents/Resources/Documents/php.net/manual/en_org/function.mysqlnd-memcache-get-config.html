<html><!-- Mirrored from php.net/manual/en/function.mysqlnd-memcache-get-config.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:05:12 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>mysqlnd_memcache_get_config</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mysqlnd-memcache-get-config.html">
 <link rel="shorturl" href="http://php.net/mysqlnd-memcache-get-config">
 <link rel="alternate" href="http://php.net/mysqlnd-memcache-get-config" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.mysqlnd-memcache.html">
 <link rel="prev" href="ref.mysqlnd-memcache.html">
 <link rel="next" href="function.mysqlnd-memcache-set.html">

 <link rel="alternate" href="function.mysqlnd-memcache-get-config.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.mysqlnd-memcache-get-config.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.mysqlnd-memcache-get-config.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.mysqlnd-memcache-get-config.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.mysqlnd-memcache-get-config.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.mysqlnd-memcache-get-config.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.mysqlnd-memcache-get-config.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.mysqlnd-memcache-get-config.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.mysqlnd-memcache-get-config.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.mysqlnd-memcache-get-config.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.mysqlnd-memcache-get-config.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqlnd-memcache.html">mysqlnd_memcache</a></li>      <li><a href="ref.mysqlnd-memcache.html">Mysqlnd_memcache Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.mysqlnd-memcache-get-config" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqlnd_memcache_get_config</h1>
  <p class="verinfo">(PECL mysqlnd_memcache &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">mysqlnd_memcache_get_config</span> — <span class="dc-title">Returns information about the plugin configuration</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mysqlnd-memcache-get-config-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> 
   <span class="methodname"><strong>mysqlnd_memcache_get_config</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$connection</code></span>
   )</div>

  <p class="para rdfs-comment">
   This function returns an array of all mysqlnd_memcache related configuration 
   information that is attached to the MySQL connection. This includes MySQL, the 
   Memcache object provided via <span class="function"><a href="function.mysqlnd-memcache-set.html" class="function">mysqlnd_memcache_set()</a></span>,
   and the table mapping configuration that was automatically collected
   from the MySQL Server.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysqlnd-memcache-get-config-parameters">
  <h3 class="title">Parameters</h3>
  <dl>

   
    <dt>
<code class="parameter">connection</code></dt>

    <dd>

     <p class="para">
      A handle to a MySQL Server using one of the MySQL API extensions for PHP, which are
      <a href="ref.pdo-mysql.html" class="link">PDO_MYSQL</a>, <a href="book.mysqli.html" class="link">mysqli</a> or
      <a href="book.mysql.html" class="link">ext/mysql</a>.
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mysqlnd-memcache-get-config-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   An array of mysqlnd_memcache configuration information on success, otherwise <strong><code>FALSE</code></strong>.
  </p>
  <p class="para">
   The returned array has these elements:
  </p>
  <p class="para">
   </p><table class="doctable table">
    <caption><strong><span class="function"><strong>mysqlnd_memcache_get_config()</strong></span> array structure</strong></caption>
     
     <thead>
      <tr>
       <th>Array Key</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody"> 
      <tr>
       <td>memcached</td>
       <td>
        Instance of Memcached associated to this MySQL connection
        by <span class="methodname"><a href="function.mysqlnd-memcache-set.html" class="methodname">mysqlnd_memcache_set()</a></span>. You can use this to
        change settings of the memcache connection, or directly by querying the
        server on this connection.
       </td>
      </tr>

      <tr>
       <td>pattern</td>
       <td>
        The PCRE regular expression used to match the SQL query sent to the server.
        Queries matching this pattern will be further analyzed to decide whether
        the query can be intercepted and sent via the memcache interface or
        whether the query is sent using the general MySQL protocol to the
        server. The pattern is either the default pattern
        (<em>MYSQLND_MEMCACHE_DEFAULT_REGEXP</em>) or it is set via
        <span class="function"><a href="function.mysqlnd-memcache-set.html" class="function">mysqlnd_memcache_set()</a></span>.
       </td>
      </tr>

      <tr>
       <td>mappings</td>
       <td>
        An associative array with a list of all configured containers as they
        were discovered by this plugin. The key for these elements is the name
        of the container in the MySQL configuration. The value is described
        below. The contents of this field is created by querying the MySQL
        Server during association to MySQL and a memcache connection using
        <span class="methodname"><a href="function.mysqlnd-memcache-set.html" class="methodname">mysqlnd_memcache_set()</a></span>.
       </td>
      </tr>

      <tr>
       <td>mapping_query</td>
       <td>An SQL query used during
        <span class="methodname"><a href="function.mysqlnd-memcache-set.html" class="methodname">mysqlnd_memcache_set()</a></span>
        to identify the available containers and mappings. The result of that 
        query is provided in the mappings element.
       </td>
      </tr>

     </tbody>
    
   </table>

   <table class="doctable table">
    <caption><strong>Mapping entry structure</strong></caption>
    
     <thead>
      <tr>
       <th>Array Key</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>prefix</td>
       <td>
        A prefix used while accessing data via memcache. With the MySQL InnoDB 
        Memcache Deamon plugin, this usually begins with @@ and ends with a
        configurable separator. This prefix is placed in front of the key value
        while using the memcache protocol.
       </td>
      </tr>

      <tr>
       <td>schema_name</td>
       <td>
        Name of the schema (database) which contains the table being accessed.
       </td>
      </tr>

      <tr>
       <td>table_name</td>
       <td>
        Name of the table which contains the data accessible via memcache
        protocol.
       </td>
      </tr>

      <tr>
       <td>id_field_name</td>
       <td>
        Name of the database field (column) with the id used as key when
        accessing the table via memcache. Often this is the database field
        having a primary key.
       </td>
      </tr>

      <tr>
       <td>separator</td>
       <td>
        The separator used to split the different field values. This is needed as
        memcache only provides access to a single value while MySQL can map
        multiple columns to this value.
        <blockquote class="note"><p><strong class="note">Note</strong>: 
         </p><p class="para">
          The separator, which can be set in the MySQL Server configuration,
          should not be part of any value retrieved via memcache because proper
          mapping can't be guaranteed.
         </p>
        <p></p></blockquote>
       </td>
      </tr>

      <tr>
       <td>fields</td>
       <td>
        An array with the name of all fields available for this mapping.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mysqlnd-memcache-get-config-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2027">
    <p><strong>Example #1 <span class="function"><strong>mysqlnd_memcache_get_config()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$mysqli&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"host"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"passwd"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"database"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$memc&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Memcached</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$memc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServer</span><span style="color: #007700">(</span><span style="color: #DD0000">"host"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11211</span><span style="color: #007700">);<br></span><span style="color: #0000BB">mysqlnd_memcache_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$memc</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">mysqlnd_memcache_get_config</span><span style="color: #007700">(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>array(4) {
  ["memcached"]=&gt;
  object(Memcached)#2 (0) {
  }
  ["pattern"]=&gt;
  string(125) "/^\s*SELECT\s*(.+?)\s*FROM\s*`?([a-z0-9_]+)`?\s*WHERE\s*`?([a-z0-9_]+)`?\s*=\s*(?(?=["'])["']([^"']*)["']|([0-9e\.]*))\s*$/is"
  ["mappings"]=&gt;
  array(1) {
    ["mymem_test"]=&gt;
    array(6) {
      ["prefix"]=&gt;
      string(13) "@@mymem_test."
      ["schema_name"]=&gt;
      string(4) "test"
      ["table_name"]=&gt;
      string(10) "mymem_test"
      ["id_field_name"]=&gt;
      string(2) "id"
      ["separator"]=&gt;
      string(1) "|"
      ["fields"]=&gt;
      array(3) {
        [0]=&gt;
        string(2) "f1"
        [1]=&gt;
        string(2) "f2"
        [2]=&gt;
        string(2) "f3"
      }
    }
  }
  ["mapping_query"]=&gt;
  string(209) "    SELECT c.name,
                          CONCAT('@@', c.name, (SELECT value FROM innodb_memcache.config_options WHERE name = 'table_map_delimiter')) AS key_prefix, 
                          c.db_schema, 
                          c.db_table, 
                          c.key_columns, 
                          c.value_columns, 
                          (SELECT value FROM innodb_memcache.config_options WHERE name = 'separator') AS sep 
                     FROM innodb_memcache.containers c"
}
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mysqlnd-memcache-get-config-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member">
     <span class="methodname"><a href="function.mysqlnd-memcache-set.html" class="methodname" rel="rdfs-seeAlso">mysqlnd_memcache_set()</a> - Associate a MySQL connection with a Memcache connection</span>
    </li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.mysqlnd-memcache-get-config.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:05:13 GMT -->


</body></html>