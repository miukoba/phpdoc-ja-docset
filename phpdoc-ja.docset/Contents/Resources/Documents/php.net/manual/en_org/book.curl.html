<html><!-- Mirrored from php.net/manual/en/book.curl.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:39:08 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>cURL</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="book.curl.html">
 <link rel="shorturl" href="http://php.net/curl">
 <link rel="alternate" href="http://php.net/curl" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="refs.remote.other.html">
 <link rel="prev" href="function.chdb-create.html">
 <link rel="next" href="intro.curl.html">

 <link rel="alternate" href="book.curl.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/book.curl.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/book.curl.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/book.curl.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/book.curl.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/book.curl.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/book.curl.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/book.curl.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/book.curl.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/book.curl.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/book.curl.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.remote.other.html">Other Services</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="book.curl" class="book">
 
 <h1 class="title">Client URL Library</h1>
 

 
 
 
 
 







 





 







 


 



 







<ul class="chunklist chunklist_book"><li><a href="intro.curl.html">Introduction</a></li><li><a href="curl.setup.html">Installing/Configuring</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="curl.requirements.html">Requirements</a></li><li><a href="curl.installation.html">Installation</a></li><li><a href="curl.configuration.html">Runtime Configuration</a></li><li><a href="curl.resources.html">Resource Types</a></li></ul></li><li><a href="curl.constants.html">Predefined Constants</a></li><li><a href="curl.examples.html">Examples</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="curl.examples-basic.html">Basic curl example</a></li></ul></li><li><a href="ref.curl.html">cURL Functions</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="function.curl-close.html">curl_close</a> — Close a cURL session</li><li><a href="function.curl-copy-handle.html">curl_copy_handle</a> — Copy a cURL handle along with all of its preferences</li><li><a href="function.curl-errno.html">curl_errno</a> — Return the last error number</li><li><a href="function.curl-error.html">curl_error</a> — Return a string containing the last error for the current session</li><li><a href="function.curl-escape.html">curl_escape</a> — URL encodes the given string</li><li><a href="function.curl-exec.html">curl_exec</a> — Perform a cURL session</li><li><a href="function.curl-file-create.html">curl_file_create</a> — Create a CURLFile object</li><li><a href="function.curl-getinfo.html">curl_getinfo</a> — Get information regarding a specific transfer</li><li><a href="function.curl-init.html">curl_init</a> — Initialize a cURL session</li><li><a href="function.curl-multi-add-handle.html">curl_multi_add_handle</a> — Add a normal cURL handle to a cURL multi handle</li><li><a href="function.curl-multi-close.html">curl_multi_close</a> — Close a set of cURL handles</li><li><a href="function.curl-multi-exec.html">curl_multi_exec</a> — Run the sub-connections of the current cURL handle</li><li><a href="function.curl-multi-getcontent.html">curl_multi_getcontent</a> — Return the content of a cURL handle if CURLOPT_RETURNTRANSFER is set</li><li><a href="function.curl-multi-info-read.html">curl_multi_info_read</a> — Get information about the current transfers</li><li><a href="function.curl-multi-init.html">curl_multi_init</a> — Returns a new cURL multi handle</li><li><a href="function.curl-multi-remove-handle.html">curl_multi_remove_handle</a> — Remove a multi handle from a set of cURL handles</li><li><a href="function.curl-multi-select.html">curl_multi_select</a> — Wait for activity on any curl_multi connection</li><li><a href="function.curl-multi-setopt.html">curl_multi_setopt</a> — Set an option for the cURL multi handle</li><li><a href="function.curl-multi-strerror.html">curl_multi_strerror</a> — Return string describing error code</li><li><a href="function.curl-pause.html">curl_pause</a> — Pause and unpause a connection</li><li><a href="function.curl-reset.html">curl_reset</a> — Reset all options of a libcurl session handle</li><li><a href="function.curl-setopt-array.html">curl_setopt_array</a> — Set multiple options for a cURL transfer</li><li><a href="function.curl-setopt.html">curl_setopt</a> — Set an option for a cURL transfer</li><li><a href="function.curl-share-close.html">curl_share_close</a> — Close a cURL share handle</li><li><a href="function.curl-share-init.html">curl_share_init</a> — Initialize a cURL share handle</li><li><a href="function.curl-share-setopt.html">curl_share_setopt</a> — Set an option for a cURL share handle.</li><li><a href="function.curl-strerror.html">curl_strerror</a> — Return string describing the given error code</li><li><a href="function.curl-unescape.html">curl_unescape</a> — Decodes the given URL encoded string</li><li><a href="function.curl-version.html">curl_version</a> — Gets cURL version information</li></ul></li><li><a href="class.curlfile.html">CURLFile</a> — The CURLFile class<ul class="chunklist chunklist_book chunklist_children"><li><a href="curlfile.construct.html">CURLFile::__construct</a> — Create a CURLFile object</li><li><a href="curlfile.getfilename.html">CURLFile::getFilename</a> — Get file name</li><li><a href="curlfile.getmimetype.html">CURLFile::getMimeType</a> — Get MIME type</li><li><a href="curlfile.getpostfilename.html">CURLFile::getPostFilename</a> — Get file name for POST</li><li><a href="curlfile.setmimetype.html">CURLFile::setMimeType</a> — Set MIME type</li><li><a href="curlfile.setpostfilename.html">CURLFile::setPostFilename</a> — Set file name for POST</li><li><a href="curlfile.wakeup.html">CURLFile::__wakeup</a> — Unserialization handler</li></ul></li></ul></div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="102885">  
  <a class="name">
  <strong class="user"><em>frank at interactinet dot com</em></strong></a><div class="date" title="2011-03-11 09:29"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102885">
<div class="phpcode"><code><span class="html">
I wrote the following to see if a submitted URL has a valid http response code and also if it responds quickly. 
<br>
<br>Use the code like this:
<br>
<br><span class="default">&lt;?php
<br>$is_ok </span><span class="keyword">= </span><span class="default">http_response</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">); </span><span class="comment">// returns true only if http response code &lt; 400
<br></span><span class="default">?&gt;
<br></span>
<br>The second argument is optional, and it allows you to check for&nbsp; a specific response code
<br>
<br><span class="default">&lt;?php
<br>http_response</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">,</span><span class="string">'400'</span><span class="keyword">); </span><span class="comment">// returns true if http status is 400
<br></span><span class="default">?&gt;
<br></span>
<br>The third allows you to specify how long you are willing to wait for a response.
<br>
<br><span class="default">&lt;?php
<br>http_response</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">,</span><span class="string">'200'</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">); </span><span class="comment">// returns true if the response takes less than 3 seconds and the response code is 200
<br></span><span class="default">?&gt;
<br></span>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">http_response</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">, </span><span class="default">$status </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$wait </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$expire </span><span class="keyword">= </span><span class="default">$time </span><span class="keyword">+ </span><span class="default">$wait</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we fork the process so we don't have to wait for a timeout
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pid </span><span class="keyword">= </span><span class="default">pcntl_fork</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$pid </span><span class="keyword">== -</span><span class="default">1</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die(</span><span class="string">'could not fork'</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else if (</span><span class="default">$pid</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we are the parent
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ch </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_URL</span><span class="keyword">, </span><span class="default">$url</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_NOBODY</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">); </span><span class="comment">// remove body
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$head </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$httpCode </span><span class="keyword">= </span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLINFO_HTTP_CODE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">$head</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$status </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$httpCode </span><span class="keyword">&lt; </span><span class="default">400</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">TRUE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif(</span><span class="default">$status </span><span class="keyword">== </span><span class="default">$httpCode</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">TRUE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">pcntl_wait</span><span class="keyword">(</span><span class="default">$status</span><span class="keyword">); </span><span class="comment">//Protect against Zombie children
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">} else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we are the child
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">while(</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) &lt; </span><span class="default">$expire</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">0.5</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>Hope this example helps.&nbsp; It is not 100% tested, so any feedback [sent directly to me by email] is appreciated.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90821">  
  <a class="name">
  <strong class="user"><em>artem at zabsoft dot co dot in</em></strong></a><div class="date" title="2009-05-11 11:43"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90821">
<div class="phpcode"><code><span class="html">
Hey I modified script for php 5. Also I add support server auth. and fixed some little bugs on the script.
<br>
<br>[EDIT BY danbrown AT php DOT net: Original was written by (unlcuky13 AT gmail DOT com) on 19-APR-09.&nbsp; The following note was included:
<br>Below is the my way of using through PHP 5 objecte oriented encapsulation to make thing easier.]
<br>
<br><span class="default">&lt;?php
<br> </span><span class="keyword">class </span><span class="default">mycurl </span><span class="keyword">{
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_useragent </span><span class="keyword">= </span><span class="string">'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1'</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_url</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_followlocation</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_timeout</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_maxRedirects</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_cookieFileLocation </span><span class="keyword">= </span><span class="string">'./cookie.txt'</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_post</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_postFields</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_referer </span><span class="keyword">=</span><span class="string">"<a rel="nofollow" target="_blank">http://www.google.com</a>"</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_session</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_webpage</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_includeHeader</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_noBody</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_status</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_binaryTransfer</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$authentication </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$auth_name&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$auth_pass&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">useAuth</span><span class="keyword">(</span><span class="default">$use</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$use </span><span class="keyword">== </span><span class="default">true</span><span class="keyword">) </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setPass</span><span class="keyword">(</span><span class="default">$pass</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_pass </span><span class="keyword">= </span><span class="default">$pass</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$followlocation </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">,</span><span class="default">$timeOut </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">,</span><span class="default">$maxRedirecs </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">,</span><span class="default">$binaryTransfer </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$includeHeader </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$noBody </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_followlocation </span><span class="keyword">= </span><span class="default">$followlocation</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_timeout </span><span class="keyword">= </span><span class="default">$timeOut</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_maxRedirects </span><span class="keyword">= </span><span class="default">$maxRedirecs</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_noBody </span><span class="keyword">= </span><span class="default">$noBody</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_includeHeader </span><span class="keyword">= </span><span class="default">$includeHeader</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_binaryTransfer </span><span class="keyword">= </span><span class="default">$binaryTransfer</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/cookie.txt'</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setReferer</span><span class="keyword">(</span><span class="default">$referer</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_referer </span><span class="keyword">= </span><span class="default">$referer</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setCookiFileLocation</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)
<br>&nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation </span><span class="keyword">= </span><span class="default">$path</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setPost </span><span class="keyword">(</span><span class="default">$postFields</span><span class="keyword">)
<br>&nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_postFields </span><span class="keyword">= </span><span class="default">$postFields</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setUserAgent</span><span class="keyword">(</span><span class="default">$userAgent</span><span class="keyword">)
<br>&nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_useragent </span><span class="keyword">= </span><span class="default">$userAgent</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">createCurl</span><span class="keyword">(</span><span class="default">$url </span><span class="keyword">= </span><span class="string">'nul'</span><span class="keyword">)
<br>&nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$url </span><span class="keyword">!= </span><span class="string">'nul'</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">();
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_URL</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_HTTPHEADER</span><span class="keyword">,array(</span><span class="string">'Expect:'</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_TIMEOUT</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_timeout</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_MAXREDIRS</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_maxRedirects</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_FOLLOWLOCATION</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_followlocation</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_COOKIEJAR</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_COOKIEFILE</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">CURLOPT_USERPWD</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_name</span><span class="keyword">.</span><span class="string">':'</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_pass</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_POST</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_POSTFIELDS</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_postFields</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_includeHeader</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_HEADER</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_noBody</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_NOBODY</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/*
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($this-&gt;_binary)
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; curl_setopt($s,CURLOPT_BINARYTRANSFER,true);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_USERAGENT</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_useragent</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_REFERER</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_referer</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_webpage </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_status </span><span class="keyword">= </span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLINFO_HTTP_CODE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp;&nbsp; }
<br>
<br>&nbsp;&nbsp; public function </span><span class="default">getHttpStatus</span><span class="keyword">()
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_status</span><span class="keyword">;
<br>&nbsp;&nbsp; }
<br>
<br>&nbsp;&nbsp; public function </span><span class="default">__tostring</span><span class="keyword">(){
<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_webpage</span><span class="keyword">;
<br>&nbsp;&nbsp; }
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>[EDIT BY danbrown AT php DOT net: Contains a bugfix supplied by "roetsch.beni at googlemail (dot) com" on 02-AUG-09, with the following note: "Fixes the bugfix: 417 bug at lighthttp server."]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99979">  
  <a class="name">
  <strong class="user"><em>artax_N_O_S_P_A_M_erxes2 at iname dot com</em></strong></a><div class="date" title="2010-09-17 08:59"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99979">
<div class="phpcode"><code><span class="html">
I needed to use cURL in a php script to download data using not only SSL for the server authentication but also for client authentication.
<br>On a default install of Fedora, setting up the proper cURL parameters, I would get an error: 
<br>
<br>$ php curl.php
<br> Peer certificate cannot be authenticated with known CA certificates
<br>
<br>The data on <a rel="nofollow" target="_blank">http://curl.haxx.se/docs/sslcerts.html</a> was most useful. Indeed, toward to bottom it tells you to add a missing link inside /etc/pki/nssdb to use the ca-bundle.crt file. You do it so:
<br>
<br># cd /etc/pki/nssdb
<br># ln -s /usr/lib64/libnssckbi.so libnssckbi.so
<br>
<br>Now you can do client authentication, provided you have your certificate handy with:
<br>
<br><span class="default">&lt;?php
<br>$data </span><span class="keyword">= </span><span class="string">"&lt;soap:Envelope&gt;[...]&lt;/soap:Envelope&gt;"</span><span class="keyword">;
<br></span><span class="default">$tuCurl </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">();
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_URL</span><span class="keyword">, </span><span class="string">"https://example.com/path/for/soap/url/"</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_PORT </span><span class="keyword">, </span><span class="default">443</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_VERBOSE</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_SSLVERSION</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_SSLCERT</span><span class="keyword">, </span><span class="default">getcwd</span><span class="keyword">() . </span><span class="string">"/client.pem"</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_SSLKEY</span><span class="keyword">, </span><span class="default">getcwd</span><span class="keyword">() . </span><span class="string">"/keyout.pem"</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_CAINFO</span><span class="keyword">, </span><span class="default">getcwd</span><span class="keyword">() . </span><span class="string">"/ca.pem"</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_POST</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_SSL_VERIFYPEER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_POSTFIELDS</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">, </span><span class="default">CURLOPT_HTTPHEADER</span><span class="keyword">, array(</span><span class="string">"Content-Type: text/xml"</span><span class="keyword">,</span><span class="string">"SOAPAction: \"/soap/action/query\""</span><span class="keyword">, </span><span class="string">"Content-length: "</span><span class="keyword">.</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)));
<br>
<br></span><span class="default">$tuData </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">);
<br>if(!</span><span class="default">curl_errno</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">)){
<br>&nbsp; </span><span class="default">$info </span><span class="keyword">= </span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">);
<br>&nbsp; echo </span><span class="string">'Took ' </span><span class="keyword">. </span><span class="default">$info</span><span class="keyword">[</span><span class="string">'total_time'</span><span class="keyword">] . </span><span class="string">' seconds to send a request to ' </span><span class="keyword">. </span><span class="default">$info</span><span class="keyword">[</span><span class="string">'url'</span><span class="keyword">];
<br>} else {
<br>&nbsp; echo </span><span class="string">'Curl error: ' </span><span class="keyword">. </span><span class="default">curl_error</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">);
<br>}
<br>
<br></span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$tuCurl</span><span class="keyword">);
<br>echo </span><span class="default">$tuData</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86143">  
  <a class="name">
  <strong class="user"><em>eflash at gmx dot net</em></strong></a><div class="date" title="2008-10-05 09:45"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86143">
<div class="phpcode"><code><span class="html">
In order to use curl with secure sites you will need a ca-bundle.crt file; here's a PHP script I've written which creates a fresh ca-bundle:<br><a rel="nofollow" target="_blank">http://www.gknw.net/php/phpscripts/mk-ca-bundle.php</a><br>I've also written scripts in other languages, f.e. the Perl one which ships now with curl distributions:<br><a rel="nofollow" target="_blank">http://curl.haxx.se/lxr/source/lib/mk-ca-bundle.pl</a><br>and also a Win32 WSH script if you prefer that:<br><a rel="nofollow" target="_blank">http://www.gknw.net/vb/scripts/mk-ca-bundle.vbs</a><br><br>HTH, Guenter.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86391">  
  <a class="name">
  <strong class="user"><em>pyromus at gmail dot com</em></strong></a><div class="date" title="2008-10-16 04:37"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86391">
<div class="phpcode"><code><span class="html">
You can use this class for fast entry
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">cURL </span><span class="keyword">{
<br>var </span><span class="default">$headers</span><span class="keyword">;
<br>var </span><span class="default">$user_agent</span><span class="keyword">;
<br>var </span><span class="default">$compression</span><span class="keyword">;
<br>var </span><span class="default">$cookie_file</span><span class="keyword">;
<br>var </span><span class="default">$proxy</span><span class="keyword">;
<br>function </span><span class="default">cURL</span><span class="keyword">(</span><span class="default">$cookies</span><span class="keyword">=</span><span class="default">TRUE</span><span class="keyword">,</span><span class="default">$cookie</span><span class="keyword">=</span><span class="string">'cookies.txt'</span><span class="keyword">,</span><span class="default">$compression</span><span class="keyword">=</span><span class="string">'gzip'</span><span class="keyword">,</span><span class="default">$proxy</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">headers</span><span class="keyword">[] = </span><span class="string">'Accept: image/gif, image/x-bitmap, image/jpeg, image/pjpeg'</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">headers</span><span class="keyword">[] = </span><span class="string">'Connection: Keep-Alive'</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">headers</span><span class="keyword">[] = </span><span class="string">'Content-type: application/x-www-form-urlencoded;charset=UTF-8'</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">user_agent </span><span class="keyword">= </span><span class="string">'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.0.3705; .NET CLR 1.1.4322; Media Center PC 4.0)'</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">compression</span><span class="keyword">=</span><span class="default">$compression</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">proxy</span><span class="keyword">=</span><span class="default">$proxy</span><span class="keyword">;
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies</span><span class="keyword">=</span><span class="default">$cookies</span><span class="keyword">;
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">) </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie</span><span class="keyword">(</span><span class="default">$cookie</span><span class="keyword">);
<br>}
<br>function </span><span class="default">cookie</span><span class="keyword">(</span><span class="default">$cookie_file</span><span class="keyword">) {
<br>if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$cookie_file</span><span class="keyword">)) {
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">=</span><span class="default">$cookie_file</span><span class="keyword">;
<br>} else {
<br></span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$cookie_file</span><span class="keyword">,</span><span class="string">'w'</span><span class="keyword">) or </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">error</span><span class="keyword">(</span><span class="string">'The cookie file could not be opened. Make sure this directory has the correct permissions'</span><span class="keyword">);
<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">=</span><span class="default">$cookie_file</span><span class="keyword">;
<br></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">);
<br>}
<br>}
<br>function </span><span class="default">get</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">) {
<br></span><span class="default">$process </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_HTTPHEADER</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">headers</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_USERAGENT</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">user_agent</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_COOKIEFILE</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_COOKIEJAR</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">,</span><span class="default">CURLOPT_ENCODING </span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">compression</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_TIMEOUT</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">proxy</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_PROXY</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">proxy</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_FOLLOWLOCATION</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">$return </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">);
<br></span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">);
<br>return </span><span class="default">$return</span><span class="keyword">;
<br>}
<br>function </span><span class="default">post</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">) {
<br></span><span class="default">$process </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_HTTPHEADER</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">headers</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_USERAGENT</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">user_agent</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_COOKIEFILE</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookies </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_COOKIEJAR</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cookie_file</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_ENCODING </span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">compression</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_TIMEOUT</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">);
<br>if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">proxy</span><span class="keyword">) </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_PROXY</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">proxy</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_POSTFIELDS</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_FOLLOWLOCATION</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">, </span><span class="default">CURLOPT_POST</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br></span><span class="default">$return </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">);
<br></span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$process</span><span class="keyword">);
<br>return </span><span class="default">$return</span><span class="keyword">;
<br>}
<br>function </span><span class="default">error</span><span class="keyword">(</span><span class="default">$error</span><span class="keyword">) {
<br>echo </span><span class="string">"&lt;center&gt;&lt;div style='width:500px;border: 3px solid #FFEEFF; padding: 3px; background-color: #FFDDFF;font-family: verdana; font-size: 10px'&gt;&lt;b&gt;cURL Error&lt;/b&gt;&lt;br&gt;</span><span class="default">$error</span><span class="string">&lt;/div&gt;&lt;/center&gt;"</span><span class="keyword">;
<br>die;
<br>}
<br>}
<br></span><span class="default">$cc </span><span class="keyword">= new </span><span class="default">cURL</span><span class="keyword">();
<br></span><span class="default">$cc</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://www.example.com</a>'</span><span class="keyword">);
<br></span><span class="default">$cc</span><span class="keyword">-&gt;</span><span class="default">post</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://www.example.com</a>'</span><span class="keyword">,</span><span class="string">'foo=bar'</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>[EDIT BY danbrown AT php DOT net: Includes a bugfix provided by "Anonymous" on 01-Dec-2008 @ 06:52.&nbsp; Also replaced real URL with example.com as per RFC 2606.]
<br>
<br>[EDIT BY danbrown AT php DOT net: Includes a bugfix provided by (manuel AT rankone DOT ch) on 24-NOV-09 to properly reference cURL initialization.]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100646">  
  <a class="name">
  <strong class="user"><em>ramez at  dot dontspan dot zegenie dot com</em></strong></a><div class="date" title="2010-10-27 09:19"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100646">
<div class="phpcode"><code><span class="html">
CURL failed with PHP5.3 and Apache2.2.X on my Windows 7 machine. <br><br>It turns out that it's not enough to copy the two dll's mentioned (libeay32 and sslea32) from the php folder into your system32 folder. You HAVE TO UNBLOCK THESE TWO FILES.<br><br>Right click the file, select unblock, for each one. Then restart Apache.<br><br>Another very handy security feature added into Windows.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103600">  
  <a class="name">
  <strong class="user"><em>madhouse-network at hotmail dot com</em></strong></a><div class="date" title="2011-04-21 01:51"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103600">
<div class="phpcode"><code><span class="html">
curl does not seem to work with SSL TLS (FTPES)<br><br>It will throw the following error:<br><br>(1) Protocol ftpes not supported or disabled in libcurl</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97160">  
  <a class="name">
  <strong class="user"><em>cliffclof atty gmail dotty com</em></strong></a><div class="date" title="2010-04-05 02:21"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97160">
<div class="phpcode"><code><span class="html">
A solution that addresses repeat calls to the same set of urls using the same connection simulating frequent ajax calls in separate browser tabs.
<br>
<br>In a unique situation you may need to set a cookie then use that cookie for multiple separate persistent connections using the same session cookie.&nbsp; The problem is the session cookie may change while your doing your persistent calls.&nbsp; If you set every curl handle to update a shared cookiejar on close you may overwrite the new found session value with the old session value depending on the closing order of your handles. Also, because the cookiejar is only written to on a curl_close, you may be using dissimilar or old session info in some of your 'faked browser tabs'.
<br>
<br>To solve this problem I created a unique handle that opens and closes specifically to set a cookie file using CURLOPT_COOKIEJAR. Then I just use the read-only CURLOPT_COOKIEFILE on the multiple separate persistent handles.
<br>
<br>This solves the problem of shared cookies fighting to write their values and keep persistent calls using the most up to date cookie information.
<br>
<br>Note: In my case the multiple calls were in a while loop and I was using php in shell.&nbsp; The session cookie value plus browser type limited the number of connections available and i wanted to use the max connections per session.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89669">  
  <a class="name">
  <strong class="user"><em>admin at jeremyzaretski dot com</em></strong></a><div class="date" title="2009-03-18 08:14"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89669">
<div class="phpcode"><code><span class="html">
I wanted to create a script that acted as a bridge between an external server and an internal server, wherein the internal server was not connected to the internet, but had information required by the users connecting to the external server. I hatched the idea to use curl to connect from the external server to the internal server (using request variables to send queries) and return everything (data and headers) returned by the file server.
<br>
<br>After being driven mad by segmentation faults and crashes because the curl_exec didn't like me having the CURLOPT_HEADERFUNCTION's function directly dumping the header:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">Duplicate_Header</span><span class="keyword">(</span><span class="default">$curl</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>... I tried (on a whim) duplicating and trimming the header and passing the duplicate to the header function...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">Duplicate_Header</span><span class="keyword">(</span><span class="default">$curl</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$duplicate </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="default">$duplicate</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Which worked just fine. I don't know if this is just some quirk of PHP4 or my lack of understanding of how the curl and header function works.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113910">  
  <a class="name">
  <strong class="user"><em>fred dot knieper at gmail dot com</em></strong></a><div class="date" title="2013-12-16 04:07"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113910">
<div class="phpcode"><code><span class="html">
After a lot of frustration with the fact that nobody has documented which curl commandline options go with which library functions, I discovered that the curl commandline will tell you (in the form of a C program) if you add `--libcurl foo.c`<br><br>If you've been struggling with trying to figure out how to get your fancy curl commandline to work in PHP, this makes it a breeze!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101953">  
  <a class="name">
  <strong class="user"><em>shidec00 at yahoo dot com</em></strong></a><div class="date" title="2011-01-19 02:55"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101953">
<div class="phpcode"><code><span class="html">
This anomali only happen on windows.
<br>Server indicates that some variables built by http_build_query() is missing.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//...
<br>//...
<br>//...
<br></span><span class="default">$ping_url </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sx_url</span><span class="keyword">.</span><span class="string">'ping.php?'</span><span class="keyword">.</span><span class="default">http_build_query</span><span class="keyword">(</span><span class="default">$options</span><span class="keyword">);
<br></span><span class="default">$message </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post_curl</span><span class="keyword">(</span><span class="default">$ping_url</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>After debugging i found that $ping_url contain url like :
<br>
<br><a rel="nofollow" target="_blank">http://example.com/ping.php?app=1&amp;amp;key=mail&amp;amp;ttd=df52861e</a>
<br>
<br>But myserver give "No ttd GET variable" response
<br>
<br>This problem fixed by adding optional parameter to make sure that http_build_query() use only '&amp;' as arg separator rather than '&amp;amp;'
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//...
<br>//...
<br>//...
<br></span><span class="default">$ping_url </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sx_url</span><span class="keyword">.</span><span class="string">'ping.php?'</span><span class="keyword">.</span><span class="default">http_build_query</span><span class="keyword">(</span><span class="default">$options</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'&amp;'</span><span class="keyword">);
<br></span><span class="default">$message </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post_curl</span><span class="keyword">(</span><span class="default">$ping_url</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113074">  
  <a class="name">
  <strong class="user"><em>mkucera66 at seznam dot cz</em></strong></a><div class="date" title="2013-08-26 11:02"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom113074">
<div class="phpcode"><code><span class="html">
FYI cURL support (default enabled, ok) is prerequisite for Installation and Configuration of the Collection Extension of wiki portal.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112403">  
  <a class="name">
  <strong class="user"><em>arturo at midnightvip dot com</em></strong></a><div class="date" title="2013-06-12 10:56"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112403">
<div class="phpcode"><code><span class="html">
Hey I modified script for php 5. Also I add support server auth. and fixed some little bugs on the script. <br><br><span class="default">&lt;?php <br> </span><span class="keyword">class </span><span class="default">mycurl </span><span class="keyword">{ <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_useragent </span><span class="keyword">= </span><span class="string">'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1'</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_url</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_followlocation</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_timeout</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_maxRedirects</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_cookieFileLocation </span><span class="keyword">= </span><span class="string">'./cookie.txt'</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_post</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_postFields</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_referer </span><span class="keyword">=</span><span class="string">"<a rel="nofollow" target="_blank">http://www.midnightvip.com</a>"</span><span class="keyword">; <br><br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_session</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_webpage</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_includeHeader</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_noBody</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_status</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; protected </span><span class="default">$_binaryTransfer</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$authentication </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$auth_name&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; public&nbsp; &nbsp; </span><span class="default">$auth_pass&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">; <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">useAuth</span><span class="keyword">(</span><span class="default">$use</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$use </span><span class="keyword">== </span><span class="default">true</span><span class="keyword">) </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setPass</span><span class="keyword">(</span><span class="default">$pass</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_pass </span><span class="keyword">= </span><span class="default">$pass</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">,</span><span class="default">$followlocation </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">,</span><span class="default">$timeOut </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">,</span><span class="default">$maxRedirecs </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">,</span><span class="default">$binaryTransfer </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$includeHeader </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$noBody </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) <br>&nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_followlocation </span><span class="keyword">= </span><span class="default">$followlocation</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_timeout </span><span class="keyword">= </span><span class="default">$timeOut</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_maxRedirects </span><span class="keyword">= </span><span class="default">$maxRedirecs</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_noBody </span><span class="keyword">= </span><span class="default">$noBody</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_includeHeader </span><span class="keyword">= </span><span class="default">$includeHeader</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_binaryTransfer </span><span class="keyword">= </span><span class="default">$binaryTransfer</span><span class="keyword">; <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/cookie.txt'</span><span class="keyword">; <br><br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setReferer</span><span class="keyword">(</span><span class="default">$referer</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_referer </span><span class="keyword">= </span><span class="default">$referer</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setCookiFileLocation</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) <br>&nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation </span><span class="keyword">= </span><span class="default">$path</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setPost </span><span class="keyword">(</span><span class="default">$postFields</span><span class="keyword">) <br>&nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_postFields </span><span class="keyword">= </span><span class="default">$postFields</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">setUserAgent</span><span class="keyword">(</span><span class="default">$userAgent</span><span class="keyword">) <br>&nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_useragent </span><span class="keyword">= </span><span class="default">$userAgent</span><span class="keyword">; <br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp;&nbsp; public function </span><span class="default">createCurl</span><span class="keyword">(</span><span class="default">$url </span><span class="keyword">= </span><span class="string">'nul'</span><span class="keyword">) <br>&nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$url </span><span class="keyword">!= </span><span class="string">'nul'</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; } <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">(); <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_URL</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_HTTPHEADER</span><span class="keyword">,array(</span><span class="string">'Expect:'</span><span class="keyword">)); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_TIMEOUT</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_timeout</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_MAXREDIRS</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_maxRedirects</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_FOLLOWLOCATION</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_followlocation</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_COOKIEJAR</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_COOKIEFILE</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_cookieFileLocation</span><span class="keyword">); <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">authentication </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){ <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">CURLOPT_USERPWD</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_name</span><span class="keyword">.</span><span class="string">':'</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">auth_pass</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_post</span><span class="keyword">) <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_POST</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_POSTFIELDS</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_postFields</span><span class="keyword">); <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_includeHeader</span><span class="keyword">) <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_HEADER</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_noBody</span><span class="keyword">) <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_NOBODY</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/* <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($this-&gt;_binary) <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; curl_setopt($s,CURLOPT_BINARYTRANSFER,true); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */ <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_USERAGENT</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_useragent</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLOPT_REFERER</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_referer</span><span class="keyword">); <br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_webpage </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_status </span><span class="keyword">= </span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">CURLINFO_HTTP_CODE</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">); <br><br>&nbsp; &nbsp;&nbsp; } <br><br>&nbsp;&nbsp; public function </span><span class="default">getHttpStatus</span><span class="keyword">() <br>&nbsp;&nbsp; { <br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_status</span><span class="keyword">; <br>&nbsp;&nbsp; } <br><br>&nbsp;&nbsp; public function </span><span class="default">__tostring</span><span class="keyword">(){ <br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_webpage</span><span class="keyword">; <br>&nbsp;&nbsp; } <br>} <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/book.curl.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:39:12 GMT -->


</body></html>