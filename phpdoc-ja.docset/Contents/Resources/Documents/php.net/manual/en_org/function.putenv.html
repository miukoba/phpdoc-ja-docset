<html><!-- Mirrored from php.net/manual/en/function.putenv.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:08:03 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>putenv</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.putenv.html">
 <link rel="shorturl" href="http://php.net/putenv">
 <link rel="alternate" href="http://php.net/putenv" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.info.html">
 <link rel="prev" href="function.phpversion.html">
 <link rel="next" href="function.restore-include-path.html">

 <link rel="alternate" href="function.putenv.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.putenv.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.putenv.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.putenv.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.putenv.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.putenv.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.putenv.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.putenv.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.putenv.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.putenv.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.putenv.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>      <li><a href="book.info.html">PHP Options/Info</a></li>      <li><a href="ref.info.html">PHP Options/Info Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.putenv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">putenv</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">putenv</span> â€” <span class="dc-title">Sets the value of an environment variable</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.putenv-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>putenv</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$setting</code></span>
   )</div>

  <p class="para rdfs-comment">
   Adds <code class="parameter">setting</code> to the server environment.  The
   environment variable will only exist for the duration of the current
   request. At the end of the request the environment is restored to its
   original state.
  </p>
  <p class="para">
   Setting certain environment variables may be a potential security breach.
   The <em>safe_mode_allowed_env_vars</em> directive contains a
   comma-delimited list of prefixes. In Safe Mode, the user may only alter
   environment variables whose names begin with the prefixes supplied by
   this directive. By default, users will only be able to set environment
   variables that begin with <em>PHP_</em> (e.g.
   <em>PHP_FOO=BAR</em>). Note: if this directive is empty, PHP
   will let the user modify ANY environment variable!
  </p>
  <p class="para">
   The <em>safe_mode_protected_env_vars</em> directive contains a
   comma-delimited list of environment variables, that the end user won't be
   able to change using <span class="function"><strong>putenv()</strong></span>.  These variables will
   be protected even if <em>safe_mode_allowed_env_vars</em> is set
   to allow to change them.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.putenv-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">setting</code></dt>

     <dd>

      <p class="para">
       The setting, like <em>"FOO=BAR"</em>
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.putenv-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.putenv-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-536">
    <p><strong>Example #1 Setting an environment variable</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>putenv</span><span style="color: #007700">(</span><span style="color: #DD0000">"UNIQID=</span><span style="color: #0000BB">$uniqid</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.putenv-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">
    The <em>safe_mode_allowed_env_vars</em> and
    <em>safe_mode_protected_env_vars</em> directives only take
    effect when <a href="features.safe-mode.html" class="link">safe_mode</a> is
    enabled.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.putenv-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.getenv.html" class="function" rel="rdfs-seeAlso">getenv()</a> - Gets the value of an environment variable</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="73308">  
  <a class="name">
  <strong class="user"><em>JM</em></strong></a><div class="date" title="2007-02-16 06:41"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73308">
<div class="phpcode"><code><span class="html">
The other problem with the code from av01 at bugfix dot cc is that<br>the behaviour is as per the comments here, not there:<br><span class="default">&lt;?php<br>putenv</span><span class="keyword">(</span><span class="string">'MYVAR='</span><span class="keyword">); </span><span class="comment">// set MYVAR to an empty value.&nbsp; It is in the environment<br></span><span class="default">putenv</span><span class="keyword">(</span><span class="string">'MYVAR'</span><span class="keyword">); </span><span class="comment">// unset MYVAR.&nbsp; It is removed from the environment<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8496">  
  <a class="name">
  <strong class="user"><em>david dot boyce at messagingdirect dot comnospam</em></strong></a><div class="date" title="2000-09-13 10:23"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8496">
<div class="phpcode"><code><span class="html">
Environment variables are part of the underlying operating system's
<br>way of doing things, and are used to pass information between a parent
<br>process and its child, as well as to affect the way some internal
<br>functions behave.&nbsp; They should not be regarded as ordinary PHP
<br>variables.
<br>
<br>A primary purpose of setting environment variables in a PHP script is
<br>so that they are available to processes invoked by that script using
<br>e.g. the system() function, and it's unlikely that they would need to
<br>be changed for other reasons.
<br>
<br>For example, if a particular system command required a special value
<br>of the environment variable LD_LIBRARY_PATH to execute successfully,
<br>then the following code might be used on a *NIX system:
<br>
<br><span class="default">&lt;?php
<br> $saved </span><span class="keyword">= </span><span class="default">getenv</span><span class="keyword">(</span><span class="string">"LD_LIBRARY_PATH"</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// save old value
<br> </span><span class="default">$newld </span><span class="keyword">= </span><span class="string">"/extra/library/dir:/another/path/to/lib"</span><span class="keyword">;&nbsp; </span><span class="comment">// extra paths to add
<br> </span><span class="keyword">if (</span><span class="default">$saved</span><span class="keyword">) { </span><span class="default">$newld </span><span class="keyword">.= </span><span class="string">":</span><span class="default">$saved</span><span class="string">"</span><span class="keyword">; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// append old paths if any
<br> </span><span class="default">putenv</span><span class="keyword">(</span><span class="string">"LD_LIBRARY_PATH=</span><span class="default">$newld</span><span class="string">"</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// set new value
<br> </span><span class="default">system</span><span class="keyword">(</span><span class="string">"mycommand -with args"</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// do system command; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // mycommand is loaded using
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // libs in the new path list
<br> </span><span class="default">putenv</span><span class="keyword">(</span><span class="string">"LD_LIBRARY_PATH=</span><span class="default">$saved</span><span class="string">"</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// restore old value
<br></span><span class="default">?&gt;
<br></span>
<br>It will usually be appropriate to restore the old value after use;
<br>LD_LIBRARY_PATH is a particularly good example of a variable which it
<br>is important to restore immediately, as it is used by internal
<br>functions.
<br>
<br>If php.ini configuration allows, the values of environment variables
<br>are made available as PHP global variables on entry to a script, but
<br>these global variables are merely copies and do not track the actual
<br>environment variables once the script is entered.&nbsp; Changing
<br>$REMOTE_ADDR (or even $HTTP_ENV_VARS["REMOTE_ADDR"]) should not be
<br>expected to affect the actual environment variable; this is why
<br>putenv() is needed.
<br>
<br>Finally, do not rely on environment variables maintaining the same
<br>value from one script invocation to the next, especially if you have
<br>used putenv().&nbsp; The result depends on many factors, such as CGI vs
<br>apache module, and the exact way in which the environment is
<br>manipulated before entering the script.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98540">  
  <a class="name">
  <strong class="user"><em>php at keith tyler dot com</em></strong></a><div class="date" title="2010-06-21 05:52"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98540">
<div class="phpcode"><code><span class="html">
putenv/getenv, $_ENV, and phpinfo(INFO_ENVIRONMENT) are three completely distinct environment stores. doing putenv("x=y") does not affect $_ENV; but also doing $_ENV["x"]="y" likewise does not affect getenv("x"). And neither affect what is returned in phpinfo().<br><br>Assuming the USER environment variable is defined as "dave" before running the following:<br><br><span class="default">&lt;?php<br></span><span class="keyword">print </span><span class="string">"env is: "</span><span class="keyword">.</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">"USER"</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="string">"(doing: putenv fred)\n"</span><span class="keyword">;<br></span><span class="default">putenv</span><span class="keyword">(</span><span class="string">"USER=fred"</span><span class="keyword">);<br>print </span><span class="string">"env is: "</span><span class="keyword">.</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">"USER"</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="string">"getenv is: "</span><span class="keyword">.</span><span class="default">getenv</span><span class="keyword">(</span><span class="string">"USER"</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="string">"(doing: set _env barney)\n"</span><span class="keyword">;<br></span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">"USER"</span><span class="keyword">]=</span><span class="string">"barney"</span><span class="keyword">;<br>print </span><span class="string">"getenv is: "</span><span class="keyword">.</span><span class="default">getenv</span><span class="keyword">(</span><span class="string">"USER"</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="string">"env is: "</span><span class="keyword">.</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">"USER"</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">phpinfo</span><span class="keyword">(</span><span class="default">INFO_ENVIRONMENT</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>prints:<br><br>env is: dave<br>(doing: putenv fred)<br>env is: dave<br>getenv is: fred<br>(doing: set _env barney)<br>getenv is: fred<br>env is: barney<br>phpinfo()<br><br>Environment<br><br>Variable =&gt; Value<br>...<br>USER =&gt; dave<br>...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108085">  
  <a class="name">
  <strong class="user"><em>Anonymous Coder</em></strong></a><div class="date" title="2012-03-27 06:28"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108085">
<div class="phpcode"><code><span class="html">
It's the putenv() type of environment variables that get passed to a child process executed via exec().<br><br>If you need to delete an existing environment variable so the child process does not see it, use:<br><br>putenv('FOOBAR');<br><br>That is, leave out both the "=" and a value.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49751">  
  <a class="name">
  <strong class="user"><em>Iavor</em></strong></a><div class="date" title="2005-02-07 02:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49751">
<div class="phpcode"><code><span class="html">
Compare to apache_setenv() and apache_getenv().<br><br>I had a case setting an env var in VirtualHost which I tried to change with putenv() - but did not work.<br><br>apache_setenv() worked.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30774">  
  <a class="name">
  <strong class="user"><em>cap at capsi dot com</em></strong></a><div class="date" title="2003-03-27 10:18"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30774">
<div class="phpcode"><code><span class="html">
I've been using putenv with PHP 4.3.1 and Apache 2.0.44, but it does not seem to restore variables correctly. I'm getting +0100 and -0800 entries all across my Apache logs. Manually adding a putenv in page footers to restore the original value seems to fix things, but I still wish I could set the time zone for a specific request only.<br><br>I'm not sure whether using putenv affects all threads within the process, that could be another problem.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.putenv.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:08:03 GMT -->


</body></html>