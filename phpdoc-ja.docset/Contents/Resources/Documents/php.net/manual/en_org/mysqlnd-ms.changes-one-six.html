<html><!-- Mirrored from php.net/manual/en/mysqlnd-ms.changes-one-six.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:13 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>PECL/mysqlnd_ms 1.6 series</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="mysqlnd-ms.changes-one-six.html">
 <link rel="shorturl" href="mysqlnd-ms.changes-one-six.html">
 <link rel="alternate" href="mysqlnd-ms.changes-one-six.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="mysqlnd-ms.changes.html">
 <link rel="prev" href="mysqlnd-ms.changes.html">
 <link rel="next" href="mysqlnd-ms.changes-one-five.html">

 <link rel="alternate" href="mysqlnd-ms.changes-one-six.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/mysqlnd-ms.changes-one-six.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/mysqlnd-ms.changes-one-six.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/mysqlnd-ms.changes-one-six.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/mysqlnd-ms.changes-one-six.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/mysqlnd-ms.changes-one-six.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/mysqlnd-ms.changes-one-six.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/mysqlnd-ms.changes-one-six.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/mysqlnd-ms.changes-one-six.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/mysqlnd-ms.changes-one-six.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/mysqlnd-ms.changes-one-six.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqlnd-ms.html">mysqlnd_ms</a></li>      <li><a href="mysqlnd-ms.changes.html">Change History</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="mysqlnd-ms.changes-one-six" class="section">
  <h2 class="title">PECL/mysqlnd_ms 1.6 series</h2>
  <p class="para">
   1.6.0-alpha
   </p><ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      Release date: TBD
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Motto/theme: Maintenance and initial MySQL Fabric support
     </span>
    </li>
   </ul>
  <p></p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
     This is the current development series. All
     features are at an early stage. Changes may happen at any time without
     prior notice. Please, do not use this version in production environments.
    </p>
    <p class="para">
     The documentation may not reflect all changes yet.
    </p>
  <p></p></blockquote>
  <p class="para">
   Bug fixes
   </p><ul class="itemizedlist">
     <li class="listitem">
     <p class="para">
      Won't fix: #66616 R/W split fails: QOS with mysqlnd_get_last_gtid with built-in MySQL GTID
     </p>
     <p class="para">
      This is not a bug in the plugins implementation but a server side feature
      limitation not considered and documented before. MySQL 5.6 built-in GTIDs cannot be
      used to ensure session consistency when reading from slaves in all cases.
      In the worst case the plugin will not consider using the slaves and
      fallback to using the master. There will be no wrong results but no benefit
      from doing GTID checks either.
     </p>
    </li>
    <li class="listitem">
      <p class="para">
        Fixed #66064 - Random once load balancer ignoring weights
      </p>
      <p class="para">
        Due to a config parsing bug random load balancing has ignored node
        weights if, and only if, the sticky flag was set (random once).
      </p>
    </li>
    <li class="listitem">
      <p class="para">
        Fixed #65496 - Wrong check for slave delay
      </p>
      <p class="para">
       The quality of service filter has erroneously ignored slaves
       that lag for zero (0) seconds if a any maximum lag had been set.
       Although a slave was not lagging behind, it was excluded from the
       load balancing list if a maximum age was set by the QoS filter.
       This was due to using the wrong comparison operator in the source
       of the filter.
      </p>
    </li>
    <li class="listitem">
      <p class="para">
        Fixed #65408 - Compile failure with -Werror=format-security
      </p>
     </li>
   </ul>
  <p></p>
  <p class="para">
   Feature changes
   </p><ul class="itemizedlist">
    <li class="listitem">
    <p class="para">
      Introduced an internal connection pool. When using Fabric and switching
      from shard group A to shard group B, we are replacing the entire list of
      masters and slaves. This troubles the connections state alignment logic and
      some filters. Some filters cache information on the master and slave lists.
      The new internal connection pool abstraction allows us to inform the filters
      of changes, hence they can update their caches.
     </p>
     <p class="para">
      Later on, the pool can also be used to reduce connection overhead. Assume
      you are switching from a shard group to another and back again. Whenever
      the switch is done, the pool's active server (and connection) lists are
      replaced. However, no longer used connections are not necessarily closed
      immediately but can be kept in the pool for later reuse.
     </p>
     <p class="para">
      Please note, the connection pool is internalat this point. There are some
      new statistics to monitor it. However, you cannot yet configure pool size
      of behaviour. 
     </p>
    </li>
    <li class="listitem">
    <p class="para">
      Added a basic distributed transaction abstraction.
      XA transactions can are supported ever since using standard SQL calls.
      This is inconvenient as XA participants must be managed manually.
      PECL/mysqlnd_ms introduces API calls to control XA transaction among MySQL servers.
      When using the new functions, PECL/mysqlnd_ms acts as a transaction coordinator.
      After starting a distributed transaction, the plugin tracks all servers
      involved until the transaction is ended and issues appropriate SQL statements
      on the XA participants.
     </p>
     <p class="para">
       This is useful, for example, when using Fabric and sharding. When using
       Fabric the actual shard servers involved in a business transaction may not be known
       in advance. Thus, manually controlling a transaction that spawns multiple shards becomes
       difficult.
       Please, be warned about <a href="mysqlnd-ms.concept_xa_trx.html" class="link">current limitations</a>.
     </p>
    </li>
    <li class="listitem">
    <p class="para">
      Introduced automatic retry loop for
      <a href="mysqlnd-ms.transient_errors.html" class="link">transient errors</a> and
      <a href="function.mysqlnd-ms-get-stats.html" class="link">corresponding statistic</a>
      to count the number of implicit retries. Some distributed
      database clusters use transient errors to hint a client to retry
      its operation in a bit. Most often, the client is then supposed
      to halt execution (sleep) for a short moment before retrying the
      desired operation. Immediately failing over to another node
      is not necessary in response to the error. Instead, a retry loop
      can be performed. Common situation when using MySQL Cluster.
     </p>
    </li>
    <li class="listitem">
    <p class="para">
      Introduced automatic retry loop for
      <a href="mysqlnd-ms.transient_errors.html" class="link">transient errors</a> and
      <a href="function.mysqlnd-ms-get-stats.html" class="link">corresponding statistic</a>
      to count the number of implicit retries. Some distributed
      database clusters use transient errors to hint a client to retry
      its operation in a bit. Most often, the client is then supposed
      to halt execution (sleep) for a short moment before retrying the
      desired operation. Immediately failing over to another node
      is not necessary in response to the error. Instead, a retry loop
      can be performed. Common situation when using MySQL Cluster.
     </p>
    </li>
    <li class="listitem">
    <p class="para">
      Introduced <a href="mysqlnd-ms.quickstart.mysql_fabric.html" class="link">most basic support</a>
      for the MySQL Fabric High Availability and sharding framework.
    </p>
    <p class="para">
      Please, consider this pre-alpha quality. Both the
      server side framework and the client side code is supposed to work flawless
      considering the MySQL Fabric quickstart examples only. However, testing has not been
      performed to the level of prior plugin  alpha releases.
      Either sides are moving targets, API changes may happen at any
      time without prior warning.
     </p>
     <p class="para">
      As this is work in progress, the manual may not yet reflect allow
      feature limitations and known bugs.
     </p>
    </li>
    <li class="listitem">
    <p class="para">
      New
      <a href="function.mysqlnd-ms-get-stats.html" class="link">statistics</a>
      to monitor the Fabric XML RPC call <em>sharding.lookup_servers</em>:
      <em>fabric_sharding_lookup_servers_success</em>,
      <em>fabric_sharding_lookup_servers_failure</em>,
      <em>fabric_sharding_lookup_servers_time_total</em>,
      <em>fabric_sharding_lookup_servers_bytes_total</em>,
      <em>fabric_sharding_lookup_servers_xml_failure</em>.
     </p>
    </li>
   <li class="listitem">
    <p class="para">
      New functions related to MySQL Fabric:
      <a href="function.mysqlnd-ms-fabric-select-shard.html" class="link">
      <span class="function"></span></a><a href="function.mysqlnd-ms-fabric-select-shard.html" class="function">mysqlnd_ms_fabric_select_shard()</a>,
      <a href="function.mysqlnd-ms-fabric-select-global.html" class="link">
      <span class="function"></span></a><a href="function.mysqlnd-ms-fabric-select-global.html" class="function">mysqlnd_ms_fabric_select_global()</a>,
      <a href="function.mysqlnd-ms-dump-servers.html" class="link">
      <span class="function"></span></a><a href="function.mysqlnd-ms-dump-servers.html" class="function">mysqlnd_ms_dump_servers()</a>.
     </p>
    </li>
   </ul>
  <p></p>
 </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/mysqlnd-ms.changes-one-six.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:13 GMT -->


</body></html>