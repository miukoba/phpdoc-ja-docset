<html><!-- Mirrored from php.net/manual/en/function.localtime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:22 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>localtime</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.localtime.html">
 <link rel="shorturl" href="http://php.net/localtime">
 <link rel="alternate" href="http://php.net/localtime" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.datetime.html">
 <link rel="prev" href="function.idate.html">
 <link rel="next" href="function.microtime.html">

 <link rel="alternate" href="function.localtime.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.localtime.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.localtime.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.localtime.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.localtime.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.localtime.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.localtime.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.localtime.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.localtime.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.localtime.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.localtime.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="ref.datetime.html">Date/Time Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.localtime" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">localtime</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">localtime</span> â€” <span class="dc-title">Get the local time</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.localtime-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>localtime</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$timestamp</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$is_associative</code><span class="initializer"> = false</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   The <span class="function"><strong>localtime()</strong></span> function returns an array
   identical to that of the structure returned by the C function
   call.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.localtime-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
    
<dt>
<code class="parameter">timestamp</code></dt>
<dd>
<p class="para">
The optional <code class="parameter">timestamp</code> parameter is an
<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> Unix timestamp that defaults to the current
local time if a <code class="parameter">timestamp</code> is not given. In other
words, it defaults to the value of <span class="function"><a href="function.time.html" class="function">time()</a></span>.
</p></dd>

   
    
     <dt>
<code class="parameter">is_associative</code></dt>

     <dd>

      <p class="para">
       If set to <strong><code>FALSE</code></strong> or not supplied then the array is returned as a regular, 
       numerically indexed array.  If the argument is set to <strong><code>TRUE</code></strong> then
       <span class="function"><strong>localtime()</strong></span> returns an associative array containing
       all the different elements of the structure returned by the C
       function call to localtime.  The names of the different keys of
       the associative array are as follows:
      </p>
      <p class="para">
       </p><ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          "tm_sec" - seconds, <em>0</em> to <em>59</em>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_min" - minutes, <em>0</em> to <em>59</em>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_hour" - hours, <em>0</em> to <em>23</em>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_mday" - day of the month, <em>1</em> to <em>31</em>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_mon" - month of the year, <em>0</em> (Jan) to <em>11</em> (Dec)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_year" - years since 1900
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_wday" - day of the week, <em>0</em> (Sun) to <em>6</em> (Sat)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_yday" - day of the year, <em>0</em> to <em>365</em>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          "tm_isdst" - is daylight savings time in effect? 
         </span>
         <span class="simpara">
          Positive if yes, <em>0</em> if not, negative if unknown.
         </span>
        </li>
       </ul>
      <p></p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.localtime-errors">
  <h3 class="title">Errors/Exceptions</h3>
   
   <p class="para">
Every call to a date/time function will generate a <strong><code>E_NOTICE</code></strong>
if the time zone is not valid, and/or a <strong><code>E_STRICT</code></strong>
or <strong><code>E_WARNING</code></strong> message
if using the system settings or the <var class="varname"><var class="varname">TZ</var></var> environment
variable. See also <span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span></p>
 
 </div>


 <div class="refsect1 changelog" id="refsect1-function.localtime-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      
      <tr><td>5.1.0</td><td><p class="para">
Now issues the <strong><code>E_STRICT</code></strong> and <strong><code>E_NOTICE</code></strong>
time zone errors.</p></td></tr>

     
     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.localtime-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2404">
    <p><strong>Example #1 <span class="function"><strong>localtime()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$localtime&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">localtime</span><span style="color: #007700">();<br></span><span style="color: #0000BB">$localtime_assoc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">localtime</span><span style="color: #007700">(</span><span style="color: #0000BB">time</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$localtime</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$localtime_assoc</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [0] =&gt; 24
    [1] =&gt; 3
    [2] =&gt; 19
    [3] =&gt; 3
    [4] =&gt; 3
    [5] =&gt; 105
    [6] =&gt; 0
    [7] =&gt; 92
    [8] =&gt; 1
)

Array
(
    [tm_sec] =&gt; 24
    [tm_min] =&gt; 3
    [tm_hour] =&gt; 19
    [tm_mday] =&gt; 3
    [tm_mon] =&gt; 3
    [tm_year] =&gt; 105
    [tm_wday] =&gt; 0
    [tm_yday] =&gt; 92
    [tm_isdst] =&gt; 1
)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.localtime-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.getdate.html" class="function" rel="rdfs-seeAlso">getdate()</a> - Get date/time information</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="104133">  
  <a class="name">
  <strong class="user"><em>Chris</em></strong></a><div class="date" title="2011-05-25 08:26"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104133">
<div class="phpcode"><code><span class="html">
Sometimes, there's not a server-based/PHP method for getting local time. You have to get it from the client via Javascript.&nbsp; Google "bitbucket timezone detect" and use it to set a "local_timezone" cookie that you can read from PHP and set via date_default_timezone_set()</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27516">  
  <a class="name">
  <strong class="user"><em>arch at archtech dot yi dot org</em></strong></a><div class="date" title="2002-12-09 01:25"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27516">
<div class="phpcode"><code><span class="html">
You can implement gmtime quote simply.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">GetTZOffset</span><span class="keyword">() { 
<br>&nbsp; </span><span class="default">$Offset </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"O"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br>&nbsp;&nbsp; 
<br>&nbsp; </span><span class="default">$Parity </span><span class="keyword">= </span><span class="default">$Offset </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$Offset </span><span class="keyword">= </span><span class="default">$Parity </span><span class="keyword">* </span><span class="default">$Offset</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$Offset </span><span class="keyword">= (</span><span class="default">$Offset </span><span class="keyword">- (</span><span class="default">$Offset </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">))/</span><span class="default">100</span><span class="keyword">*</span><span class="default">60 </span><span class="keyword">+ </span><span class="default">$Offset </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">;
<br>
<br>&nbsp; return </span><span class="default">$Parity </span><span class="keyword">* </span><span class="default">$Offset</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$TZOffset </span><span class="keyword">= </span><span class="default">GetTZOffset</span><span class="keyword">();
<br>
<br></span><span class="default">$t_time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">()-</span><span class="default">$TZOffset</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">; </span><span class="comment">#Counter adjust for localtime()
<br></span><span class="default">$t_arr </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">$t_time</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="14203">  
  <a class="name">
  <strong class="user"><em>verdy_p at wanadoo dot fr</em></strong></a><div class="date" title="2001-07-22 05:23"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom14203">
<div class="phpcode"><code><span class="html">
The corresponding function call to get the GMT time is not specified here. Only local time is reported, according to the current TZ environment setting.
<br>One could try to use putenv() to set another timezone temporarily, however when running PHP in safe mode, putenv() is disabled and cannot be used in scripts.
<br>However it's possible to simulate gmttime() by using localtime() and by transforming the results in the returned array.
<br>The biggest problem with this function is that it is using an OS-dependent and localtime() function which is also depending on the standard C library implementation (some of them, do not support accurate locales). The second problem is that localtime() does not return an index specifying the local timezone offset, so transforming this date to UTC will become very ugly. Some systems support the gmtime() C function call, some don't. To get the timezone, some C libraries provide a global _timezone variable, some provide it as a macro that use a function call, some do not provide any variable, and one must deduce it by interpreting the TZ environment. This is too much ugly for PHP.
<br>
<br>PHP should be extended by adding support to gmttime() with the same parameters, but the returned array should include additional indices to store the timezone offsets in seconds and names for both standard time and DST, for example:
<br> [tz_offset_std] = 3600,
<br> [tz_offset_dst]= 7200,
<br> [tz_name_std] = 'CET', (GMT+01:00)
<br> [tz_name_dst] = 'CEDT'. (GMT+02:00)
<br>Or for the international, locale-independant, Zulu time (also known as UCT or simply UT), returned by gmtime():
<br> [tz_offset] = 0,
<br> [tz_offset_dst]= 0,
<br> [tz_name] = 'Z',
<br> [tz_name_dst] = 'Z'.
<br>
<br>But it's much easier to use PHP's date() and gmdate() to make such transformations.
<br>
<br>Beware of DST rules! In the southern hemisphere, standard time still occurs during winter, but the southern Winter is in June, not in December ! Use the tm_isdst indicator to know which timezone to display or interpret !</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71632">  
  <a class="name">
  <strong class="user"><em>anomie at users dot sourceforge dot net</em></strong></a><div class="date" title="2006-12-08 12:22"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71632">
<div class="phpcode"><code><span class="html">
Here is another version of gmtime(). This one doesn't involve messing around with timezones at all. Note that PHP4 users should check out the array_combine page for replacements for that function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">gmtime</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$is_associative</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){<br>&nbsp; &nbsp; if(</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">)) </span><span class="default">$ts</span><span class="keyword">=</span><span class="default">time</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$t</span><span class="keyword">=</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'intval'</span><span class="keyword">,</span><span class="default">explode</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">,</span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'s,i,H,d,m,Y,w,z,I'</span><span class="keyword">,</span><span class="default">$ts</span><span class="keyword">)));<br>&nbsp; &nbsp; </span><span class="default">$t</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]--;<br>&nbsp; &nbsp; </span><span class="default">$t</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]-=</span><span class="default">1900</span><span class="keyword">;<br>&nbsp; &nbsp; if(!</span><span class="default">$is_associative</span><span class="keyword">) return </span><span class="default">$t</span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">array_combine</span><span class="keyword">(array(</span><span class="string">'tm_sec'</span><span class="keyword">,</span><span class="string">'tm_min'</span><span class="keyword">,</span><span class="string">'tm_hour'</span><span class="keyword">,</span><span class="string">'tm_mday'</span><span class="keyword">,</span><span class="string">'tm_mon'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'tm_year'</span><span class="keyword">,</span><span class="string">'tm_wday'</span><span class="keyword">,</span><span class="string">'tm_yday'</span><span class="keyword">,</span><span class="string">'tm_isdst'</span><span class="keyword">),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21035">  
  <a class="name">
  <strong class="user"><em>jausions-N at SPAM-hotmail dot com</em></strong></a><div class="date" title="2002-04-26 12:42"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21035">
<div class="phpcode"><code><span class="html">
I strongly suggest to do all of your developments using GMT/UTC dates &amp; times.
<br>
<br>I provide here a version of a 'gmttime' function. Save it in a separate file and include it when needed.
<br>
<br>Please post a correction here if you find it not working for your timezone (with or without daylight saving time.). 
<br>
<br>Thanks &amp; Enjoy.
<br>-----------------------------------------------
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//
<br>// File: gmttime.php
<br>//
<br>// Description:
<br>//&nbsp; &nbsp; Implements the gmttime function if missing from the PHP distribution
<br>//
<br>
<br>// Verifies that the function isn't already implemented
<br></span><span class="keyword">if (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">gmttime</span><span class="keyword">))
<br>&nbsp; &nbsp; return;
<br>
<br></span><span class="comment">//
<br>// Function: gmttime
<br>//
<br>// Description:
<br>//&nbsp;&nbsp; Returns an array indexed as by the localtime() function:
<br>//&nbsp;&nbsp; - 0 or tm_sec: Seconds
<br>//&nbsp;&nbsp; - 1 or tm_min: Minutes
<br>//&nbsp;&nbsp; - 2 or tm_hour: Hour
<br>//&nbsp;&nbsp; - 3 or tm_mday: Day of the month
<br>//&nbsp;&nbsp; - 4 or tm_mon: Month of the year
<br>//&nbsp;&nbsp; - 5 or tm_year: Years since 1900
<br>//&nbsp;&nbsp; - 6 or tm_wday: Day of the week
<br>//&nbsp;&nbsp; - 7 or tm_yday: Day of the year
<br>//&nbsp;&nbsp; - 8 or tm_isdst: Is daylight saving time in effect
<br>//&nbsp;&nbsp; - tm_fyear: Full year (only available with associative array)
<br>//
<br>// Arguments:
<br>//&nbsp;&nbsp; - Timestamp
<br>//&nbsp;&nbsp; - Boolean (for associative indexing: 0 = off, 1 = on)
<br>//
<br>// Returns:
<br>//&nbsp;&nbsp; An array on success,
<br>//&nbsp;&nbsp; false on failure.
<br>//
<br></span><span class="keyword">function </span><span class="default">gmttime</span><span class="keyword">(</span><span class="default">$dTimestamp </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$bAssoc </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="comment">// Evaluate how much difference there is between local and GTM/UTC
<br>&nbsp; &nbsp; // Don't forget to correct for daylight saving time...
<br>&nbsp; &nbsp; </span><span class="default">$aNow </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$iDelta </span><span class="keyword">= </span><span class="default">gmmktime</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1970</span><span class="keyword">, </span><span class="default">$aNow</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">]) - </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1970</span><span class="keyword">, </span><span class="default">$aNow</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">]);
<br>
<br>&nbsp; &nbsp; if (!</span><span class="default">$bAssoc</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$dTimestamp </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">time</span><span class="keyword">() - </span><span class="default">$iDelta</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">$dTimestamp </span><span class="keyword">- </span><span class="default">$iDelta</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// For associative array, add full year index
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$dTimestamp </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aGMTTime </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">time</span><span class="keyword">() - </span><span class="default">$iDelta</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aGMTTime </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">$dTimestamp </span><span class="keyword">- </span><span class="default">$iDelta</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aGMTTime</span><span class="keyword">[</span><span class="string">'tm_fyear'</span><span class="keyword">] = </span><span class="default">$aGMTTime</span><span class="keyword">[</span><span class="string">'tm_year'</span><span class="keyword">] + </span><span class="default">1900</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$aGMTTime</span><span class="keyword">;
<br>&nbsp; &nbsp; } </span><span class="comment">// End [IF] return associative array?
<br></span><span class="keyword">} </span><span class="comment">// End [FUNCTION] gmttime
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="20336">  
  <a class="name">
  <strong class="user"><em>bens_nospam at benjamindsmith dot com</em></strong></a><div class="date" title="2002-03-30 06:29"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom20336">
<div class="phpcode"><code><span class="html">
You must keep in mind the difference between your server's time and your client's time! <br><br>I ran into this one when I wrote a calendar-based reminder system with SMS messaging - guys back east were always getting their messages late. (!?!) <br><br>I wrote two functions as wrappers for date handling, ServerTime() and ClientTime() that take client time (integer timestamp) and translate to server time and vice-versa based on config file settings. <br><br>Needless to say, you CANNOT FORGET THIS.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40183">  
  <a class="name">
  <strong class="user"><em>tony at speedscript dot com</em></strong></a><div class="date" title="2004-02-24 10:35"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom40183">
<div class="phpcode"><code><span class="html">
Date select box for the current week, or whatever week you give for an offset (in seconds), returns the string you can echo with the select box named $name:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">week_date_selectbox</span><span class="keyword">( </span><span class="default">$time_offset</span><span class="keyword">, </span><span class="default">$name </span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; if( isset( </span><span class="default">$time_offset </span><span class="keyword">) )
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() + </span><span class="default">$time_offset</span><span class="keyword">;
<br>&nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();
<br>
<br>&nbsp; &nbsp; </span><span class="default">$wday </span><span class="keyword">= array(</span><span class="string">"Sun "</span><span class="keyword">,</span><span class="string">"Mon "</span><span class="keyword">,</span><span class="string">"Tue "</span><span class="keyword">,</span><span class="string">"Wed "</span><span class="keyword">,</span><span class="string">"Thu "</span><span class="keyword">,</span><span class="string">"Fri "</span><span class="keyword">,</span><span class="string">"Sat "</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$mon </span><span class="keyword">= array(</span><span class="string">"Jan "</span><span class="keyword">,</span><span class="string">"Feb "</span><span class="keyword">,</span><span class="string">"Mar "</span><span class="keyword">,</span><span class="string">"Apr "</span><span class="keyword">,</span><span class="string">"May "</span><span class="keyword">,</span><span class="string">"Jun "</span><span class="keyword">,</span><span class="string">"Jul "</span><span class="keyword">,</span><span class="string">"Aug "</span><span class="keyword">,</span><span class="string">"Sep "</span><span class="keyword">,</span><span class="string">"Oct "</span><span class="keyword">,</span><span class="string">"Nov "</span><span class="keyword">,</span><span class="string">"Dec "</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$mybox </span><span class="keyword">= </span><span class="string">"&lt;select name=\"</span><span class="default">$name</span><span class="string">\"&gt;\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; for(</span><span class="default">$ii </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$ii </span><span class="keyword">&gt; -</span><span class="default">6</span><span class="keyword">; </span><span class="default">$ii</span><span class="keyword">--)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tarr </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">( </span><span class="default">$t </span><span class="keyword">+ </span><span class="default">$ii </span><span class="keyword">* </span><span class="default">86400</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_wday"</span><span class="keyword">] == </span><span class="default">0 </span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// found Sunday, now make the week's strings
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">for(</span><span class="default">$jj </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$jj </span><span class="keyword">&lt; </span><span class="default">7</span><span class="keyword">; </span><span class="default">$jj</span><span class="keyword">++)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tarr </span><span class="keyword">= </span><span class="default">localtime</span><span class="keyword">( </span><span class="default">$t </span><span class="keyword">+ (</span><span class="default">$jj </span><span class="keyword">+ </span><span class="default">$ii</span><span class="keyword">) * </span><span class="default">86400</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mybox </span><span class="keyword">.= </span><span class="default">sprintf</span><span class="keyword">( </span><span class="string">" &lt;option value=\"%04d-%02d-%02d\"&gt;%s%s%d %d&lt;/option&gt;\n"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((int)</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_year"</span><span class="keyword">] + </span><span class="default">1900</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_mon"</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((int)</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_mday"</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$wday</span><span class="keyword">[</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_wday"</span><span class="keyword">]],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mon</span><span class="keyword">[</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_mon"</span><span class="keyword">]],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (int)</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_mday"</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((int)</span><span class="default">$tarr</span><span class="keyword">[</span><span class="string">"tm_year"</span><span class="keyword">] + </span><span class="default">1900</span><span class="keyword">) );
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$mybox </span><span class="keyword">.= </span><span class="string">"&lt;/select&gt;\n"</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; return </span><span class="default">$mybox</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="14936">  
  <a class="name">
  <strong class="user"><em>test at test dot de</em></strong></a><div class="date" title="2001-08-21 10:05"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom14936">
<div class="phpcode"><code><span class="html">
to set up berlin time it could look like this:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="keyword">print </span><span class="string">"&lt;HTML&gt;&lt;body&gt;&lt;pre&gt;"</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">setlocale</span><span class="keyword">( </span><span class="string">"LC_ALL"</span><span class="keyword">, </span><span class="string">"de_DE" </span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">putenv</span><span class="keyword">( </span><span class="string">"PHP_TZ=Europe/Berlin" </span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$now </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">( </span><span class="default">localtime</span><span class="keyword">(</span><span class="default">time</span><span class="keyword">(),</span><span class="default">true</span><span class="keyword">) );
<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">( </span><span class="default">getdate</span><span class="keyword">() );
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; print </span><span class="default">date</span><span class="keyword">(</span><span class="string">"H:i:s"</span><span class="keyword">);
<br>&nbsp; &nbsp; print </span><span class="default">date</span><span class="keyword">(</span><span class="string">"T"</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.localtime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:22 GMT -->


</body></html>