<html><!-- Mirrored from php.net/manual/en/function.dirname.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:32 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>dirname</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.dirname.html">
 <link rel="shorturl" href="http://php.net/dirname">
 <link rel="alternate" href="http://php.net/dirname" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.filesystem.html">
 <link rel="prev" href="function.delete.html">
 <link rel="next" href="function.disk-free-space.html">

 <link rel="alternate" href="function.dirname.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.dirname.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.dirname.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.dirname.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.dirname.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.dirname.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.dirname.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.dirname.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.dirname.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.dirname.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.dirname.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.file.html">File System Related Extensions</a></li>      <li><a href="book.filesystem.html">Filesystem</a></li>      <li><a href="ref.filesystem.html">Filesystem Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.dirname" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">dirname</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">dirname</span> — <span class="dc-title">Returns parent directory's path</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.dirname-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>dirname</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>
   )</div>

  <p class="para rdfs-comment">
   Given a string containing the path of a file or directory,
   this function will return the parent directory's path.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.dirname-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       A path.
      </p>
      <p class="para">
       On Windows, both slash (<em>/</em>) and backslash
       (<em>\</em>) are used as directory separator character. In
       other environments, it is the forward slash (<em>/</em>).
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.dirname-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the path of the parent directory. If there are no slashes in
   <code class="parameter">path</code>, a dot ('<em>.</em>') is returned,
   indicating the current directory. Otherwise, the returned string is
   <code class="parameter">path</code> with any trailing
   <em>/component</em> removed.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.dirname-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.0.0</td>
       <td>
        <span class="function"><strong>dirname()</strong></span> is now binary safe
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.dirname-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2447">
    <p><strong>Example #1 <span class="function"><strong>dirname()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"1)&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"/etc/passwd"</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;1)&nbsp;/etc<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"2)&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"/etc/"</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;2)&nbsp;/&nbsp;(or&nbsp;\&nbsp;on&nbsp;Windows)<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"3)&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"."</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;3)&nbsp;.<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.dirname-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    <span class="function"><strong>dirname()</strong></span> operates naively on the input string,
    and is not aware of the actual filesystem, or path components such
    as "<em>..</em>".
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    <span class="function"><strong>dirname()</strong></span> is locale aware, so for it to see the 
    correct directory name with multibyte character paths, the matching locale must 
    be set using the <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span> function.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Since PHP 4.3.0, you will often get a slash or a dot back from
    <span class="function"><strong>dirname()</strong></span> in situations where the older
    functionality would have given you the empty string.
   </p>
  <p></p></blockquote>
  <p class="para">
   Check the following change example:
   </p><div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">//before&nbsp;PHP&nbsp;4.3.0<br></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'c:/'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returned&nbsp;'.'<br><br>//after&nbsp;PHP&nbsp;4.3.0<br></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'c:/x'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;'c:\'<br></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'c:/Temp/x'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;'c:/Temp'<br></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'/x'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;'\'<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.dirname-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.basename.html" class="function" rel="rdfs-seeAlso">basename()</a> - Returns trailing name component of path</span></li>
    <li class="member"><span class="function"><a href="function.pathinfo.html" class="function" rel="rdfs-seeAlso">pathinfo()</a> - Returns information about a file path</span></li>
    <li class="member"><span class="function"><a href="function.realpath.html" class="function" rel="rdfs-seeAlso">realpath()</a> - Returns canonicalized absolute pathname</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="21138">  
  <a class="name">
  <strong class="user"><em>tapken at engter dot de</em></strong></a><div class="date" title="2002-04-30 12:09"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21138">
<div class="phpcode"><code><span class="html">
To get the directory of current included file:
<br>
<br><span class="default">&lt;?php
<br>dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>For example, if a script called 'database.init.php' which is included from anywhere on the filesystem wants to include the script 'database.class.php', which lays in the same directory, you can use:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">include_once(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) . </span><span class="string">'/database.class.php'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54868">  
  <a class="name">
  <strong class="user"><em>klugg this-is-junk at tlen dot pl</em></strong></a><div class="date" title="2005-07-18 07:14"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54868">
<div class="phpcode"><code><span class="html">
Attention with this. Dirname likes to mess with the slashes.<br>On Windows, Apache: <br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="string">'$_SERVER[PHP_SELF]: ' </span><span class="keyword">. </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">] . </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br>echo </span><span class="string">'Dirname($_SERVER[PHP_SELF]: ' </span><span class="keyword">. </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>prints out<br><br>$_SERVER[PHP_SELF]: /index.php<br>Dirname($_SERVER[PHP_SELF]: \</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38662">  
  <a class="name">
  <strong class="user"><em>soywiz at hotmail dot com</em></strong></a><div class="date" title="2004-01-01 06:41"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38662">
<div class="phpcode"><code><span class="html">
You can use it to get parent directory:<br><br>dirname(dirname(__FILE__))<br><br>...include a file relative to file path:<br><br>include(dirname(__FILE__) . '/path/relative/file_to_include.php');<br><br>..etc.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="28397">  
  <a class="name">
  <strong class="user"><em>rudecoder at yahoo dot com</em></strong></a><div class="date" title="2003-01-11 12:43"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom28397">
<div class="phpcode"><code><span class="html">
dirname can be used to create self referencing web scripts with the following one liner.
<br>
<br><span class="default">&lt;?php
<br>$base_url </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$DOCUMENT_ROOT</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$PHP_SELF</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>Using this method on a file such as:
<br>
<br>/home/mysite/public_html/wherever/whatever.php
<br>
<br>will return:
<br>
<br>/wherever
<br>
<br>Now $base_url can be used in your HTML to reference other scripts in the same directory.
<br>
<br>Example:
<br>
<br>href='<span class="default">&lt;?=$base_url?&gt;</span>/myscript.php'</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99797">  
  <a class="name">
  <strong class="user"><em>subzey at immelman dot ru</em></strong></a><div class="date" title="2010-09-07 09:51"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99797">
<div class="phpcode"><code><span class="html">
In some situations (I can't locate the dependencies) basename and dirname may return incorrect values if parsed string is in UTF-8.<br><br>Like, dirname("glossary/задний-фокус") will return "glossary" and basename("glossary/задний-фокус") will return "-фокус".<br><br>Quickfix is <br>str_replace("!$!", "", dirname(str_replace("/", "!$!/!$!", $q)))</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107860">  
  <a class="name">
  <strong class="user"><em>minimalist at intelligence dot com</em></strong></a><div class="date" title="2012-03-10 05:33"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107860">
<div class="phpcode"><code><span class="html">
If you want to get the parent parent directory of your script, you can use this:<br><br><span class="default">&lt;?php<br> </span><span class="comment">//Example script path: home/content/en/script.php<br> </span><span class="default">$parentparentdir</span><span class="keyword">=</span><span class="default">basename</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)));<br> echo </span><span class="default">$parentparentdir</span><span class="keyword">; </span><span class="comment">//will output 'content'<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="28473">  
  <a class="name">
  <strong class="user"><em>andrey at php dot net</em></strong></a><div class="date" title="2003-01-14 07:02"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom28473">
<div class="phpcode"><code><span class="html">
Code for write permissions check:
<br>
<br><span class="default">&lt;?php
<br>error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);
<br></span><span class="default">$dir_name </span><span class="keyword">= </span><span class="string">'/var/www/virtual/phpintra/htdocs/php/'</span><span class="keyword">;
<br>do {
<br>&nbsp; &nbsp; </span><span class="default">$b_is_writable </span><span class="keyword">= </span><span class="default">is_writable</span><span class="keyword">(</span><span class="default">$dir_name</span><span class="keyword">);
<br>&nbsp; &nbsp; echo </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"Dir[%s]Writable[%s]\n"</span><span class="keyword">, </span><span class="default">$dir_name</span><span class="keyword">, </span><span class="default">$b_is_writable</span><span class="keyword">? </span><span class="string">'YES'</span><span class="keyword">:</span><span class="string">'NO'</span><span class="keyword">);
<br>}while ((</span><span class="default">$dir_name </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$dir_name</span><span class="keyword">)) !=</span><span class="string">'/'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114600">  
  <a class="name">
  <strong class="user"><em>iam at shaz3e dot com</em></strong></a><div class="date" title="2014-03-11 01:34"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114600">
<div class="phpcode"><code><span class="html">
File located locally in: F:\localhost\www\Shaz3e-ResponsiveFramework\S3-CMS\_source<br><br>Localhost Path: <a rel="nofollow" target="_blank">http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source/</a><br><br>Example 1: dirname($_SERVER['PHP_SELF']); //output:&nbsp; /Shaz3e-ResponsiveFramework/S3-CMS/_source<br><br>Example 2: "<a rel="nofollow" target="_blank">http://</a>".$_SERVER['HTTP_HOST'].dirname($_SERVER['PHP_SELF']); //output:&nbsp; <a rel="nofollow" target="_blank">http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source</a><br><br>Example 3: $_SERVER['HTTP_HOST'] . dirname($_SERVER['PHP_SELF']); //output:&nbsp; s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104624">  
  <a class="name">
  <strong class="user"><em>nhl261 at yahoo dot com</em></strong></a><div class="date" title="2011-06-26 08:54"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104624">
<div class="phpcode"><code><span class="html">
As usual, to include or require a file, we use this<br><span class="default">&lt;?php<br></span><span class="keyword">require </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) . </span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="string">'my_file.php'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>in rare case, we have current file existing at the root directory, dirname would return C:\ or / , then the line above contains 2 slashes \\ or // <br>To handle this this case, we use rtrim to clear slashes.<br><span class="default">&lt;?php<br></span><span class="keyword">require </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">), </span><span class="string">'/\\'</span><span class="keyword">) . </span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="string">'my_file.php'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Also, another use of dirname is to get virtual directory (url path), the issue is the same as above, we have to check and process before concatenating strings</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87637">  
  <a class="name">
  <strong class="user"><em>joe dot naylor at gmail dot com</em></strong></a><div class="date" title="2008-12-13 10:07"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87637">
<div class="phpcode"><code><span class="html">
The dirname function does not usually return a slash on the end, which might encourage you to create links using code like this:<br>$url = dirname($_SERVER['PHP_SELF']) . '/somepage.php';<br><br>However dirname returns a slash if the path you specify is the root, so $url in that case would become '//somepage.php'.&nbsp; If you put that URL as the action on a form, for example, submitting the form will try to go to <a rel="nofollow" target="_blank">http://somepage.php.</a><br><br>I ran into this when I wrote a site on a url with a path, www.somehost.com/client/somepage.php, where the code above works great, but then wanted to put it on a subdomain, client.somehost.com/somepage.php, where things started breaking.<br><br>The best solution would be to create a function that generates absolute URLs and use that throughout the site, but creating a safe_dirname function (and an htaccess rewrite to fix double-slashes just in case) fixed the issue for me:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">safe_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br>{<br>&nbsp;&nbsp; </span><span class="default">$dirname </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br>&nbsp;&nbsp; return </span><span class="default">$dirname </span><span class="keyword">== </span><span class="string">'/' </span><span class="keyword">? </span><span class="string">'' </span><span class="keyword">: </span><span class="default">$dirname</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77721">  
  <a class="name">
  <strong class="user"><em>Zingus J. Rinkle</em></strong></a><div class="date" title="2007-09-10 10:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77721">
<div class="phpcode"><code><span class="html">
Most mkpath() function I saw listed here seem long and convoluted.<br>Here's mine:<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">function </span><span class="default">mkpath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; if(@</span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) or </span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; return (</span><span class="default">mkpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) and </span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">));<br>&nbsp; }<br></span><span class="default">?&gt;<br></span><br>Untested on windows, but dirname() manual says it should work.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72633">  
  <a class="name">
  <strong class="user"><em>hans111 at yahoo dot com</em></strong></a><div class="date" title="2007-01-26 04:25"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72633">
<div class="phpcode"><code><span class="html">
The same function but a bit improved, will use REQUEST_URI, if not available, will use PHP_SELF and if not available will use __FILE__, in this case, the function MUST be in the same file. It should work, both under Windows and *NIX.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">my_dir</span><span class="keyword">(){<br>&nbsp; &nbsp; return </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(!empty(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">]) ? </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">] : !empty(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]) ? </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">] : </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">__FILE__</span><span class="keyword">))));<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54130">  
  <a class="name">
  <strong class="user"><em>tobylewis at mac dot com</em></strong></a><div class="date" title="2005-06-24 06:52"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54130">
<div class="phpcode"><code><span class="html">
Since the paths in the examples given only have two parts (e.g. "/etc/passwd") it is not obvious whether dirname returns the single path element of the parent directory or whether it returns the whole path up to and including the parent directory.&nbsp; From experimentation it appears to be the latter.<br><br>e.g. <br><br>dirname('/usr/local/magic/bin');<br><br>returns '/usr/local/magic'&nbsp; and not just 'magic'<br><br>Also it is not immediately obvious that dirname effectively returns the parent directory of the last item of the path regardless of whether the last item is a directory or a file.&nbsp; (i.e. one might think that if the path given was a directory then dirname would return the entire original path since that is a directory name.)<br><br>Further the presense of a directory separator at the end of the path does not necessarily indicate that last item of the path is a directory, and so <br><br>dirname('/usr/local/magic/bin/');&nbsp; #note final '/'<br><br>would return the same result as in my example above.<br><br>In short this seems to be more of a string manipulation function that strips off the last non-null file or directory element off of a path string.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83618">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-06-04 01:01"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83618">
<div class="phpcode"><code><span class="html">
A simple way to show the www path to a folder containing a file...<br><br>echo "<a rel="nofollow" target="_blank">http://</a>".$_SERVER['HTTP_HOST'].dirname($_SERVER['PHP_SELF']);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111415">  
  <a class="name">
  <strong class="user"><em>Yousef Ismaeil Cliprz</em></strong></a><div class="date" title="2013-02-18 02:39"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111415">
<div class="phpcode"><code><span class="html">
You can get best root path if you want to call a file from you project paths.<br><br>Make sure this define in your www/index.php<br><br>or the core file that inside www/ root.<br><br><span class="default">&lt;?php<br><br></span><span class="comment">/**<br> * @def (string) DS - Directory separator.<br> */<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"DS"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br><br></span><span class="comment">/**<br> * @def (resource) BASE_PATH - get a base path.<br> */<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">'BASE_PATH'</span><span class="keyword">,</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)).</span><span class="default">DS</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>You can call any file any time without any problems<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">include </span><span class="default">BASE_PATH</span><span class="keyword">.</span><span class="string">'inc/class.php'</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84586">  
  <a class="name">
  <strong class="user"><em>Tom</em></strong></a><div class="date" title="2008-07-20 11:13"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84586">
<div class="phpcode"><code><span class="html">
Expanding on Anonymous' comment, this is not necessarily correct. If the user is using a secure protocol, this URL is inaccurate. This will work properly:<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// Is the user using HTTPS?<br></span><span class="default">$url </span><span class="keyword">= (isset(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTPS'</span><span class="keyword">]) &amp;&amp; </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTPS'</span><span class="keyword">] == </span><span class="string">'on'</span><span class="keyword">)) ? </span><span class="string">'https://' </span><span class="keyword">: </span><span class="string">'<a rel="nofollow" target="_blank">http://</a>'</span><span class="keyword">;<br><br></span><span class="comment">// Complete the URL<br></span><span class="default">$url </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">] . </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]);<br><br></span><span class="comment">// echo the URL<br></span><span class="keyword">echo </span><span class="default">$url</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83130">  
  <a class="name">
  <strong class="user"><em>rmahase at gmail dot com</em></strong></a><div class="date" title="2008-05-11 11:31"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83130">
<div class="phpcode"><code><span class="html">
this little function gets the top level public directory 
<br>
<br>eg. <a rel="nofollow" target="_blank">http://www.mysite.com/directory1/file.php</a> 
<br>
<br>or <a rel="nofollow" target="_blank">http://www.mysite.com/directory1/directory2/directory3/file.php</a>
<br>
<br>will both return "directory1" ...which is the top level directory
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">public_base_directory</span><span class="keyword">()
<br>{
<br>&nbsp; &nbsp; </span><span class="comment">//get public directory structure eg "/top/second/third"
<br>&nbsp; &nbsp; </span><span class="default">$public_directory </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]);
<br>&nbsp; &nbsp; </span><span class="comment">//place each directory into array
<br>&nbsp; &nbsp; </span><span class="default">$directory_array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$public_directory</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="comment">//get highest or top level in array of directory strings
<br>&nbsp; &nbsp; </span><span class="default">$public_base </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">$directory_array</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$public_base</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82002">  
  <a class="name">
  <strong class="user"><em>ts at dev dot websafe dot pl</em></strong></a><div class="date" title="2008-03-23 03:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82002">
<div class="phpcode"><code><span class="html">
Inside of script.php I needed to know the name of the containing directory. For example, if my script was in '/var/www/htdocs/website/somedir/script.php' i needed to know 'somedir' in a unified way.
<br>
<br>The solution is:
<br><span class="default">&lt;?php
<br>$containing_dir </span><span class="keyword">= </span><span class="default">basename</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70709">  
  <a class="name">
  <strong class="user"><em>Xedecimal at gmail dot com</em></strong></a><div class="date" title="2006-10-24 11:35"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70709">
<div class="phpcode"><code><span class="html">
Getting absolute path of the current script: 
<br>
<br><span class="default">&lt;?php
<br>dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)
<br></span><span class="default">?&gt;
<br></span>
<br>Getting webserver relative path of the current script...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">GetRelativePath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$npath </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">GetVar</span><span class="keyword">(</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">), </span><span class="string">''</span><span class="keyword">, </span><span class="default">$npath</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>later on
<br>
<br><span class="default">&lt;?php
<br>GetRelativePath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>If anyone has a better way, get to the constructive critisism!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68017">  
  <a class="name">
  <strong class="user"><em>legolas558 dot sourceforge comma net</em></strong></a><div class="date" title="2006-07-10 06:52"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68017">
<div class="phpcode"><code><span class="html">
The best way to get the absolute path of the folder of the currently parsed PHP script is:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">if (</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">==</span><span class="string">'/'</span><span class="keyword">)
<br>&nbsp; </span><span class="default">$absolute_path </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">;
<br>else
<br>&nbsp; </span><span class="default">$absolute_path </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)).</span><span class="string">'/'</span><span class="keyword">;
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>This will result in an absolute unix-style path which works ok also on PHP5 under Windows, where mixing '\' and '/' may give troubles.
<br>
<br>[EDIT by danbrown AT php DOT net: Applied author-supplied fix from follow-up note.]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52326">  
  <a class="name">
  <strong class="user"><em></em></strong></a><div class="date" title="2005-04-27 03:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52326">
<div class="phpcode"><code><span class="html">
If you merely want to find out wether a certain file is located within or underneath a certain directory or not, e.g. for White List validation, the following function might be useful to you:<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">function </span><span class="default">in_dir </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$in_dir</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$dir&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">realpath </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$in_dir </span><span class="keyword">= </span><span class="default">realpath </span><span class="keyword">(</span><span class="default">$in_dir</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_dir </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">dirname </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; do {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">$in_dir</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$is_in_dir </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; } while (</span><span class="default">$dir </span><span class="keyword">!== (</span><span class="default">$dir </span><span class="keyword">= </span><span class="default">dirname </span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)));<br><br>&nbsp; &nbsp; &nbsp; return (bool) @</span><span class="default">$is_in_dir</span><span class="keyword">;<br>&nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="28292">  
  <a class="name">
  <strong class="user"><em>dave at corecomm dot us</em></strong></a><div class="date" title="2003-01-08 10:20"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom28292">
<div class="phpcode"><code><span class="html">
I very much appreciated Fredrich Echol's suggestion (rwf at gpcom dot net) of how to find a base path, but found that it failed when the initial script was already in the root folder -- dirname('/rootscript.php')=='/' and dirname('/include/includescript.php')=='/include' which have the same number of slashes. This variation is what I'm now using:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">"BASE_PATH"</span><span class="keyword">)) </span><span class="default">define</span><span class="keyword">(</span><span class="string">'BASE_PATH'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_NAME'</span><span class="keyword">])==</span><span class="string">'/' </span><span class="keyword">? </span><span class="string">'./' </span><span class="keyword">: </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">"../"</span><span class="keyword">,&nbsp; </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_NAME"</span><span class="keyword">]), </span><span class="string">"/"</span><span class="keyword">)));
<br></span><span class="default">?&gt;
<br></span>
<br>This explicitly checks for the root path (/) and uses './' as the base path if we're in the root folder.
<br>I put this at/near the top of any file that calls another. (I used define for my own convenience; should work just fine with variables and without testing to see if you already did it.)
<br>
<br>Note that in both cases (root-folder script and non-root-folder script), BASE_PATH will include a trailing slash. At least with Apache on Darwin (Mac OS X), you can include(BASE_PATH.'/myfile.php'); and the doubled slash won't cause any problems, giving the same result as include(BASE_PATH.'myfile.php'); .</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94797">  
  <a class="name">
  <strong class="user"><em>webyazilimci84 at gmail dot com</em></strong></a><div class="date" title="2009-11-25 06:06"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94797">
<div class="phpcode"><code><span class="html">
In my mvc based framework i make BASE_PATH and BASE_URL definitions like the following and both work well in the framework without problem.<br><br>index.php :<br><br>define('BASE_PATH',realpath('.'));<br>define('BASE_URL', dirname($_SERVER["SCRIPT_NAME"]));<br><br>BASE_PATH is for server side inclusions.<br>BASE_URL is for client side inclusions (scripts, css files, images etc.)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91208">  
  <a class="name">
  <strong class="user"><em>ken dot forslund at hp dot com</em></strong></a><div class="date" title="2009-05-29 01:33"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91208">
<div class="phpcode"><code><span class="html">
A key problem to hierarchical include trees is that PHP processes include paths relative to the original file, not the current including file.
<br>
<br>A solution to that, is to prefix all include paths with:
<br><span class="default">&lt;?php str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)); </span><span class="default">?&gt;
<br></span>
<br>this will generate a base path relative to the current file, which will then allow an include behavior similar to C/C++.
<br>
<br>thus, to include a file that is 1 in the parent directory:
<br><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'../parent.php'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>to include a file that is in the same directory:
<br><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'neighbor.php'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>to include a file that is in a subdirectory:
<br><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'folder/sub.php'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>Notice that all paths we reference must NOT begin with a /, and must be relative to the current file, in order to concatenate correctly.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113193">  
  <a class="name">
  <strong class="user"><em>frederikreiss at gmx dot de</em></strong></a><div class="date" title="2013-09-11 09:55"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113193">
<div class="phpcode"><code><span class="html">
what about a recursive dirname. To get $count levels up in a directory.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">r_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; if (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">r_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, --</span><span class="default">$count</span><span class="keyword">));<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55691">  
  <a class="name">
  <strong class="user"><em>renich at woralelandia dot com</em></strong></a><div class="date" title="2005-08-10 10:15"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55691">
<div class="phpcode"><code><span class="html">
--- Edited by tularis@php.net ---
<br>You could also have a look at the getcwd() function
<br>--- End Edit ---
<br>
<br>A nice "current directory" function.
<br>
<br>function current_dir()
<br>{
<br>$path = dirname($_SERVER[PHP_SELF]);
<br>$position = strrpos($path,'/') + 1;
<br>print substr($path,$position);
<br>}
<br>
<br>current_dir();
<br>
<br>I find this usefull for a lot of stuff! You can maintain a modular site with dir names as modules names. At least I would like PHP guys to add this to the function list!
<br>
<br>If there is anything out there like it, please tell me.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.dirname.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:32 GMT -->


</body></html>