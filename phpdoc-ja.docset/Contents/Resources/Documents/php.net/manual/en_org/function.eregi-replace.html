<html><!-- Mirrored from php.net/manual/en/function.eregi-replace.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:02 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>eregi_replace</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.eregi-replace.html">
 <link rel="shorturl" href="http://php.net/eregi-replace">
 <link rel="alternate" href="http://php.net/eregi-replace" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.regex.html">
 <link rel="prev" href="function.ereg.html">
 <link rel="next" href="function.eregi.html">

 <link rel="alternate" href="function.eregi-replace.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.eregi-replace.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.eregi-replace.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.eregi-replace.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.eregi-replace.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.eregi-replace.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.eregi-replace.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.eregi-replace.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.eregi-replace.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.eregi-replace.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.eregi-replace.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.regex.html">POSIX Regex</a></li>      <li><a href="ref.regex.html">POSIX Regex Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.eregi-replace" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">eregi_replace</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">eregi_replace</span> â€” <span class="dc-title">Replace regular expression case insensitive</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.eregi-replace-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>eregi_replace</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$replacement</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   )</div>

  <p class="para rdfs-comment">
   This function is identical to <span class="function"><a href="function.ereg-replace.html" class="function">ereg_replace()</a></span>
   except that this ignores case distinction when matching
   alphabetic characters.
  </p>
  <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This function has been
<em class="emphasis">DEPRECATED</em> as of PHP 5.3.0. Relying on this feature is
highly discouraged.</p></div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.eregi-replace-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">
       A POSIX extended regular expression.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">replacement</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">pattern</code> contains parenthesized substrings,
       <code class="parameter">replacement</code> may contain substrings of the form
       <em>\<span class="replaceable">digit</span></em>, which will be
       replaced by the text matching the digit'th parenthesized substring; 
       <em>\0</em> will produce the entire contents of string.
       Up to nine substrings may be used. Parentheses may be nested, in which
       case they are counted by the opening parenthesis.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       The input string.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.eregi-replace-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The modified string is returned. If no matches are found in 
   <code class="parameter">string</code>, then it will be returned unchanged.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.eregi-replace-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-4927">
    <p><strong>Example #1 Highlight search results</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$pattern&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'(&gt;[^&lt;]*)('</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">quotemeta</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'search'</span><span style="color: #007700">])&nbsp;.</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$replacement&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'\\1&lt;span&nbsp;class="search"&gt;\\2&lt;/span&gt;'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$body&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">eregi_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$replacement</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$body</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.eregi-replace-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">As of PHP 5.3.0, the
regex extension is deprecated in favor of the
<a href="book.pcre.html" class="link">PCRE extension</a>. Calling this function
will issue an <strong><code>E_DEPRECATED</code></strong> notice. See <a href="reference.pcre.pattern.posix.html" class="link">the list of
differences</a> for help on converting to PCRE.</p><p></p></blockquote>
  <div class="tip"><strong class="tip">Tip</strong>
   <p class="para">
    <span class="function"><strong>eregi_replace()</strong></span> is deprecated as of PHP 5.3.0. <span class="function"><a href="function.preg-replace.html" class="function">preg_replace()</a></span> 
    with the <em>i</em> (<strong><code>PCRE_CASELESS</code></strong>) modifier is the suggested alternative.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.eregi-replace-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ereg.html" class="function" rel="rdfs-seeAlso">ereg()</a> - Regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.eregi.html" class="function" rel="rdfs-seeAlso">eregi()</a> - Case insensitive regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.ereg-replace.html" class="function" rel="rdfs-seeAlso">ereg_replace()</a> - Replace regular expression</span></li>
    <li class="member"><span class="function"><a href="function.preg-replace.html" class="function" rel="rdfs-seeAlso">preg_replace()</a> - Perform a regular expression search and replace</span></li>
    <li class="member"><span class="function"><a href="function.quotemeta.html" class="function" rel="rdfs-seeAlso">quotemeta()</a> - Quote meta characters</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="70632">  
  <a class="name">
  <strong class="user"><em>Vladimir Luchaninov</em></strong></a><div class="date" title="2006-10-22 07:38"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70632">
<div class="phpcode"><code><span class="html">
If you have plain text e-mails and links but need to make them real links<br><br>&lt;?<br>function replaceLinks($text) {<br>&nbsp; &nbsp; // convert support@pogoda.in into<br>&nbsp; &nbsp; // &lt;a href="<a rel="nofollow" target="_blank">mailto:support@pogoda.in</a>"&gt;<br>&nbsp; &nbsp; // support@pogoda.in&lt;/a&gt;<br>&nbsp; &nbsp; $text = ereg_replace('[-a-z0-9!#$%&amp;\'*+/=?^_`{|}~]+@([.]?[a-zA-Z0-9_/-])*',<br>&nbsp; &nbsp; &nbsp; &nbsp; '&lt;a href="<a rel="nofollow" target="_blank">mailto:</a>\\0"&gt;\\0&lt;/a&gt;',$text);<br><br>&nbsp; &nbsp; // convert <a rel="nofollow" target="_blank">http://www.pogoda.in/new_york/eng/</a> into<br>&nbsp; &nbsp; // &lt;a href="<a rel="nofollow" target="_blank">http://pogoda.in/new_york/eng/</a>"&gt;<br>&nbsp; &nbsp; // pogoda.in/new_york/eng/&lt;/a&gt;<br>&nbsp; &nbsp; $text = ereg_replace('[a-zA-Z]+://(([.]?[a-zA-Z0-9_/-])*)',<br>&nbsp; &nbsp; &nbsp; &nbsp; '&lt;a href="\\0"&gt;\\1&lt;/a&gt;',$text);<br><br>&nbsp; &nbsp; // convert www.pogoda.in/new_york/eng/ into<br>&nbsp; &nbsp; // &lt;a href="<a rel="nofollow" target="_blank">http://www.pogoda.in/new_york/eng/</a>"&gt;<br>&nbsp; &nbsp; // www.pogoda.in/new_york/eng/&lt;/a&gt;<br>&nbsp; &nbsp; $text = ereg_replace('(^| )(www([-]*[.]?[a-zA-Z0-9_/-?&amp;%])*)',<br>&nbsp; &nbsp; &nbsp; &nbsp; ' &lt;a href="<a rel="nofollow" target="_blank">http://</a>\\2"&gt;\\2&lt;/a&gt;',$text);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return $text;<br>}<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66146">  
  <a class="name">
  <strong class="user"><em>carlos at braziland dot com</em></strong></a><div class="date" title="2006-05-15 05:11"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66146">
<div class="phpcode"><code><span class="html">
@bluedragonx at gmail dot com: Now you're calling two functions instead of one. I'm trully curious if that would still be faster. <br><br>My original post was just to highlight the need to escape characters that could be used to abuse a contact form. Something everyone should do, especially if doing it for a customer.<br><br>But bluedragonx, thanks for your input.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79962">  
  <a class="name">
  <strong class="user"><em>augusto at fagioli dot biz</em></strong></a><div class="date" title="2007-12-21 12:50"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79962">
<div class="phpcode"><code><span class="html">
related to the private at sfiac dot net function,<br>please note that you&nbsp; can add a dot in the <br><br>$c=ereg_replace".<br>&nbsp;&nbsp; "("[-a-z0-9!#$%&amp;\'*+/=?^_`{|}~]+@([.]?[a-zA-Z0-9_/-])*",".<br>&nbsp;&nbsp; "$e,$c); <br><br>having it to find email address like user.name@test.com<br><br>this is my example<br>$c=ereg_replace".<br>&nbsp;&nbsp; "("[-a-z0-9.!#$%&amp;\'*+/=?^_`{|}~]+@([.]?[a-zA-Z0-9_/-])*",".<br>&nbsp;&nbsp; "$e,$c);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55590">  
  <a class="name">
  <strong class="user"><em>php dot net at nr78 dot net</em></strong></a><div class="date" title="2005-08-08 05:36"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55590">
<div class="phpcode"><code><span class="html">
@carlos at braziland dot com: Hate to be a wisecrack, but i believe the following code might be slightly faster with the same result:<br><br><span class="default">&lt;?php<br><br>$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">] = </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"@"</span><span class="keyword">, </span><span class="string">"[at]"</span><span class="keyword">, </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49430">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-01-27 08:15"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49430">
<div class="phpcode"><code><span class="html">
never mind my last post for the eregi_replace not replacing.<br><br>I just used str_replace instead and it works fine.&nbsp; I must have had something wrong with my search string.&nbsp; POSIX, Perl.. hmm.. yeah probably something there.<br><br>Mettedraq / Gene</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37519">  
  <a class="name">
  <strong class="user"><em>martin_goldmann at gmx dot net</em></strong></a><div class="date" title="2003-11-18 12:43"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom37519">
<div class="phpcode"><code><span class="html">
After reading the last message I wrote that de-spamizer:<br><br>function despamMailURI($myStrMail='')<br>{<br>&nbsp; &nbsp; ?&gt;javascript:void(location.href='<a rel="nofollow" target="_blank">mailto:</a>'+<span class="default">&lt;?=eregi_replace</span><span class="keyword">( </span><span class="string">"^([_\.0-9a-z-]+)@([0-9a-z][0-9a-z-]+)\.([a-z]{2,6})$"</span><span class="keyword">, </span><span class="string">"'\\1'+'@'+'\\2'+'.'+'\\3'"</span><span class="keyword">,</span><span class="default">$myStrMail</span><span class="keyword">)</span><span class="default">?&gt;</span>)&lt;?<br>}<br><br>Usage example:<br>&lt;a href="<span class="default">&lt;?=despamMailURI</span><span class="keyword">(</span><span class="string">"user@foo.bar"</span><span class="keyword">)</span><span class="default">?&gt;</span>"&gt;Mail me&lt;/a&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="35221">  
  <a class="name">
  <strong class="user"><em>iparanoid at gmx dot de</em></strong></a><div class="date" title="2003-08-23 09:03"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom35221">
<div class="phpcode"><code><span class="html">
To obtain the an email addresse in the scheme user at host dot use following function<br><br>function antispam_mail($mail) {<br>&nbsp; &nbsp; return eregi_replace( "^([_\.0-9a-z-]+)@([0-9a-z][0-9a-z-]+)\.([a-z]{2,6})$", '\\1 at \\2 dot \\3',$mail );<br>};<br><br>Combined with a wee JavaScript (document.location='<a rel="nofollow" target="_blank">mailto:</a>'+user+'@'+host+'.'+tld) this provides a very powerfull anti-spam mechanism while providing full <a rel="nofollow" target="_blank">mailto:</a> link functionality.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32041">  
  <a class="name">
  <strong class="user"><em>buddy at directpay dot cz</em></strong></a><div class="date" title="2003-05-14 10:22"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32041">
<div class="phpcode"><code><span class="html">
i had to solve problem conserning DB2 timestamp format. here is how to parse ANSI timestamp format to DB2 timestamp format:<br><br>$mydate = Date("Y-m-d H:i:s");&nbsp;&nbsp; <br>&nbsp; <br>$var = eregi_replace <br>("([0-9]{4}-[0-9]{2}-[0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})"<br>,"\\1-\\2.\\3.\\4",$mydate);<br><br>echo "ANSI: $mydate, DB2 format: $var";<br><br>happy codding <br>buddy</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107099">  
  <a class="name">
  <strong class="user"><em>dave at bevhost dot com</em></strong></a><div class="date" title="2012-01-06 12:22"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107099">
<div class="phpcode"><code><span class="html">
The easiest function to replace this with is mb_eregi_replace(),<br>which is the mutibyte version that works on unicode characters such as chinese letters in your strings.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83665">  
  <a class="name">
  <strong class="user"><em>jgriggs777 at yahoo dot com</em></strong></a><div class="date" title="2008-06-06 07:26"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83665">
<div class="phpcode"><code><span class="html">
My apologies.&nbsp; I'm a PHP newbie and the count function didn't work right if you have more than one "keyword".&nbsp; I searched and spent a long time to get this to work right, so wanted to share it.<br><br>This is very easy to use by doing the following.<br><br>$text - is the text to search<br>$words - are the words to highlight (search text)<br>$the_place - is so that you can tell your users what "area" was searched.<br><br><span class="default">&lt;?php <br><br></span><span class="keyword">function </span><span class="default">highlight_this</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">, </span><span class="default">$the_place</span><span class="keyword">) { <br>&nbsp; &nbsp; </span><span class="default">$words </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$the_count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; <br>&nbsp; &nbsp; </span><span class="default">$wordsArray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$wordsArray </span><span class="keyword">as </span><span class="default">$word</span><span class="keyword">) { <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">)) != </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//exclude these words from being replaced<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$exclude_list </span><span class="keyword">= array(</span><span class="string">"word1"</span><span class="keyword">, </span><span class="string">"word2"</span><span class="keyword">, </span><span class="string">"word3"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Check if it's excluded<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if ( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">), </span><span class="default">$exclude_list </span><span class="keyword">) ) {<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">str_ireplace</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">, </span><span class="string">"&lt;span class=\"highlight\"&gt;"</span><span class="keyword">.</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">).</span><span class="string">"&lt;/span&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$the_count </span><span class="keyword">= </span><span class="default">$count </span><span class="keyword">+ </span><span class="default">$the_count</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; </span><span class="comment">//added to show how many keywords were found<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;br&gt;&lt;div class=\"emphasis\"&gt;A search for &lt;strong&gt;" </span><span class="keyword">. </span><span class="default">$words</span><span class="keyword">. </span><span class="string">"&lt;/strong&gt; found &lt;strong&gt;" </span><span class="keyword">. </span><span class="default">$the_count </span><span class="keyword">. </span><span class="string">"&lt;/strong&gt; matches within the " </span><span class="keyword">. </span><span class="default">$the_place</span><span class="keyword">. </span><span class="string">".&lt;/div&gt;&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;<br>} <br><br></span><span class="comment">//example of how to use<br></span><span class="default">$text_to_highlight </span><span class="keyword">= </span><span class="default">highlight_this</span><span class="keyword">(</span><span class="default">$text_to_highlight</span><span class="keyword">, </span><span class="default">$search_text</span><span class="keyword">, </span><span class="string">"Place you searched"</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81337">  
  <a class="name">
  <strong class="user"><em>dan at dotgospel dot com</em></strong></a><div class="date" title="2008-02-22 07:30"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81337">
<div class="phpcode"><code><span class="html">
/*******************************************************<br>Function highlights the text. You can replace the html tags with whatever you like. $x is the string, $var is the string to be highlighted. We explode the string to highlight more than one word.<br>*/<br><br>function highlight($x,$var) {<br>&nbsp; &nbsp; $var = explode(" ",$var);<br>&nbsp; &nbsp; <br>&nbsp;&nbsp; for($j=0; $j&lt; count($var); $j++){&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; $xtemp = "";<br>&nbsp; &nbsp; &nbsp; &nbsp; $i=0;<br>&nbsp; &nbsp; &nbsp; &nbsp; while($i&lt;strlen($x)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((($i + strlen($var[$j])) &lt;= strlen($x)) &amp;&amp; (strcasecmp($var[$j], substr($x, $i, strlen($var[$j]))) == 0)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xtemp .= "&lt;b&gt;" . substr($x, $i , strlen($var[$j])) . "&lt;/b&gt;";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $i += strlen($var[$j]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $xtemp .= $x{$i};<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $i++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; $x = $xtemp;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return $x;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75965">  
  <a class="name">
  <strong class="user"><em>php[at]drixe[dot]net</em></strong></a><div class="date" title="2007-06-24 12:49"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75965">
<div class="phpcode"><code><span class="html">
Melissa,<br>This one is a better setup for your marvelous code.<br>It handles Melissa Magic and also Magic Melissa<br><br>function underline($subject, $word)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $mywords = explode(" ",$word);<br>&nbsp; &nbsp; &nbsp; &nbsp; for ($j=0;$j&lt;count($mywords);$j++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $regex_chars = '\.+?(){}[]^$';<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ($i=0; $i&lt;strlen($regex_chars); $i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $char = substr($regex_chars, $i, 1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $mywords[$j] = str_replace($char, '\\'.$char, $mywords[$j]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $mywords[$j] = '(.*)('.$mywords[$j].')(.*)';<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $subject =&nbsp; eregi_replace($mywords[$j], '\1&lt;span style="background:#ACA;padding:0;margin:0;"&gt;\2&lt;/span&gt;\3', $subject);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return $subject;<br>&nbsp; &nbsp; &nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75673">  
  <a class="name">
  <strong class="user"><em>spiritualmind at gmail dot com</em></strong></a><div class="date" title="2007-06-11 08:19"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75673">
<div class="phpcode"><code><span class="html">
eregi_replace seems not to deal with UTF8 chars !<br>I needed to utf8_decode / encode my string to parse it in eregi_replace :<br><br><span class="default">&lt;?php<br>&nbsp; $input </span><span class="keyword">= </span><span class="string">"string_from_utf8_form" </span><span class="keyword">;<br>&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">eregi_replace</span><span class="keyword">(</span><span class="string">"(pattern)"</span><span class="keyword">, </span><span class="string">"replacement"</span><span class="keyword">, </span><span class="default">utf8_decode</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)) ;<br><br> echo </span><span class="default">$output </span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>I think UTF8 is not totally supported by PHP.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64455">  
  <a class="name">
  <strong class="user"><em>melissa at melissagirl dot com</em></strong></a><div class="date" title="2006-04-14 09:28"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64455">
<div class="phpcode"><code><span class="html">
Here's a nice case-insensitive highlight function that ignores any regular expression characters and highlights a word and leaves it in whatever case it was before:<br><br>&lt;?<br>function highlight($word, $subject) {<br>&nbsp; &nbsp; $regex_chars = '\.+?(){}[]^$';<br>&nbsp; &nbsp; for ($i=0; $i&lt;strlen($regex_chars); $i++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; $char = substr($regex_chars, $i, 1);<br>&nbsp; &nbsp; &nbsp; &nbsp; $word = str_replace($char, '\\'.$char, $word);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; $word = '(.*)('.$word.')(.*)';<br>&nbsp; &nbsp; return eregi_replace($word, '\1&lt;span class="highlight"&gt;\2&lt;/span&gt;\3', $subject);<br>}<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58380">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-11-02 03:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58380">
<div class="phpcode"><code><span class="html">
@bluedragonx: You're right. And i got the order of the params wrong as well, must've been sleepy when i wrote that note. For what it's worth:<br><br>&lt;? $_POST['email'] = str_replace("[at]", "@", strtolower($_POST['email'])); ?&gt;<br><br>Not similar to Carlos' code though, since it'll convert all characters to lowercase.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="57856">  
  <a class="name">
  <strong class="user"><em>bluedragonx at gmail dot com</em></strong></a><div class="date" title="2005-10-16 04:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom57856">
<div class="phpcode"><code><span class="html">
Actually that wouldn't work because str_replace is case sensitive.&nbsp; So any instances of [AT] [aT] or [At] would be ignored.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55347">  
  <a class="name">
  <strong class="user"><em>carlos at braziland dot com</em></strong></a><div class="date" title="2005-07-31 12:54"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55347">
<div class="phpcode"><code><span class="html">
So here is my answer to those who are trying to submit headers through my simple contact form:<br><br>$any_form_field = eregi_replace("@","[at]",$_POST['just_one_field']); //how can anyone send emails to other email addresses without the @ symbol :)<br><br>My suggestion is to do a foreach loop in the $_POST array and remove the @ symbol from all fields (unless you want one of the fields to have the @ symbol, in which case it should be very careful and question if the symbol is necessary).<br><br>Not the best solution, but it's simple and it works.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50484">  
  <a class="name">
  <strong class="user"><em>joltmans at amersel dot com</em></strong></a><div class="date" title="2005-03-01 11:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50484">
<div class="phpcode"><code><span class="html">
PHP's Regex engine differs from several others in its treatment of parsing spaces. <br><br>In many Regex languages '\s' denotes a space.<br>PHP does not recognize '\s', just type a space ' ' instead.<br><br>This simple example illustrates the problem:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; $string </span><span class="keyword">= </span><span class="string">"A sentence with&nbsp;&nbsp; spaces"</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"with\s*spaces"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Will never print<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"PHP understood \s"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Will always print<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"PHP doesn't understand \s"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>This example does work:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; $string </span><span class="keyword">= </span><span class="string">"A sentence with&nbsp;&nbsp; spaces"</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">eregi</span><span class="keyword">(</span><span class="string">"with *spaces"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Will print<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"PHP understood ' '"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43398">  
  <a class="name">
  <strong class="user"><em>Ausvald</em></strong></a><div class="date" title="2004-06-19 04:21"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43398">
<div class="phpcode"><code><span class="html">
Zach Johnson missed up. ereg* funcs use posix regex, not the rfc one</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42925">  
  <a class="name">
  <strong class="user"><em>e dot boeters at planet dot nl</em></strong></a><div class="date" title="2004-06-03 04:46"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42925">
<div class="phpcode"><code><span class="html">
This is a 'faster' way to highlight search results: <br><br>$content = str_replace($query, "&lt;span class=\"highlight\"&gt;" . $query . "&lt;/span&gt;", $content);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32607">  
  <a class="name">
  <strong class="user"><em>chpins-php at romu92 dot freesurf dot fr</em></strong></a><div class="date" title="2003-06-02 04:15"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32607">
<div class="phpcode"><code><span class="html">
/*new function for href2text : */<br><br>function AHREF2text($string) {<br> return eregi_replace('(&lt;a [^&lt;]*href=["|\']?([^ "\']*)["|\']?[^&gt;].*&gt;([^&lt;]*)&lt;/a&gt;)','[\\3] (link: \\2)', $string);<br>}<br><br>// by Ch'Pins</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31794">  
  <a class="name">
  <strong class="user"><em>eder at xce dot de</em></strong></a><div class="date" title="2003-05-03 07:23"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31794">
<div class="phpcode"><code><span class="html">
/*As php at silisoftware dot com's example works only if there is not more than one link in $string, I rewrote his expression to function with strings containing multiple links: */<br><br>function AHREF2text($string) {<br>&nbsp; return eregi_replace('(&lt;a [^&lt;]*href=["|\']?([^ "\']*)["|\']?[^&gt;]*&gt;([^&lt;]*)&lt;/a&gt;)','[\\3] (link: \\2)', $string);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="29597">  
  <a class="name">
  <strong class="user"><em>php at silisoftware dot com</em></strong></a><div class="date" title="2003-02-18 11:08"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom29597">
<div class="phpcode"><code><span class="html">
Transform HTML links into plain-text "links" with the URL visible<br><br>function AHREF2text($string) {<br>&nbsp; &nbsp; return eregi_replace('&lt;A .*HREF=("|\')?([^ "\']*)("|\')?.*&gt;([^&lt;]*)&lt;/A&gt;', '[\\4] (link: \\2)', $string);<br>}<br><br>$HTMLstring = 'A link to &lt;a href="<a rel="nofollow" target="_blank">http://www.php.net</a>"&gt;PHP.net&lt;/A&gt;';<br>echo AHREF2text($HTMLstring);<br>// prints:&nbsp; A link to [PHP.net] (link: <a rel="nofollow" target="_blank">http://www.php.net</a>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24744">  
  <a class="name">
  <strong class="user"><em>simon_a99 at yahoo dot co dot uk</em></strong></a><div class="date" title="2002-08-27 12:07"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24744">
<div class="phpcode"><code><span class="html">
To find a string regardless of case, you might want to use the matched string in the replacement string without changing its case.<br><br>For example, you're searching for $search = "letter" and the text being searched is $text = "post lEtTeR".&nbsp; I want to change the format of the matched string.<br><br>Do this:<br>eregi_replace($search, "&lt;b&gt;\\0&lt;/b&gt;", $text);<br><br>$text has now been changed to "post &lt;b&gt;lEtTeR&lt;/b&gt;".&nbsp; \\0 is the entire text matched (lEtTer in this case).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83643">  
  <a class="name">
  <strong class="user"><em>jgriggs777 at yahoo dot com</em></strong></a><div class="date" title="2008-06-05 12:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83643">
<div class="phpcode"><code><span class="html">
I modified the script from the note below this one so that you could show how many matches were found.&nbsp; I know this should probably be posted in the str_ireplace() area, so I will post it there afterwards.<br><br>$text - is the text to search<br>$words - are the words to highlight (search text)<br>$the_place - is so that you can tell your users what "area" was searched.<br><br><span class="default">&lt;?php <br></span><span class="keyword">function </span><span class="default">highlight_this</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">, </span><span class="default">$the_place</span><span class="keyword">) { <br>&nbsp; &nbsp; </span><span class="default">$words </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">); <br>&nbsp; &nbsp; </span><span class="default">$wordsArray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">); <br>&nbsp; &nbsp; foreach(</span><span class="default">$wordsArray </span><span class="keyword">as </span><span class="default">$word</span><span class="keyword">) { <br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">)) != </span><span class="default">0</span><span class="keyword">) <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">str_ireplace</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">, </span><span class="string">"&lt;span class=\"highlight\"&gt;"</span><span class="keyword">.</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">).</span><span class="string">"&lt;/span&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">); <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; </span><span class="comment">//added to show how many keywords were found<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;br&gt;&lt;div class=\"emphasis\"&gt;A search for &lt;strong&gt;" </span><span class="keyword">. </span><span class="default">$words</span><span class="keyword">. </span><span class="string">"&lt;/strong&gt; found &lt;strong&gt;" </span><span class="keyword">. </span><span class="default">$count </span><span class="keyword">. </span><span class="string">"&lt;/strong&gt; matches within the " </span><span class="keyword">. </span><span class="default">$the_place</span><span class="keyword">. </span><span class="string">".&lt;/div&gt;&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">//end script modification<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$text</span><span class="keyword">;<br>} <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79451">  
  <a class="name">
  <strong class="user"><em>webmaster at hhgroups dot com</em></strong></a><div class="date" title="2007-11-28 01:24"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79451">
<div class="phpcode"><code><span class="html">
Your remove links functions are incorrect if there are a php var in the URL, we have to add '?' character inside our pattern, I have three this function working correctly with php vars:<br><br>function transformUrl($str){<br>&nbsp; &nbsp; $str=utf8_decode(urldecode($str));<br>&nbsp; &nbsp; $str=eregi_replace("(^| |&gt;)(www([.]?[a-zA-Z0-9_/-?])[^&lt;]*)", "\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;Look link&lt;/a&gt;", $str);<br>&nbsp; &nbsp; $str=eregi_replace("(^| |&gt;)(<a rel="nofollow" target="_blank">http://www([.]?[a-zA-Z0-9_/-?]</a>)[^&lt;]*)", "\\1&lt;a href=\"\\2\"&gt;Look link&lt;/a&gt;", $str);<br>&nbsp; &nbsp; $str=eregi_replace("(^| |&gt;)(<a rel="nofollow" target="_blank">http://([.]?[a-zA-Z0-9_/-?]</a>)[^&lt;]*)", "\\1&lt;a href=\"\\2\"&gt;Look link&lt;/a&gt;", $str);<br>&nbsp; &nbsp; return utf8_encode($str);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43343">  
  <a class="name">
  <strong class="user"><em>furiousgreencloud at yahoo dot com</em></strong></a><div class="date" title="2004-06-17 08:47"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43343">
<div class="phpcode"><code><span class="html">
To simply convert wild input into a sensable sting, say for a filename I use:<br><br>function cleanString($wild) {<br>&nbsp; &nbsp; return ereg_replace("[^[:alnum:]+]","",$wild);<br>}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>echo cleanString("@#$&amp;*$@#H~e'{}l{}l&lt;o\{}"); // outputs: Hello</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37730">  
  <a class="name">
  <strong class="user"><em>julien at ratatouille dot com dot fr</em></strong></a><div class="date" title="2003-11-24 06:28"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom37730">
<div class="phpcode"><code><span class="html">
This function replace &lt; and &gt; symbols between &lt;code&gt; and &lt;/code&gt; tags by html code for lower than (&amp;lt;) and greather than (&amp;gt;) elements.<br><br>function retourne_format_code($texte)<br>{<br>&nbsp; &nbsp; $tablo=split("&lt;code&gt;",$texte);<br>&nbsp; &nbsp; $texte="";<br>&nbsp; &nbsp; $texte.=$tablo[0];<br>&nbsp; &nbsp; foreach($tablo as $cle=&gt;$valeur)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(eregi("&lt;/code&gt;",$valeur))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tablo1=split("&lt;/code&gt;",$valeur);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tablo1[0]=eregi_replace("&lt;","&amp;lt;",$tablo1[0]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tablo1[0]=eregi_replace("&gt;","&amp;gt;",$tablo1[0]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($tablo1 as $cle1=&gt;$valeur1)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($cle1==0)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $valeur1="&lt;code&gt;".$valeur1."&lt;/code&gt;";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $texte.=$valeur1;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return $texte;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30190">  
  <a class="name">
  <strong class="user"><em>Rainmaker526 at hotmail.com</em></strong></a><div class="date" title="2003-03-09 07:02"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30190">
<div class="phpcode"><code><span class="html">
I have found that some characters cannot be used by eregi_replace (or ereg_replace). When you get the REG_BADRPT error, try backslashing any special chars in your pattern string<br><br>ex.<br>$str = eregi_replace("*", "", $somevar)<br><br>gives the REG_BADRPT error. Change it to<br>$str = eregi_replace("\*", "", $somevar)<br><br>to make it work</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83322">  
  <a class="name">
  <strong class="user"><em>a dot dotreppe at gmail dot com</em></strong></a><div class="date" title="2008-05-20 03:49"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83322">
<div class="phpcode"><code><span class="html">
Hi everyone.
<br>I saw a lot of highlighting functions, but no one was simple... maybe I missed a part of discussion ?
<br>
<br>Anyway, I think this function is the easiest:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">highlight</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$words </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$wordsArray </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$words</span><span class="keyword">);
<br>&nbsp; &nbsp; foreach(</span><span class="default">$wordsArray </span><span class="keyword">as </span><span class="default">$word</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">)) != </span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">eregi_replace</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">, </span><span class="string">'&lt;span class="highlight"&gt;\\0&lt;/span&gt;'</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79997">  
  <a class="name">
  <strong class="user"><em>mp3spl at o2 dot pl</em></strong></a><div class="date" title="2007-12-23 04:40"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79997">
<div class="phpcode"><code><span class="html">
Nice way to highlight that what someone search.<br><br>For example is some one search for "Wire Mobile 6"<br><br>It will highlight every word separated even if found "Wire Xp and some mobile stuff"<br><br>Â© and Â® are importiant, because without special signs, string in second turn will convert also &lt;span class="searchtext"&gt;<br>which will be already in text.<br><br>&lt;?<br><br>$searchcolor = explode(' ',$search);<br>$ilosc = count($searchcolor);<br>$ilosc2 = "0";<br>while ($ilosc2 != $ilosc ) {<br>$name = eregi_replace ($searchcolor[$ilosc2],'Â©'.$searchcolor[$ilosc2].'Â®',$name);<br>$ilosc2++;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>$name = str_replace('Â©','&lt;span class="searchtext"&gt;',$name);<br>$name = str_replace('Â®','&lt;/span&gt;',$name);<br><br>echo $name;<br><br>?&gt;</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.eregi-replace.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:02 GMT -->


</body></html>