<html><!-- Mirrored from php.net/manual/en/function.rand.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:28 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>rand</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.rand.html">
 <link rel="shorturl" href="http://php.net/rand">
 <link rel="alternate" href="http://php.net/rand" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.math.html">
 <link rel="prev" href="function.rad2deg.html">
 <link rel="next" href="function.round.html">

 <link rel="alternate" href="function.rand.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.rand.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.rand.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.rand.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.rand.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.rand.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.rand.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.rand.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.rand.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.rand.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.rand.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.math.html">Mathematical Extensions</a></li>      <li><a href="book.math.html">Math</a></li>      <li><a href="ref.math.html">Math Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.rand" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">rand</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">rand</span> â€” <span class="dc-title">Generate a random integer</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.rand-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>rand</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>rand</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$min</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$max</code></span>
   )</div>

  <p class="simpara">
   If called without the optional <code class="parameter">min</code>,
   <code class="parameter">max</code> arguments <span class="function"><strong>rand()</strong></span>
   returns a pseudo-random integer between 0 and
   <span class="function"><a href="function.getrandmax.html" class="function">getrandmax()</a></span>.  If you want a random number
   between 5 and 15 (inclusive), for example, use <em>rand(5,
   15)</em>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    On some platforms (such as Windows), <span class="function"><a href="function.getrandmax.html" class="function">getrandmax()</a></span>
    is only 32767.  If you require a range larger than 32767, specifying
    <code class="parameter">min</code> and <code class="parameter">max</code> will allow
    you to create a range larger than this, or consider using
    <span class="function"><a href="function.mt-rand.html" class="function">mt_rand()</a></span> instead.
   </span>
  </p></blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.rand-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">min</code></dt>

     <dd>

      <p class="para">
       The lowest value to return (default: 0)
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">max</code></dt>

     <dd>

      <p class="para">
       The highest value to return (default: <span class="function"><a href="function.getrandmax.html" class="function">getrandmax()</a></span>)
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.rand-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   A pseudo random value between <code class="parameter">min</code>
   (or 0) and <code class="parameter">max</code> (or <span class="function"><a href="function.getrandmax.html" class="function">getrandmax()</a></span>, inclusive).
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.rand-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3571">
    <p><strong>Example #1 <span class="function"><strong>rand()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br>echo&nbsp;</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>7771
22264
11
</pre></div>
    </div>
   </div>
  <p></p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.rand-notes">
  <h3 class="title">Notes</h3>
  <div class="caution"><strong class="caution">Caution</strong><p class="para">This function does not generate cryptographically secure values, and should not be used for cryptographic purposes. If you need a cryptographically secure value, consider using <span class="function"><a href="function.openssl-random-pseudo-bytes.html" class="function">openssl_random_pseudo_bytes()</a></span> instead.</p></div>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.rand-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.srand.html" class="function" rel="rdfs-seeAlso">srand()</a> - Seed the random number generator</span></li>
    <li class="member"><span class="function"><a href="function.getrandmax.html" class="function" rel="rdfs-seeAlso">getrandmax()</a> - Show largest possible random value</span></li>
    <li class="member"><span class="function"><a href="function.mt-rand.html" class="function" rel="rdfs-seeAlso">mt_rand()</a> - Generate a better random value</span></li>
    <li class="member"><span class="function"><a href="function.openssl-random-pseudo-bytes.html" class="function" rel="rdfs-seeAlso">openssl_random_pseudo_bytes()</a> - Generate a pseudo-random string of bytes</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="73730">  
  <a class="name">
  <strong class="user"><em>phpdev at dunnbypaul dot net</em></strong></a><div class="date" title="2007-03-07 08:51"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73730">
<div class="phpcode"><code><span class="html">
Here's an interesting note about the inferiority of the rand() function. Try, for example, the following code...<br><br><span class="default">&lt;?php<br>$r </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br>for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">1000000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">100000</span><span class="keyword">);<br>&nbsp; if (</span><span class="default">$n</span><span class="keyword">&lt;=</span><span class="default">10</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$r</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]++;<br>&nbsp; }<br>}<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">); <br></span><span class="default">?&gt;<br></span><br>which produces something similar to the following output (on my windows box, where RAND_MAX is 32768):<br><br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; 31<br>&nbsp; &nbsp; [1] =&gt; 0<br>&nbsp; &nbsp; [2] =&gt; 0<br>&nbsp; &nbsp; [3] =&gt; 31<br>&nbsp; &nbsp; [4] =&gt; 0<br>&nbsp; &nbsp; [5] =&gt; 0<br>&nbsp; &nbsp; [6] =&gt; 30<br>&nbsp; &nbsp; [7] =&gt; 0<br>&nbsp; &nbsp; [8] =&gt; 0<br>&nbsp; &nbsp; [9] =&gt; 31<br>&nbsp; &nbsp; [10] =&gt; 0<br>)<br><br>Within this range only multiples of 3 are being selected. Also note that values that are filled are always 30 or 31 (no other values! really!) <br><br>Now replace rand() with mt_rand() and see the difference...<br><br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; 8<br>&nbsp; &nbsp; [1] =&gt; 8<br>&nbsp; &nbsp; [2] =&gt; 14<br>&nbsp; &nbsp; [3] =&gt; 16<br>&nbsp; &nbsp; [4] =&gt; 9<br>&nbsp; &nbsp; [5] =&gt; 11<br>&nbsp; &nbsp; [6] =&gt; 8<br>&nbsp; &nbsp; [7] =&gt; 9<br>&nbsp; &nbsp; [8] =&gt; 7<br>&nbsp; &nbsp; [9] =&gt; 7<br>&nbsp; &nbsp; [10] =&gt; 9<br>)<br><br>Much more randomly distributed!<br><br>Conclusion: mt_rand() is not just faster, it is a far superior algorithm.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84810">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-07-30 04:29"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84810">
<div class="phpcode"><code><span class="html">
quick way to generate randomish numbers and simple strings.<br>no messing around with functions, so you can just pop the line into the middle of your existing code.<br><br>not the most perfect for sure, but ok for plenty of situations...<br><br><span class="default">&lt;?php<br><br>$random_number </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">( </span><span class="string">"0" </span><span class="keyword">. </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">) . </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">) . </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">) . </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">) . </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">) ); </span><span class="comment">// random(ish) 5 digit int<br><br></span><span class="default">$random_string </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)) . </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)) . </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)) . </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)) . </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)); </span><span class="comment">// random(ish) 5 character string<br><br></span><span class="default">?&gt;<br></span><br>hope someone finds it useful for somthing.<br><br>regards,<br>deeeeeen alxndr0u</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95420">  
  <a class="name">
  <strong class="user"><em>John Galt</em></strong></a><div class="date" title="2010-01-02 11:24"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95420">
<div class="phpcode"><code><span class="html">
Another way to create an array of random numbers where there are no identical numbers.<br><br>($n = number of random numbers to return in the array<br>$min = minimum number<br>$max = maximum number)<br><br><span class="default">&lt;?php<br> </span><span class="keyword">function </span><span class="default">uniqueRand</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$min </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br> {<br>&nbsp; if(</span><span class="default">$max </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">)<br>&nbsp;&nbsp; </span><span class="default">$max </span><span class="keyword">= </span><span class="default">getrandmax</span><span class="keyword">();<br>&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">);<br>&nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br>&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_rand</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">);<br>&nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">)<br>&nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br>&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br> }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91135">  
  <a class="name">
  <strong class="user"><em>david [at] ddrewdesign [dot] com</em></strong></a><div class="date" title="2009-05-26 06:21"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91135">
<div class="phpcode"><code><span class="html">
To Jano and Peta:<br><br>Thanks for the code. In real world usage, I only had one problem with it: It will never return the first result of the array (or it will return nothing if there's only one item in the array). To remedy this, I simply subtracted 1 from <br><br><span class="default">&lt;?php<br>$rand </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>like so:<br><br><span class="default">&lt;?php<br>$rand </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Thanks though, for the code you supplied. It was exactly what I needed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90509">  
  <a class="name">
  <strong class="user"><em>admin at djs-music dot com</em></strong></a><div class="date" title="2009-04-25 10:13"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90509">
<div class="phpcode"><code><span class="html">
A nice function to generate a random string, using any character:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">generateRandStr</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$randstr </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randnum </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">61</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$randstr </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">48</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else if(</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">36</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$randstr </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">55</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$randstr </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">61</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$randstr</span><span class="keyword">;
<br>&nbsp;&nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>Simply use:
<br>generateRandStr(10);
<br>
<br>Sample output: $%29zon(4f</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87487">  
  <a class="name">
  <strong class="user"><em>whatchildisthis at gmail dot com</em></strong></a><div class="date" title="2008-12-06 04:00"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87487">
<div class="phpcode"><code><span class="html">
I also enjoy making one-liners.
<br>
<br>Here's a non-regular expression approach. It generates a random 32 character string consisting of, by default, only A-Z, a-z, and 0-9, but you can change the value of $a for other characters. The random string will be in variable $s after this line.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">for (</span><span class="default">$s </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$z </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">32</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">), </span><span class="default">$s </span><span class="keyword">.= </span><span class="default">$a</span><span class="keyword">{</span><span class="default">$x</span><span class="keyword">}, </span><span class="default">$i</span><span class="keyword">++);
<br></span><span class="default">?&gt;
<br></span>
<br>If you don't want the same character to appear beside itself, use this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$z </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890'</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">, </span><span class="default">$s </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">{</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">)}, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">32</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">), </span><span class="default">$s </span><span class="keyword">.= </span><span class="default">$a</span><span class="keyword">{</span><span class="default">$x</span><span class="keyword">}, </span><span class="default">$s </span><span class="keyword">= (</span><span class="default">$s</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">} == </span><span class="default">$s</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">} ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">) : </span><span class="default">$s</span><span class="keyword">), </span><span class="default">$i</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>For those of you who want both as a function, use this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">rand_chars</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">$l</span><span class="keyword">, </span><span class="default">$u </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">) {
<br> if (!</span><span class="default">$u</span><span class="keyword">) for (</span><span class="default">$s </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$z </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">), </span><span class="default">$s </span><span class="keyword">.= </span><span class="default">$c</span><span class="keyword">{</span><span class="default">$x</span><span class="keyword">}, </span><span class="default">$i</span><span class="keyword">++);
<br> else for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$z </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">, </span><span class="default">$s </span><span class="keyword">= </span><span class="default">$c</span><span class="keyword">{</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">)}, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$l</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$z</span><span class="keyword">), </span><span class="default">$s </span><span class="keyword">.= </span><span class="default">$c</span><span class="keyword">{</span><span class="default">$x</span><span class="keyword">}, </span><span class="default">$s </span><span class="keyword">= (</span><span class="default">$s</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">} == </span><span class="default">$s</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">} ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">) : </span><span class="default">$s</span><span class="keyword">), </span><span class="default">$i</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">));
<br> return </span><span class="default">$s</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>string $c is the string of characters to use.
<br>integer $l is how long you want the string to be.
<br>boolean $u is whether or not a character can appear beside itself.
<br>
<br>Examples:
<br>rand_chars("ABCEDFG", 10) == GABGFFGCDA
<br>rand_chars("ABCEDFG", 10, TRUE) == CBGFAEDFEC</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108100">  
  <a class="name">
  <strong class="user"><em>Justin Richer</em></strong></a><div class="date" title="2012-03-28 01:43"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108100">
<div class="phpcode"><code><span class="html">
Since many people (myself included) come to this page looking for a way to do a random string, I present a way that uses arrays and shuffle() instead of rand(). This also has the effect of not repeating any characters in the value set.<br><br>&nbsp; &nbsp; $arr = str_split('ABCDEFGHIJKLMNOP'); // get all the characters into an array<br>&nbsp; &nbsp; shuffle($arr); // randomize the array<br>&nbsp; &nbsp; $arr = array_slice($arr, 0, 6); // get the first six (random) characters out<br>&nbsp; &nbsp; $str = implode('', $arr); // smush them back into a string</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107712">  
  <a class="name">
  <strong class="user"><em>matthias dot isler at gmail dot com</em></strong></a><div class="date" title="2012-02-28 03:44"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107712">
<div class="phpcode"><code><span class="html">
I had to create a function that generates a random binominal distributed integer. Take a look at the following Wiki article:<br><br><a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Binomial_distribution</a><br><br>Here is my solution:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">bin_rand</span><span class="keyword">(</span><span class="default">$min </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$min </span><span class="keyword">= (</span><span class="default">$min</span><span class="keyword">) ? (int) </span><span class="default">$min </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$max </span><span class="keyword">= (</span><span class="default">$max</span><span class="keyword">) ? (int) </span><span class="default">$max </span><span class="keyword">: </span><span class="default">PHP_INT_MAX</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$range </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$average </span><span class="keyword">= </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">) / </span><span class="default">count</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$dist </span><span class="keyword">= array();<br>&nbsp; &nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">$min</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt;= </span><span class="default">$max</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dist</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">] = -</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$average </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">) + </span><span class="default">$average </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$map </span><span class="keyword">= array();<br>&nbsp; &nbsp; foreach (</span><span class="default">$dist </span><span class="keyword">as </span><span class="default">$int </span><span class="keyword">=&gt; </span><span class="default">$quantity</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$quantity</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$map</span><span class="keyword">[] = </span><span class="default">$int</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$map</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">current</span><span class="keyword">(</span><span class="default">$map</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106004">  
  <a class="name">
  <strong class="user"><em>Zak</em></strong></a><div class="date" title="2011-10-01 08:34"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106004">
<div class="phpcode"><code><span class="html">
I couldn't find a suitable random alpha-numeric generator function so I rolled my own. It gives a random number in base 36 (0-9, a-z) to a given length.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">randomAlphaNum</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">){
<br>
<br>&nbsp; &nbsp; </span><span class="default">$rangeMin </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">36</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">); </span><span class="comment">//smallest number to give length digits in base 36
<br>&nbsp; &nbsp; </span><span class="default">$rangeMax </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">36</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="comment">//largest number to give length digits in base 36
<br>&nbsp; &nbsp; </span><span class="default">$base10Rand </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$rangeMin</span><span class="keyword">, </span><span class="default">$rangeMax</span><span class="keyword">); </span><span class="comment">//get the random number
<br>&nbsp; &nbsp; </span><span class="default">$newRand </span><span class="keyword">= </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$base10Rand</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">); </span><span class="comment">//convert it
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$newRand</span><span class="keyword">; </span><span class="comment">//spit it out
<br>
<br></span><span class="keyword">}
<br></span><span class="default">?&gt;
<br></span>
<br>hopefully helps someone</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91534">  
  <a class="name">
  <strong class="user"><em>Greg R.</em></strong></a><div class="date" title="2009-06-15 04:49"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91534">
<div class="phpcode"><code><span class="html">
I thought this function (random color) might be of use to someone [to create and return a random hex for HTML colors]:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">get_random_color</span><span class="keyword">()
<br>{
<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">6</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c </span><span class="keyword">.=&nbsp; </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">15</span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="string">"#</span><span class="default">$c</span><span class="string">"</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69934">  
  <a class="name">
  <strong class="user"><em>ludicruz at yahoo dot com</em></strong></a><div class="date" title="2006-09-27 05:42"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69934">
<div class="phpcode"><code><span class="html">
frank, nick at nerdynick dot com, and kniht<br>this is now O(n) instead of O(n^2) ish...<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">rand_permute</span><span class="keyword">(</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$retval </span><span class="keyword">= array();<br>&nbsp; &nbsp; </span><span class="comment">//initialize an array of integers from $min to $max<br>&nbsp; &nbsp; </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$min</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$max</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$i</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="comment">//start with the the first index ($min).<br>&nbsp; &nbsp; //randomly swap this number with any other number in the array.<br>&nbsp; &nbsp; //this way we guarantee all numbers are permuted in the array,<br>&nbsp; &nbsp; //and we assure no number is used more than once (technically reiterating prev line).<br>&nbsp; &nbsp; //therefore we don't have to do the random checking each time we put something into the array.<br>&nbsp; &nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$min</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$size</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$tmpkey </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">)];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">[</span><span class="default">$tmpkey</span><span class="keyword">] = </span><span class="default">$tmp</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111277">  
  <a class="name">
  <strong class="user"><em>matheus at matheusloureiro dot com</em></strong></a><div class="date" title="2013-02-01 05:40"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111277">
<div class="phpcode"><code><span class="html">
If you are looking for generate a random expression, like password with alphanumeric or any other character, use this function:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">GeraHash</span><span class="keyword">(</span><span class="default">$qtd</span><span class="keyword">){
<br></span><span class="comment">//Under the string $Caracteres you write all the characters you want to be used to randomly generate the code.
<br></span><span class="default">$Caracteres </span><span class="keyword">= </span><span class="string">'ABCDEFGHIJKLMOPQRSTUVXWYZ0123456789'</span><span class="keyword">;
<br></span><span class="default">$QuantidadeCaracteres </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$Caracteres</span><span class="keyword">);
<br></span><span class="default">$QuantidadeCaracteres</span><span class="keyword">--;
<br>
<br></span><span class="default">$Hash</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">;
<br>&nbsp; &nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;=</span><span class="default">$qtd</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Posicao </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$QuantidadeCaracteres</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Hash </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$Caracteres</span><span class="keyword">,</span><span class="default">$Posicao</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>return </span><span class="default">$Hash</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">//Here you specify how many characters the returning string must have
<br></span><span class="keyword">echo </span><span class="default">GeraHash</span><span class="keyword">(</span><span class="default">30</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75325">  
  <a class="name">
  <strong class="user"><em>bozo_z_clown at yahoo dot com</em></strong></a><div class="date" title="2007-05-23 05:36"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75325">
<div class="phpcode"><code><span class="html">
Note that the automatic seeding seems to be done with the current number of seconds which means you can get the same results for several runs on a fast server.&nbsp; Either call srand() yourself with a more frequently changing seed or use mt_rand() which doesn't appear to suffer from the problem.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111242">  
  <a class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><div class="date" title="2013-01-29 10:51"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111242">
<div class="phpcode"><code><span class="html">
The Windows rand() function is quite a lot worse than merely having a low maximum value. It's an ordinary Linear Congruential Generator, which means you only need three consecutive values to be able to predict its entire future output.<br><br>Given the numbers 13050,&nbsp; 4267,&nbsp; 25352, construct the equations<br>4267 = (13050a+c) % 32768<br>25352 = (4267a+c) % 32768<br><br>Solving for a and c gives<br><br>a = 20077<br>c = 12345<br><br>Which means the next number that should be spat out is (25352Ã—20077+12345) % 32768 = 19105 -- which indeed it is.<br><br>It's not the small rand_max that breaks the algorithm, it's a weakness in the&nbsp; LCG algorithm itself. It's designed for when you only want a few kinda-random numbers occasionally, not if you want to generate any random-looking data.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82807">  
  <a class="name">
  <strong class="user"><em>davidsteinsland [at] gmail [dot] com</em></strong></a><div class="date" title="2008-04-26 12:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82807">
<div class="phpcode"><code><span class="html">
emad_ramahi at hotmail dot com:<br>I've actually noticed that with a large dataset (100k rows), the query dramatically slows down the server and performance is way too bad.<br><br>The way I see it, you have to workable solutions:<br><br>Using PHP:<br><br><span class="default">&lt;?php<br></span><span class="comment">//$Table holds the name of the table we're getting the random row from<br>//$Rows specifies how many rows we need to fetch <br></span><span class="keyword">function </span><span class="default">mysql_rand </span><span class="keyword">(</span><span class="default">$Query</span><span class="keyword">, </span><span class="default">$Rows </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">//getting the table name from $query<br>&nbsp; &nbsp; //what you can do, is replace the $query argument with $table,<br>&nbsp; &nbsp; //this way to dont have to search for the table's name<br>&nbsp; &nbsp; </span><span class="default">$SQL </span><span class="keyword">= </span><span class="default">sprintf </span><span class="keyword">(</span><span class="string">'SELECT COUNT(*) FROM %s'</span><span class="keyword">, </span><span class="default">substr </span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">, </span><span class="default">stripos </span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">, </span><span class="string">'from'</span><span class="keyword">)+</span><span class="default">5</span><span class="keyword">, </span><span class="default">strpos </span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">)));<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$Max </span><span class="keyword">= </span><span class="default">mysql_result </span><span class="keyword">(</span><span class="default">mysql_query </span><span class="keyword">(</span><span class="default">$SQL</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$Random </span><span class="keyword">= </span><span class="default">rand </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$Max</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">//If the random number is 99, and the database only has 100 rows<br>&nbsp; &nbsp; //We'll subtract the random number, so we don't exceed 100, thus preventing a MySQL error message<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$Query </span><span class="keyword">. </span><span class="default">sprintf </span><span class="keyword">(</span><span class="string">'LIMIT %d, %d'</span><span class="keyword">, (</span><span class="default">$Max </span><span class="keyword">&lt; </span><span class="default">$Rows</span><span class="keyword">) ? </span><span class="default">0 </span><span class="keyword">: ((</span><span class="default">$Random </span><span class="keyword">&gt; </span><span class="default">$Max </span><span class="keyword">- </span><span class="default">$Rows</span><span class="keyword">) ? </span><span class="default">$Max </span><span class="keyword">- </span><span class="default">$Rows </span><span class="keyword">: </span><span class="default">$Random</span><span class="keyword">), </span><span class="default">$Rows</span><span class="keyword">);<br>}<br><br></span><span class="comment">//Instead of using MySQL's RAND(), we use LIMIT to fetch rows<br>//E.g. LIMIT 5,9 fetches from row 5, and the subsequent 9<br></span><span class="default">$SQL </span><span class="keyword">= </span><span class="default">mysql_rand </span><span class="keyword">(</span><span class="string">'SELECT row FROM table'</span><span class="keyword">); </span><span class="comment">//SELECT row FROM table LIMIT x, y<br></span><span class="default">?&gt;<br></span><br>or SQL:<br>SELECT * FROM Table T JOIN (SELECT FLOOR(MAX(ID)*RAND()) AS ID FROM Table) AS x ON T.ID &gt;= x.ID LIMIT 1;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77716">  
  <a class="name">
  <strong class="user"><em>Ishtar</em></strong></a><div class="date" title="2007-09-10 06:18"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77716">
<div class="phpcode"><code><span class="html">
A small comment on phpdev-dunnbypauls conclusion that rand() only generates numbers that are a multiply of 3. <br><span class="default">&lt;?php<br>$n </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">100000</span><span class="keyword">); </span><span class="comment">// with MAX_RAND=32768<br></span><span class="default">?&gt;<br></span>Since, 100000/32768=3.05 you get multiples of 3. The random integer will be multiplied by 3.05 to fit between 0 and 100000. rand() works fine, if you don't ask for bigger numbers then RAND_MAX.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49246">  
  <a class="name">
  <strong class="user"><em>relsqui at armory dot com</em></strong></a><div class="date" title="2005-01-21 02:23"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49246">
<div class="phpcode"><code><span class="html">
Don't forget, it's faster to use bitwise operations when you need a random number that's less than some power of two. For example,<br><br><span class="default">&lt;?php<br>rand</span><span class="keyword">()&amp;</span><span class="default">1</span><span class="keyword">;<br></span><span class="comment">// instead of<br></span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br></span><span class="comment">// for generating 0 or 1,<br><br></span><span class="default">rand</span><span class="keyword">()&amp;</span><span class="default">3</span><span class="keyword">;<br></span><span class="comment">// instead of<br></span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br></span><span class="comment">// for generating 0, 1, 2, or 3,<br><br></span><span class="default">rand</span><span class="keyword">()&amp;</span><span class="default">7</span><span class="keyword">;<br></span><span class="comment">// instead of<br></span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">)<br></span><span class="comment">// for generating 0, 1, 2, 3, 4, 5, 6, or 7,<br></span><span class="default">?&gt;<br></span><br>and so on. All you're doing there is generating a default random number (so PHP doesn't have to parse any arguments) and chopping off the piece that's useful to you (using a bitwise operation which is faster than even basic math).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105195">  
  <a class="name">
  <strong class="user"><em>shiawase at gmail dot com</em></strong></a><div class="date" title="2011-08-02 07:32"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105195">
<div class="phpcode"><code><span class="html">
Another one-liner to generate strings:<br><span class="default">&lt;?php<br>substr</span><span class="keyword">(</span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">)),</span><span class="default">0</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>The strings can be repeated to have the possibility that a character appears multiple times.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92561">  
  <a class="name">
  <strong class="user"><em>Hugo Scott hrmscott at hotmail dot com</em></strong></a><div class="date" title="2009-07-29 07:52"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92561">
<div class="phpcode"><code><span class="html">
Here's a simple function to generate a random date between a start date and an end date. <br><br>It is inclusive of BOTH dates - so using dates 2009-04-01 and 2009-04-03 would generate a random date that could be 2009-04-01, 2009-04-02 or 2009-04-03.<br><br>It won't work if the end date is prior to the start date and if you use a non-existant date (eg 2009-02-30) it defaults to 1970-01-01<br><br>the longer version:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">makeRandomDateInclusive</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">,</span><span class="default">$endDate</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$days </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">((</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$endDate</span><span class="keyword">) - </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">)) / (</span><span class="default">60 </span><span class="keyword">* </span><span class="default">60 </span><span class="keyword">* </span><span class="default">24</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$days</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$startDate</span><span class="string"> + </span><span class="default">$n</span><span class="string"> days"</span><span class="keyword">));&nbsp; &nbsp; <br>}<br></span><span class="default">?&gt;<br></span><br>and the one-line version for compactness freaks:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">makeRandomDateInclusive</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">,</span><span class="default">$endDate</span><span class="keyword">){&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">,</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$startDate</span><span class="string"> + "</span><span class="keyword">.</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">round</span><span class="keyword">((</span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$endDate</span><span class="keyword">) - </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$startDate</span><span class="keyword">)) / (</span><span class="default">60 </span><span class="keyword">* </span><span class="default">60 </span><span class="keyword">* </span><span class="default">24</span><span class="keyword">))).</span><span class="string">" days"</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;<br></span><br>it is called like this <br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">makeRandomDateInclusive</span><span class="keyword">(</span><span class="string">'2009-04-01'</span><span class="keyword">,</span><span class="string">'2009-04-03'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>Hope this is of some use to someone</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96583">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2010-03-05 06:41"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96583">
<div class="phpcode"><code><span class="html">
Generate a random 5 character A-Z0-9&nbsp; string
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">6</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) { 
<br>&nbsp; &nbsp; </span><span class="default">$d</span><span class="keyword">=</span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">)%</span><span class="default">2</span><span class="keyword">; 
<br>&nbsp; &nbsp; echo </span><span class="default">$d </span><span class="keyword">? </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">)) : </span><span class="default">chr</span><span class="keyword">(</span><span class="default">rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">,</span><span class="default">57</span><span class="keyword">)); 
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br># php -r 'for ($i=0; $i&lt;6; $i++) { $d=rand(1,30)%2; echo $d ? chr(rand(65,90)) : chr(rand(48,57)); } echo "\n";'
<br>14BW1A</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86465">  
  <a class="name">
  <strong class="user"><em>opbarnes</em></strong></a><div class="date" title="2008-10-20 12:33"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86465">
<div class="phpcode"><code><span class="html">
Generate a random 5 character alpha string:<br><br><span class="default">&lt;?php<br></span><span class="keyword">print </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/([ ])/e'</span><span class="keyword">, </span><span class="string">'chr(rand(97,122))'</span><span class="keyword">, </span><span class="string">'&nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90773">  
  <a class="name">
  <strong class="user"><em>kyle dot florence [@t] gmail dot com</em></strong></a><div class="date" title="2009-05-08 03:23"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90773">
<div class="phpcode"><code><span class="html">
Improved random string generation function:<br><br><span class="default">&lt;?php<br></span><span class="comment">// Generate a random character string<br></span><span class="keyword">function </span><span class="default">rand_str</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">32</span><span class="keyword">, </span><span class="default">$chars </span><span class="keyword">= </span><span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890'</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="comment">// Length of character list<br>&nbsp; &nbsp; </span><span class="default">$chars_length </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// Start our string<br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$chars</span><span class="keyword">{</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$chars_length</span><span class="keyword">)};<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Generate random string<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Grab a random character from our list<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$chars</span><span class="keyword">{</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$chars_length</span><span class="keyword">)};<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Make sure the same two characters don't appear next to each other<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$r </span><span class="keyword">!= </span><span class="default">$string</span><span class="keyword">{</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">}) </span><span class="default">$string </span><span class="keyword">.=&nbsp; </span><span class="default">$r</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Return the string<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$string</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113393">  
  <a class="name">
  <strong class="user"><em>simon at labs dot coop</em></strong></a><div class="date" title="2013-10-05 07:41"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113393">
<div class="phpcode"><code><span class="html">
Something we discovered in Sydney running BBS Systems before the net advent was here, if we didn't seed of another BBS we would going in circles in our System Physicality Abstraction Layers.. The important thing is to seed from a remote system and easy way at the Centroidal Plexus of the web (Chronolabs Cooperative) we offer a seed feed and the following code will randomise you out of the number cycle:<br><br>See in PHP both the letters and numbers are seedable as letters are treated as numbers as well. You can always use individual tokens by extracting the Element with DOM.. But below is equally effective!<br><br><span class="default">&lt;?php<br><br>srand</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://seed.feeds.labs.coop</a>'</span><span class="keyword">)); <br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109511">  
  <a class="name">
  <strong class="user"><em>thibault dot debatty at gmail dot com</em></strong></a><div class="date" title="2012-07-24 09:01"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109511">
<div class="phpcode"><code><span class="html">
In Suhosin version 0.9.26 (released 2008.08.22) and above:<br>- rand() and srand() are transparently modified to use the Mersenne Twister algorithm with separate state<br>- rand() and mt_rand() have better internal seeding<br>- srand() and mt_srand() are ignored (can be configured)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89590">  
  <a class="name">
  <strong class="user"><em>petabyte.se</em></strong></a><div class="date" title="2009-03-15 08:56"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89590">
<div class="phpcode"><code><span class="html">
As an further optimization on janoserki[at]gmail[dot]com previous post i would recommend that you optimize you first part of php/sql code to something like this.<br><br><span class="default">&lt;?php<br></span><span class="comment">// estimate the number of rows in a table<br></span><span class="default">$lekerdezes </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"select count(*) as rows from table"</span><span class="keyword">);<br>while (</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$lekerdezes</span><span class="keyword">))<br>{<br>&nbsp; &nbsp; </span><span class="default">$max </span><span class="keyword">= </span><span class="default">$row</span><span class="keyword">[</span><span class="string">"rows"</span><span class="keyword">];<br>}<br></span><span class="default">?&gt;<br></span>the count(*) is much faster for the database than grabbing the hole dataset from the table.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89343">  
  <a class="name">
  <strong class="user"><em>janoserki [at] gmail [dot] com</em></strong></a><div class="date" title="2009-03-04 12:16"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89343">
<div class="phpcode"><code><span class="html">
Easy way for mysql: random row<br>the original form is: "... order by rand()"<br>but this is not the best way, because it's very slow by a big database (it can take more minutes to complete the request!)<br>My suggestion:<br><br><span class="default">&lt;?php<br></span><span class="comment">// estimate the number of rows in a table<br></span><span class="default">$lekerdezes </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"select * from table"</span><span class="keyword">);<br></span><span class="default">$max </span><span class="keyword">= </span><span class="default">mysql_num_rows</span><span class="keyword">(</span><span class="default">$lekerdezes</span><span class="keyword">);<br><br></span><span class="comment">// pick one<br></span><span class="default">$rand </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">);<br><br></span><span class="default">$lekerdezes2 </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"select * from table limit </span><span class="default">$rand</span><span class="string">, 1"</span><span class="keyword">);<br><br></span><span class="comment">// that's all folks :)<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103009">  
  <a class="name">
  <strong class="user"><em>Alex Khimch alex at khim dot removeit dot ich dot org</em></strong></a><div class="date" title="2011-03-19 01:41"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103009">
<div class="phpcode"><code><span class="html">
Random is NOT actually random.<br><br>It is easily illustrated by multiplying rand(1,500) by rand(1,500) and showing the output on the image:<br><br><span class="default">&lt;?php<br>header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">500</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">);<br><br></span><span class="default">$ink </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br><br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">500</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">500</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {<br>&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">), </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">), </span><span class="default">$ink1</span><span class="keyword">);<br>&nbsp; }<br>}<br><br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>I expected to get pixel noise, but instead one can see plain diagonal lines.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98195">  
  <a class="name">
  <strong class="user"><em>liveonaware [at] gmail [dot] com</em></strong></a><div class="date" title="2010-05-31 08:16"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98195">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">//To Pull 7 Unique Random Values Out Of AlphaNumeric<br><br>//removed number 0, capital o, number 1 and small L<br>//Total: keys = 32, elements = 33<br></span><span class="default">$characters </span><span class="keyword">= array(<br></span><span class="string">"A"</span><span class="keyword">,</span><span class="string">"B"</span><span class="keyword">,</span><span class="string">"C"</span><span class="keyword">,</span><span class="string">"D"</span><span class="keyword">,</span><span class="string">"E"</span><span class="keyword">,</span><span class="string">"F"</span><span class="keyword">,</span><span class="string">"G"</span><span class="keyword">,</span><span class="string">"H"</span><span class="keyword">,</span><span class="string">"J"</span><span class="keyword">,</span><span class="string">"K"</span><span class="keyword">,</span><span class="string">"L"</span><span class="keyword">,</span><span class="string">"M"</span><span class="keyword">,<br></span><span class="string">"N"</span><span class="keyword">,</span><span class="string">"P"</span><span class="keyword">,</span><span class="string">"Q"</span><span class="keyword">,</span><span class="string">"R"</span><span class="keyword">,</span><span class="string">"S"</span><span class="keyword">,</span><span class="string">"T"</span><span class="keyword">,</span><span class="string">"U"</span><span class="keyword">,</span><span class="string">"V"</span><span class="keyword">,</span><span class="string">"W"</span><span class="keyword">,</span><span class="string">"X"</span><span class="keyword">,</span><span class="string">"Y"</span><span class="keyword">,</span><span class="string">"Z"</span><span class="keyword">,<br></span><span class="string">"1"</span><span class="keyword">,</span><span class="string">"2"</span><span class="keyword">,</span><span class="string">"3"</span><span class="keyword">,</span><span class="string">"4"</span><span class="keyword">,</span><span class="string">"5"</span><span class="keyword">,</span><span class="string">"6"</span><span class="keyword">,</span><span class="string">"7"</span><span class="keyword">,</span><span class="string">"8"</span><span class="keyword">,</span><span class="string">"9"</span><span class="keyword">);<br><br></span><span class="comment">//make an "empty container" or array for our keys<br></span><span class="default">$keys </span><span class="keyword">= array();<br><br></span><span class="comment">//first count of $keys is empty so "1", remaining count is 1-6 = total 7 times<br></span><span class="keyword">while(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">) &lt; </span><span class="default">7</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">//"0" because we use this to FIND ARRAY KEYS which has a 0 value<br>&nbsp; &nbsp; //"-1" because were only concerned of number of keys which is 32 not 33<br>&nbsp; &nbsp; //count($characters) = 33<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$characters</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$keys</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys</span><span class="keyword">[] = </span><span class="default">$x</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">){<br>&nbsp;&nbsp; </span><span class="default">$random_chars </span><span class="keyword">.= </span><span class="default">$characters</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br>}<br>echo </span><span class="default">$random_chars</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102618">  
  <a class="name">
  <strong class="user"><em>szeryf.wordpress.com</em></strong></a><div class="date" title="2011-02-24 11:26"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102618">
<div class="phpcode"><code><span class="html">
Much easier way to generate random string of numbers and letters:<br><br><span class="default">&lt;?php<br>$n </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">10e16</span><span class="keyword">, </span><span class="default">10e20</span><span class="keyword">);<br>echo </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>This generates strings of about 11 characters. Experiment with the range for rand() if you want shorter or longer.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99859">  
  <a class="name">
  <strong class="user"><em>Alireza Eliaderani</em></strong></a><div class="date" title="2010-09-10 02:18"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99859">
<div class="phpcode"><code><span class="html">
Random integers with normal distribution, 
<br>it's not scientifically approved, but worked for me.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/*
<br>* @param float&nbsp; $mean, desired average
<br>* @param number $sd, number of items in array
<br>* @param number $min, minimum desired random number
<br>* @param number $max, maximum desired random number
<br>* @return array
<br>*/
<br></span><span class="keyword">function </span><span class="default">array_distribute</span><span class="keyword">(</span><span class="default">$mean</span><span class="keyword">,</span><span class="default">$sd</span><span class="keyword">,</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= array();
<br>&nbsp; &nbsp; </span><span class="default">$total_mean </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$mean</span><span class="keyword">*</span><span class="default">$sd</span><span class="keyword">);
<br>&nbsp; &nbsp; while(</span><span class="default">$sd</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$allowed_max </span><span class="keyword">= </span><span class="default">$total_mean </span><span class="keyword">- </span><span class="default">$sd </span><span class="keyword">- </span><span class="default">$min</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$allowed_min </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$total_mean</span><span class="keyword">/</span><span class="default">$sd</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$random </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">max</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$allowed_min</span><span class="keyword">),</span><span class="default">min</span><span class="keyword">(</span><span class="default">$max</span><span class="keyword">,</span><span class="default">$allowed_max</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[]=</span><span class="default">$random</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sd</span><span class="keyword">--;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$total_mean</span><span class="keyword">-=</span><span class="default">$random</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[] = </span><span class="default">$total_mean</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74325">  
  <a class="name">
  <strong class="user"><em>jont at live dot co dot uk</em></strong></a><div class="date" title="2007-04-05 03:42"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74325">
<div class="phpcode"><code><span class="html">
isn't this just a simpler way of making a random id for somthing? I mean i know that there is a very slight chance that a duplicate could be made but its a very, very, very small chance, nearly impossible.<br><br>$rand = mt_rand(0, 32);<br>$code = md5($rand . time());<br>echo "$code";<br><br>and if you don't want it the md5 can be removed, I've just added it as a prefer it there :)<br><br>Jon</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53600">  
  <a class="name">
  <strong class="user"><em>smaaps at kaldamar dot de</em></strong></a><div class="date" title="2005-06-06 10:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53600">
<div class="phpcode"><code><span class="html">
Lately I needed some random numbers with a gaussian (normal) distribution, not evenly distributed as the numbers generated by rand(). After googling a while, I found out that there is no perfect algrorithm that creates such numbers out of evenly distruted random numbers but a few methods that have similar effect. The following function implements all three algorithms I found- The the last two methods create numbers where you can find a lower and upper boundary and the first one will create a number from time to time (such as one in every 10000) that may be very far from the average value. Have fun testing and using it.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">gauss</span><span class="keyword">(</span><span class="default">$algorithm </span><span class="keyword">= </span><span class="string">"polar"</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$randmax </span><span class="keyword">= </span><span class="default">9999</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; switch(</span><span class="default">$algorithm</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//polar-methode by marsaglia
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case </span><span class="string">"polar"</span><span class="keyword">: 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (</span><span class="default">$v </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u1 </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$randmax</span><span class="keyword">) / </span><span class="default">$randmax</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u2 </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$randmax</span><span class="keyword">) / </span><span class="default">$randmax</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= (</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$u1 </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) * (</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$u1 </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) + (</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$u2 </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) * (</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$u2 </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">2</span><span class="keyword">* </span><span class="default">$u1 </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) * (( -</span><span class="default">2 </span><span class="keyword">* </span><span class="default">log</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) / </span><span class="default">$v</span><span class="keyword">) ^ </span><span class="default">0.5</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// box-muller-method
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case </span><span class="string">"boxmuller"</span><span class="keyword">: 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u1 </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$randmax</span><span class="keyword">) / </span><span class="default">$randmax</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u2 </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$randmax</span><span class="keyword">) / </span><span class="default">$randmax</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">sqrt</span><span class="keyword">(-</span><span class="default">2 </span><span class="keyword">* </span><span class="default">log</span><span class="keyword">(</span><span class="default">$u1</span><span class="keyword">)) * </span><span class="default">cos</span><span class="keyword">(</span><span class="default">2 </span><span class="keyword">* </span><span class="default">pi</span><span class="keyword">() * </span><span class="default">$u2</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } while (</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) == </span><span class="string">"1.#INF" </span><span class="keyword">or </span><span class="default">strval</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) == </span><span class="string">"-1.#INF"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// the check has to be done cause sometimes (1:10000)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // values such as "1.#INF" occur and i dont know why
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$x</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// twelve random numbers&nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case </span><span class="string">"zwoelfer"</span><span class="keyword">:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">12</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$randmax</span><span class="keyword">) / </span><span class="default">$randmax</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$sum</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp; 
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.rand.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:29:28 GMT -->


</body></html>