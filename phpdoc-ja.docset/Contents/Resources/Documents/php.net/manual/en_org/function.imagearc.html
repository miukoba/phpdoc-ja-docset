<html><!-- Mirrored from php.net/manual/en/function.imagearc.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:44 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>imagearc</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imagearc.html">
 <link rel="shorturl" href="http://php.net/imagearc">
 <link rel="alternate" href="http://php.net/imagearc" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.image.html">
 <link rel="prev" href="function.imageantialias.html">
 <link rel="next" href="function.imagechar.html">

 <link rel="alternate" href="function.imagearc.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.imagearc.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.imagearc.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.imagearc.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.imagearc.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.imagearc.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.imagearc.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.imagearc.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.imagearc.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.imagearc.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.imagearc.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.utilspec.image.html">Image Processing and Generation</a></li>      <li><a href="book.image.html">GD</a></li>      <li><a href="ref.image.html">GD and Image Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.imagearc" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagearc</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imagearc</span> â€” <span class="dc-title">Draws an arc</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagearc-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagearc</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$cx</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$cy</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$width</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$height</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$start</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$end</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagearc()</strong></span> draws an arc of circle centered at the given
   coordinates.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagearc-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    <dt>
<code class="parameter">
image</code></dt>
<dd>
<p class="para">An image resource, returned by one of the image creation functions,
such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">cx</code></dt>

     <dd>

      <p class="para">
       x-coordinate of the center.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">cy</code></dt>

     <dd>

      <p class="para">
       y-coordinate of the center.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">width</code></dt>

     <dd>

      <p class="para">
       The arc width.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">height</code></dt>

     <dd>

      <p class="para">
       The arc height.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">start</code></dt>

     <dd>

      <p class="para">
       The arc start angle, in degrees.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">end</code></dt>

     <dd>

      <p class="para">
       The arc end angle, in degrees.
       0Â° is located at the three-o'clock position, and the arc is drawn
       clockwise.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">color</code></dt>

     <dd>

      <p class="para">
       A color identifier created with 
       <span class="function"><a href="function.imagecolorallocate.html" class="function">imagecolorallocate()</a></span>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagearc-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagearc-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3274">
    <p><strong>Example #1 Drawing a circle with <span class="function"><strong>imagearc()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">//&nbsp;create&nbsp;a&nbsp;200*200&nbsp;image<br></span><span style="color: #0000BB">$img&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;allocate&nbsp;some&nbsp;colors<br></span><span style="color: #0000BB">$white&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$red&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$green&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$blue&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;draw&nbsp;the&nbsp;head<br></span><span style="color: #0000BB">imagearc</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">360</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$white</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;mouth<br></span><span style="color: #0000BB">imagearc</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">150</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">25</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">155</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$red</span><span style="color: #007700">);<br></span><span style="color: #FF8000">//&nbsp;left&nbsp;and&nbsp;then&nbsp;the&nbsp;right&nbsp;eye<br></span><span style="color: #0000BB">imagearc</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">75</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">360</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$green</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagearc</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">140</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">75</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">360</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$blue</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;output&nbsp;image&nbsp;in&nbsp;the&nbsp;browser<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-type:&nbsp;image/png"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;free&nbsp;memory<br></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$img</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagearc.png" alt="Output of example : Drawing a circle with imagearc()" width="200" height="200">
     </div>
    </div>
   </div>
  <p></p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imagearc-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imagefilledarc.html" class="function" rel="rdfs-seeAlso">imagefilledarc()</a> - Draw a partial arc and fill it</span></li>
    <li class="member"><span class="function"><a href="function.imageellipse.html" class="function" rel="rdfs-seeAlso">imageellipse()</a> - Draw an ellipse</span></li>
    <li class="member"><span class="function"><a href="function.imagefilledellipse.html" class="function" rel="rdfs-seeAlso">imagefilledellipse()</a> - Draw a filled ellipse</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="112636">  
  <a class="name">
  <strong class="user"><em>lucas dot delmas at live dot fr</em></strong></a><div class="date" title="2013-07-07 07:15"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112636">
<div class="phpcode"><code><span class="html">
The imagearc function has a precision of one degree. The function truncates the $start and $end values to the inferior degree.<br><br>For example if the starting angle you calculated is : -178.62450462172Â°<br>and the ending angle is : -152.78056427917Â°<br>imagearc will draw a curve from -178Â° to -152Â°.<br><br>If you need accurate curves drawing, you need to use a loop to draw little step-by-step lines. By creating a large number of short enough lines, you will create the impression of a curve with accuracy.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107109">  
  <a class="name">
  <strong class="user"><em>chandlerklebs at gmail dot com</em></strong></a><div class="date" title="2012-01-07 10:24"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107109">
<div class="phpcode"><code><span class="html">
This is an example script I wrote for myself to help me learn how to used the imagearc functions. Maybe if will also help others.<br><br><span class="default">&lt;?php<br></span><span class="comment">//example PHP script of imagearc functions<br></span><span class="default">$image_width</span><span class="keyword">=</span><span class="default">360</span><span class="keyword">;</span><span class="default">$image_height</span><span class="keyword">=</span><span class="default">360</span><span class="keyword">;<br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$image_width</span><span class="keyword">,</span><span class="default">$image_height</span><span class="keyword">); </span><span class="comment">//make image variable<br><br>//create a background color by making a filled rectangle<br></span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$image_width</span><span class="keyword">,</span><span class="default">$image_height</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br><br></span><span class="default">$r</span><span class="keyword">=</span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">- </span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">32 </span><span class="keyword">; </span><span class="comment">//radius<br></span><span class="default">$cx</span><span class="keyword">=</span><span class="default">$image_width</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;<br></span><span class="default">$cy</span><span class="keyword">=</span><span class="default">$image_height</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;<br><br></span><span class="default">$color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">,&nbsp; </span><span class="default">0</span><span class="keyword">, </span><span class="default">360</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">); </span><span class="comment">//regular outlines arc<br><br></span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">,&nbsp; </span><span class="default">0</span><span class="keyword">, </span><span class="default">90</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_CHORD</span><span class="keyword">); </span><span class="comment">//filled triangle with chord of circle<br></span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">*</span><span class="default">1</span><span class="keyword">,&nbsp; </span><span class="default">180</span><span class="keyword">, </span><span class="default">270</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_PIE</span><span class="keyword">); </span><span class="comment">//pie slice<br><br></span><span class="default">$font_number</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">; </span><span class="comment">//can use built in fonts numbered 1 to 5<br></span><span class="default">$string</span><span class="keyword">=</span><span class="string">"Hello world!"</span><span class="keyword">;<br></span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$font_number</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-(</span><span class="default">imagefontwidth</span><span class="keyword">(</span><span class="default">$font_number</span><span class="keyword">)*</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">))/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">120</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br><br></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);</span><span class="comment">// output image in the browser<br><br></span><span class="default">$filename</span><span class="keyword">=</span><span class="string">"imagearc"</span><span class="keyword">;<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="string">"./frames/</span><span class="default">$filename</span><span class="string">.png"</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">); </span><span class="comment">//make highly compressed png<br><br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95097">  
  <a class="name">
  <strong class="user"><em>anton dot vandeghinste at telenet dot be</em></strong></a><div class="date" title="2009-12-13 07:27"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95097">
<div class="phpcode"><code><span class="html">
I needed an arc with a thick border and i didn't like to use 359.9 as end angle so i made a function that works pretty well:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">imagearcthick</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">, </span><span class="default">$thick </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if(</span><span class="default">$thick </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;(</span><span class="default">$thick</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">-(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$h</span><span class="keyword">-(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">),</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$e</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">+(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$h</span><span class="keyword">+(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">), </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95928">  
  <a class="name">
  <strong class="user"><em>ajim1417 at gmail dot com</em></strong></a><div class="date" title="2010-01-28 07:42"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95928">
<div class="phpcode"><code><span class="html">
I wrote a simple function that can draws an arc counter-clockwisekly. Here it is :<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">imagearcCC</span><span class="keyword">(&amp;</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$e</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">) {<br></span><span class="default">$start </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">- </span><span class="default">$e</span><span class="keyword">;<br></span><span class="default">$end </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">- </span><span class="default">$s</span><span class="keyword">;<br>return </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>The params of this function is exactly the same as the usual imagearc function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59697">  
  <a class="name">
  <strong class="user"><em>mojiro at awmn dot net</em></strong></a><div class="date" title="2005-12-13 12:28"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59697">
<div class="phpcode"><code><span class="html">
A previous for the Rotated (Filled)Ellipse note from(nojer2 at yahoo dot com, 02-Apr-2001 12:06) has a mistake, at the second arc. Replace them with the following listing.<br><br>if ($filled) {<br>&nbsp; &nbsp; triangle($im, $cx, $cy, $cx+$px, $cy+$py, $cx+$x, $cy+$y, $colour);<br>&nbsp; &nbsp; triangle($im, $cx, $cy, $cx-$px, $cy-$py, $cx-$x, $cy-$y, $colour);<br>} else {<br>&nbsp; &nbsp; imageline($im, $cx+$px, $cy+$py, $cx+$x, $cy+$y, $colour);<br>&nbsp; &nbsp; imageline($im, $cx-$px, $cy-$py, $cx-$x, $cy-$y, $colour);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38538">  
  <a class="name">
  <strong class="user"><em>jerryscript at aol dot com</em></strong></a><div class="date" title="2003-12-26 02:05"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38538">
<div class="phpcode"><code><span class="html">
[note-Apache/1.3.29 (Win32) PHP/4.3.4]<br><br>The imagearc (and imageellipse) functions do not accept line thicknesses when drawn from 0 to 360 degrees.<br><br>Drawing from 0 to 359 and again from 359 to 360 does create an ellipse with the current line thickness.<br><br>Jerry</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38339">  
  <a class="name">
  <strong class="user"><em>eamon at hostelworld dot com</em></strong></a><div class="date" title="2003-12-17 07:24"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38339">
<div class="phpcode"><code><span class="html">
Right...<br>possibly the easiest way of drawing a filled circle:<br>Loop through the imagearc function incrementing the diameter by one pixel:<br>&lt;?<br> // --- code fragment --- //<br><br>for($i=1; $i&lt;$Diameter; $i++){<br>&nbsp; imagearc($Image, $CenterX, $CenterY, $i, $i, $Start, $End, $Color);<br>}<br><br>// --------------------- //<br><br>?&gt;<br><br>This works great for circles with diameters up to about 60 or 70 pixels wide. After that, you start to get pixle gaps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="28773">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2003-01-23 08:55"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom28773">
<div class="phpcode"><code><span class="html">
Please note that in order to draw a complete circle or ellipse (without using the imageellipse) you mustn't use 0ï¿½ for both s and e. If you do this you will get, umm, nothing. Instead set s to 0ï¿½ and e to 360ï¿½ to get a complete circle or ellipse.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21460">  
  <a class="name">
  <strong class="user"><em>jinny at 263 dot net</em></strong></a><div class="date" title="2002-05-13 10:27"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21460">
<div class="phpcode"><code><span class="html">
imagesetstyle() sets the style to be used by all line drawing functions when drawing with the special color .<br><br>Here goes a example of drawing a dashed-line circle.enjoy!<br><br><span class="default">&lt;?php<br><br>header</span><span class="keyword">(</span><span class="string">"Content-type: image/jpeg"</span><span class="keyword">);<br></span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">);<br><br></span><span class="default">$b&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">$w&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br><br></span><span class="default">$style </span><span class="keyword">= array (</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">);<br><br></span><span class="default">imagesetstyle </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$style</span><span class="keyword">);<br><br></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">IMG_COLOR_STYLED</span><span class="keyword">);<br><br></span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="16678">  
  <a class="name">
  <strong class="user"><em>marc at resiteit dot com</em></strong></a><div class="date" title="2001-11-08 01:04"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom16678">
<div class="phpcode"><code><span class="html">
Round cornered anti-aliased dynamically sized button.
<br>
<br>$w=40;
<br>$h=20;
<br>$im = ImageCreate($w,$h);
<br>$white=ImageColorAllocate($im,255,255,255);
<br>ImageFilledRectangle($im,0,0,$w,$h,$white);
<br>imagecolortransparent ($im, $white);
<br>ImageTTFText ($im, $h+ceil($h/3)+1, 0, -1, $h-1, $col1, "arialbd.ttf", "O");
<br>ImageTTFText ($im, $h+ceil($h/3)+1, 0, $w-$h, $h-1, $col1, "arialbd.ttf", "O");
<br>ImageTTFText ($im, $h+ceil($h/3)+1, 0, 1, $h-1, $col1, "arialbd.ttf", "O");
<br>ImageTTFText ($im, $h+ceil($h/3)+1, 0, $w-$h-2, $h-1, $col1, "arialbd.ttf", "O");
<br>$points=array(
<br>&nbsp; &nbsp; 1,round($h/2), 
<br>&nbsp; &nbsp; round($h/4),$h-round($h/4), 
<br>&nbsp; &nbsp; round($h/2),$h, 
<br>&nbsp; &nbsp; $w-(round($h/2)),$h, 
<br>&nbsp; &nbsp; $w-(round($h/4)),$h-round($h/4), 
<br>&nbsp; &nbsp; $w-2,round($h/2), 
<br>&nbsp; &nbsp; $w-round($h/4),round($h/4), 
<br>&nbsp; &nbsp; $w-round($h/2),0, 
<br>&nbsp; &nbsp; round($h/2),0, 
<br>&nbsp; &nbsp; round($h/4),round($h/4)
<br>);
<br>imagefilledpolygon ($im, $points, 10, $col1);
<br>
<br>header("content-type: image/gif");
<br>header("Content-Disposition: filename=name.gif");
<br>ImageGif($im);
<br>ImageDestroy($im);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="15229">  
  <a class="name">
  <strong class="user"><em>foripepe at yahoo dot com</em></strong></a><div class="date" title="2001-09-02 09:56"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom15229">
<div class="phpcode"><code><span class="html">
To fill an arc (DiameterX != DiameterY):
<br>
<br>&lt;?
<br>function imagefilledarc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color) {
<br>&nbsp; &nbsp; // To draw the arc
<br>&nbsp; &nbsp; imagearc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color);
<br>&nbsp; &nbsp; // To close the arc with 2 lines between the center and the 2 limits of the arc
<br>&nbsp; &nbsp; $x = $CenterX + (cos(deg2rad($Start))*($DiameterX/2));
<br>&nbsp; &nbsp; $y = $CenterY + (sin(deg2rad($Start))*($DiameterY/2));
<br>&nbsp; &nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br>&nbsp; &nbsp; $x = $CenterX + (cos(deg2rad($End))*($DiameterX/2));
<br>&nbsp; &nbsp; $y = $CenterY + (sin(deg2rad($End))*($DiameterY/2));
<br>&nbsp; &nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br>&nbsp; &nbsp; // To fill the arc, the starting point is a point in the middle of the closed space
<br>&nbsp; &nbsp; $x = $CenterX + (cos(deg2rad(($Start+$End)/2))*($DiameterX/4));
<br>&nbsp; &nbsp; $y = $CenterY + (sin(deg2rad(($Start+$End)/2))*($DiameterY/4));
<br>&nbsp; &nbsp; imagefilltoborder($Image, $x, $y, $Color, $Color);
<br>}
<br>?&gt;
<br>
<br>To close the arc with 2 lines (DiameterX != DiameterY):
<br>
<br>&lt;?
<br>function imagenofilledarc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color) {
<br>&nbsp; &nbsp; // To draw the arc
<br>&nbsp; &nbsp; imagearc($Image, $CenterX, $CenterY, $DiameterX, $DiameterY, $Start, $End, $Color);
<br>&nbsp; &nbsp; // To close the arc with 2 lines between the center and the 2 limits of the arc
<br>&nbsp; &nbsp; $x = $CenterX + (cos(deg2rad($Start))*($DiameterX/2));
<br>&nbsp; &nbsp; $y = $CenterY + (sin(deg2rad($Start))*($DiameterY/2));
<br>&nbsp; &nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br>&nbsp; &nbsp; $x = $CenterX + (cos(deg2rad($End))*($DiameterX/2));
<br>&nbsp; &nbsp; $y = $CenterY + (sin(deg2rad($End))*($DiameterY/2));
<br>&nbsp; &nbsp; imageline($Image, $x, $y, $CenterX, $CenterY, $Color);
<br>}
<br>?&gt;
<br>
<br>An example:
<br>&lt;?
<br>&nbsp; &nbsp; $destImage = imagecreate( 216, 152 );
<br>&nbsp; &nbsp; $c0 = imagecolorallocate( $destImage, 0, 255, 255 );
<br>&nbsp; &nbsp; $c1 = imagecolorallocate( $destImage, 0, 0, 0 );
<br>&nbsp; &nbsp; $c2 = imagecolorallocate( $destImage, 255, 0, 0 );
<br>&nbsp; &nbsp; ImageFilledRectangle ( $destImage, 0, 0, 216, 152, $c0 );
<br>&nbsp; &nbsp; imagefilledarc( $destImage, 108, 76, 180, 80, 0, 130, $c1 );
<br>&nbsp; &nbsp; imagenofilledarc( $destImage, 108, 76, 180, 80, 0, 130, $c2 );
<br>&nbsp; &nbsp; header("content-type: image/PNG");
<br>&nbsp; &nbsp; ImagePNG( $destImage );
<br>&nbsp; &nbsp; ImageDestroy( $destImage );
<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="2872">  
  <a class="name">
  <strong class="user"><em>travis at duluth dot com</em></strong></a><div class="date" title="1999-12-22 06:36"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom2872">
<div class="phpcode"><code><span class="html">
The wierd thing is that the first two integers tell where to place the "circle".
<br>So for example I first create the "pallet" to place the circle on.
<br>$image = imagecreate(500, 500);&nbsp; 
<br>(this makes a huge 500x500 gif :) )
<br>$colorBody = imagecolorallocate($image, 0, 0, 0);
<br>(make the default color of the "pallet" black
<br>$circleColor = imagecolorallocate($image, 255, 0, 255);
<br>(going to make the circle an ugly pink color)
<br>imagearc($image, 250, 250, 300, 300, 0, 360, $circleColor);
<br>Places the image in the center (250,250) and the circle is 300 pixels in diameter.
<br>
<br>Hope this helps.
<br> 
<br>Travis Kent Beste</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102762">  
  <a class="name">
  <strong class="user"><em>Michael</em></strong></a><div class="date" title="2011-03-04 02:56"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102762">
<div class="phpcode"><code><span class="html">
Hi, this is a function that replaces "imagearc" to solve the thickness-problem. it does not use the global value set by imagesetthickness, so you have to pass it along. 
<br>
<br>"connecting" the arc to lines is still a problem, it sometimes shifts by 1px, but so does the original function.
<br>
<br>Theres still alot to improve ...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">myimagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$mid_x</span><span class="keyword">,</span><span class="default">$mid_y</span><span class="keyword">,</span><span class="default">$rad</span><span class="keyword">,</span><span class="default">$w1</span><span class="keyword">,</span><span class="default">$w2</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">,</span><span class="default">$thickness</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$cols</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rad</span><span class="keyword">+=</span><span class="default">$thickness</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// to calculate outer edge
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$th_fact </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">-(((</span><span class="default">$thickness</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)/</span><span class="default">$rad</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pts </span><span class="keyword">= </span><span class="default">36</span><span class="keyword">*</span><span class="default">$rad</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// adjust density
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$fact </span><span class="keyword">= </span><span class="default">$pts</span><span class="keyword">/</span><span class="default">360</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$w1 </span><span class="keyword">= </span><span class="default">$w1</span><span class="keyword">*</span><span class="default">$fact</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$w2 </span><span class="keyword">= </span><span class="default">$w2</span><span class="keyword">*</span><span class="default">$fact</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$thickness </span><span class="keyword">&gt; </span><span class="default">2</span><span class="keyword">)&nbsp; &nbsp; </span><span class="comment">// to make sure we have neither gaps nor ugly looking artefacts
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$winkel </span><span class="keyword">= (</span><span class="default">2</span><span class="keyword">*</span><span class="default">pi</span><span class="keyword">())/</span><span class="default">$pts</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$w1</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt; </span><span class="default">$w2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">*</span><span class="default">$winkel</span><span class="keyword">)*(</span><span class="default">$rad</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">*</span><span class="default">$winkel</span><span class="keyword">)*(</span><span class="default">$rad</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x1 </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$mid_x</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y1 </span><span class="keyword">= </span><span class="default">$y</span><span class="keyword">+</span><span class="default">$mid_y</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$th_fact</span><span class="keyword">*</span><span class="default">$x</span><span class="keyword">+</span><span class="default">$mid_x</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$th_fact</span><span class="keyword">*</span><span class="default">$y</span><span class="keyword">+</span><span class="default">$mid_y</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">); </span><span class="comment">// just to reset
<br>&nbsp; &nbsp; </span><span class="keyword">}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42451">  
  <a class="name">
  <strong class="user"><em>ruturaj_v at yahoo dot com</em></strong></a><div class="date" title="2004-05-17 06:32"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42451">
<div class="phpcode"><code><span class="html">
this is another piechart eg. very simple ...<br><br><span class="default">&lt;?php<br></span><span class="keyword">global </span><span class="default">$deg</span><span class="keyword">;<br><br>function </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">$xrel</span><span class="keyword">, </span><span class="default">$yrel</span><span class="keyword">, </span><span class="default">$ang</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$ang</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$ang </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">* </span><span class="default">pi</span><span class="keyword">())/ </span><span class="default">180</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$radius</span><span class="keyword">*</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$ang</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$radius</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$ang</span><span class="keyword">));<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">90</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">+ </span><span class="default">$ix</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">- </span><span class="default">$iy</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">90 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">180</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">- </span><span class="default">$ix</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">- </span><span class="default">$iy</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">180 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">270</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">- </span><span class="default">$ix</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">+ </span><span class="default">$iy</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">270 </span><span class="keyword">&amp;&amp; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">360</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">$xrel </span><span class="keyword">+ </span><span class="default">$ix</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">$yrel </span><span class="keyword">+ </span><span class="default">$iy</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$ix</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$iy </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$iy</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">//echo ($ix . " $iy&lt;br&gt;");<br>&nbsp; &nbsp; </span><span class="default">$returnvals </span><span class="keyword">= array (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'x1' </span><span class="keyword">=&gt; </span><span class="default">$xrel</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'y1' </span><span class="keyword">=&gt; </span><span class="default">$yrel</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'x2' </span><span class="keyword">=&gt; </span><span class="default">$ix</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'y2' </span><span class="keyword">=&gt; </span><span class="default">$iy<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$returnvals</span><span class="keyword">;<br>}<br><br>function </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$degindex</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; global </span><span class="default">$deg</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$degindex </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp;&nbsp; return (&nbsp; </span><span class="default">$deg</span><span class="keyword">[</span><span class="default">$degindex</span><span class="keyword">] );<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else {&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return ( </span><span class="default">$deg</span><span class="keyword">[</span><span class="default">$degindex</span><span class="keyword">] + </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$degindex</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">) );<br>&nbsp; &nbsp; }&nbsp; &nbsp; <br>}<br><br></span><span class="default">$im&nbsp; </span><span class="keyword">= </span><span class="default">imagecreate </span><span class="keyword">(</span><span class="default">400</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">); <br></span><span class="default">$w&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">); <br></span><span class="default">$black&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br></span><span class="default">$red </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br></span><span class="default">$green </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">180</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br><br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">, </span><span class="default">54</span><span class="keyword">, </span><span class="default">163</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">179</span><span class="keyword">, </span><span class="default">51</span><span class="keyword">, </span><span class="default">247</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">103</span><span class="keyword">, </span><span class="default">48</span><span class="keyword">, </span><span class="default">250</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">53</span><span class="keyword">, </span><span class="default">145</span><span class="keyword">, </span><span class="default">244</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">54</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">, </span><span class="default">243</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">107</span><span class="keyword">, </span><span class="default">245</span><span class="keyword">, </span><span class="default">180</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">203</span><span class="keyword">, </span><span class="default">242</span><span class="keyword">, </span><span class="default">111</span><span class="keyword">);<br></span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">248</span><span class="keyword">, </span><span class="default">201</span><span class="keyword">, </span><span class="default">105</span><span class="keyword">);<br><br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">30</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">20</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">15</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">10</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">8</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">7</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br></span><span class="default">$data</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br><br></span><span class="default">$datasum </span><span class="keyword">= </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br><br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">30 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">20 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">15 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">10 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">8 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">7 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">5 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br></span><span class="default">$deg</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="default">number_format</span><span class="keyword">((</span><span class="default">5 </span><span class="keyword">/ </span><span class="default">$datasum </span><span class="keyword">* </span><span class="default">360</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br>echo (</span><span class="string">'&lt;pre&gt;'</span><span class="keyword">);<br><br></span><span class="comment">//print_r($deg);<br><br></span><span class="default">$datadeg </span><span class="keyword">= array();<br></span><span class="default">$datapol </span><span class="keyword">= array();<br></span><span class="default">$degbetween </span><span class="keyword">= array();<br></span><span class="default">$databetweenpol </span><span class="keyword">= array();<br><br>for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_degtotal</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">100</span><span class="keyword">);<br>}<br><br>for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$datadeg</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="comment">/*this is a trick where you take 2deg angle before<br>&nbsp; &nbsp; and get the smaller radius so that you can have a pt to<br>&nbsp; &nbsp; `imagefill` the chartboundary<br>&nbsp; &nbsp; */<br>&nbsp; &nbsp; </span><span class="default">$degbetween</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = (</span><span class="default">$datadeg</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]-</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">get_polar</span><span class="keyword">(</span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$degbetween</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">50</span><span class="keyword">);<br>}<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$datadeg</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$degbetween</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$databetweenpol</span><span class="keyword">);<br></span><span class="comment">//exit;<br><br></span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x2'</span><span class="keyword">], </span><span class="default">$datapol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y2'</span><span class="keyword">], </span><span class="default">$black</span><span class="keyword">);<br>}<br></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">360</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">); <br><br>for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$deg</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">imagefill </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x2'</span><span class="keyword">], </span><span class="default">$databetweenpol</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y2'</span><span class="keyword">], </span><span class="default">$randcolor</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br><br>}<br><br></span><span class="comment">//header ("Content-type: image/png"); <br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="string">'piechart.png'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>&lt;img src='piechart.png'&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34712">  
  <a class="name">
  <strong class="user"><em>logang at deltatee dot com</em></strong></a><div class="date" title="2003-08-04 08:19"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34712">
<div class="phpcode"><code><span class="html">
Heres a function to make a curve between two points... This will be a downward curve but it wouldn't be hard to make a similar function to make an upward curve. The first point has to be to the left of the second point ($x1 &lt; $x2), and height is actually backwards. The larger height is the less of a crest the curve has. I imagine with a few modifications this functions could make upward curves as well.<br><br>function ImageCurveDown ($image, $x1, $y1, $x2, $y2, $height, $color) {<br>&nbsp; &nbsp; $presicion = 1;<br><br>&nbsp; &nbsp; for ($left = ($x1-$x2); $left &lt; 0; $left++){<br>&nbsp; &nbsp; &nbsp; &nbsp; if ($y1 &lt; $y2) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cy = $y2 + $height;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cx = $x1 - $left;<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cy = $y1 + $height;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $cx = $x2 + $left;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; $nx1 = abs($x1 - $cx);<br>&nbsp; &nbsp; &nbsp; &nbsp; $ny1 = abs($y1 - $cy);<br>&nbsp; &nbsp; &nbsp; &nbsp; $nx2 = abs($x2 - $cx);<br>&nbsp; &nbsp; &nbsp; &nbsp; $ny2 = abs($y2 - $cy);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if ($y1 &lt; $y2) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($nx2 == 0 || $ny1 == 0) continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $angle1 = atan($height/$nx2);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $A1 = $nx2/cos ($angle1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $B1 = $ny2/sin ($angle1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $angle2 = pi()/2 +atan($left/$ny1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $A2 = $nx1/cos ($angle2);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $B2 = $ny1/sin ($angle2);<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ny2 == 0 || $nx1 == 0) continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $angle1 = atan($ny2/$nx2);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $A1 = abs($nx2/cos ($angle1));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $B1 = abs($ny2/sin ($angle1));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $angle2 = atan($height/$nx1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $A2 = abs ($nx1/cos ($angle2));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $B2 = abs($ny1/sin ($angle2));<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if (abs($A1 - $A2) &lt; $presicion &amp;&amp; abs ($B1 - $B2) &lt; $presicion) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ImageArc($image, $cx, $cy, $A1*2, $B1*2, 180+rad2deg($angle2), 360-rad2deg($angle1), $color);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="17231">  
  <a class="name">
  <strong class="user"><em>arve at skogvold dot as</em></strong></a><div class="date" title="2001-11-30 01:04"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom17231">
<div class="phpcode"><code><span class="html">
I found a better way for drawing a pie chart:
<br>
<br>header ("Content-type: image/png");
<br>$diameter = 100;
<br>$radius = $diameter / 2;
<br>$centerX = $radius;
<br>$centerY = $radius;
<br>
<br>$im = @ImageCreate ($diameter, $diameter)
<br>&nbsp; &nbsp; or die ("Cannot Initialize new GD image stream");
<br>
<br>$background = ImageColorAllocate ($im, 0, 0, 0);
<br>$red = ImageColorAllocate ($im, 176, 0, 0);
<br>
<br>function fill_arc($start, $end, $color) {
<br>&nbsp; &nbsp; global $diameter, $centerX, $centerY, $im, $radius;
<br>&nbsp; &nbsp; imagearc($im, $centerX, $centerY, $diameter, $diameter, $start, $end, $color); 
<br>&nbsp; &nbsp; imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($start)) * $radius, $centerY + sin(deg2rad($start)) * $radius, $color);
<br>&nbsp; &nbsp; imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($end)) * $radius, $centerY + sin(deg2rad($end)) * $radius, $color);
<br>&nbsp; &nbsp; imagefill ($im,$centerX + $radius * 0.5 *cos(deg2rad($start+($end-$start)/2)), $centerY + $radius * 0.5 * sin(deg2rad($start+($end-$start)/2)), $color);
<br>&nbsp; &nbsp; }
<br>
<br>
<br>fill_arc(0,30,$red);
<br>// Will make a red filled arc, starting at 0 degrees, ending at 30 degrees
<br>
<br>ImagePng ($im);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12372">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2001-04-08 10:37"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12372">
<div class="phpcode"><code><span class="html">
The following site contains heaps of different functions to draw graphs with easy to follow code for newbies and heaps of examples with OVER 60 different predefined graphs 
<br><a rel="nofollow" target="_blank">http://www.aditus.nu/jpgraph/index.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="12251">  
  <a class="name">
  <strong class="user"><em>nojer2 at yahoo dot com</em></strong></a><div class="date" title="2001-04-01 02:18"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12251">
<div class="phpcode"><code><span class="html">
Here's a dashed circle function:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">dashedcircle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">, </span><span class="default">$dashsize</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">) {
<br>
<br>&nbsp;&nbsp; </span><span class="default">$dash</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br>&nbsp;&nbsp; for (</span><span class="default">$angle</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$angle</span><span class="keyword">&lt;=(</span><span class="default">180</span><span class="keyword">+</span><span class="default">$dashsize</span><span class="keyword">); </span><span class="default">$angle</span><span class="keyword">+=</span><span class="default">$dashsize</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br>
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$dash</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$dash</span><span class="keyword">=!</span><span class="default">$dash</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br>&nbsp;&nbsp; } 
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12250">  
  <a class="name">
  <strong class="user"><em>nojer2 at yahoo dot com</em></strong></a><div class="date" title="2001-04-01 02:06"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12250">
<div class="phpcode"><code><span class="html">
Here's the function to draw rotated ellipses again. This time I've optimised it a bit, fixed the no-fill bug, and used a 'squishratio' rather than a 'radiusmodifier', to make the curves perfect, so ignore my previous version.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">rotatedellipse</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$width</span><span class="keyword">, </span><span class="default">$height</span><span class="keyword">, </span><span class="default">$rotateangle</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">, </span><span class="default">$filled</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$step</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;
<br>&nbsp;&nbsp; </span><span class="default">$cosangle</span><span class="keyword">=</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$rotateangle</span><span class="keyword">));
<br>&nbsp;&nbsp; </span><span class="default">$sinangle</span><span class="keyword">=</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$rotateangle</span><span class="keyword">));
<br>
<br>&nbsp;&nbsp; </span><span class="default">$squishratio </span><span class="keyword">= </span><span class="default">$height</span><span class="keyword">/</span><span class="default">$width</span><span class="keyword">;
<br>&nbsp;&nbsp; </span><span class="default">$nopreviouspoint </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br>&nbsp;&nbsp; for (</span><span class="default">$angle</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$angle</span><span class="keyword">&lt;=(</span><span class="default">180</span><span class="keyword">+</span><span class="default">$step</span><span class="keyword">); </span><span class="default">$angle</span><span class="keyword">+=</span><span class="default">$step</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$ox </span><span class="keyword">= (</span><span class="default">$width </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)));
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$oy </span><span class="keyword">= (</span><span class="default">$width </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">))) * </span><span class="default">$squishratio</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">=&nbsp; + ((</span><span class="default">$ox </span><span class="keyword">* </span><span class="default">$cosangle</span><span class="keyword">) - (</span><span class="default">$oy </span><span class="keyword">* </span><span class="default">$sinangle</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$centrey </span><span class="keyword">+ ((</span><span class="default">$ox </span><span class="keyword">* </span><span class="default">$sinangle</span><span class="keyword">) + (</span><span class="default">$oy </span><span class="keyword">* </span><span class="default">$cosangle</span><span class="keyword">));
<br>&nbsp; 
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$nopreviouspoint</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nopreviouspoint</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$filled</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">+</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$px</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$py</span><span class="keyword">, </span><span class="default">$cx</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$cy</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$px</span><span class="keyword">=</span><span class="default">$x</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$py</span><span class="keyword">=</span><span class="default">$y</span><span class="keyword">;
<br>&nbsp;&nbsp; } 
<br>}
<br>
<br>function </span><span class="default">triangle</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">,</span><span class="default">$y3</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$coords </span><span class="keyword">= array(</span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">,</span><span class="default">$y3</span><span class="keyword">);
<br>&nbsp;&nbsp; </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$coords</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">); 
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8821">  
  <a class="name">
  <strong class="user"><em>ericquil at yahoo dot com</em></strong></a><div class="date" title="2000-09-29 04:30"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8821">
<div class="phpcode"><code><span class="html">
If circles overlap, a temporary border is needed when filling:
<br><span class="default">&lt;?php
<br>ImageArc </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$temp_color</span><span class="keyword">);
<br></span><span class="default">ImageFillToBorder</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$temp_color</span><span class="keyword">,</span><span class="default">$fill_color</span><span class="keyword">);
<br></span><span class="default">ImageArc </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$w</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$fill_color</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7832">  
  <a class="name">
  <strong class="user"><em>timothyhouck at yahoo dot com</em></strong></a><div class="date" title="2000-08-16 03:58"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7832">
<div class="phpcode"><code><span class="html">
To do filled arcs, try something like this:
<br>
<br><span class="default">&lt;?php
<br>$diameter </span><span class="keyword">= </span><span class="default">50</span><span class="keyword">;
<br></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br>while(</span><span class="default">$diameter </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$start </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br>&nbsp; </span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$diameter</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$diameter</span><span class="keyword">--;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>...well you get the point.&nbsp; It's a kludge, and *very* slow, but it's free.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110224">  
  <a class="name">
  <strong class="user"><em>joe dot tym at gmail dot com</em></strong></a><div class="date" title="2012-10-02 05:08"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110224">
<div class="phpcode"><code><span class="html">
I didn't have much luck with the other two functions, one of them makes circles that look like they've been printed on a dot-matrix printer. This simple function builds a border out of circles, seems to work nicely.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">imagearcunfilled</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$width</span><span class="keyword">,</span><span class="default">$height</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x_radius </span><span class="keyword">= </span><span class="default">$width </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y_radius </span><span class="keyword">= </span><span class="default">$height </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">360</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">TRUE</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$x </span><span class="keyword">+ </span><span class="default">cos</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) * </span><span class="default">$x_radius</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$y </span><span class="keyword">+ </span><span class="default">sin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) * </span><span class="default">$y_radius</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">,</span><span class="default">$border_thickness</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">360</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">,</span><span class="default">IMG_ARC_PIE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8566">  
  <a class="name">
  <strong class="user"><em>cbriou at orange-art dot fr</em></strong></a><div class="date" title="2000-09-17 07:03"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8566">
<div class="phpcode"><code><span class="html">
There is another way to fill an arc :
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// To draw the arc
<br></span><span class="default">$Color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$Red</span><span class="keyword">, </span><span class="default">$Green</span><span class="keyword">, </span><span class="default">$Blue</span><span class="keyword">);
<br></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Diameter</span><span class="keyword">, </span><span class="default">$Diameter</span><span class="keyword">, </span><span class="default">$Start</span><span class="keyword">, </span><span class="default">$End</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br></span><span class="comment">// To close the arc with 2 lines between the center and the 2 limits of the arc
<br></span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$Start</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$Start</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br></span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$End</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$End</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$CenterX</span><span class="keyword">, </span><span class="default">$CenterY</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br></span><span class="comment">// To fill the arc, the starting point is a point in the middle of the closed space
<br></span><span class="default">$x </span><span class="keyword">= </span><span class="default">$CenterX </span><span class="keyword">+ (</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$Start</span><span class="keyword">+</span><span class="default">$End</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">));
<br></span><span class="default">$y </span><span class="keyword">= </span><span class="default">$CenterY </span><span class="keyword">+ (</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$Start</span><span class="keyword">+</span><span class="default">$End</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">))*(</span><span class="default">$Diameter</span><span class="keyword">/</span><span class="default">4</span><span class="keyword">));
<br></span><span class="default">imagefilltoborder</span><span class="keyword">(</span><span class="default">$Image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.imagearc.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:44 GMT -->


</body></html>