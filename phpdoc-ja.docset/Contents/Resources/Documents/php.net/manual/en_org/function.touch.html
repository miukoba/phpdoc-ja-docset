<html><!-- Mirrored from php.net/manual/en/function.touch.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:54 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>touch</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.touch.html">
 <link rel="shorturl" href="http://php.net/touch">
 <link rel="alternate" href="http://php.net/touch" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.filesystem.html">
 <link rel="prev" href="function.tmpfile.html">
 <link rel="next" href="function.umask.html">

 <link rel="alternate" href="function.touch.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.touch.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.touch.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.touch.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.touch.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.touch.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.touch.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.touch.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.touch.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.touch.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.touch.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.file.html">File System Related Extensions</a></li>      <li><a href="book.filesystem.html">Filesystem</a></li>      <li><a href="ref.filesystem.html">Filesystem Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.touch" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">touch</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">touch</span> â€” <span class="dc-title">Sets access and modification time of file</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.touch-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>touch</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$time</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$atime</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Attempts to set the access and modification times of the file named in the
   <code class="parameter">filename</code> parameter to the value given in
   <code class="parameter">time</code>. 
   Note that the access time is always modified, regardless of the number
   of parameters.
  </p>
  <p class="para">
   If the file does not exist, it will be created. 
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.touch-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       The name of the file being touched.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">time</code></dt>

     <dd>

      <p class="para">
       The touch time. If <code class="parameter">time</code> is not supplied, 
       the current system time is used.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">atime</code></dt>

     <dd>

      <p class="para">
       If present, the access time of the given filename is set to 
       the value of <code class="parameter">atime</code>. Otherwise, it is set to
       the value passed to the <code class="parameter">time</code> parameter.
       If neither are present, the current system time is used.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.touch-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.touch-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        It became possible to change the modification time of a directory 
        under Windows.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.touch-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2530">
    <p><strong>Example #1 <span class="function"><strong>touch()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;modification&nbsp;time&nbsp;has&nbsp;been&nbsp;changed&nbsp;to&nbsp;present&nbsp;time'</span><span style="color: #007700">;<br>}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Sorry,&nbsp;could&nbsp;not&nbsp;change&nbsp;modification&nbsp;time&nbsp;of&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-2531">
    <p><strong>Example #2 <span class="function"><strong>touch()</strong></span> using the <code class="parameter">time</code> parameter</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;This&nbsp;is&nbsp;the&nbsp;touch&nbsp;time,&nbsp;we'll&nbsp;set&nbsp;it&nbsp;to&nbsp;one&nbsp;hour&nbsp;in&nbsp;the&nbsp;past.<br></span><span style="color: #0000BB">$time&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Touch&nbsp;the&nbsp;file<br></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #DD0000">'some_file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$time</span><span style="color: #007700">))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Whoops,&nbsp;something&nbsp;went&nbsp;wrong...'</span><span style="color: #007700">;<br>}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Touched&nbsp;file&nbsp;with&nbsp;success'</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.touch-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">Note that time resolution may differ
from one file system to another.</p><p></p></blockquote>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">
    Prior to PHP 5.3.0 it was not possible to change the modification time 
    of a directory with this function under Windows.
   </p>
  </div>
 </div>

 
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="84081">  
  <a class="name">
  <strong class="user"><em>Jeff</em></strong></a><div class="date" title="2008-06-26 12:29"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84081">
<div class="phpcode"><code><span class="html">
I've been trying to set a filemtime into the future with touch() on PHP5.<br><br>It seems touch $time has a future limit around 1000000 seconds (11 days or so). Beyond this point it reverts to a previous $time.<br><br>It doesn't make much sense but I could save you hours of time.<br><br>$time = time()+1500000;<br>touch($cachedfile,$time);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100337">  
  <a class="name">
  <strong class="user"><em>bosslog at gmail dot com</em></strong></a><div class="date" title="2010-10-08 02:11"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100337">
<div class="phpcode"><code><span class="html">
I has passed a small test to check which function is faster to create a new file. <br><br>file_put_contents vs touch<br><br><span class="default">&lt;?php<br></span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>{<br>&nbsp; &nbsp;&nbsp; </span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">'dir/file'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span>Average time: 0,1145s<br><br><span class="default">&lt;?php<br></span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>{<br>&nbsp; &nbsp;&nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="string">'dir/file'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span>Average time: 0,2322s<br><br>So, file_put_contents is faster than touch, about two times.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113652">  
  <a class="name">
  <strong class="user"><em>anon</em></strong></a><div class="date" title="2013-11-10 04:38"><strong>9 months ago</strong></div>
  <div class="text" id="Hcom113652">
<div class="phpcode"><code><span class="html">
Note that when PHP is called by f.e. apache or nginx instead of directly from the command line, touch() will not prefix the location of the invoking script, so the supplied filename must contain an absolute path.<br><br>With script started from /home/user/www, this will not touch "/home/user/www/somefile":<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; touch</span><span class="keyword">( </span><span class="string">'somefile' </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>But this will:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; touch</span><span class="keyword">( </span><span class="default">__DIR__ </span><span class="keyword">. </span><span class="string">'/somefile' </span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52781">  
  <a class="name">
  <strong class="user"><em>guy at forster design dot com</em></strong></a><div class="date" title="2005-05-12 03:42"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52781">
<div class="phpcode"><code><span class="html">
Here's a little workaround that allows the PHP user to touch a file it doesn't own:<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; $target_file </span><span class="keyword">= </span><span class="string">"/path/to/file/filename.txt"</span><span class="keyword">; </span><span class="comment">//system filepath to your file<br>&nbsp; &nbsp; </span><span class="default">$file_content </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">file</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">));<br>&nbsp; &nbsp; @</span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$savetofile </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$savetofile</span><span class="keyword">, </span><span class="default">$file_content</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$savetofile</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$new_date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"23 April 2005"</span><span class="keyword">); </span><span class="comment">// set the required date timestamp here<br>&nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">,</span><span class="default">$new_date</span><span class="keyword">);<br> <br></span><span class="default">?&gt;<br></span><br>Of course, PHP needs to have write access to the folder containing the file you want to touch, but that should be easy to arrange.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24348">  
  <a class="name">
  <strong class="user"><em>feathern at yahoo dot com</em></strong></a><div class="date" title="2002-08-13 03:31"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24348">
<div class="phpcode"><code><span class="html">
Neat little script that will give you a list of all modified files in a certain folder after a certain date:<br><br>$filelist = Array();<br>$filelist = list_dir("d:\\my_folder");<br>for($i=0;$i&lt;count($filelist);$i++){<br>&nbsp; &nbsp; $test = Array();<br>&nbsp; &nbsp; $test = explode("/",date("m/d/Y",filemtime($filelist[$i])));<br>//example of files that are later then<br>//06/17/2002<br>&nbsp; &nbsp; if(($test[2] &gt; 2001) &amp;&amp; ($test[1] &gt; 16) &amp;&amp; ($test[0] &gt; 5)){<br>&nbsp; &nbsp; &nbsp; &nbsp; echo $filelist[$i]."\r\n";<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; clearstatcache();<br>}<br>function list_dir($dn){<br>&nbsp; &nbsp; if($dn[strlen($dn)-1] != '\\') $dn.='\\';<br>&nbsp; &nbsp; static $ra = array();<br>&nbsp; &nbsp; $handle = opendir($dn);<br>&nbsp; &nbsp; while($fn = readdir($handle)){<br>&nbsp; &nbsp; &nbsp; &nbsp; if($fn == '.' || $fn == '..') continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; if(is_dir($dn.$fn)) list_dir($dn.$fn.'\\');<br>&nbsp; &nbsp; &nbsp; &nbsp; else $ra[] = $dn.$fn;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; closedir($handle);<br>&nbsp; &nbsp; return $ra;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="15884">  
  <a class="name">
  <strong class="user"><em>emilebosch at hotmail dot com</em></strong></a><div class="date" title="2001-10-06 03:41"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom15884">
<div class="phpcode"><code><span class="html">
To spare you ppl couple of hours of valuable time, you can only TOUCH a file that you own! Usually PHP is *nobody* 
<br>Warm regards,
<br>Emile Bosch</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55101">  
  <a class="name">
  <strong class="user"><em>rf_public at yahoo dot co dot uk</em></strong></a><div class="date" title="2005-07-25 12:19"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55101">
<div class="phpcode"><code><span class="html">
Note: the script to touch a file you don't own will change it's owner so ensure permissions are correct or you could lose access to it</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93787">  
  <a class="name">
  <strong class="user"><em>ernst at cron-it dot de</em></strong></a><div class="date" title="2009-09-29 06:38"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93787">
<div class="phpcode"><code><span class="html">
To touch a file without being owner, it is much easier:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">touchFile</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">));
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87356">  
  <a class="name">
  <strong class="user"><em>info at archiwumrocka dot art dot pl</em></strong></a><div class="date" title="2008-12-01 01:59"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87356">
<div class="phpcode"><code><span class="html">
Only way to change modification date in catalogue is to create file in via touch() and dalete it with unlink():
<br>
<br><span class="default">&lt;?php
<br>$dir&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">'temp'</span><span class="keyword">;
<br></span><span class="default">$files1 </span><span class="keyword">= </span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);
<br>
<br></span><span class="default">$files1 </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$files1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);
<br>
<br>foreach (</span><span class="default">$files1 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) 
<br>{
<br>&nbsp; &nbsp; if (!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) continue;
<br>&nbsp; &nbsp; if (!</span><span class="default">touch</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) 
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">. </span><span class="string">"/plik.txt"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">. </span><span class="string">"/plik.txt"</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87315">  
  <a class="name">
  <strong class="user"><em>mrgrier at yahoo dot com</em></strong></a><div class="date" title="2008-11-29 10:29"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87315">
<div class="phpcode"><code><span class="html">
At least on Linux, touch will not change the time on a symlink itself, but on the file/directory it points to. The only way to work around this is to unlink the symlink, then recreate it.<br><br>It took a bit of searching to discover this. The OS itself provides no way to do it. Many people wondered why anyone would want to do this. I use symlinks inside a web tree to point to files outside the web tree. After a certain length of time has passed, I want the symlinks to die, so the files cannot be successfully hotlinked.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84983">  
  <a class="name">
  <strong class="user"><em>Radon8472</em></strong></a><div class="date" title="2008-08-08 05:07"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84983">
<div class="phpcode"><code><span class="html">
Important info:<br><br>touch() used on a directory always returns FALSE and prints "Permission denied" on NTFS and FAT Filesystem (tested on winXP).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78606">  
  <a class="name">
  <strong class="user"><em>Glen</em></strong></a><div class="date" title="2007-10-18 01:01"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78606">
<div class="phpcode"><code><span class="html">
In unix on the command-line, you can touch files you don't own - but like other comments on this page state - PHP's built in touch won't work.<br><br>I simple alternative (on unix):<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">touch_it_good</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">exec</span><span class="keyword">(</span><span class="string">"touch </span><span class="keyword">{</span><span class="default">$filename</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68227">  
  <a class="name">
  <strong class="user"><em>Charles Belov</em></strong></a><div class="date" title="2006-07-18 06:10"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68227">
<div class="phpcode"><code><span class="html">
Update the access time without updating the modified time:<br><br>Unix command: touch -a filename<br><br>PHP: touch(filename, date('U', filemtime(filename)), time())</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56399">  
  <a class="name">
  <strong class="user"><em>spam at webmastersguide dot com</em></strong></a><div class="date" title="2005-09-01 05:09"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56399">
<div class="phpcode"><code><span class="html">
If you're going to go around deleting (unlinking) files<br>that you don't own just in order to change the modification<br>time on the file, you darn well better chown() the file <br>back to it's original ownership after you are done and<br>chmod() it back to it's correct permissions.&nbsp; Otherwise <br>you will almost certainly break things.&nbsp; Additionally the<br>code listed for touch()ing a file you don't own should <br>set the file creation time back to it's original time if <br>what is wanted is to just change the modification time.<br>Also, the code listed will break things if there is an i/o <br>error such as disk full or too many files in the directory.<br>Here's how the code SHOULD be written:<br><br>Create the new file FIRST, rather than last, with a different<br>name such as $file.tmp.<br>Read the ownership, permissions, and creation time of the old file.<br>Set permissions and creation time of the new file the same as the old.<br>Rename the new file to the name of the old.<br>chown() the new file to the user that owned the file it's replacing.<br><br>Please be careful adding to the documentation if you've <br>never taken programming 101.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86781">  
  <a class="name">
  <strong class="user"><em>ddalex at gmail dot com</em></strong></a><div class="date" title="2008-11-03 09:25"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86781">
<div class="phpcode"><code><span class="html">
Actually, Glen is right, PHP won't touch if it is not the current owner of the file, even if the directory and files are writeable by the PHP user.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97239">  
  <a class="name">
  <strong class="user"><em>chris dot dallaire at csquaredsystems dot com</em></strong></a><div class="date" title="2010-04-09 07:41"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97239">
<div class="phpcode"><code><span class="html">
I needed to use this to touch the /etc/cron.d directory when I updated some files in there. I know the docs say this isn't necessary, but I'm finding that i need to do it in order form my changes to be picked up quickly. <br><br>I ran into the permissions error as well and I found that using chmod 777 /etc/cron.d does the trick.<br><br>So, you should be able to use the PHP touch function on a directory that has open write access.<br><br>Of course, this isn't the most secure approach, but in our application it's not a big deal for that folder to not be super secure.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12912">  
  <a class="name">
  <strong class="user"><em>master at dreamphp dot com</em></strong></a><div class="date" title="2001-05-15 11:23"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12912">
<div class="phpcode"><code><span class="html">
$filename = "test.dat";
<br>if (!file_exists($filename)) {
<br>&nbsp; touch($filename); // Create blank file
<br>&nbsp; chmod($filename,0666);
<br>}</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.touch.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:54 GMT -->


</body></html>