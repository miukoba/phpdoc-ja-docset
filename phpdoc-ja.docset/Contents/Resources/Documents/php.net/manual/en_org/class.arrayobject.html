<html><!-- Mirrored from php.net/manual/en/class.arrayobject.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:38:23 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>ArrayObject</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="class.arrayobject.html">
 <link rel="shorturl" href="http://php.net/arrayobject">
 <link rel="alternate" href="http://php.net/arrayobject" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="spl.misc.html">
 <link rel="prev" href="spl.misc.html">
 <link rel="next" href="arrayobject.append.html">

 <link rel="alternate" href="class.arrayobject.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/class.arrayobject.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/class.arrayobject.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/class.arrayobject.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/class.arrayobject.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/class.arrayobject.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/class.arrayobject.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/class.arrayobject.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/class.arrayobject.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/class.arrayobject.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/class.arrayobject.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.other.html">Other Basic Extensions</a></li>      <li><a href="book.spl.html">SPL</a></li>      <li><a href="spl.misc.html">Miscellaneous Classes and Interfaces</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="class.arrayobject" class="reference">
 <h1 class="title">The ArrayObject class</h1>
 
 
 <div class="partintro"><p class="verinfo">(PHP 5)</p>
 

  <div class="section" id="arrayobject.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    This class allows objects to work as arrays.
   </p>
  </div>

 
  <div class="section" id="arrayobject.synopsis">
   <h2 class="title">Class synopsis</h2>
 

   <div class="classsynopsis">
    <div class="ooclass"></div>
 


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">ArrayObject</strong>
     </span>

     <span class="oointerface">implements 
      <span class="interfacename"><a href="class.iteratoraggregate.html" class="interfacename">IteratorAggregate</a></span>
     </span>
 
     <span class="oointerface">, 
      <span class="interfacename"><a href="class.arrayaccess.html" class="interfacename">ArrayAccess</a></span>
     </span>
 
     <span class="oointerface">, 
      <span class="interfacename"><a href="class.serializable.html" class="interfacename">Serializable</a></span>
     </span>

     <span class="oointerface">, 
      <span class="interfacename"><a href="class.countable.html" class="interfacename">Countable</a></span>
     </span>
 
     {</div>
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constants */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.arrayobject.html#arrayobject.constants.std-prop-list"><var class="varname">STD_PROP_LIST</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.arrayobject.html#arrayobject.constants.array-as-props"><var class="varname">ARRAY_AS_PROPS</var></a></var>
     <span class="initializer"> = 2</span>
    ;</div>


 
    
 
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="arrayobject.construct.html" class="methodname">__construct</a></span>
    ([ <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$input</code><span class="initializer"> = []</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$iterator_class</code><span class="initializer"> = "ArrayIterator"</span></span>
  ]]] )</div>

    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.append.html" class="methodname">append</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$value</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.asort.html" class="methodname">asort</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="arrayobject.count.html" class="methodname">count</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><a href="arrayobject.exchangearray.html" class="methodname">exchangeArray</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$input</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><a href="arrayobject.getarraycopy.html" class="methodname">getArrayCopy</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="arrayobject.getflags.html" class="methodname">getFlags</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">ArrayIterator</span> <span class="methodname"><a href="arrayobject.getiterator.html" class="methodname">getIterator</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="arrayobject.getiteratorclass.html" class="methodname">getIteratorClass</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.ksort.html" class="methodname">ksort</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.natcasesort.html" class="methodname">natcasesort</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.natsort.html" class="methodname">natsort</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="arrayobject.offsetexists.html" class="methodname">offsetExists</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$index</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">mixed</span> <span class="methodname"><a href="arrayobject.offsetget.html" class="methodname">offsetGet</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$index</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.offsetset.html" class="methodname">offsetSet</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$index</code></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$newval</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.offsetunset.html" class="methodname">offsetUnset</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$index</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="arrayobject.serialize.html" class="methodname">serialize</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.setflags.html" class="methodname">setFlags</a></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.setiteratorclass.html" class="methodname">setIteratorClass</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$iterator_class</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.uasort.html" class="methodname">uasort</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$cmp_function</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.uksort.html" class="methodname">uksort</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$cmp_function</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="arrayobject.unserialize.html" class="methodname">unserialize</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$serialized</code></span>
   )</div>

   }</div>
 
  </div>
 
  <div class="section" id="arrayobject.constants">
   <h2 class="title">Predefined Constants</h2>
   <div class="section" id="arrayobject.constants.flags">
    <h2 class="title">ArrayObject Flags</h2>
    <dl>


     
      <a class="dashAnchor" name="//apple_ref/Constant/STD%5FPROP%5FLIST"></a><dt id="arrayobject.constants.std-prop-list"><strong><code>ArrayObject::STD_PROP_LIST</code></strong></dt>

      <dd>

       <p class="para">Properties of the object have their normal functionality when accessed as list (var_dump, foreach, etc.).</p>
      </dd>

     

     
      <a class="dashAnchor" name="//apple_ref/Constant/ARRAY%5FAS%5FPROPS"></a><dt id="arrayobject.constants.array-as-props"><strong><code>ArrayObject::ARRAY_AS_PROPS</code></strong></dt>

      <dd>

       <p class="para">Entries can be accessed as properties (read and write).</p>
      </dd>

     
    </dl>

   </div>
  </div>

  <div class="section">
   <h2 class="title">Changelog</h2>
   <p class="para">
    </p><table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>5.3.0</td>
        <td>
         Implements <span class="interfacename"><a href="class.serializable.html" class="interfacename">Serializable</a></span>.
        </td>
       </tr>

      </tbody>
     
    </table>

   <p></p>
  </div>

  

 
 </div>
 
 










































































































































 
<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="arrayobject.append.html">ArrayObject::append</a> — Appends the value</li><li><a href="arrayobject.asort.html">ArrayObject::asort</a> — Sort the entries by value</li><li><a href="arrayobject.construct.html">ArrayObject::__construct</a> — Construct a new array object</li><li><a href="arrayobject.count.html">ArrayObject::count</a> — Get the number of public properties in the ArrayObject</li><li><a href="arrayobject.exchangearray.html">ArrayObject::exchangeArray</a> — Exchange the array for another one.</li><li><a href="arrayobject.getarraycopy.html">ArrayObject::getArrayCopy</a> — Creates a copy of the ArrayObject.</li><li><a href="arrayobject.getflags.html">ArrayObject::getFlags</a> — Gets the behavior flags.</li><li><a href="arrayobject.getiterator.html">ArrayObject::getIterator</a> — Create a new iterator from an ArrayObject instance</li><li><a href="arrayobject.getiteratorclass.html">ArrayObject::getIteratorClass</a> — Gets the iterator classname for the ArrayObject.</li><li><a href="arrayobject.ksort.html">ArrayObject::ksort</a> — Sort the entries by key</li><li><a href="arrayobject.natcasesort.html">ArrayObject::natcasesort</a> — Sort an array using a case insensitive "natural order" algorithm</li><li><a href="arrayobject.natsort.html">ArrayObject::natsort</a> — Sort entries using a "natural order" algorithm</li><li><a href="arrayobject.offsetexists.html">ArrayObject::offsetExists</a> — Returns whether the requested index exists</li><li><a href="arrayobject.offsetget.html">ArrayObject::offsetGet</a> — Returns the value at the specified index</li><li><a href="arrayobject.offsetset.html">ArrayObject::offsetSet</a> — Sets the value at the specified index to newval</li><li><a href="arrayobject.offsetunset.html">ArrayObject::offsetUnset</a> — Unsets the value at the specified index</li><li><a href="arrayobject.serialize.html">ArrayObject::serialize</a> — Serialize an ArrayObject</li><li><a href="arrayobject.setflags.html">ArrayObject::setFlags</a> — Sets the behavior flags.</li><li><a href="arrayobject.setiteratorclass.html">ArrayObject::setIteratorClass</a> — Sets the iterator classname for the ArrayObject.</li><li><a href="arrayobject.uasort.html">ArrayObject::uasort</a> — Sort the entries with a user-defined comparison function and maintain key association</li><li><a href="arrayobject.uksort.html">ArrayObject::uksort</a> — Sort the entries by keys using a user-defined comparison function</li><li><a href="arrayobject.unserialize.html">ArrayObject::unserialize</a> — Unserialize an ArrayObject</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="105481">  
  <a class="name">
  <strong class="user"><em>MarkAndrewSlade at gmail dot com</em></strong></a><div class="date" title="2011-08-21 06:05"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105481">
<div class="phpcode"><code><span class="html">
I found the description of STD_PROP_LIST a bit vague, so I put together a simple demonstration to show its behavior:<br><br><span class="default">&lt;?php&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>$a </span><span class="keyword">= new </span><span class="default">ArrayObject</span><span class="keyword">(array(), </span><span class="default">ArrayObject</span><span class="keyword">::</span><span class="default">STD_PROP_LIST</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'arr'</span><span class="keyword">] = </span><span class="string">'array data'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">prop </span><span class="keyword">= </span><span class="string">'prop data'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br></span><span class="default">$b </span><span class="keyword">= new </span><span class="default">ArrayObject</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="default">$b</span><span class="keyword">[</span><span class="string">'arr'</span><span class="keyword">] = </span><span class="string">'array data'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">prop </span><span class="keyword">= </span><span class="string">'prop data'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="comment">// ArrayObject Object&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>// (&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>//&nbsp; &nbsp; &nbsp; [prop] =&gt; prop data&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>// )&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="comment">// ArrayObject Object&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>// (&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>//&nbsp; &nbsp; &nbsp; [arr] =&gt; array data&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>// )&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107079">  
  <a class="name">
  <strong class="user"><em>php5 dot man at lightning dot hu</em></strong></a><div class="date" title="2012-01-05 08:24"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107079">
<div class="phpcode"><code><span class="html">
As you know ArrayObject is not an array so you can't use the built in array functions. Here's a trick around that:<br><br>Extend the ArrayObject class with your own and implement this magic method:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$argv</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">) || </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">) !== </span><span class="string">'array_'</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">BadMethodCallException</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">.</span><span class="string">'-&gt;'</span><span class="keyword">.</span><span class="default">$func</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">array_merge</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getArrayCopy</span><span class="keyword">()), </span><span class="default">$argv</span><span class="keyword">));<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>Now you can do this with any array_* function:<br><span class="default">&lt;?php<br>$yourObject</span><span class="keyword">-&gt;</span><span class="default">array_keys</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span>- Don't forget to ommit the first parameter - it's automatic!<br><br>Note: You might want to write your own functions if you're working with large sets of data.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112949">  
  <a class="name">
  <strong class="user"><em>rwn dot gallego at gmail dot com</em></strong></a><div class="date" title="2013-08-11 09:30"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112949">
<div class="phpcode"><code><span class="html">
There is a better explanation about the ArrayObject flags (STD_PROP_LIST and ARRAY_AS_PROPS) right here: <br><br><a rel="nofollow" target="_blank">http://stackoverflow.com/a/16619183/1019305</a><br><br>Thanks to JayTaph</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110558">  
  <a class="name">
  <strong class="user"><em>mehea</em></strong></a><div class="date" title="2012-11-06 10:28"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110558">
<div class="phpcode"><code><span class="html">
Long story short b/c arrays by default are passed by value, if you pass an array to a function, the function works on a copy of the array while the original array remains unaltered by the function.
<br>
<br>You may cause a change to the array to be reflected in the original array by having the function return the altered array and assign it to the variable for the original array, as follows:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">my_array_modify</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) { 
<br>&nbsp; &nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$data</span><span class="keyword">;&nbsp; &nbsp;&nbsp; 
<br>} 
<br>
<br></span><span class="default">$regularArray </span><span class="keyword">= array(); 
<br>
<br></span><span class="default">$regularArray</span><span class="keyword">[</span><span class="string">'a'</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">; 
<br> 
<br></span><span class="default">$regularArray </span><span class="keyword">= </span><span class="default">my_array_modify</span><span class="keyword">(</span><span class="default">$regularArray</span><span class="keyword">); 
<br>
<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$regularArray</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">]); </span><span class="comment">// 2 
<br></span><span class="default">?&gt;
<br></span>
<br>Or, you may explicitly pass the array by reference in which case there is no need for the function to return the array since the change will have effected the original array, as follows:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">my_arrayref_modify</span><span class="keyword">(&amp;</span><span class="default">$data</span><span class="keyword">) { 
<br>&nbsp; &nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="string">'bb'</span><span class="keyword">] = </span><span class="default">22</span><span class="keyword">;
<br>} 
<br></span><span class="default">my_arrayref_modify</span><span class="keyword">(</span><span class="default">$regularArray</span><span class="keyword">);
<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$regularArray</span><span class="keyword">[</span><span class="string">'bb'</span><span class="keyword">]); </span><span class="comment">// 22
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102747">  
  <a class="name">
  <strong class="user"><em>rob at tdd dot org dot uk</em></strong></a><div class="date" title="2011-03-03 04:38"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102747">
<div class="phpcode"><code><span class="html">
I don't believe the same performance is true since PHP 5.3. Using the same fill, read_key and foreach approach on both native arrays and ArrayObjects with 10000 keys I get the following<br><br>PHP 5.2<br><br>array() fill&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0.013101<br>array() read&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0.008685<br>array() foreach&nbsp; &nbsp; &nbsp; 0.004319<br>ArrayObject fill&nbsp; &nbsp;&nbsp; 0.014136<br>ArrayObject read&nbsp; &nbsp;&nbsp; 0.010003<br>ArrayObject foreach&nbsp; 3.454612<br><br>PHP 5.3<br><br>array() fill&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0.010395<br>array() read&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0.005933<br>array() foreach&nbsp; &nbsp; &nbsp; 0.001903<br>ArrayObject fill&nbsp; &nbsp;&nbsp; 0.010598<br>ArrayObject read&nbsp; &nbsp;&nbsp; 0.006387<br>ArrayObject foreach&nbsp; 0.003451<br><br>This was the code I used for both, an array or ArrayObject is passed into each of the functions. Again PEAR::Benchmark was used to get the results.<br><br><span class="default">&lt;?php<br></span><span class="keyword">require_once </span><span class="string">'Benchmark/Timer.php'</span><span class="keyword">;<br><br></span><span class="default">define</span><span class="keyword">(</span><span class="string">'KEYS'</span><span class="keyword">, </span><span class="default">10000</span><span class="keyword">);<br><br>function </span><span class="default">fill</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">KEYS</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="string">'key-' </span><span class="keyword">. </span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$i</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">read_key</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">KEYS</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="string">'key-' </span><span class="keyword">. </span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">fe</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">) {<br>&nbsp; &nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93100">  
  <a class="name">
  <strong class="user"><em>danbettles at yahoo dot co dot uk</em></strong></a><div class="date" title="2009-08-23 08:56"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom93100">
<div class="phpcode"><code><span class="html">
To implement array-style appending (e.g. "$object[] = 'foo';") in your own class implementing the ArrayAccess _interface_, all you need do is check if the key passed to your implementation of offsetSet() is NULL.&nbsp; Something like the following.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">MyArrayObject </span><span class="keyword">implements </span><span class="default">ArrayAccess </span><span class="keyword">{<br><br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * @var array<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">private </span><span class="default">$aValue</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// ...<br><br>&nbsp; &nbsp; /**<br>&nbsp; &nbsp;&nbsp; * @see ArrayAccess::offsetSet()<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">public function </span><span class="default">offsetSet </span><span class="keyword">(</span><span class="default">$p_key</span><span class="keyword">, </span><span class="default">$p_value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$p_key</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">aValue</span><span class="keyword">[] = </span><span class="default">$p_value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">aValue</span><span class="keyword">[</span><span class="default">$p_key</span><span class="keyword">] = </span><span class="default">$p_value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// ...<br></span><span class="keyword">}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105005">  
  <a class="name">
  <strong class="user"><em>marijn at sensimedia dot nl</em></strong></a><div class="date" title="2011-07-21 12:34"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105005">
<div class="phpcode"><code><span class="html">
A gotcha that is indeed mentioned in the manual, but isn't readily obvious and just cost me half an hour:<br><br>Objects implementing the Serializable interface do NOT get __sleep and __wakeup called; instead, they use serialize and unserialize methods, respectively (why, I don't know, but whatever - I'm sure there's a reason).<br><br>Hence, I was trying to serialize a database resultset in an object extending ArrayObject, and needed to fix some stuff regarding database resources on serialize. Took me a while to figure out __sleep wasn't getting called because ArrayObjects implements Serialize...<br><br>Presumably the ArrayObject internally implements the serialize/unserialize methods (in a trivial manner), hence the error wasn't apparent immediately (i.e., no fatal error was thrown) and I'd been trying to track why my objects didn't get serialized (they were of course) instead of renaming and fixing the methods.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103508">  
  <a class="name">
  <strong class="user"><em>sfinktah at php dot spamtrak dot org</em></strong></a><div class="date" title="2011-04-17 12:27"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103508">
<div class="phpcode"><code><span class="html">
If you plan to derive your own class from ArrayObject, and&nbsp; wish to maintain complete ArrayObject functionality (such as being able to cast to an array), it is necessary to use ArrayObject's own private property "storage".
<br>
<br>Since that is impossible to do directly, you must use ArrayObject's offset{Set,Get,Exists,Unset} methods to manipulate it indirectly.
<br>
<br>As a side benefit, this means you inherit all the iteration and other functions in complete working order.
<br>
<br>This may sound obvious to someone who has never implemented their own ArrayObject class...&nbsp; but it is far from so.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">class </span><span class="default">MyArrayObject </span><span class="keyword">extends </span><span class="default">ArrayObject </span><span class="keyword">{
<br>&nbsp; &nbsp; &nbsp; &nbsp; static </span><span class="default">$debugLevel </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; static public function </span><span class="default">sdprintf</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (static::</span><span class="default">$debugLevel </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">"printf"</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">offsetGet</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">sdprintf</span><span class="keyword">(</span><span class="string">"%s(%s)\n"</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">()));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">parent</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">offsetSet</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">sdprintf</span><span class="keyword">(</span><span class="string">"%s(%s)\n"</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">()));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">parent</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">offsetExists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">sdprintf</span><span class="keyword">(</span><span class="string">"%s(%s)\n"</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">()));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">parent</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">offsetUnset</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">sdprintf</span><span class="keyword">(</span><span class="string">"%s(%s)\n"</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">()));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">parent</span><span class="keyword">, </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$mao </span><span class="keyword">= new </span><span class="default">MyArrayObject</span><span class="keyword">();
<br></span><span class="default">$mao</span><span class="keyword">[</span><span class="string">"name"</span><span class="keyword">] = </span><span class="string">"bob"</span><span class="keyword">;
<br></span><span class="default">$mao</span><span class="keyword">[</span><span class="string">"friend"</span><span class="keyword">] = </span><span class="string">"jane"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">((array)</span><span class="default">$mao</span><span class="keyword">);
<br>
<br></span><span class="comment">/* Output:
<br> 
<br>offsetSet(name,bob)
<br>offsetSet(friend,jane)
<br>Array
<br>(
<br>&nbsp; &nbsp; [name] =&gt; bob
<br>&nbsp; &nbsp; [friend] =&gt; jane
<br>)&nbsp; &nbsp; &nbsp;&nbsp; */
<br></span><span class="default">?&gt;
<br></span>
<br>If you wish to use the "Array as Properties" flag, you simply need to include this in your constructor: 
<br>
<br><span class="default">&lt;?php parent</span><span class="keyword">::</span><span class="default">setFlags</span><span class="keyword">(</span><span class="default">parent</span><span class="keyword">::</span><span class="default">ARRAY_AS_PROPS</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>This will allow you to do things such as the below example, without overriding __get or __set .
<br>
<br><span class="default">&lt;?php
<br>$mao</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="string">"Phil"</span><span class="keyword">;
<br>echo </span><span class="default">$mao</span><span class="keyword">[</span><span class="string">"name"</span><span class="keyword">];&nbsp;&nbsp; </span><span class="comment">/* Outputs "Phil" */
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90371">  
  <a class="name">
  <strong class="user"><em>skrebbel at gmail dot com</em></strong></a><div class="date" title="2009-04-18 03:25"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90371">
<div class="phpcode"><code><span class="html">
According to my benchmarks, doing foreach() on an ArrayObject is significantly slower than doing so on a vanilla array(). However, inserting keys and retrieving them is almost the same speed.<br><br>So, if performance is important, consider not using ArrayObject or descendant classes when you're iterating over its values a lot.<br><br>These are my timing results, using PEAR::Benchmark:<br><br>ArrayObject fill&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.01441502571106&nbsp; &nbsp; <br>ArrayObject read_key&nbsp; &nbsp; &nbsp; &nbsp; 0.018320083618164&nbsp; &nbsp; <br>ArrayObject read_foreach&nbsp; &nbsp; 2.1559031009674&nbsp; &nbsp; <br><br>array() fill&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.012364864349365&nbsp; &nbsp; <br>array() read_key&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.013092041015625&nbsp; &nbsp; <br>array() read_foreach&nbsp; &nbsp; &nbsp; &nbsp; 0.011217832565308&nbsp; &nbsp; <br><br>In all cases, 'fill()' inserts 10000 numbers at string keys, 'read_key()' reads all of those values by referencing the keys, and 'read_foreach()' does the same by walking through the array(object) with foreach().<br><br>As you can see, filling or reading from an ArrayObject by key is only 10% to 15% slower, but doing a foreach() is 200 times as costly. I am not sure what the cause of this may be.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89466">  
  <a class="name">
  <strong class="user"><em>nonproffessional at clockworkgeek dot com</em></strong></a><div class="date" title="2009-03-09 11:04"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89466">
<div class="phpcode"><code><span class="html">
To get a primitive array type back from an ArrayObject you can use the member function exchangeArray() or more simply just cast it:<br><br><span class="default">&lt;?php<br>$object </span><span class="keyword">= new </span><span class="default">ArrayObject</span><span class="keyword">();<br></span><span class="default">$object</span><span class="keyword">[] = </span><span class="string">"Hello World!"</span><span class="keyword">;<br></span><span class="comment">// $object is now an ArrayObject with one value appended.<br><br></span><span class="default">$array </span><span class="keyword">= (array) </span><span class="default">$object</span><span class="keyword">;<br></span><span class="comment">// $array is now a simple array with the single value "Hello World!".<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87964">  
  <a class="name">
  <strong class="user"><em>deminy at deminy dot net</em></strong></a><div class="date" title="2009-01-02 01:31"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87964">
<div class="phpcode"><code><span class="html">
Generally variable $this can't be used as an array within an object context. For example, following code piece would cause a fatal error:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">TestThis </span><span class="keyword">{<br>&nbsp; &nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">TestThis</span><span class="keyword">();<br></span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="string">'aaa'</span><span class="keyword">;<br>echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>But things are different when $this is used in an ArrayObject object. e.g., following code piece are valid:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">TestArrayObject </span><span class="keyword">extends </span><span class="default">ArrayObject </span><span class="keyword">{&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">TestArrayObject</span><span class="keyword">();<br></span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="string">'aaa'</span><span class="keyword">;<br>echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86823">  
  <a class="name">
  <strong class="user"><em>Venelin Vulkov</em></strong></a><div class="date" title="2008-11-05 01:09"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86823">
<div class="phpcode"><code><span class="html">
Simple example of usage : <br><br><span class="default">&lt;?php<br><br>$array </span><span class="keyword">= array(</span><span class="string">'Buck'</span><span class="keyword">,</span><span class="string">'Jerry'</span><span class="keyword">,</span><span class="string">'Tomas'</span><span class="keyword">);<br><br></span><span class="default">$arrayObject </span><span class="keyword">= new </span><span class="default">ArrayObject</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br></span><span class="comment">// Add new element<br></span><span class="default">$arrayObject</span><span class="keyword">-&gt;</span><span class="default">append</span><span class="keyword">(</span><span class="string">'Tweety'</span><span class="keyword">);<br><br></span><span class="comment">// We are getting the iterator of the object<br></span><span class="default">$iterator </span><span class="keyword">= </span><span class="default">$arrayObject</span><span class="keyword">-&gt;</span><span class="default">getIterator</span><span class="keyword">();<br><br></span><span class="comment">// Simple while loop<br></span><span class="keyword">while (</span><span class="default">$iterator</span><span class="keyword">-&gt;</span><span class="default">valid</span><span class="keyword">()) {<br>&nbsp; &nbsp; echo </span><span class="default">$iterator</span><span class="keyword">-&gt;</span><span class="default">current</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$iterator</span><span class="keyword">-&gt;</span><span class="default">next</span><span class="keyword">();<br>}<br><br></span><span class="comment">/* Outputs */<br></span><span class="default">Buck<br>Jerry<br>Tomas<br>Tweety<br><br>?&gt;<br></span><br>Note that not all the public methods of this class are documented here .<br>( Which includes a lot sorting methods ) .<br><br>Regards</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85553">  
  <a class="name">
  <strong class="user"><em>dave at csixty4 dot com</em></strong></a><div class="date" title="2008-09-05 08:28"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85553">
<div class="phpcode"><code><span class="html">
If you want to use array functions on an ArrayObject, why not use iterator_to_array() to get a standard PHP array?&nbsp; Do your operations on that array, then instantiate a new ArrayObject, passing it the array.<br><br>This might be a little slow on large ArrayObjects, but you'd have access to all of the array functions.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85002">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-08-09 06:17"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85002">
<div class="phpcode"><code><span class="html">
Too bad the Array functions [1] are not available on this object… otherwise I would be using it all the time.<br><br>[1] <a rel="nofollow" target="_blank">http://nl.php.net/manual/en/ref.array.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="86206">  
  <a class="name">
  <strong class="user"><em>tony at tonyandcarol dot com</em></strong></a><div class="date" title="2008-10-07 07:49"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86206">
<div class="phpcode"><code><span class="html">
My need was to create a java-like collection where I could store objects by their DB primary keys while having the standard stack capabilities of adding, retrieving, and removing objects from collection. ArrayObject didn't quite do what I need it to do so I extended it a little.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">GenericCollection </span><span class="keyword">extends </span><span class="default">ArrayObject</span><span class="keyword">{
<br>&nbsp; &nbsp; private </span><span class="default">$data</span><span class="keyword">;
<br>&nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= new </span><span class="default">ArrayObject</span><span class="keyword">();
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; function </span><span class="default">addObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_object</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_thisItem </span><span class="keyword">= new </span><span class="default">CollectionObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_object</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">-&gt;</span><span class="default">offSetSet</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_thisItem</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">deleteObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">-&gt;</span><span class="default">offsetUnset</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">getObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_thisObject </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">-&gt;</span><span class="default">offSetGet</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$_thisObject</span><span class="keyword">-&gt;</span><span class="default">getObject</span><span class="keyword">();
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">printCollection</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br>
<br>class </span><span class="default">CollectionObject </span><span class="keyword">{
<br>&nbsp; &nbsp; private </span><span class="default">$id</span><span class="keyword">;
<br>&nbsp; &nbsp; private </span><span class="default">$object</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_object</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$_id</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">object </span><span class="keyword">= </span><span class="default">$_object</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">getObject</span><span class="keyword">(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">object</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">printObject</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Call it like so:
<br>
<br><span class="default">&lt;?php
<br>$u1 </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">/</span><span class="default">Data</span><span class="keyword">/</span><span class="default">Object </span><span class="keyword">(); </span><span class="comment">//whatever, just an object.
<br>
<br></span><span class="default">$myCollection </span><span class="keyword">= new </span><span class="default">GenericCollection</span><span class="keyword">();
<br></span><span class="default">$myCollection</span><span class="keyword">-&gt;</span><span class="default">addObject</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">$u1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$myCollection</span><span class="keyword">-&gt;</span><span class="default">getObject</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>Now you have a simple and functional collection framework. Add methods in for specific types of sorting, we just didn't need anything other than primary key access. And you can add introspection into the collection object if you need to track what kind of an object it is.
<br>
<br>tony@tonyandcarol.com</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86249">  
  <a class="name">
  <strong class="user"><em>tony dot fraser at gmail dot com</em></strong></a><div class="date" title="2008-10-09 08:30"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86249">
<div class="phpcode"><code><span class="html">
The code above will pretty much work as it is, though I have since added in some features.
<br>
<br>Further notes: 
<br>1. Be very aware of this bug until 5.3 becomes stable.
<br><a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=41528</a>
<br>
<br>Basically, we wrote this collection to be a java-like object cache stored in session (instead of&nbsp; hitting the soap server or a DB all the time) to load objects in $_SESSION['cache']&nbsp; But, this particular bug will prevent the object from working in the second page. The variable is there, but there's nothing in it.
<br>
<br>The easy work around is to upgrade PHP to 5.3, and it works like a charm, but at the moment 5.3 happens to be in alpha mode.
<br>
<br>2. You cannot have a PDO object in as a member variable of a class stored in the ArrayObject if you want it to pass through sessions. You can store it if it's not going into a session, but if you want to cache like we're tying to do, make SURE you $_dbHandle="" wherever you need to.
<br>
<br>3. My earlier post was just proof of concept. We have it working now so&nbsp; UserCollection extends GenericCollectionAbstract.&nbsp; and GenericCollectionAbstract implements the GenericCollectionInterface. GenericCollectionObject is the object stored in the GenericCollection's $arrayObject data, and is basically just a two property object that holds the ID of the object, and the object itself.
<br>
<br>When all is said and done this works like a charm.
<br>
<br>page 1 -&gt;
<br>$_SESSION['u'] = new UserCollection();
<br>$_SESSION['u']-&gt;getObject(1, $dbWW);
<br>page-2-&gt;
<br>echo $_SESSION['u']-&gt;getObject(2, $dbWW)-&gt;getProperty('email');
<br>
<br>And of course, getProperty() is from my user class.
<br>
<br>my UserCollecton-&gt;getObject overwrite method is as follows:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">public function </span><span class="default">getObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_dbHandle</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//error_log('trying to get object');
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">parent</span><span class="keyword">::</span><span class="default">objectExists</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_dbHandle</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">error_log</span><span class="keyword">(</span><span class="string">'returning object'</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; else{
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//error_log('collecting new user');
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_tempUser </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$_tempUser</span><span class="keyword">-&gt;</span><span class="default">populateByID</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_dbHandle</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">addObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">, </span><span class="default">$_tempUser</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">parent</span><span class="keyword">::</span><span class="default">objectExists</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_return </span><span class="keyword">= </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getObject</span><span class="keyword">(</span><span class="default">$_id</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$_return </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_return </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">dbHandle</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">; </span><span class="comment">//This has to be done, otherwise it's stored in the object as a private var
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //and it will break the object if it resides in a session.
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$_return</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>Shoot me an email if you have any questions.
<br>enjoy.!</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/class.arrayobject.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:38:23 GMT -->


</body></html>