<html><!-- Mirrored from php.net/manual/en/class.dateinterval.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:46:42 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>DateInterval</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="class.dateinterval.html">
 <link rel="shorturl" href="http://php.net/dateinterval">
 <link rel="alternate" href="http://php.net/dateinterval" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.datetime.html">
 <link rel="prev" href="datetimezone.listidentifiers.html">
 <link rel="next" href="dateinterval.construct.html">

 <link rel="alternate" href="class.dateinterval.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/class.dateinterval.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/class.dateinterval.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/class.dateinterval.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/class.dateinterval.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/class.dateinterval.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/class.dateinterval.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/class.dateinterval.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/class.dateinterval.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/class.dateinterval.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/class.dateinterval.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="class.dateinterval" class="reference">

 <h1 class="title">The DateInterval class</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.3.0)</p>


  <div class="section" id="dateinterval.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Represents a date interval.
   </p>
   <p class="para">
    A date interval stores either a fixed amount of time (in years, months,
    days, hours etc) or a relative time string in the format that
    <a href="class.datetime.html" class="classname">DateTime</a>'s constructor supports.
   </p>
  </div>


  <div class="section" id="dateinterval.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">DateInterval</strong>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.y">$<var class="varname">y</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.m">$<var class="varname">m</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.d">$<var class="varname">d</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.h">$<var class="varname">h</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.i">$<var class="varname">i</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.s">$<var class="varname">s</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">integer</span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.invert">$<var class="varname">invert</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      <var class="varname"><a href="class.dateinterval.html#dateinterval.props.days">$<var class="varname">days</var></a></var>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="dateinterval.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$interval_spec</code></span>
   )</div>

    
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">DateInterval</span> <span class="methodname"><a href="dateinterval.createfromdatestring.html" class="methodname">createFromDateString</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$time</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="dateinterval.format.html" class="methodname">format</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   )</div>


   }</div>


  </div>
  
  <div class="section" id="dateinterval.props">
   <h2 class="title">Properties</h2>
   <dl>

    
     <a class="dashAnchor" name="//apple_ref/Property/y"></a><dt id="dateinterval.props.y"><var class="varname"><var class="varname">y</var></var></dt>

     <dd>

      <p class="para">
       Number of years.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/m"></a><dt id="dateinterval.props.m"><var class="varname"><var class="varname">m</var></var></dt>

     <dd>

      <p class="para">
       Number of months.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/d"></a><dt id="dateinterval.props.d"><var class="varname"><var class="varname">d</var></var></dt>

     <dd>

      <p class="para">
       Number of days.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/h"></a><dt id="dateinterval.props.h"><var class="varname"><var class="varname">h</var></var></dt>

     <dd>

      <p class="para">
       Number of hours.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/i"></a><dt id="dateinterval.props.i"><var class="varname"><var class="varname">i</var></var></dt>

     <dd>

      <p class="para">
       Number of minutes.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/s"></a><dt id="dateinterval.props.s"><var class="varname"><var class="varname">s</var></var></dt>

     <dd>

      <p class="para">
       Number of seconds.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/invert"></a><dt id="dateinterval.props.invert"><var class="varname"><var class="varname">invert</var></var></dt>

     <dd>

      <p class="para">
       Is <em>1</em> if the interval
       represents a negative time period and
       <em>0</em> otherwise.
       See <span class="methodname"><a href="dateinterval.format.html" class="methodname">DateInterval::format()</a></span>.
      </p>
     </dd>

    
    
     <a class="dashAnchor" name="//apple_ref/Property/days"></a><dt id="dateinterval.props.days"><var class="varname"><var class="varname">days</var></var></dt>

     <dd>

      <p class="para">
       If the DateInterval object was created by
       <span class="function"><a href="datetime.diff.html" class="function">DateTime::diff()</a></span>, then this is the total number of
       days between the start and end dates. Otherwise,
       <var class="varname"><var class="varname">days</var></var> will be <strong><code>FALSE</code></strong>.
      </p>
      <p class="para">
       Before PHP 5.4.20/5.5.4 instead of <strong><code>FALSE</code></strong> you will receive -99999 upon
       accessing the property.
      </p>
     </dd>

    
   </dl>

  </div>

 </div>

 






















<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="dateinterval.construct.html">DateInterval::__construct</a> — Creates a new DateInterval object</li><li><a href="dateinterval.createfromdatestring.html">DateInterval::createFromDateString</a> — Sets up a DateInterval from the relative parts of the string</li><li><a href="dateinterval.format.html">DateInterval::format</a> — Formats the interval</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="102930">  
  <a class="name">
  <strong class="user"><em>p dot scheit at ps-webforge dot com</em></strong></a><div class="date" title="2011-03-15 06:07"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102930">
<div class="phpcode"><code><span class="html">
If you want to convert a Timespan given in Seconds into an DateInterval Object you could dot the following:<br><br><span class="default">&lt;?php<br><br>$dv </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT'</span><span class="keyword">.</span><span class="default">$timespan</span><span class="keyword">.</span><span class="string">'S'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>but wenn you look at the object, only the $dv-&gt;s property is set. <br><br>As stated in the documentation to DateInterval::format<br><br>The DateInterval::format() method does not recalculate carry over points in time strings nor in date segments. This is expected because it is not possible to overflow values like "32 days" which could be interpreted as anything from "1 month and 4 days" to "1 month and 1 day". <br><br>If you still want to calculate the seconds into hours / days / years, etc do the following:<br><br><span class="default">&lt;?php<br><br>$d1 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br></span><span class="default">$d2 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br></span><span class="default">$d2</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT'</span><span class="keyword">.</span><span class="default">$timespan</span><span class="keyword">.</span><span class="string">'S'</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; <br></span><span class="default">$iv </span><span class="keyword">= </span><span class="default">$d2</span><span class="keyword">-&gt;</span><span class="default">diff</span><span class="keyword">(</span><span class="default">$d1</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>$iv is an DateInterval set with days, years, hours, seconds, etc ...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110743">  
  <a class="name">
  <strong class="user"><em>artur at qrupa dot com</em></strong></a><div class="date" title="2012-11-30 11:46"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110743">
<div class="phpcode"><code><span class="html">
When using DateInterval('P3M') on 30th of November you get March instead of Ferbuary.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113927">  
  <a class="name">
  <strong class="user"><em>Joan</em></strong></a><div class="date" title="2013-12-18 08:03"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113927">
<div class="phpcode"><code><span class="html">
I had the doubt after reading this page on how to create negative intervals. So far the only solution is to create the interval and negativize it.<br><br><span class="default">&lt;?php <br>$date1 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(); <br></span><span class="default">$eightynine_days_ago </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">( </span><span class="string">"P89D" </span><span class="keyword">); <br></span><span class="default">$eightynine_days_ago</span><span class="keyword">-&gt;</span><span class="default">invert </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//Make it negative. <br></span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">( </span><span class="default">$eightynine_days_ago </span><span class="keyword">); <br></span><span class="default">?&gt;</span> <br><br>and then $date1 is now 89 days in the past.<br><br>This information is extracted from another php comment <a rel="nofollow" target="_blank">http://www.php.net/manual/en/dateinterval.construct.php#102976</a> but this page seems to be the first place where people will look for it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113415">  
  <a class="name">
  <strong class="user"><em>theDustin</em></strong></a><div class="date" title="2013-10-08 03:35"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113415">
<div class="phpcode"><code><span class="html">
If you want to format a \DateInterval to something like you input (new \DateInterval("P3W2D")) you can use one of this:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">MyDateInterval </span><span class="keyword">extends \</span><span class="default">DateInterval<br></span><span class="keyword">{<br><br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * formating string like ISO 8601 (PnYnMnDTnHnMnS)<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">const </span><span class="default">INTERVAL_ISO8601 </span><span class="keyword">= </span><span class="string">'P%yY%mM%dDT%hH%iM%sS'</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * formating the interval like ISO 8601 (PnYnMnDTnHnMnS)<br>&nbsp; &nbsp;&nbsp; *<br>&nbsp; &nbsp;&nbsp; * @return string<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">__toString</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">= </span><span class="string">'P'</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">y</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">y </span><span class="keyword">. </span><span class="string">'Y'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m </span><span class="keyword">. </span><span class="string">'M'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">d</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">d </span><span class="keyword">. </span><span class="string">'D'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">h </span><span class="keyword">|| </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">i </span><span class="keyword">|| </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">s</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="string">'T'</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">h</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">h </span><span class="keyword">. </span><span class="string">'H'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">i </span><span class="keyword">. </span><span class="string">'M'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">s</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sReturn </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">s </span><span class="keyword">. </span><span class="string">'S'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$sReturn</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">?&gt;<br></span><br>example use:<br><br><span class="default">&lt;?php<br><br>$oDateIntervalValue </span><span class="keyword">= new </span><span class="default">MyDateInterval</span><span class="keyword">(</span><span class="string">'P3M'</span><span class="keyword">);<br><br></span><span class="default">$sFormatResult </span><span class="keyword">= </span><span class="default">$oDateIntervalValue</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">MyDateInterval</span><span class="keyword">::</span><span class="default">INTERVAL_ICALENDAR</span><span class="keyword">); </span><span class="comment">// "P0Y3M0DT0H0M0S"<br></span><span class="default">$sToStringResult </span><span class="keyword">= (string) </span><span class="default">$oDateIntervalValue</span><span class="keyword">; </span><span class="comment">// "P3M"<br><br></span><span class="default">var_dump</span><span class="keyword">(new </span><span class="default">MyDateInterval</span><span class="keyword">(</span><span class="default">$sFormatResult</span><span class="keyword">)); </span><span class="comment">// object like $oDateIntervalValue<br></span><span class="default">var_dump</span><span class="keyword">(new </span><span class="default">MyDateInterval</span><span class="keyword">(</span><span class="default">$sToStringResult</span><span class="keyword">)); </span><span class="comment">// object like $oDateIntervalValue<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112872">  
  <a class="name">
  <strong class="user"><em>computrius</em></strong></a><div class="date" title="2013-07-31 02:32"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112872">
<div class="phpcode"><code><span class="html">
It appears that they "days" property that is populated by \DateTime::diff does not contain a float for the differences in time.<br>It is rounded down to the nearest whole day.<br><br>&nbsp; &nbsp; $d1 = new \DateTime("2013-07-31 10:29:00");<br>&nbsp; &nbsp; $d2 = new \DateTime("2013-08-02 5:32:12");<br>&nbsp; &nbsp; echo $d1-&gt;diff($d2)-&gt;days;<br><br>Output: 1</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114826">  
  <a class="name">
  <strong class="user"><em>0bccbf3a at opayq dot com</em></strong></a><div class="date" title="2014-04-10 05:26"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114826">
<div class="phpcode"><code><span class="html">
invert flag is unreliable. <br>If you've created interval with \DateInterval::createFromDateString with value like '1 day ago' than actually days counter will be negative, and invert flag will be 0. Also, setting invert to 1 with negative units is not working.<br>Reliable solution to check if interval is negative is to actually apply it and compare:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">private function </span><span class="default">isNegative</span><span class="keyword">(\</span><span class="default">DateInterval $interval</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$now </span><span class="keyword">= new \</span><span class="default">DateTimeImmutable</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newTime </span><span class="keyword">= </span><span class="default">$now</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$newTime </span><span class="keyword">&lt; </span><span class="default">$now</span><span class="keyword">;<br>&nbsp; &nbsp; } <br></span><span class="default">?&gt;<br></span>Also, if you want to compare some units of two intervals you should take abs() of them. Or make whole interval absolute:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">private function </span><span class="default">absInterval</span><span class="keyword">(\</span><span class="default">DateInterval $interval</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$now </span><span class="keyword">= new \</span><span class="default">DateTimeImmutable</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">= </span><span class="default">$now</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newInt </span><span class="keyword">= </span><span class="default">$now</span><span class="keyword">-&gt;</span><span class="default">diff</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">1 </span><span class="keyword">=== </span><span class="default">$newInt</span><span class="keyword">-&gt;</span><span class="default">invert</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newInt</span><span class="keyword">-&gt;</span><span class="default">invert </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$newInt</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span>P.S.: tested on 5.5.12-dev and 5.5.9</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113091">  
  <a class="name">
  <strong class="user"><em>Miller</em></strong></a><div class="date" title="2013-08-28 07:06"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113091">
<div class="phpcode"><code><span class="html">
This DateInterval extension allows you to write a formatted timestamp but omit the "zero values" and handle things like listing, plurals, etc.<br>Example input: '%y year(s)', '%m month(s)', '%d day(s)', '%h hour(s)', '%i minute(s)', '%s second(s)'<br>Example output: 1 year, 2 months, 16 days, 1 minute, and 15 seconds<br>Example input: '%y año(s)', '%m mes(es)', '%d día(s)', '%h hora(s)', '%i minuto(s)', '%s segundo(s)'<br>Example output: 1 año, 2 meses, 16 días, 1 minuto, y 15 segundos<br><br>&lt;meta charset="UTF-8"&gt;<br><span class="default">&lt;?php<br>error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br><br>class </span><span class="default">MyDateInterval </span><span class="keyword">extends </span><span class="default">DateInterval </span><span class="keyword">{<br>&nbsp; &nbsp; public<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pluralCheck </span><span class="keyword">= </span><span class="string">'()'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Must be exactly 2 characters long<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // The first character is the opening brace, the second the closing brace<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Text between these braces will be used if &gt; 1, or replaced with $this-&gt;singularReplacement if = 1<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$singularReplacement </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Replaces $this-&gt;pluralCheck if = 1<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // hour(s) -&gt; hour<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$separator </span><span class="keyword">= </span><span class="string">', '</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Delimiter between units<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 3 hours, 2 minutes<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$finalSeparator </span><span class="keyword">= </span><span class="string">', and '</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Delimeter between next-to-last unit and last unit<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 3 hours, 2 minutes, and 1 second<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$finalSeparator2 </span><span class="keyword">= </span><span class="string">' and '</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Delimeter between units if there are only 2 units<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 3 hours and 2 minutes<br><br>&nbsp; &nbsp; </span><span class="keyword">public static function </span><span class="default">createFromDateInterval </span><span class="keyword">(</span><span class="default">DateInterval $interval</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">self</span><span class="keyword">(</span><span class="string">'PT0S'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$interval </span><span class="keyword">as </span><span class="default">$property </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">$property </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$obj</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">formatWithoutZeroes </span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Each argument may have only one % parameter<br>&nbsp; &nbsp; &nbsp; &nbsp; // Result does not handle %R or %r -- but you can retrieve that information using $this-&gt;format('%R') and using your own logic<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts </span><span class="keyword">= array ();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">func_get_args</span><span class="keyword">() as </span><span class="default">$arg</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pre </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="string">'%'</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$param </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="string">'%'</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$post </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">, </span><span class="default">$param</span><span class="keyword">)+</span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$param</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">parent</span><span class="keyword">::</span><span class="default">format</span><span class="keyword">(</span><span class="default">$param</span><span class="keyword">));<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$open </span><span class="keyword">= </span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">pluralCheck</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="string">'/'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$close </span><span class="keyword">= </span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">pluralCheck</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="string">'/'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">"/</span><span class="default">$open</span><span class="string">(.*)</span><span class="default">$close</span><span class="string">/"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list (</span><span class="default">$pre</span><span class="keyword">, </span><span class="default">$post</span><span class="keyword">) = </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$num </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">? </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">singularReplacement </span><span class="keyword">: </span><span class="string">'$1'</span><span class="keyword">, array (</span><span class="default">$pre</span><span class="keyword">, </span><span class="default">$post</span><span class="keyword">));<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$num </span><span class="keyword">!= </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parts</span><span class="keyword">[] = </span><span class="default">$pre</span><span class="keyword">.</span><span class="default">$num</span><span class="keyword">.</span><span class="default">$post</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$parts</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$parts </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$part</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$part</span><span class="keyword">.(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l</span><span class="keyword">-</span><span class="default">2 </span><span class="keyword">? </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">separator </span><span class="keyword">: (</span><span class="default">$l </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">finalSeparator2 </span><span class="keyword">: (</span><span class="default">$i </span><span class="keyword">== </span><span class="default">$l</span><span class="keyword">-</span><span class="default">2 </span><span class="keyword">? </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">finalSeparator </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">)));<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$output</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">'America/Phoenix'</span><span class="keyword">);<br><br></span><span class="default">$today </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'today'</span><span class="keyword">);<br>echo </span><span class="string">'Today is '</span><span class="keyword">, </span><span class="default">$today</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'F d, Y h:ia'</span><span class="keyword">), </span><span class="string">'.&lt;br&gt;'</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// Today is August 28, 2013 12:00am.&lt;br&gt;<br></span><span class="default">$expiration </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'today +1 year +2 months +16 days +1 minute +15 seconds'</span><span class="keyword">);<br>echo </span><span class="string">'Expires '</span><span class="keyword">, </span><span class="default">$expiration</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'F d, Y h:ia'</span><span class="keyword">), </span><span class="string">'.&lt;br&gt;'</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// Expires November 13, 2014 12:01am.&lt;br&gt;<br><br></span><span class="default">$interval </span><span class="keyword">= </span><span class="default">MyDateInterval</span><span class="keyword">::</span><span class="default">createFromDateInterval</span><span class="keyword">(</span><span class="default">$today</span><span class="keyword">-&gt;</span><span class="default">diff</span><span class="keyword">(</span><span class="default">$expiration</span><span class="keyword">));<br><br>echo </span><span class="string">'That is '</span><span class="keyword">, </span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">formatWithoutZeroes</span><span class="keyword">(</span><span class="string">'%y year(s)'</span><span class="keyword">, </span><span class="string">'%m month(s)'</span><span class="keyword">, </span><span class="string">'%d day(s)'</span><span class="keyword">, </span><span class="string">'%h hour(s)'</span><span class="keyword">, </span><span class="string">'%i minute(s)'</span><span class="keyword">, </span><span class="string">'%s second(s)'</span><span class="keyword">), </span><span class="string">' from now.&lt;br&gt;'</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// That is 1 year, 2 months, 16 days, 1 minute, and 15 seconds from now.<br><br></span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">finalSeparator </span><span class="keyword">= </span><span class="string">', y '</span><span class="keyword">;<br></span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">finalSeparator2 </span><span class="keyword">= </span><span class="string">' y '</span><span class="keyword">;<br>echo </span><span class="string">'Que es de '</span><span class="keyword">, </span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">formatWithoutZeroes</span><span class="keyword">(</span><span class="string">'%y año(s)'</span><span class="keyword">, </span><span class="string">'%m mes(es)'</span><span class="keyword">, </span><span class="string">'%d día(s)'</span><span class="keyword">, </span><span class="string">'%h hora(s)'</span><span class="keyword">, </span><span class="string">'%i minuto(s)'</span><span class="keyword">, </span><span class="string">'%s segundo(s)'</span><span class="keyword">), </span><span class="string">' a partir de ahora.'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// Que es de 1 año, 2 meses, 16 días, 1 minuto, y 15 segundos a partir de ahora.<br>&nbsp; &nbsp; // Is that correct? Spanish isn't my strength....<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113269">  
  <a class="name">
  <strong class="user"><em>till at php dot net</em></strong></a><div class="date" title="2013-09-19 02:18"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113269">
<div class="phpcode"><code><span class="html">
It should be noted that the following code will not throw an exception or return false, or anything:<br><br><span class="default">&lt;?php<br>$interval </span><span class="keyword">= new \</span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createFromDateString</span><span class="keyword">(</span><span class="string">"this is not a date interval"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Your best way to check if what you created is a "valid" interval, by doing something like the following:<br><br><span class="default">&lt;?php<br>$interval </span><span class="keyword">= new \</span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createFromDateString</span><span class="keyword">(</span><span class="string">"this is not a date interval"</span><span class="keyword">);<br>if (</span><span class="default">0 </span><span class="keyword">== </span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'s'</span><span class="keyword">)) {<br>&nbsp; &nbsp;&nbsp; throw new \</span><span class="default">LogicException</span><span class="keyword">(</span><span class="string">"Wrong interval"</span><span class="keyword">);<br> }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113270">  
  <a class="name">
  <strong class="user"><em>till at php dot net</em></strong></a><div class="date" title="2013-09-19 02:20"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113270">
<div class="phpcode"><code><span class="html">
It should be noted that the following code will not throw an exception or return false, or anything:<br><br><span class="default">&lt;?php<br>$interval </span><span class="keyword">= new \</span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createFromDateString</span><span class="keyword">(</span><span class="string">"this is not a date interval"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Your best way to check if what you created is a "valid" interval, by doing something like the following:<br><br><span class="default">&lt;?php<br>$interval </span><span class="keyword">= new \</span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createFromDateString</span><span class="keyword">(</span><span class="string">"this is not a date interval"</span><span class="keyword">);<br>if (</span><span class="default">0 </span><span class="keyword">== </span><span class="default">$interval</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'s'</span><span class="keyword">)) {<br>&nbsp; &nbsp;&nbsp; throw new \</span><span class="default">LogicException</span><span class="keyword">(</span><span class="string">"Wrong interval"</span><span class="keyword">);<br> }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/class.dateinterval.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:46:43 GMT -->


</body></html>