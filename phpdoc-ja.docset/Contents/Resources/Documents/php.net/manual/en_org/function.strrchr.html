<html><!-- Mirrored from php.net/manual/en/function.strrchr.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:24 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>strrchr</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.strrchr.html">
 <link rel="shorturl" href="http://php.net/strrchr">
 <link rel="alternate" href="http://php.net/strrchr" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.strings.html">
 <link rel="prev" href="function.strpos.html">
 <link rel="next" href="function.strrev.html">

 <link rel="alternate" href="function.strrchr.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.strrchr.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.strrchr.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.strrchr.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.strrchr.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.strrchr.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.strrchr.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.strrchr.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.strrchr.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.strrchr.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.strrchr.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.strings.html">Strings</a></li>      <li><a href="ref.strings.html">String Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.strrchr" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">strrchr</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">strrchr</span> â€” <span class="dc-title">Find the last occurrence of a character in a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.strrchr-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>strrchr</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$haystack</code></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$needle</code></span>
   )</div>

  <p class="para rdfs-comment">
   This function returns the portion of <code class="parameter">haystack</code> which
   starts at the last occurrence of <code class="parameter">needle</code> and goes
   until the end of <code class="parameter">haystack</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.strrchr-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">haystack</code></dt>

     <dd>

      <p class="para">
       The string to search in
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">needle</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">needle</code> contains more than one character,
       only the first is used. This behavior is different from that of
       <span class="function"><a href="function.strstr.html" class="function">strstr()</a></span>.
      </p>
      <p class="para">
       If <code class="parameter">needle</code> is not a string, it is converted to
       an integer and applied as the ordinal value of a character.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.strrchr-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   This function returns the portion of string, or <strong><code>FALSE</code></strong> if
   <code class="parameter">needle</code> is not found.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.strrchr-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.3.0</td>
       <td>
        This function is now binary safe.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.strrchr-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5016">
    <p><strong>Example #1 <span class="function"><strong>strrchr()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;get&nbsp;last&nbsp;directory&nbsp;in&nbsp;$PATH<br></span><span style="color: #0000BB">$dir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$PATH</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">":"</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;get&nbsp;everything&nbsp;after&nbsp;last&nbsp;newline<br></span><span style="color: #0000BB">$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Line&nbsp;1\nLine&nbsp;2\nLine&nbsp;3"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>   
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.strrchr-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.strrchr-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.strstr.html" class="function" rel="rdfs-seeAlso">strstr()</a> - Find the first occurrence of a string</span></li>
    <li class="member"><span class="function"><a href="function.strrpos.html" class="function" rel="rdfs-seeAlso">strrpos()</a> - Find the position of the last occurrence of a substring in a string</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="109740">  
  <a class="name">
  <strong class="user"><em>jphansen at uga dot edu</em></strong></a><div class="date" title="2012-08-15 04:16"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109740">
<div class="phpcode"><code><span class="html">
To extract your portion of a string without the actual character you searched for, you can use:<br><br><span class="default">&lt;?php<br>$path </span><span class="keyword">= </span><span class="string">'/www/public_html/index.html'</span><span class="keyword">;<br></span><span class="default">$filename </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br>echo </span><span class="default">$filename</span><span class="keyword">; </span><span class="comment">// "index.html"<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103191">  
  <a class="name">
  <strong class="user"><em>matthewkastor at live dot com</em></strong></a><div class="date" title="2011-03-30 01:07"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103191">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * Removes the preceeding or proceeding portion of a string
<br> * relative to the last occurrence of the specified character.
<br> * The character selected may be retained or discarded.
<br> * 
<br> * Example usage:
<br> * &lt;code&gt;
<br> * $example = '<a rel="nofollow" target="_blank">http://example.com/path/file.php</a>';
<br> * $cwd_relative[] = cut_string_using_last('/', $example, 'left', true);
<br> * $cwd_relative[] = cut_string_using_last('/', $example, 'left', false);
<br> * $cwd_relative[] = cut_string_using_last('/', $example, 'right', true);
<br> * $cwd_relative[] = cut_string_using_last('/', $example, 'right', false);
<br> * foreach($cwd_relative as $string) {
<br> *&nbsp; &nbsp;&nbsp; echo "$string &lt;br&gt;".PHP_EOL;
<br> * }
<br> * &lt;/code&gt;
<br> * 
<br> * Outputs:
<br> * &lt;code&gt;
<br> * <a rel="nofollow" target="_blank">http://example.com/path/</a>
<br> * <a rel="nofollow" target="_blank">http://example.com/path</a>
<br> * /file.php
<br> * file.php
<br> * &lt;/code&gt;
<br> * 
<br> * @param string $character the character to search for.
<br> * @param string $string the string to search through.
<br> * @param string $side determines whether text to the left or the right of the character is returned.
<br> * Options are: left, or right.
<br> * @param bool $keep_character determines whether or not to keep the character.
<br> * Options are: true, or false.
<br> * @return string
<br> */
<br></span><span class="keyword">function </span><span class="default">cut_string_using_last</span><span class="keyword">(</span><span class="default">$character</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$side</span><span class="keyword">, </span><span class="default">$keep_character</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= (</span><span class="default">$keep_character </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$whole_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$right_length </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$character</span><span class="keyword">)) - </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$left_length </span><span class="keyword">= (</span><span class="default">$whole_length </span><span class="keyword">- </span><span class="default">$right_length </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; switch(</span><span class="default">$side</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'left'</span><span class="keyword">:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">$left_length </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'right'</span><span class="keyword">:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= (</span><span class="default">0 </span><span class="keyword">- (</span><span class="default">$right_length </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; default:
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return(</span><span class="default">$piece</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64157">  
  <a class="name">
  <strong class="user"><em>sekati at gmail dot com</em></strong></a><div class="date" title="2006-04-08 05:43"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64157">
<div class="phpcode"><code><span class="html">
just a small addition to carlos dot lage at gmail dot com note which makes it a bit more useful and flexible:<br><br><span class="default">&lt;?php<br></span><span class="comment">// return everything up to last instance of needle<br>// use $trail to include needle chars including and past last needle <br></span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$trail</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) + </span><span class="default">$trail</span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br>}<br></span><span class="comment">// usage:<br></span><span class="default">$ns </span><span class="keyword">= (</span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_URI"</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br></span><span class="default">$ns2 </span><span class="keyword">= (</span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_URI"</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br>echo(</span><span class="default">$ns </span><span class="keyword">. </span><span class="string">"&lt;br&gt;" </span><span class="keyword">. </span><span class="default">$ns2</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39957">  
  <a class="name">
  <strong class="user"><em>dchris1 at bigpond dot net dot au</em></strong></a><div class="date" title="2004-02-16 07:16"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom39957">
<div class="phpcode"><code><span class="html">
The function provided by marcokonopacki at hotmail dot com isn't really a reverse-version of strrchr(), rather a reverse version of strchr(). It returns everything from the start of $haystack up to the FIRST instance of the $needle. This is basically a reverse of the behavior which you expect from strchr(). A reverse version of strrchr() would return everything in $haystack up to the LAST instance of $needle, eg:<br><br><span class="default">&lt;?php<br></span><span class="comment">// reverse strrchr() - PHP v4.0b3 and above<br></span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$haystack</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>Note that this function will need to be modified slightly to work with pre 4.0b3 versions of PHP due to the return type of strrpos() ('0' is not necessarily 'false'). Check the documentation on strrpos() for more info. <br><br>A function like this can be useful for extracting the path to a script, for example:<br><br>&lt;?<br>$string = "/path/to/the/file/filename.php";<br><br>echo reverse_strrchr($string, '/'); // will echo "/path/to/the/file/"<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67296">  
  <a class="name">
  <strong class="user"><em>readless at gmx dot net</em></strong></a><div class="date" title="2006-06-06 07:55"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom67296">
<div class="phpcode"><code><span class="html">
to: repley at freemail dot it<br><br>the code works very well, but as i was trying to cut script names (e.g.: $_SERVER["SCRIPT_NAME"] =&gt; /index.php, cut the string at "/" and return "index.php") it returned nothing (false). i've modified your code and now it works also if the needle is the first char.<br>- regards from germany<br><br><span class="default">&lt;?php<br></span><span class="comment">//strxchr(string haystack, string needle [, bool int leftinclusive [, bool int rightinclusive ]])<br></span><span class="keyword">function </span><span class="default">strxchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$l_inclusive </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$r_inclusive </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br>&nbsp;&nbsp; if(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Everything before last $needle in $haystack.<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$left </span><span class="keyword">=&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) + </span><span class="default">$l_inclusive</span><span class="keyword">);<br> <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Switch value of $r_inclusive from 0 to 1 and viceversa.<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r_inclusive </span><span class="keyword">= (</span><span class="default">$r_inclusive </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;<br> <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Everything after last $needle in $haystack.<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$right </span><span class="keyword">=&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$r_inclusive</span><span class="keyword">);<br> <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Return $left and $right into an array.<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return array(</span><span class="default">$left</span><span class="keyword">, </span><span class="default">$right</span><span class="keyword">);<br>&nbsp;&nbsp; } else {<br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)) return array(</span><span class="string">''</span><span class="keyword">, </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$r_inclusive</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp;&nbsp; else return </span><span class="default">false</span><span class="keyword">;<br>&nbsp;&nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55306">  
  <a class="name">
  <strong class="user"><em></em></strong></a><div class="date" title="2005-07-29 10:24"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55306">
<div class="phpcode"><code><span class="html">
$filename = 'strrchr_test.php';<br>print strrchr( $filename, '.' );<br><br>Result:<br>.php<br><br>$other_filename = 'strrchr_test.asp.php';<br>print&nbsp; strrchr( $other_filename, '.' );<br><br>Result:<br>.php</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32336">  
  <a class="name">
  <strong class="user"><em>andfarm at thibs dot menloschool dot org</em></strong></a><div class="date" title="2003-05-23 04:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32336">
<div class="phpcode"><code><span class="html">
strrchr is also very useful for finding the extension of a file. For example:<br><br>$ext = strrchr($filename, ".");<br><br>and $ext will contain the extension of the file, including a ".", if the file has an extension, and FALSE if the file has no extension. If the file has multiple extensions, such as "evilfile.jpg.vbs", then this construction will just return the last extension.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31232">  
  <a class="name">
  <strong class="user"><em>marcokonopacki at hotmail dot com</em></strong></a><div class="date" title="2003-04-14 12:43"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31232">
<div class="phpcode"><code><span class="html">
&lt;?<br><br>// Reverse search of strrchr.<br>function strrrchr($haystack,$needle)<br>{<br><br>&nbsp; &nbsp; // Returns everything before $needle (inclusive).<br>&nbsp; &nbsp; return substr($haystack,0,strpos($haystack,$needle)+1);<br>&nbsp; &nbsp; <br>}<br><br>$string = "FIELD NUMBER(9) NOT NULL";<br><br>echo strrrchr($string,")"); // Will print FIELD (9)<br><br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60075">  
  <a class="name">
  <strong class="user"><em>freakinunreal at hotmail dot com</em></strong></a><div class="date" title="2005-12-24 10:54"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60075">
<div class="phpcode"><code><span class="html">
to marcokonopacki at hotmail dot com.<br><br>I had to make a slight change in your function for it to return the complete needle inclusive.<br><br>// Reverse search of strrchr.<br>function strrrchr($haystack,$needle)<br>{<br><br>&nbsp;&nbsp; // Returns everything before $needle (inclusive).<br>&nbsp;&nbsp; //return substr($haystack,0,strpos($haystack,$needle)+1);<br>&nbsp;&nbsp; // becomes<br>&nbsp;&nbsp; return substr($haystack,0,strpos($haystack,$needle)+strlen($needle));<br>}<br><br>Note: the +1 becomes +strlen($needle)<br><br>Otherwise it only returns the first character in needle backwards.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51551">  
  <a class="name">
  <strong class="user"><em>carlos dot lage at gmail dot com</em></strong></a><div class="date" title="2005-04-03 11:45"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51551">
<div class="phpcode"><code><span class="html">
I used dchris1 at bigpond dot net dot au 's reverse strrchr and reduced it to one line of code and fixed it's functionality - the real strrchr() returns FALSE if the needle is not found, not the haystack :)<br><br><span class="default">&lt;?php<br></span><span class="comment">// reverse strrchr()<br></span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) +</span><span class="default">1 </span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br>} <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.strrchr.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:25 GMT -->


</body></html>