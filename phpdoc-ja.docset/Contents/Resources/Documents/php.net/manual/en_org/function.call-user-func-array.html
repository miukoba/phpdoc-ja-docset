<html><!-- Mirrored from php.net/manual/en/function.call-user-func-array.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:37 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>call_user_func_array</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.call-user-func-array.html">
 <link rel="shorturl" href="http://php.net/call-user-func-array">
 <link rel="alternate" href="http://php.net/call-user-func-array" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.funchand.html">
 <link rel="prev" href="ref.funchand.html">
 <link rel="next" href="function.call-user-func.html">

 <link rel="alternate" href="function.call-user-func-array.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.call-user-func-array.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.call-user-func-array.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.call-user-func-array.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.call-user-func-array.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.call-user-func-array.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.call-user-func-array.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.call-user-func-array.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.call-user-func-array.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.call-user-func-array.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.call-user-func-array.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.funchand.html">Function Handling</a></li>      <li><a href="ref.funchand.html">Function handling Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.call-user-func-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">call_user_func_array</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5)</p><p class="refpurpose"><span class="refname">call_user_func_array</span> — <span class="dc-title">Call a callback with an array of parameters</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.call-user-func-array-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>call_user_func_array</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$param_arr</code></span>
   )</div>

  <p class="para rdfs-comment">
   Calls the <code class="parameter">callback</code> given by the first parameter with
   the parameters in <code class="parameter">param_arr</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.call-user-func-array-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       The <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> to be called.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">param_arr</code></dt>

     <dd>

      <p class="para">
       The parameters to be passed to the callback, as an indexed array.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.call-user-func-array-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the return value of the callback, or <strong><code>FALSE</code></strong> on error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.call-user-func-array-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        The interpretation of object oriented keywords like <em>parent</em> 
        and <em>self</em> has changed. Previously, calling them using the 
        double colon syntax would emit an <strong><code>E_STRICT</code></strong> warning because 
        they were interpreted as static.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.call-user-func-array-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5213">
    <p><strong>Example #1 <span class="function"><strong>call_user_func_array()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&nbsp;got&nbsp;</span><span style="color: #0000BB">$arg</span><span style="color: #DD0000">&nbsp;and&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>}<br>class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&nbsp;got&nbsp;</span><span style="color: #0000BB">$arg</span><span style="color: #DD0000">&nbsp;and&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br><br></span><span style="color: #FF8000">//&nbsp;Call&nbsp;the&nbsp;foobar()&nbsp;function&nbsp;with&nbsp;2&nbsp;arguments<br></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"one"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"two"</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">//&nbsp;Call&nbsp;the&nbsp;$foo-&gt;bar()&nbsp;method&nbsp;with&nbsp;2&nbsp;arguments<br></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">"three"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"four"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>foobar got one and two
foo::bar got three and four
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5214">
    <p><strong>Example #2 <span class="function"><strong>call_user_func_array()</strong></span> using namespace name</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Foobar</span><span style="color: #007700">;<br><br>class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$name</span><span style="color: #007700">}</span><span style="color: #DD0000">!\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br></span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo::test'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'Hannes'</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(array(</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">'Philip'</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Hello Hannes!
Hello Philip!
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5215">
    <p><strong>Example #3 Using lambda function</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$func&nbsp;</span><span style="color: #007700">=&nbsp;function(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$arg1&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">;<br>};<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)));&nbsp;</span><span style="color: #FF8000">/*&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0&nbsp;*/<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>int(8)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.call-user-func-array-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Before PHP 5.4, referenced variables in <code class="parameter">param_arr</code>
    are passed to the function by reference, regardless of whether the function
    expects the respective parameter to be passed by reference. This form of
    call-time pass by reference does not emit a deprecation notice, but it is
    nonetheless deprecated, and has been removed in PHP 5.4.
    Furthermore, this does not apply to internal functions, for which
    the function signature is honored. Passing by value when the function
    expects a parameter by reference results in a warning and having
    <span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> return <strong><code>FALSE</code></strong> (there is, however, an
    exception for passed values with reference count = 1, such as in literals,
    as these can be turned into references without ill effects — but also
    without writes to that value having any effect —; do not rely
    in this behavior, though, as the reference count is an implementation
    detail and the soundness of this behavior is questionable).
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">Callbacks registered
with functions such as <span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> and <span class="function"><strong>call_user_func_array()</strong></span> will not be
called if there is an uncaught exception thrown in a previous callback.</p><p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.call-user-func-array-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.call-user-func.html" class="function" rel="rdfs-seeAlso">call_user_func()</a> - Call the callback given by the first parameter</span></li>
    <li class="member">information about the <a href="language.pseudo-types.html#language.types.callback" class="link">callback</a> type</li>
    <li class="member"><span class="methodname"><a href="reflectionfunction.invokeargs.html" class="methodname" rel="rdfs-seeAlso">ReflectionFunction::invokeArgs()</a> - Invokes function args</span></li>
    <li class="member"><span class="methodname"><a href="reflectionmethod.invokeargs.html" class="methodname" rel="rdfs-seeAlso">ReflectionMethod::invokeArgs()</a> - Invoke args</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="91503">  
  <a class="name">
  <strong class="user"><em>Damin</em></strong></a><div class="date" title="2009-06-13 12:06"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91503">
<div class="phpcode"><code><span class="html">
Those having the passing by reference issue can use this simple hack.
<br>I´m really not sure WHY this works, but it does, and it does not make use of EVAL or other questionable functions.
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">executeHook</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$type</span><span class="keyword">=</span><span class="string">'hooks'</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//Rather stupid Hack for the call_user_func_array();
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Args </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; &amp;</span><span class="default">$arg</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Args</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = &amp;</span><span class="default">$arg</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//End Hack
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hooks </span><span class="keyword">= &amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$type</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!isset(</span><span class="default">$hooks</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hook </span><span class="keyword">= </span><span class="default">$hooks</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$hook</span><span class="keyword">, </span><span class="default">$Args</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>All it´s doing is copying the args ($args) into a new array ($Args) by reference, which i would think would be identical to the original array in every way (that matters).
<br>
<br>Note the code here is an example of usage. The actual hack is denoted by comments.
<br>If someone knows a better alternative, by all means, i would love to see it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109357">  
  <a class="name">
  <strong class="user"><em>jaxxed</em></strong></a><div class="date" title="2012-07-10 04:42"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109357">
<div class="phpcode"><code><span class="html">
For anyone looking for the means to test for the first parameter before passing to this function, look at the is_callable (<a rel="nofollow" target="_blank">http://php.net/manual/en/function.is-callable.php</a>) variable handler.<br><br><span class="default">&lt;?php<br><br>$handler </span><span class="keyword">= array( </span><span class="string">'MyClass'</span><span class="keyword">, </span><span class="string">'MyMethod'</span><span class="keyword">);<br></span><span class="default">$params </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br><br>if ( </span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$handler</span><span class="keyword">) ) { </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="default">$handler </span><span class="keyword">, </span><span class="default">$params </span><span class="keyword">); }<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93744">  
  <a class="name">
  <strong class="user"><em>dmitry dot revenko at businessmedia dot ru</em></strong></a><div class="date" title="2009-09-25 05:28"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93744">
<div class="phpcode"><code><span class="html">
Just hope this note helps someone (I killed the whole day on issue).
<br>
<br>If you use something like this in PHP &lt; 5.3:
<br><span class="default">&lt;?php call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::func'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>Such a script will cause segmentation fault in your webserver.
<br>
<br>In 5.3 you should write it:
<br><span class="default">&lt;?php call_user_func_array</span><span class="keyword">(</span><span class="string">'parent::func'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41207">  
  <a class="name">
  <strong class="user"><em>hong dot nguyen at k-edge dot com</em></strong></a><div class="date" title="2004-04-02 09:37"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41207">
<div class="phpcode"><code><span class="html">
call_user_func_array can pass parameters as reference:
<br>
<br><span class="default">&lt;?php
<br>call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$obj</span><span class="keyword">,</span><span class="default">$method</span><span class="keyword">),array(&amp;</span><span class="default">$arg1</span><span class="keyword">,</span><span class="default">$arg2</span><span class="keyword">,</span><span class="default">$arg3</span><span class="keyword">))
<br></span><span class="default">?&gt;
<br></span>
<br>Use it as work-around for "Call-time pass-by-reference has been deprecated".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49232">  
  <a class="name">
  <strong class="user"><em>amer at o2 dot pl</em></strong></a><div class="date" title="2005-01-20 02:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49232">
<div class="phpcode"><code><span class="html">
PLS notice that "patripaq at hotmail dot com" 's code will be valid if B EXTENDS A...<br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A</span><span class="keyword">{<br>...<br>} <br></span><span class="default">?&gt;<br></span>there&gt;&gt;"What I wanted to do is create an object that can manage any number and any kind of parameters."<br><br>BUT IT IS NOT A POINT AT ALL<br><br>If you need to call just function with parameters:<br>call_user_func_array('Foo',$args);<br><br>If you need to call CLASS method (NOT object):<br>call_user_func_array(array('class', 'Foo'),$args); <br><br>If you need to call OBJECT method:<br>call_user_func_array(array(&amp;$Object, 'Foo'),$args);<br><br>If you need to call method of object of object:<br>call_user_func_array(array(&amp;$Object-&gt;Object, 'Foo'),$args);<br><br>If you need to call object method from within the very same object (NOT CLASS!):<br>call_user_func_array(array(&amp;$this, 'Foo'),args);<br><br>The call_user_func_array ITSELF can manage any number and any kind of parameters. It can handle ANY FUNCTION too as it is defined and that maybe partipaq wanted to manage. <br><br>What You actually need is object composition not inheritance. Make an instance from arguments. <br><span class="default">&lt;?php<br></span><span class="keyword">...<br>class </span><span class="default">B</span><span class="keyword">{<br>&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">OBJ </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">OBJ</span><span class="keyword">, </span><span class="string">'A'</span><span class="keyword">), </span><span class="default">$args </span><span class="keyword">);<br>&nbsp;&nbsp; }<br>}<br></span><span class="default">?&gt;<br></span>Then there can be any number and any type of created object B parameters</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83685">  
  <a class="name">
  <strong class="user"><em>dnhuff at acm.org</em></strong></a><div class="date" title="2008-06-07 11:57"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83685">
<div class="phpcode"><code><span class="html">
It appears that when PHP executes something like:<br><br>$a = array(1,2,3);<br>$b =&amp; $a[1];<br><br>both $b and $a[1] are converted into references to a common value -- makes sense until you transfer that to a call_user_func:<br><br>call_user_func_array('foo', $a);<br><br>suddenly, inside foo, the second parameter is passed by reference!<br><br>And you can't call this wrong, only another subtly of references.<br><br>Note it appears that ksort($a) will remove the reference as well as put the elements in key order so you (probably) get what you expect. (see below on the use of a foreach ($a as &amp;v).)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98458">  
  <a class="name">
  <strong class="user"><em>Kris dot Craig at gmail dot com</em></strong></a><div class="date" title="2010-06-16 03:28"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98458">
<div class="phpcode"><code><span class="html">
Many people have wondered how to effectively implement dispatch tables in PHP.&nbsp; Here's my answer to that (if you'll forgive my creative flair):<br><br><span class="default">&lt;?php<br><br></span><span class="comment">/*<br> * Using dispatch tables in PHP.<br> * <br> * --Kris Craig<br> */<br><br></span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_MOTHER"</span><span class="keyword">,&nbsp; </span><span class="default">1 </span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_FATHER"</span><span class="keyword">,&nbsp; </span><span class="default">2 </span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_BROTHER"</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_SISTER"</span><span class="keyword">,&nbsp; </span><span class="default">4 </span><span class="keyword">);<br><br>class </span><span class="default">MyFamily<br></span><span class="keyword">{<br>&nbsp; &nbsp; static </span><span class="default">$dispatch </span><span class="keyword">= array( </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; </span><span class="string">"Mom"</span><span class="keyword">, </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; </span><span class="string">"GetPrisonInmate"</span><span class="keyword">, </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; </span><span class="string">"ReplaceName"</span><span class="keyword">, </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; </span><span class="string">"LazyGirl" </span><span class="keyword">);<br>&nbsp; &nbsp; static </span><span class="default">$args </span><span class="keyword">= array( </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; array(), </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; array( </span><span class="string">"55170-054"</span><span class="keyword">, </span><span class="default">TRUE </span><span class="keyword">), </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; array(), </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; array() );<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">GetDispatch</span><span class="keyword">( </span><span class="default">$fromwhere </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">( array( </span><span class="default">self</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$dispatch</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">] ), </span><span class="default">self</span><span class="keyword">::</span><span class="default">$args</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">] );<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">Mom</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"Mommy loves you!"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">GetPrisonInmate</span><span class="keyword">( </span><span class="default">$PrisonerID</span><span class="keyword">, </span><span class="default">$GoodBehavior </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//Check prison records for his ID, then....<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if ( </span><span class="default">$GoodBehavior </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"APPROVED"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"DENIED"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"Your father (#</span><span class="default">$PrisonerID</span><span class="string">) has </span><span class="default">$remaining</span><span class="string"> years left in his sentence.&nbsp; His most recent parole application has been:&nbsp; </span><span class="default">$parole</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">ReplaceName</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"Her name is Sally now."</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">LazyGirl</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"Your sister needs to get out more...."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//sleep( pow( 60, 2 ) * 18 );&nbsp; //You can sleep later!<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">die( </span><span class="string">"Nah, I'm too tired." </span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br>print </span><span class="string">"Status on family member: " </span><span class="keyword">. </span><span class="default">MyFamily</span><span class="keyword">::</span><span class="default">GetDispatch</span><span class="keyword">( </span><span class="default">YOUR_FATHER </span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66121">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-05-15 02:43"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66121">
<div class="phpcode"><code><span class="html">
For those wishing to implement call-by-name functionality in PHP, such as implemented e.g. in DB apis, here's a quick-n-dirty version for PHP 5 and up<br><span class="default">&lt;?php<br></span><span class="comment">/**<br> * Call a user function using named instead of positional parameters.<br> * If some of the named parameters are not present in the original function, they<br> * will be silently discarded.<br> * Does no special processing for call-by-ref functions...<br> * @param string $function name of function to be called<br> * @param array $params array containing parameters to be passed to the function using their name (ie array key)<br> */<br></span><span class="keyword">function </span><span class="default">call_user_func_named</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="comment">// make sure we do not throw exception if function not found: raise error instead...<br>&nbsp; &nbsp; // (oh boy, we do like php 4 better than 5, don't we...)<br>&nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'call to unexisting function '</span><span class="keyword">.</span><span class="default">$function</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$reflect </span><span class="keyword">= new </span><span class="default">ReflectionFunction</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$real_params </span><span class="keyword">= array();<br>&nbsp; &nbsp; foreach (</span><span class="default">$reflect</span><span class="keyword">-&gt;</span><span class="default">getParameters</span><span class="keyword">() as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$param</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pname </span><span class="keyword">= </span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">isPassedByReference</span><span class="keyword">())<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/// @todo shall we raise some warning?<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pname</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$real_params</span><span class="keyword">[] = </span><span class="default">$params</span><span class="keyword">[</span><span class="default">$pname</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else if (</span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">isDefaultValueAvailable</span><span class="keyword">()) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$real_params</span><span class="keyword">[] = </span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">getDefaultValue</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// missing required parameter: mark an error and exit<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //return new Exception('call to '.$function.' missing parameter nr. '.$i+1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'call to %s missing parameter nr. %d'</span><span class="keyword">, </span><span class="default">$function</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">), </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$real_params</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34594">  
  <a class="name">
  <strong class="user"><em>adamh at densi dot com</em></strong></a><div class="date" title="2003-07-31 11:58"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34594">
<div class="phpcode"><code><span class="html">
call_user_func_array() is nifty for calling PHP functions which use variable argument length. For example:
<br>
<br><span class="default">&lt;?php
<br>$array </span><span class="keyword">= array(
<br> array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">),
<br> array(</span><span class="string">"bat"</span><span class="keyword">, </span><span class="string">"rat"</span><span class="keyword">),
<br>);
<br>
<br></span><span class="default">$values </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">"array_merge"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);
<br>
<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>/* output:
<br>array(4) {
<br>&nbsp; [0]=&gt;
<br>&nbsp; string(3) "foo"
<br>&nbsp; [1]=&gt;
<br>&nbsp; string(3) "bar"
<br>&nbsp; [2]=&gt;
<br>&nbsp; string(3) "bat"
<br>&nbsp; [3]=&gt;
<br>&nbsp; string(3) "rat"
<br>}
<br>*/
<br>
<br>The neat feature is that $array could have any number of arrays inside it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115527">  
  <a class="name">
  <strong class="user"><em>stanislav dot eckert at vizson dot de</em></strong></a><div class="date" title="2014-08-10 12:48"><strong>18 days ago</strong></div>
  <div class="text" id="Hcom115527">
<div class="phpcode"><code><span class="html">
Please note, that when calling call_user_func_array() to redirect parameters between inherited classes, you should not use $this, because $this always refers to the class which has been instantiated. The following code even seems to crash PHP (PHP does not report error but the process simply terminates), because the the parameters are redirected only one level up (to class foo_bar2):<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">class </span><span class="default">foo_bar1<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; class </span><span class="default">foo_bar2 </span><span class="keyword">extends </span><span class="default">foo_bar1<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; class </span><span class="default">foo_bar3 </span><span class="keyword">extends </span><span class="default">foo_bar2<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$f </span><span class="keyword">= new </span><span class="default">foo_bar3</span><span class="keyword">(</span><span class="string">"abc"</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Instead, use the direct name of the class as string or, better, the magic constant __CLASS__ in call_user_func_array(), like:<br><br>&nbsp; &nbsp; call_user_func_array(array(__CLASS__, 'parent::__construct'), $constructorArgs);<br><br>Then the parameters will be correctly redirected to the lowest base class.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97473">  
  <a class="name">
  <strong class="user"><em>noone at example dot com</em></strong></a><div class="date" title="2010-04-21 03:03"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97473">
<div class="phpcode"><code><span class="html">
For those of you that have to consider performance: it takes about 3 times as long to call the function this way than via a straight statement, so whenever it is feasible to avoid this method it's a wise idea to do so.<br><br>Note that eval() is about 10 times slower than a straight statement to call a function with arguments, so this is definitely a better option than using eval() even if you only consider performance.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84631">  
  <a class="name">
  <strong class="user"><em>thiago dot henrique dot mata at gmail dot com</em></strong></a><div class="date" title="2008-07-22 02:17"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84631">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">Class </span><span class="default">Delegate<br></span><span class="keyword">{<br>&nbsp; &nbsp; private </span><span class="default">$arrInstances </span><span class="keyword">= array();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; protected function </span><span class="default">addObject</span><span class="keyword">( </span><span class="default">$oElement </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// add one element on the end of the stack&nbsp; //<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrInstances</span><span class="keyword">[] = </span><span class="default">$oElement</span><span class="keyword">;<br>&nbsp; &nbsp; }&nbsp; &nbsp; <br>&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">__call</span><span class="keyword">( </span><span class="default">$strMethod</span><span class="keyword">, </span><span class="default">$arrParams </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// for each element in instance //<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrInstances </span><span class="keyword">as </span><span class="default">$oElement </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// get the class of the element //<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$strClass </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$oElement </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// get all methods of the class&nbsp; //<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arrMethods </span><span class="keyword">= </span><span class="default">get_class_methods</span><span class="keyword">( </span><span class="default">$strClass </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// case the method exists into this class&nbsp; //<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$strMethod </span><span class="keyword">, </span><span class="default">$arrMethods </span><span class="keyword">) ) <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// prepare caller //<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arrCaller </span><span class="keyword">= Array( </span><span class="default">$strClass </span><span class="keyword">, </span><span class="default">$strMethod </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// return the result of the method into the object&nbsp; //<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="default">$arrCaller</span><span class="keyword">, </span><span class="default">$arrParams </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// any object has the method //<br>&nbsp; &nbsp; &nbsp; &nbsp; // throw a exception //<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">throw new </span><span class="default">Exception</span><span class="keyword">( </span><span class="string">" Method " </span><span class="keyword">. </span><span class="default">$strMethod </span><span class="keyword">. </span><span class="string">" not exist in this class " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$this </span><span class="keyword">) . </span><span class="string">"." </span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br>class </span><span class="default">Log<br></span><span class="keyword">{<br>&nbsp; &nbsp; public function </span><span class="default">sayHi</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"hi!" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">sayMyName</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"log" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>class </span><span class="default">Other<br></span><span class="keyword">{<br>&nbsp; &nbsp; public function </span><span class="default">sayHello</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"hello there!" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; public function </span><span class="default">sayMyName</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; print </span><span class="string">"other" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>class </span><span class="default">Example </span><span class="keyword">extends </span><span class="default">Delegate<br></span><span class="keyword">{<br>&nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addObject</span><span class="keyword">( new </span><span class="default">Log</span><span class="keyword">() );<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addObject</span><span class="keyword">( new </span><span class="default">Other</span><span class="keyword">() );<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$oExample </span><span class="keyword">= new </span><span class="default">Example</span><span class="keyword">();<br></span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayHi</span><span class="keyword">();<br></span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayHello</span><span class="keyword">();<br></span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayMyName</span><span class="keyword">();<br><br></span><span class="comment">/* <br>&nbsp; &nbsp; hi!&lt;br/&gt;<br>&nbsp; &nbsp; hello there!&lt;br/&gt;<br>&nbsp; &nbsp; log&lt;br/&gt;<br>*/<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58637">  
  <a class="name">
  <strong class="user"><em>rrant (at) gmail (dot) com</em></strong></a><div class="date" title="2005-11-10 03:50"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58637">
<div class="phpcode"><code><span class="html">
Just an extra for the post of amer at o2 dot pl:<br><br>If you need to call the PARENT method:<br>call_user_func_array(array('parent', 'method'), $args);<br><br>With that, if you need to call a constructor and/or add some extra code to the instantiation process:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">__construct</span><span class="keyword">() {<br>&nbsp; &nbsp; </span><span class="comment">// Get the arguments<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="comment">// Initialize parent with arguments<br>&nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">// ... Your Code Here ...<br></span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>Note that your constructor pass all the arguments to the parent constructor and it doesn't matter how many arguments you pass.<br><br>This is pretty useful for constructors with a variable number of arguments.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31858">  
  <a class="name">
  <strong class="user"><em>gord at fig dot org</em></strong></a><div class="date" title="2003-05-06 04:30"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31858">
<div class="phpcode"><code><span class="html">
If you need to call object and class methods in PHP &lt; 4.0.4, the following code ought to do the trick:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'call_user_func_array'</span><span class="keyword">)) {
<br>&nbsp; &nbsp; function </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argString </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$comma </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argString </span><span class="keyword">.= </span><span class="default">$comma </span><span class="keyword">. </span><span class="string">"\$args[</span><span class="default">$i</span><span class="string">]"</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$comma </span><span class="keyword">= </span><span class="string">', '</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$obj </span><span class="keyword">=&amp; </span><span class="default">$func</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$meth </span><span class="keyword">= </span><span class="default">$func</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eval(</span><span class="string">"\$retval = </span><span class="default">$obj</span><span class="string">::\$meth(</span><span class="default">$argString</span><span class="string">);"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eval(</span><span class="string">"\$retval = \$obj-&gt;\$meth(</span><span class="default">$argString</span><span class="string">);"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; eval(</span><span class="string">"\$retval = \$func(</span><span class="default">$argString</span><span class="string">);"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$retval</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58791">  
  <a class="name">
  <strong class="user"><em>Egor</em></strong></a><div class="date" title="2005-11-15 09:35"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58791">
<div class="phpcode"><code><span class="html">
Note that, despite the name, this does work on builtin functions (and object methods with the array(&amp;$obj, $method) syntax), not just user-defined functions and methods.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52636">  
  <a class="name">
  <strong class="user"><em>taylor</em></strong></a><div class="date" title="2005-05-07 03:04"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52636">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="comment">/**<br>&nbsp; &nbsp;&nbsp; * Create an object of a specified type using an array as the parameters<br>&nbsp; &nbsp;&nbsp; * to the constructor.&nbsp; NOTE: does not maintain proper <br>&nbsp; &nbsp;&nbsp; * types for the arguments.&nbsp; They are all converted to strings.<br>&nbsp; &nbsp;&nbsp; * @param $type Type type of object to create (class name)<br>&nbsp; &nbsp;&nbsp; * @param $args The arguments to pass to the constructor<br>&nbsp; &nbsp;&nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">createObjArray</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">=array()) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( !</span><span class="default">class_exists</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// build argument list; be sure to escape string delimeters<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$func </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$str'</span><span class="keyword">, </span><span class="string">'return str_replace("\'","\\\'",$str);'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sargs </span><span class="keyword">= </span><span class="string">"'" </span><span class="keyword">. </span><span class="default">join</span><span class="keyword">( </span><span class="string">"','"</span><span class="keyword">, </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">,</span><span class="default">$args</span><span class="keyword">) ). </span><span class="string">"'"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// build &amp; eval code; return result<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$seval </span><span class="keyword">= </span><span class="string">"return new </span><span class="default">$type</span><span class="string">(</span><span class="default">$sargs</span><span class="string">);"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; return eval(</span><span class="default">$seval</span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46837">  
  <a class="name">
  <strong class="user"><em>php at pjt33 dot f2g dot net</em></strong></a><div class="date" title="2004-10-25 05:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46837">
<div class="phpcode"><code><span class="html">
Note that, although it doesn't say so here or in the linked page with information about the callback type, the changelog ( <a rel="nofollow" target="_blank">http://www.php.net/ChangeLog-4.php#4.0.5</a> ) states that call_user_func_array in PHP 4.0.4 won't take an array as the first argument. This was added in 4.0.5.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44465">  
  <a class="name">
  <strong class="user"><em>patripaq at hotmail dot com</em></strong></a><div class="date" title="2004-08-06 03:49"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44465">
<div class="phpcode"><code><span class="html">
I just started using PHP 5.0 and, so far, I'm loving it !&nbsp; However, I had a problem the other day and thought it would be a good idea to inform other programmers about the solution I found to get around it.&nbsp; It concerns the new __constructor() function and the call_user_func_array() function.&nbsp; What I wanted to do is create an object that can manage any number and any kind of parameters.&nbsp; Here's the problematic code:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//--------------------------
<br></span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{
<br>&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {
<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments
<br>&nbsp; &nbsp; // Class initialization...
<br>&nbsp; </span><span class="keyword">}
<br>&nbsp; function </span><span class="default">A</span><span class="keyword">() {
<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments
<br>&nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">( array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args </span><span class="keyword">); </span><span class="comment">// Infinite loop to B::__construct()...
<br>&nbsp; </span><span class="keyword">}
<br>}
<br>
<br>class </span><span class="default">B </span><span class="keyword">{
<br>&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {
<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments
<br>&nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">( array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'A'</span><span class="keyword">), </span><span class="default">$args </span><span class="keyword">); </span><span class="comment">// Initialize parent with arguments
<br>&nbsp; &nbsp; // Class initialization...
<br>&nbsp; </span><span class="keyword">}
<br>}
<br>
<br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">( </span><span class="string">'param1'</span><span class="keyword">, </span><span class="string">'param2' </span><span class="keyword">);
<br></span><span class="comment">//--------------------------
<br></span><span class="default">?&gt;
<br></span>
<br>I suppose you can guess where the problem is located... In the A::A() function, the call to __construct() using call_user_func_array() is redirected to B::__construct() instead of A::__construct().&nbsp; The only way I found to specify which constructor function I wanted to call was to stop using A::__construct() and use the old fashion constructor instead.&nbsp; If anyone can find a better way, feel free to add comments.&nbsp; Here's my solution.&nbsp; Hope it helps anyone.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//--------------------------
<br></span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{
<br>&nbsp; function </span><span class="default">A</span><span class="keyword">() {
<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments
<br>&nbsp; &nbsp; // Class initialization...
<br>&nbsp; </span><span class="keyword">}
<br>}
<br>
<br>class </span><span class="default">B </span><span class="keyword">{
<br>&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {
<br>&nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments
<br>&nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">( array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'A'</span><span class="keyword">), </span><span class="default">$args </span><span class="keyword">); </span><span class="comment">// Initialize parent with arguments
<br>&nbsp; &nbsp; // Class initialization...
<br>&nbsp; </span><span class="keyword">}
<br>}
<br>
<br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">( </span><span class="string">'param1'</span><span class="keyword">, </span><span class="string">'param2' </span><span class="keyword">);
<br></span><span class="comment">//--------------------------
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95814">  
  <a class="name">
  <strong class="user"><em>kweejee at gmail dot com</em></strong></a><div class="date" title="2010-01-22 08:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95814">
<div class="phpcode"><code><span class="html">
I recently had<br><span class="default">&lt;?php<br>&nbsp; call_user_func_array</span><span class="keyword">(</span><span class="string">'MyClass::myFunction'</span><span class="keyword">, array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span>working on my home server, but when I uploaded it to a host with a different version of PHP it stopped working and gave the error message "call_user_func_array() [function.call-user-func-array]: Unable to call MyClass::myFunction()" The solution I found was to use this instead:<br><span class="default">&lt;?php<br>&nbsp; call_user_func_array</span><span class="keyword">(array(</span><span class="string">'MyClass'</span><span class="keyword">, </span><span class="string">'myFunction'</span><span class="keyword">), array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95271">  
  <a class="name">
  <strong class="user"><em>aj at ajbrown dot org</em></strong></a><div class="date" title="2009-12-22 07:30"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95271">
<div class="phpcode"><code><span class="html">
Just a heads up, the second parameter MUST be an array if it's specified,&nbsp; but that doesn't seem to be enforced until ~5.3.<br><br>I just pulled my hair out with an old installation of CakePHP because it was passing NULL instead of an empty array.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94993">  
  <a class="name">
  <strong class="user"><em>mrextreme at freemail dot hu</em></strong></a><div class="date" title="2009-12-07 08:34"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94993">
<div class="phpcode"><code><span class="html">
If you are using PHP &lt; 5.3 and want to call the parent class' __construct() with a variable parameter list, use this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">()
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$vArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// you can't just put func_get_args() into a function as a parameter
<br>&nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$vArgs</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83467">  
  <a class="name">
  <strong class="user"><em>aeolianmeson at 8n54tvv dot blitzeclipse dot com</em></strong></a><div class="date" title="2008-05-27 08:48"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83467">
<div class="phpcode"><code><span class="html">
There's a possibility that call_user_func_array(), call_user_func(), and Exception::getTrace() will cause a trace entry to not have the 'file' or 'line' elements.<br><br>Dustin Oprea</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73105">  
  <a class="name">
  <strong class="user"><em>levi at alliancesoftware dot com dot au</em></strong></a><div class="date" title="2007-02-08 02:50"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73105">
<div class="phpcode"><code><span class="html">
Regarding the comments below about calling parent constructors:
<br>
<br>PHP5 with E_STRICT no longer allows calls as below:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Causes an error with E_STRICT
<br></span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>It gives an error because you are trying to call a nonstatic function as if it was static. The correct syntax is
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Works fine
<br></span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="22564">  
  <a class="name">
  <strong class="user"><em>NOSPAM dot dont dot remove at thekid dot de</em></strong></a><div class="date" title="2002-06-22 04:19"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom22564">
<div class="phpcode"><code><span class="html">
Unified constructors in PHP4:<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">class </span><span class="default">Object </span><span class="keyword">{<br>&nbsp; &nbsp; function </span><span class="default">Object</span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$args</span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br>&nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; }<br><br>&nbsp; class </span><span class="default">Exception </span><span class="keyword">extends </span><span class="default">Object </span><span class="keyword">{<br>&nbsp; &nbsp; var<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$message</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">message</span><span class="keyword">= </span><span class="default">$message</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br>&nbsp; &nbsp; }<br>&nbsp; }<br><br>&nbsp; class </span><span class="default">IOException </span><span class="keyword">extends </span><span class="default">Exception </span><span class="keyword">{<br>&nbsp; }<br>&nbsp; <br>&nbsp; </span><span class="default">var_dump</span><span class="keyword">(<br>&nbsp; &nbsp; </span><span class="default">error_reporting</span><span class="keyword">(), <br>&nbsp; &nbsp; </span><span class="default">zend_version</span><span class="keyword">(), <br>&nbsp; &nbsp; </span><span class="default">phpversion</span><span class="keyword">()<br>&nbsp; );<br>&nbsp; <br>&nbsp; </span><span class="default">$c</span><span class="keyword">= new </span><span class="default">IOException</span><span class="keyword">(</span><span class="string">'file not found'</span><span class="keyword">);<br>&nbsp; <br>&nbsp; echo </span><span class="string">'===&gt; Result: '</span><span class="keyword">; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100794">  
  <a class="name">
  <strong class="user"><em>Brad Proctor</em></strong></a><div class="date" title="2010-11-06 09:07"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100794">
<div class="phpcode"><code><span class="html">
This function is relatively slow (as of PHP 5.3.3) and if you are calling a method with a known number of parameters it is much faster to call it this way:
<br>
<br>$class-&gt;{$method}($param1, $param2);
<br>
<br>vs
<br>
<br>call_user_func_array (array($class, $method), array($param1, $param2));
<br>
<br>But if you don't know how many parameters...
<br>
<br>The wrapper function below is slightly faster, but the problem now is that you are making two function calls.&nbsp; One to the wrapper and one to the function.
<br>
<br>However, If you are able to take this code out of the function and use it inline it is nearly twice as fast (in most cases) as calling call_user_func_array natively.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">wrap_call_user_func_array</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">) {
<br>&nbsp; &nbsp; switch(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">0</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">1</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">2</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">3</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">4</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">5</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]); break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; default: </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">), </span><span class="default">$p</span><span class="keyword">);&nbsp; break;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74427">  
  <a class="name">
  <strong class="user"><em>richard_harrison at rjharrison dot org</em></strong></a><div class="date" title="2007-04-11 02:31"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74427">
<div class="phpcode"><code><span class="html">
If you are thinking of using call_user_func_array to instantiate an object (see comments below using Reflection) then since v5.1.3 you can use the Reflection::newInstanceArgs() method.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">// arguments you wish to pass to constructor of new object
<br></span><span class="default">$args </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">);
<br>
<br></span><span class="comment">// class name of new object
<br></span><span class="default">$className </span><span class="keyword">= </span><span class="string">'myCommand'</span><span class="keyword">;
<br>
<br></span><span class="comment">// make a reflection object
<br></span><span class="default">$reflectionObj </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">);
<br>
<br></span><span class="comment">// use Reflection to create a new instance, using the $args
<br></span><span class="default">$command </span><span class="keyword">= </span><span class="default">$reflectionObj</span><span class="keyword">-&gt;</span><span class="default">newInstanceArgs</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br>
<br></span><span class="comment">// this is the same as: new myCommand('a', 'b');
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91565">  
  <a class="name">
  <strong class="user"><em>al dot james at NOSPAMGMAIL dot com</em></strong></a><div class="date" title="2009-06-17 03:19"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91565">
<div class="phpcode"><code><span class="html">
If you want to use call_user_func_array to call an objects constructor, this works for me:
<br>
<br><span class="default">&lt;?php
<br>$obj </span><span class="keyword">= new </span><span class="default">$object_class</span><span class="keyword">();
<br></span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$obj</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>(However it does depend on having a constructor where all arguments are optional, which may or may not be possible)
<br>
<br>So this is a two part initiation, the object gets initiated with no arguments first (hence requiring options constructor params), and then __construct gets called again. Thus, you should not do anything in your constructor that triggers effects outside the class... it should just set the objects state.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60030">  
  <a class="name">
  <strong class="user"><em>eugene at artprime dot ru</em></strong></a><div class="date" title="2005-12-23 02:59"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60030">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">(<br>&nbsp; &nbsp; array(new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">), </span><span class="string">'newInstance'</span><span class="keyword">),<br>&nbsp; &nbsp; </span><span class="default">$functionParameters<br>&nbsp; </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Look here: <a rel="nofollow" target="_blank">http://www.zend.com/zend/week/week182.php#Heading1</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="59926">  
  <a class="name">
  <strong class="user"><em>crocodile2u at yandex dot ru</em></strong></a><div class="date" title="2005-12-20 05:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59926">
<div class="phpcode"><code><span class="html">
Here is another version of createObjArray() function written here earlier by taylor.<br><br>Believing that using 'eval()' is at least "dirty", I came to the following solution (with a help of panchous - at phpclub dot ru forums ). This solution utilizes the new Reflection API.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function &amp; </span><span class="default">createObjArray</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">= array()) {<br>&nbsp; &nbsp; </span><span class="default">$reflection </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$output&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$reflection</span><span class="keyword">, </span><span class="string">'newInstance'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$output</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53468">  
  <a class="name">
  <strong class="user"><em>taylor</em></strong></a><div class="date" title="2005-06-02 05:51"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53468">
<div class="phpcode"><code><span class="html">
I came up with a better solution to the problem that I solve below with createObjArray that maintains parameter type:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">createObjArray</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">,</span><span class="default">$args</span><span class="keyword">=array()) {<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$paramstr </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$paramstr </span><span class="keyword">.= </span><span class="string">'$args['</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">'],'</span><span class="keyword">;<br>&nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$paramstr </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$paramstr</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">);<br><br>&nbsp; &nbsp;&nbsp; return eval(</span><span class="string">"return new </span><span class="default">$type</span><span class="string">(</span><span class="default">$paramstr</span><span class="string">);"</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>Would be good to add error checking, but it works.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47578">  
  <a class="name">
  <strong class="user"><em>james at gogo dot co dot nz</em></strong></a><div class="date" title="2004-11-21 05:19"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47578">
<div class="phpcode"><code><span class="html">
Be aware the call_user_func_array always returns by value, as demonstrated here...<br><br><span class="default">&lt;?php&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">function &amp;</span><span class="default">foo</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$a</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$c </span><span class="keyword">=&amp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, array(&amp;</span><span class="default">$b</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$c</span><span class="keyword">++;<br>&nbsp; &nbsp; echo </span><span class="default">$b </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$c</span><span class="keyword">;&nbsp; &nbsp; <br></span><span class="default">?&gt;<br></span><br>outputs "2 3", rather than the expected "3 3".<br><br>Here is a function you can use in place of call_user_func_array which returns a reference to the result of the function call. <br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function &amp;</span><span class="default">ref_call_user_func_array</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// $callable is the name of a function<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="default">$callable</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// $callable is an object and a method name<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="string">"\$callable[0]-&gt;</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// $callable is a class name and a static method<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="string">"</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">::</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Note because the keys in $args might be strings<br>&nbsp; &nbsp; &nbsp; &nbsp; // we do this in a slightly round about way.<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argumentString </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argumentKeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$argumentKeys </span><span class="keyword">as </span><span class="default">$argK</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argumentString</span><span class="keyword">[] = </span><span class="string">"\$args[</span><span class="default">$argumentKeys</span><span class="keyword">[</span><span class="default">$argK</span><span class="keyword">]</span><span class="string">]"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$argumentString </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$argumentString</span><span class="keyword">, </span><span class="string">', '</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Note also that eval doesn't return references, so we <br>&nbsp; &nbsp; &nbsp; &nbsp; // work around it in this way...&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">eval(</span><span class="string">"\$result =&amp; </span><span class="keyword">{</span><span class="default">$call</span><span class="keyword">}</span><span class="string">(</span><span class="keyword">{</span><span class="default">$argumentString</span><span class="keyword">}</span><span class="string">);"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103041">  
  <a class="name">
  <strong class="user"><em>tracid2008 AT googlemail.com</em></strong></a><div class="date" title="2011-03-22 02:42"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103041">
<div class="phpcode"><code><span class="html">
I think a better solution is to use ReflectionClass instead of call_user_func_array:<br><br><span class="default">&lt;?php<br>$rc </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="string">'SomeClass'</span><span class="keyword">);<br></span><span class="default">$class </span><span class="keyword">= </span><span class="default">$rc</span><span class="keyword">-&gt;</span><span class="default">newInstanceArgs</span><span class="keyword">(array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">));<br> <br>echo </span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">doSomething</span><span class="keyword">();<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100782">  
  <a class="name">
  <strong class="user"><em>orestes at orestescarracedo dot com</em></strong></a><div class="date" title="2010-11-05 01:24"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100782">
<div class="phpcode"><code><span class="html">
It's not commented above:
<br>
<br>This function behaves as call_user_func. To call a method of a class instace, instead of passing the function name as the first argument, pass an array like ($classInstance, 'methodName')
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">public class </span><span class="default">Person </span><span class="keyword">{
<br>&nbsp; &nbsp; private </span><span class="default">$name </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;
<br>&nbsp; &nbsp; private </span><span class="default">$pocketContents</span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; protected function </span><span class="default">__construct</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="string">'My creator was too lazy to name me'</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; public function </span><span class="default">getName</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; public function </span><span class="default">getPocketContents</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$pocketContents</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; public function </span><span class="default">setPocketContents</span><span class="keyword">() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$pocketContents </span><span class="keyword">= </span><span class="default">$args</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$contents </span><span class="keyword">= array();
<br></span><span class="default">$contents</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">'random'</span><span class="keyword">;
<br></span><span class="default">$contents</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = </span><span class="string">'bar'</span><span class="keyword">;
<br>
<br></span><span class="default">$subobject </span><span class="keyword">= array();
<br></span><span class="default">$subobject</span><span class="keyword">[</span><span class="string">'param'</span><span class="keyword">] = </span><span class="string">'value'</span><span class="keyword">;
<br></span><span class="default">$contents</span><span class="keyword">[</span><span class="string">'subobject'</span><span class="keyword">] = </span><span class="default">$subobject</span><span class="keyword">;
<br>
<br></span><span class="default">call_user_func</span><span class="keyword">((</span><span class="default">$myInstance</span><span class="keyword">, </span><span class="string">'setPocketContents'</span><span class="keyword">), </span><span class="default">$contents</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97362">  
  <a class="name">
  <strong class="user"><em>Guy Paddock</em></strong></a><div class="date" title="2010-04-15 02:14"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97362">
<div class="phpcode"><code><span class="html">
It appears that it is safe to pass an associative array in for $param_arr. The parameters will still be passed in the order the elements appear in the array, not alphabetical key order.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90112">  
  <a class="name">
  <strong class="user"><em>Freek (at) Gruntjes.net</em></strong></a><div class="date" title="2009-04-07 01:53"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90112">
<div class="phpcode"><code><span class="html">
I just noticed that when you use this function with parameters that need to be passed by reference it will not work.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">refFunc</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$var </span><span class="keyword">.= </span><span class="string">'bar'</span><span class="keyword">;<br>}<br><br></span><span class="default">$var </span><span class="keyword">= </span><span class="string">'foo'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>call_user_func_array('refFunc', array($var));<br>echo $var;<br><br>will output 'foo' and not&nbsp; 'foobar'. Witch is logical since you are declaring a new variable with array($var) however not so obvious.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99921">  
  <a class="name">
  <strong class="user"><em>hinom06 [at] hotmail.co.jp</em></strong></a><div class="date" title="2010-09-14 09:27"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99921">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="comment">/*<br>Usage sample to apply any filter in a string.<br>*/<br><br></span><span class="keyword">class </span><span class="default">Strings<br></span><span class="keyword">{<br>&nbsp; &nbsp; function </span><span class="default">Foo</span><span class="keyword">( </span><span class="default">$v</span><span class="keyword">, </span><span class="default">$allow </span><span class="keyword">= </span><span class="string">'' </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strip_tags</span><span class="keyword">( </span><span class="default">$v</span><span class="keyword">, </span><span class="default">$allow </span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// add an element at the beginning of an array<br>&nbsp; &nbsp; // thanks for Vidal Rodríguez<br>&nbsp; &nbsp; // <a rel="nofollow" target="_blank">http://www.php.net/manual/en/function.array-push.php#98299</a><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">ArrayRpush</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$item </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">array_pad</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, -( </span><span class="default">count</span><span class="keyword">( </span><span class="default">$arr </span><span class="keyword">) + </span><span class="default">1 </span><span class="keyword">), </span><span class="default">$item </span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>}<br><br>Class </span><span class="default">Functions<br></span><span class="keyword">{<br><br>&nbsp; &nbsp; function </span><span class="default">Call</span><span class="keyword">( </span><span class="default">$f </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="default">$f</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$f</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] );<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/* usage sample:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // calling function<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Functions::Call( 'strip_tags', array( '&lt;br&gt;foo&lt;br&gt;bar&lt;/b&gt;', '&lt;br&gt;&lt;b&gt;' ) );<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // calling object<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Functions::Call( array( 'Strings', 'StripTags' ), array( '&lt;br&gt;foo&lt;br&gt;bar&lt;/b&gt;', '&lt;br&gt;&lt;b&gt;' ) );<br>&nbsp; &nbsp; &nbsp; &nbsp; */<br>&nbsp; &nbsp; </span><span class="keyword">}<br><br>}<br><br></span><span class="default">$form </span><span class="keyword">= array(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'field' </span><span class="keyword">=&gt; array(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'value'&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">'&lt;b&gt;foo bar&lt;/b&gt;&lt;br&gt;&lt;script&gt;alert("1");&lt;/script&gt;'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'pre-filter'&nbsp; &nbsp; </span><span class="keyword">=&gt; array( array( </span><span class="string">'Strings'</span><span class="keyword">, </span><span class="string">'Foo' </span><span class="keyword">) , array( </span><span class="string">'&lt;b&gt;&lt;br&gt;' </span><span class="keyword">) ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br><br></span><span class="default">$v&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$form</span><span class="keyword">[</span><span class="string">'field'</span><span class="keyword">];<br></span><span class="default">$f&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">[</span><span class="string">'pre-filter'</span><span class="keyword">];<br></span><span class="default">$f</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = isset( </span><span class="default">$v</span><span class="keyword">[</span><span class="string">'pre-filter'</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] ) ? </span><span class="default">Strings</span><span class="keyword">::</span><span class="default">ArrayRpush</span><span class="keyword">( </span><span class="default">$f</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$v</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">] ) : </span><span class="default">$f</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = array( </span><span class="default">$v</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">] );<br><br>echo </span><span class="default">Functions</span><span class="keyword">::</span><span class="default">Call</span><span class="keyword">( </span><span class="default">$f </span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30273">  
  <a class="name">
  <strong class="user"><em>nutbar at innocent dot com</em></strong></a><div class="date" title="2003-03-12 12:29"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30273">
<div class="phpcode"><code><span class="html">
This function, combined with some others, can allow you to make some really easy &amp; generic function macros (since real macros don't exist in PHP yet).
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">my_printf</span><span class="keyword">() {
<br>&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br>&nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'printf'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>This allows you to use my_printf() just as if it were printf() itself.&nbsp; Very useful since you don't have to worry about how many arguments any functions take.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101850">  
  <a class="name">
  <strong class="user"><em>gaojingjing2008 at gmail dot com</em></strong></a><div class="date" title="2011-01-14 01:28"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101850">
<div class="phpcode"><code><span class="html">
in PHP 5.2.* when pass string to $param_arr, there will not be warning, but in PHP 5.3, there was a warning</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83682">  
  <a class="name">
  <strong class="user"><em>dnhuff at acm.org</em></strong></a><div class="date" title="2008-06-07 11:38"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83682">
<div class="phpcode"><code><span class="html">
the order of argument correspondence from the array to the function formal parameters is by 'natural order' of the array and not explicit numerical key order.<br><br>So: $a[0] = 'arg 1'; $a[2] = 'arg 2'; $a[1] = 'arg 3';<br>&nbsp; &nbsp; call_user_func_array('foo', $a);<br><br>delivers the args to foo in the order the keys were inserted! as in...<br>&nbsp; &nbsp; foo($a[0], $a[2], $a[1]);<br><br>if you wanted something else, ksort the array first.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.call-user-func-array.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:37 GMT -->


</body></html>