<html><!-- Mirrored from php.net/manual/en/ref.math.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:48:10 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Math Functions</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="ref.math.html">
 <link rel="shorturl" href="http://php.net/math">
 <link rel="alternate" href="http://php.net/math" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.math.html">
 <link rel="prev" href="math.constants.html">
 <link rel="next" href="function.abs.html">

 <link rel="alternate" href="ref.math.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/ref.math.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/ref.math.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/ref.math.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/ref.math.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/ref.math.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/ref.math.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/ref.math.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/ref.math.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/ref.math.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/ref.math.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.math.html">Mathematical Extensions</a></li>      <li><a href="book.math.html">Math</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="ref.math" class="reference">
 <h1 class="title">Math Functions</h1>

 
































































































































































































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.abs.html">abs</a> — Absolute value</li><li><a href="function.acos.html">acos</a> — Arc cosine</li><li><a href="function.acosh.html">acosh</a> — Inverse hyperbolic cosine</li><li><a href="function.asin.html">asin</a> — Arc sine</li><li><a href="function.asinh.html">asinh</a> — Inverse hyperbolic sine</li><li><a href="function.atan2.html">atan2</a> — Arc tangent of two variables</li><li><a href="function.atan.html">atan</a> — Arc tangent</li><li><a href="function.atanh.html">atanh</a> — Inverse hyperbolic tangent</li><li><a href="function.base-convert.html">base_convert</a> — Convert a number between arbitrary bases</li><li><a href="function.bindec.html">bindec</a> — Binary to decimal</li><li><a href="function.ceil.html">ceil</a> — Round fractions up</li><li><a href="function.cos.html">cos</a> — Cosine</li><li><a href="function.cosh.html">cosh</a> — Hyperbolic cosine</li><li><a href="function.decbin.html">decbin</a> — Decimal to binary</li><li><a href="function.dechex.html">dechex</a> — Decimal to hexadecimal</li><li><a href="function.decoct.html">decoct</a> — Decimal to octal</li><li><a href="function.deg2rad.html">deg2rad</a> — Converts the number in degrees to the radian equivalent</li><li><a href="function.exp.html">exp</a> — Calculates the exponent of e</li><li><a href="function.expm1.html">expm1</a> — Returns exp(number) - 1, computed in a way that is accurate even
   when the value of number is close to zero</li><li><a href="function.floor.html">floor</a> — Round fractions down</li><li><a href="function.fmod.html">fmod</a> — Returns the floating point remainder (modulo) of the division
  of the arguments</li><li><a href="function.getrandmax.html">getrandmax</a> — Show largest possible random value</li><li><a href="function.hexdec.html">hexdec</a> — Hexadecimal to decimal</li><li><a href="function.hypot.html">hypot</a> — Calculate the length of the hypotenuse of a right-angle triangle</li><li><a href="function.is-finite.html">is_finite</a> — Finds whether a value is a legal finite number</li><li><a href="function.is-infinite.html">is_infinite</a> — Finds whether a value is infinite</li><li><a href="function.is-nan.html">is_nan</a> — Finds whether a value is not a number</li><li><a href="function.lcg-value.html">lcg_value</a> — Combined linear congruential generator</li><li><a href="function.log10.html">log10</a> — Base-10 logarithm</li><li><a href="function.log1p.html">log1p</a> — Returns log(1 + number), computed in a way that is accurate even when
   the value of number is close to zero</li><li><a href="function.log.html">log</a> — Natural logarithm</li><li><a href="function.max.html">max</a> — Find highest value</li><li><a href="function.min.html">min</a> — Find lowest value</li><li><a href="function.mt-getrandmax.html">mt_getrandmax</a> — Show largest possible random value</li><li><a href="function.mt-rand.html">mt_rand</a> — Generate a better random value</li><li><a href="function.mt-srand.html">mt_srand</a> — Seed the better random number generator</li><li><a href="function.octdec.html">octdec</a> — Octal to decimal</li><li><a href="function.pi.html">pi</a> — Get value of pi</li><li><a href="function.pow.html">pow</a> — Exponential expression</li><li><a href="function.rad2deg.html">rad2deg</a> — Converts the radian number to the equivalent number in degrees</li><li><a href="function.rand.html">rand</a> — Generate a random integer</li><li><a href="function.round.html">round</a> — Rounds a float</li><li><a href="function.sin.html">sin</a> — Sine</li><li><a href="function.sinh.html">sinh</a> — Hyperbolic sine</li><li><a href="function.sqrt.html">sqrt</a> — Square root</li><li><a href="function.srand.html">srand</a> — Seed the random number generator</li><li><a href="function.tan.html">tan</a> — Tangent</li><li><a href="function.tanh.html">tanh</a> — Hyperbolic tangent</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="26680">  
  <a class="name">
  <strong class="user"><em>jbeardsl [found_at] gte [d0t] net</em></strong></a><div class="date" title="2002-11-08 01:15"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26680">
<div class="phpcode"><code><span class="html">
I was looking for a truncate function. Not finding one, I wrote my own. Since it deals with everything as a number, I imagine it's faster than the alternative of using string functions. HTH...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">truncate </span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, </span><span class="default">$digits </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; </span><span class="comment">//provide the real number, and the number of 
<br>&nbsp; &nbsp; //digits right of the decimal you want to keep.
<br>
<br>&nbsp; &nbsp; </span><span class="default">$shift </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">$digits</span><span class="keyword">);
<br>&nbsp; &nbsp; return ((</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$num </span><span class="keyword">* </span><span class="default">$shift</span><span class="keyword">)) / </span><span class="default">$shift</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55168">  
  <a class="name">
  <strong class="user"><em>bjcffnet at gmail dot com</em></strong></a><div class="date" title="2005-07-26 04:57"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55168">
<div class="phpcode"><code><span class="html">
thearbitcouncil at gmail dot com, you could just use array_sum():<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br>{<br>&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br><br>&nbsp;&nbsp; return </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)/</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br>}<br><br></span><span class="default">$array </span><span class="keyword">= array(</span><span class="default">5</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">);<br>echo </span><span class="default">average</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// 10<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100758">  
  <a class="name">
  <strong class="user"><em>php at keith tyler dot com</em></strong></a><div class="date" title="2010-11-04 11:09"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100758">
<div class="phpcode"><code><span class="html">
Another ordinal method, which does not involve utilizing date functions:<br><br><span class="default">&lt;?php<br>sprintf</span><span class="keyword">( </span><span class="string">"%d%s"</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">, </span><span class="default">array_pop</span><span class="keyword">( </span><span class="default">array_slice</span><span class="keyword">( </span><span class="default">array_merge</span><span class="keyword">( array( </span><span class="string">"th"</span><span class="keyword">,</span><span class="string">"st"</span><span class="keyword">,</span><span class="string">"nd"</span><span class="keyword">,</span><span class="string">"rd"</span><span class="keyword">), </span><span class="default">array_fill</span><span class="keyword">( </span><span class="default">4</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="string">"th"</span><span class="keyword">)), </span><span class="default">$t</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));</span><span class="string">'<br>?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="48783">  
  <a class="name">
  <strong class="user"><em>thearbitcouncil at gmail dot com</em></strong></a><div class="date" title="2005-01-06 02:32"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom48783">
<div class="phpcode"><code><span class="html">
Two functions I didn't find elsewhere... one to compute mean of an array of numbers, and another to computer variance of a sample of numbers. Both take an array of numbers as arguments. Not much error checking, or optimization...<br><br>(note: variance function uses the average function...)<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">0</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; return </span><span class="default">$sum </span><span class="keyword">/ </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br>}<br><br>function </span><span class="default">variance</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">0</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$mean </span><span class="keyword">= </span><span class="default">average</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="default">$sos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Sum of squares<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sos </span><span class="keyword">+= (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">$mean</span><span class="keyword">) * (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">$mean</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; return </span><span class="default">$sos </span><span class="keyword">/ (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);&nbsp; </span><span class="comment">// denominator = n-1; i.e. estimating based on sample <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // n-1 is also what MS Excel takes by default in the<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // VAR function<br></span><span class="keyword">}<br><br>echo </span><span class="default">variance</span><span class="keyword">(array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">23</span><span class="keyword">,</span><span class="default">15</span><span class="keyword">,</span><span class="default">18</span><span class="keyword">)); </span><span class="comment">// echoes 64.7...correct value :)<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109457">  
  <a class="name">
  <strong class="user"><em>capripot at gmail dot com</em></strong></a><div class="date" title="2012-07-18 09:48"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109457">
<div class="phpcode"><code><span class="html">
Another simpler function to check a number with the luhn algorithm :
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">luhn</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){
<br>&nbsp; &nbsp; if(!</span><span class="default">$num</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">));
<br>&nbsp; &nbsp; </span><span class="default">$add </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; foreach(</span><span class="default">$num </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$k</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$add </span><span class="keyword">+= (</span><span class="default">$v </span><span class="keyword">&gt;= </span><span class="default">10 </span><span class="keyword">? </span><span class="default">$v </span><span class="keyword">- </span><span class="default">9 </span><span class="keyword">: </span><span class="default">$v</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return (</span><span class="default">$add</span><span class="keyword">%</span><span class="default">10 </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Don't know if foreach and arrays operations are faster than while and substr, but I feel it clearer.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80834">  
  <a class="name">
  <strong class="user"><em>lummox</em></strong></a><div class="date" title="2008-02-02 07:24"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80834">
<div class="phpcode"><code><span class="html">
Wouldn't the following function do the same but a lot easier than the one in the comment before?<br><br>function trimInteger($targetNumber,$newLength) {<br>&nbsp; &nbsp; return $targetNumber%pow(10,$newLength); <br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80319">  
  <a class="name">
  <strong class="user"><em>Mike</em></strong></a><div class="date" title="2008-01-09 07:23"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80319">
<div class="phpcode"><code><span class="html">
//had a mistake in last post, heres the corrected version<br><br>/*<br>Just a simple function to trim digits from the left side of an integer. TRIM DOWN TO 4-&gt; (ie. 987654 =&gt; 7654)<br>*/<br><br>function trimInteger($targetNumber,$newLength) {<br><br>&nbsp; &nbsp; $digits = pow(10,$newLength);<br><br>&nbsp; &nbsp; $s = ($targetNumber/ $digits); //make the last X digits the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decimal part<br><br>&nbsp; &nbsp; $t = floor($targetNumber / $digits); //drop the last X digits (the decimal part)<br><br>&nbsp; &nbsp; $h = $s - $t; //remove all&nbsp; but the decimal part<br><br>&nbsp; &nbsp; $newInteger = ($h*$digits); //make the everything after the decimal point the new number<br><br>&nbsp; &nbsp; return $newInteger;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21947">  
  <a class="name">
  <strong class="user"><em>webkid%webkid.com</em></strong></a><div class="date" title="2002-05-31 03:54"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21947">
<div class="phpcode"><code><span class="html">
And the reason I needed a Factorial function is because I there were no nPr or nCr functions native to PHP, either.<br><br>function n_pick_r($n,$r){$n=(int)$n; $r=(int)$r;return (fact($n)/fact($n-$r));}<br>function n_choose_r($n,$r){$n=(int)$n; $r=(int)$r;return (n_pick_r($n,$r)/fact($r));}<br><br>Hope that helps someone!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68262">  
  <a class="name">
  <strong class="user"><em>edward at edwardsun dot com</em></strong></a><div class="date" title="2006-07-19 06:24"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68262">
<div class="phpcode"><code><span class="html">
well just a note.. maybe i'm a bit stupid.. but remember to use pow() rather than the "^" sign for exponents.. as it took me 5 minutes to figure out why it wasn't working.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50149">  
  <a class="name">
  <strong class="user"><em>tmpa at yahoo dot com</em></strong></a><div class="date" title="2005-02-19 12:42"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50149">
<div class="phpcode"><code><span class="html">
while joogat's one line function is short, it is probably better to calculate factorial iteratively instead of recursively. keep in mind if you want large factorials, you'll need to use some sort of arbitrary precision integer or perhaps the BCMath functions. then again, unless you're trying to do large numbers (170! is the highest that you can do that does not return infinity) you probably won't notice any time difference.<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">factorial</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// 0! = 1! = 1<br>&nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">// Only if $in is &gt;= 2<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$in</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">*= </span><span class="default">$i</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; return </span><span class="default">$out</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45985">  
  <a class="name">
  <strong class="user"><em>help at gjbdesign dot com</em></strong></a><div class="date" title="2004-09-25 09:05"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45985">
<div class="phpcode"><code><span class="html">
Occasionally a user must enter a number in a form. This function converts fractions to decimals and leaves decimals untouched. Of course, you may wish to round the final output, but that is not included here.<br><br><span class="default">&lt;?php<br></span><span class="comment">/*Some example values of $q<br>$q = "2.5";<br>$q = "2 1/2";<br>$q = "5/2";<br>*/<br></span><span class="keyword">function </span><span class="default">Deci_Con</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">){<br></span><span class="comment">//check for a space, signifying a whole number with a fraction<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$wa </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$wb </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$wa</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$whole </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;</span><span class="comment">//this is a whole number<br>&nbsp; &nbsp; </span><span class="keyword">}<br></span><span class="comment">//now check the fraction part<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$whole</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">){</span><span class="comment">//if whole number, then remove the whole number and space from the calculations<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br></span><span class="default">$b </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">));</span><span class="comment">//this is the divisor<br>//isolate the numerator<br></span><span class="default">$c </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">);<br></span><span class="default">$d </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br></span><span class="default">$e </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">);<br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$e</span><span class="keyword">);</span><span class="comment">//the pre-final numerator<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$whole</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">){</span><span class="comment">//add the whole number to the calculations<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">+(</span><span class="default">$wb</span><span class="keyword">*</span><span class="default">$b</span><span class="keyword">);</span><span class="comment">//new numerator is whole number multiplied by denominator plus original numerator&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br></span><span class="default">$q </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">/</span><span class="default">$b</span><span class="keyword">;</span><span class="comment">//this is now your decimal<br></span><span class="keyword">return </span><span class="default">$q</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$q</span><span class="keyword">;</span><span class="comment">//not a fraction, just return the decimal<br>&nbsp; &nbsp; </span><span class="keyword">}<br>}</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38970">  
  <a class="name">
  <strong class="user"><em>Chronial "at" cyberpunkuniverse.de</em></strong></a><div class="date" title="2004-01-13 01:47"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38970">
<div class="phpcode"><code><span class="html">
Here are are a nPr and a nPc function<br>(had to define NaN - don't know, how to this the "rigth" way)<br><br><span class="default">&lt;?php<br>define </span><span class="keyword">(</span><span class="default">NaN</span><span class="keyword">,</span><span class="default">acos</span><span class="keyword">(</span><span class="default">1.01</span><span class="keyword">));<br><br>function </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">){<br>&nbsp;&nbsp; if (</span><span class="default">$r </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">NaN</span><span class="keyword">;<br>&nbsp;&nbsp; if ((</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$r</span><span class="keyword">) &lt; </span><span class="default">$r</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$r</span><span class="keyword">));<br>&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$r</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">*= (</span><span class="default">$n</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">)/(</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>}<br><br>function </span><span class="default">nPr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">){<br>&nbsp;&nbsp; if (</span><span class="default">$r </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">NaN</span><span class="keyword">;<br>&nbsp;&nbsp; if (</span><span class="default">$r</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$n</span><span class="keyword">*(</span><span class="default">nPr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">));<br>&nbsp;&nbsp; else<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">1</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36365">  
  <a class="name">
  <strong class="user"><em>chris at free-source dot com</em></strong></a><div class="date" title="2003-10-07 09:37"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36365">
<div class="phpcode"><code><span class="html">
to "convert" scientific notation to a float simply cast it:<br><span class="default">&lt;?php<br>$val </span><span class="keyword">= </span><span class="string">'3.5e4'</span><span class="keyword">;<br></span><span class="default">$val </span><span class="keyword">= (float) </span><span class="default">$val</span><span class="keyword">;<br>echo </span><span class="default">$val</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>output:<br>35000</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31295">  
  <a class="name">
  <strong class="user"><em>jerry dot wilborn at fast dot net</em></strong></a><div class="date" title="2003-04-16 11:10"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31295">
<div class="phpcode"><code><span class="html">
Here is how to calculate standard deviation in PHP where $samples is an array of incrementing numeric keys and the values are your samples:<br><br>$sample_count = count($samples);<br><br>for ($current_sample = 0; $sample_count &gt; $current_sample; ++$current_sample) $sample_square[$current_sample] = pow($samples[$current_sample], 2);<br><br>$standard_deviation = sqrt(array_sum($sample_square) / $sample_count - pow((array_sum($samples) / $sample_count), 2));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="26701">  
  <a class="name">
  <strong class="user"><em>jbeardsl at gte dot net</em></strong></a><div class="date" title="2002-11-09 10:36"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26701">
<div class="phpcode"><code><span class="html">
I needed a truncate function to operate on real numbers. I preferred not to use a string-manipulation method, so here's my solution. HTH...<br><br>function truncate ($num, $digits = 0) {<br><br>&nbsp; &nbsp; //provide the real number, and the number of <br>&nbsp; &nbsp; //digits right of the decimal you want to keep.<br><br>&nbsp; &nbsp; $shift = pow(10 , $digits);<br>&nbsp; &nbsp; return ((floor($num * $shift)) / $shift);<br><br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103537">  
  <a class="name">
  <strong class="user"><em>AsherMaximum gmail</em></strong></a><div class="date" title="2011-04-18 09:40"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103537">
<div class="phpcode"><code><span class="html">
Here's a simple way way to convert a number to an ordinal number I created:
<br>
<br>$i == the number to convert. Put this inside a for loop if you need to populate an array.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// change increment variable to ordinal number.
<br></span><span class="default">$n1 </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">; </span><span class="comment">//first remove all but the last two digits
<br>
<br></span><span class="default">$n2 </span><span class="keyword">= (</span><span class="default">$n1 </span><span class="keyword">&lt; </span><span class="default">20 </span><span class="keyword">? $</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$i </span><span class="keyword">% </span><span class="default">10</span><span class="keyword">; </span><span class="comment">//remove all but last digit unless the number is in the teens, which all should be 'th'
<br>
<br>//$n is now used to determine the suffix.
<br></span><span class="default">$ord </span><span class="keyword">= (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">1 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'st' </span><span class="keyword">: ( (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">2 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'nd' </span><span class="keyword">: (</span><span class="default">$n2</span><span class="keyword">==</span><span class="default">3 </span><span class="keyword">? </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'rd' </span><span class="keyword">: </span><span class="default">$i</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">) ) ) )
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84746">  
  <a class="name">
  <strong class="user"><em>rubo77 at spacetrace dot org</em></strong></a><div class="date" title="2008-07-28 07:39"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84746">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php <br></span><span class="keyword">function </span><span class="default">lcd</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$m</span><span class="keyword">, </span><span class="default">$maxvarianzpercent</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="comment">// set $maxvarianzpercent=5 to get a small, but approx. result<br>&nbsp; &nbsp; /* a better lcd function with varianz:<br>&nbsp; &nbsp; for example use <br>&nbsp; &nbsp; lcd(141,180,5) to get the approx. lcd '7/9' which is in fact 140/180<br>&nbsp; &nbsp; */<br>&nbsp; &nbsp; // ATTENTION!!! can be really slow if $m is &gt;1000<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$d</span><span class="keyword">=</span><span class="default">$n</span><span class="keyword">/</span><span class="default">$m</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; while(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">!=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">++;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$r</span><span class="keyword">=(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$f</span><span class="keyword">;<br>&nbsp; &nbsp; if((</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">)&lt;=</span><span class="default">10 </span><span class="keyword">or </span><span class="default">$f</span><span class="keyword">&lt;=</span><span class="default">10</span><span class="keyword">) return </span><span class="default">$r</span><span class="keyword">;<br>&nbsp; &nbsp; else if(</span><span class="default">$maxvarianzpercent</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">!=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">) and (</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">)-</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">) &gt; </span><span class="default">$maxvarianzpercent</span><span class="keyword">/</span><span class="default">100</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">*</span><span class="default">$f</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$f</span><span class="keyword">;<br>&nbsp; &nbsp; } else return </span><span class="default">$r</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77609">  
  <a class="name">
  <strong class="user"><em>ddarjany at yahoo dot com</em></strong></a><div class="date" title="2007-09-05 10:25"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77609">
<div class="phpcode"><code><span class="html">
Tim's fix of Evan's ordinal function causes another problem, it no longer works for number above 100.&nbsp; (E.g. it returns 111st instead of 111th).&nbsp; <br>Here is a further modified version which should work for all numbers.<br><br><span class="default">&lt;?PHP<br><br></span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">)&nbsp; &nbsp; {<br>&nbsp; </span><span class="default">$cardinal </span><span class="keyword">= (int)</span><span class="default">$cardinal</span><span class="keyword">;<br>&nbsp; </span><span class="default">$digit </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br><br>&nbsp; if (</span><span class="default">$cardinal </span><span class="keyword">&lt;</span><span class="default">100</span><span class="keyword">) </span><span class="default">$tens </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">);<br>&nbsp; else </span><span class="default">$tens </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br><br>&nbsp; if(</span><span class="default">$tens </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)&nbsp; {<br>&nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">;<br>&nbsp; }<br><br>&nbsp; switch(</span><span class="default">$digit</span><span class="keyword">) {<br>&nbsp; &nbsp; case </span><span class="default">1</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'st'</span><span class="keyword">;<br>&nbsp; &nbsp; case </span><span class="default">2</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'nd'</span><span class="keyword">;<br>&nbsp; &nbsp; case </span><span class="default">3</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'rd'</span><span class="keyword">;<br>&nbsp; &nbsp; default:<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">;<br>&nbsp; }<br>}<br> </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71502">  
  <a class="name">
  <strong class="user"><em>barry at megaspace dot com</em></strong></a><div class="date" title="2006-12-02 09:14"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71502">
<div class="phpcode"><code><span class="html">
Here's a least common denominator (lcd) function:<br><br>$array = array(3,4,6,8,18,2);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function lcd($array,$x) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; $mod_sum = 0;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; for($int=1;$int &lt; count($array);$int++) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $modulus[$int] = ($array[0]*$x) % ($array[$int]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $mod_sum = $mod_sum + $modulus[$int];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (!$mod_sum) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "LCD: ".($array[0]*$x)."\n";<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lcd($array,$x+1);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; }<br><br>lcd($array,1);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67956">  
  <a class="name">
  <strong class="user"><em>twoscoopsofpig at NOSPAM dot gmail dot com</em></strong></a><div class="date" title="2006-07-07 09:07"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom67956">
<div class="phpcode"><code><span class="html">
@ Moikboy:<br><br>This may or may not be more simplified factorialization:<br><br><span class="default">&lt;?php<br>$f</span><span class="keyword">=</span><span class="default">$fact</span><span class="keyword">=</span><span class="default">25</span><span class="keyword">;<br>while (</span><span class="default">$fact</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)<br>{</span><span class="default">$f</span><span class="keyword">=</span><span class="default">$f</span><span class="keyword">*</span><span class="default">$fact</span><span class="keyword">--;}<br>echo </span><span class="default">$f</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="65923">  
  <a class="name">
  <strong class="user"><em>moikboy (nospam!) moikboy (nospam!) hu</em></strong></a><div class="date" title="2006-05-10 01:15"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom65923">
<div class="phpcode"><code><span class="html">
I think, this is the optimal code for calculating factorials:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">fact</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">){<br>&nbsp; &nbsp; if(</span><span class="default">$int</span><span class="keyword">&lt;</span><span class="default">2</span><span class="keyword">)return </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; for(</span><span class="default">$f</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;</span><span class="default">$int</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">*=</span><span class="default">$int</span><span class="keyword">--);<br>&nbsp; &nbsp; return </span><span class="default">$f</span><span class="keyword">;<br>};<br></span><span class="default">?&gt;<br></span><br>And another one for calculating the $int-th Fibonacci-number:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">){<br>&nbsp; &nbsp; static </span><span class="default">$fibTable</span><span class="keyword">=array();<br>&nbsp; &nbsp; return empty(</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">])?</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">] = </span><span class="default">$int</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">?</span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">-</span><span class="default">2</span><span class="keyword">)+</span><span class="default">fib</span><span class="keyword">(</span><span class="default">$int</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">):</span><span class="default">1</span><span class="keyword">:</span><span class="default">$fibTable</span><span class="keyword">[</span><span class="default">$int</span><span class="keyword">];<br>};<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62583">  
  <a class="name">
  <strong class="user"><em>Florian</em></strong></a><div class="date" title="2006-03-03 01:36"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62583">
<div class="phpcode"><code><span class="html">
A function that simulates the sum operator. (<a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Sum</a>). Be careful with the expression because it may cause a security hole; note the single quotes to don't parse the "$".<br><span class="default">&lt;?php<br></span><span class="comment"># @param&nbsp; &nbsp; string&nbsp; &nbsp; $expr&nbsp; &nbsp; expression to evaluate (for example (2*$x)^2+1)<br># @param&nbsp; &nbsp; string&nbsp; &nbsp; $var&nbsp; &nbsp; &nbsp; dummy variable (for example "x")<br># @param&nbsp; &nbsp; integer&nbsp; &nbsp; $start<br># @param&nbsp; &nbsp; integer&nbsp; &nbsp; $end<br># @param&nbsp; &nbsp; integer&nbsp; &nbsp; $step<br><br></span><span class="keyword">function </span><span class="default">sum</span><span class="keyword">(</span><span class="default">$expr</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">,</span><span class="default">$step </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$expr </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">';'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$expr</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'$'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= (int)</span><span class="default">$start</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= (int)</span><span class="default">$end</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$step </span><span class="keyword">= (int)</span><span class="default">$step</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$step</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_expr </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'$'</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$expr</span><span class="keyword">);&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_eval </span><span class="keyword">= </span><span class="string">'$_result = '</span><span class="keyword">.</span><span class="default">$_expr</span><span class="keyword">.</span><span class="string">'; return $_result;'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_result </span><span class="keyword">= eval(</span><span class="default">$_eval</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$result </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">) return </span><span class="string">"SYNTAX ERROR : </span><span class="default">$expr</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$_result</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return (int)</span><span class="default">$sum</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59282">  
  <a class="name">
  <strong class="user"><em>daniel at g-loc dot org</em></strong></a><div class="date" title="2005-12-01 10:01"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59282">
<div class="phpcode"><code><span class="html">
If you're an aviator and needs to calculate windcorrection angles and groundspeed (e.g. during flightplanning) this can be very useful.
<br>
<br>$windcorrection = rad2deg(asin((($windspeed * (sin(deg2rad($tt - ($winddirection-180))))/$tas))));
<br>$groundspeed = $tas*cos(deg2rad($windcorrection)) + $windspeed*cos(deg2rad($tt-($winddirection-180)));
<br>
<br>You can probably write these lines more beautiful, but they work!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43073">  
  <a class="name">
  <strong class="user"><em>pat.mat AT sympatico DOT com</em></strong></a><div class="date" title="2004-06-08 07:36"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43073">
<div class="phpcode"><code><span class="html">
For people interest in Differential Equations, I've done a function that receive a string like: x^2+x^3 and put it in<br>2x+3x^2 witch is the differantial of the previous equation.<br><br>In the code there is one thing missing: the $string{$i} is often going outOfBound (Uninitialized string offset: 6 in...)<br>if your error setting is set a little too high... I just dont know how to fix this.<br><br>So there is the code for differential equation with (+ and -) only:<br><br>&lt;?<br>function differentiel($equa)<br>{<br>&nbsp; &nbsp; $equa = strtolower($equa);<br>&nbsp; &nbsp; echo "Equation de depart: ".$equa."&lt;br&gt;";<br>&nbsp; &nbsp; $final = ""; <br>&nbsp; &nbsp; <br>&nbsp; &nbsp; for($i = 0; $i &lt; strlen($equa); $i++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; //Make a new string from the receive $equa<br>&nbsp; &nbsp; &nbsp; &nbsp; if($equa{$i} == "x" &amp;&amp; $equa{$i+1} == "^")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i+2};<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= "x^";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i+2}-1;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif($equa{$i} == "+" || $equa{$i} == "-")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i};<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $i == 0)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //gerer parenthese et autre terme generaux + gerer ^apres: 2^2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i}."*";<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $i &gt; 0 &amp;&amp; $equa{$i-1} != "^")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //gerer ^apres: 2^2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i}."*";<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif($equa{$i} == "^")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif(is_numeric($equa{$i}) &amp;&amp; $equa{$i-1} == "^")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($equa{$i} == "x")<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= 1;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $final .= $equa{$i}; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; //<br>&nbsp; &nbsp; //Manage multiplication add in the previous string $final<br>&nbsp; &nbsp; //<br>&nbsp; &nbsp; $finalMul = "";<br>&nbsp; &nbsp; for($i = 0; $i &lt; strlen($final); $i++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(is_numeric($final{$i}) &amp;&amp; $final{$i+1} == "*" &amp;&amp; is_numeric($final{$i+2}))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $finalMul .= $final{$i}*$final{$i+2};<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif($final{$i} == "*")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif(is_numeric($final{$i}) &amp;&amp; $final{$i+1} != "*" &amp;&amp; $final{$i-1} == "*")<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $finalMul .= $final{$i};&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; echo "equa final: ".$finalMul;<br>}<br>?&gt;<br><br>I know this is not optimal but i've done this quick :)<br>If you guys have any comment just email me.<br>I also want to do this fonction In C to add to phpCore maybe soon...<br>Patoff</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42048">  
  <a class="name">
  <strong class="user"><em>ausvald at tut dot by</em></strong></a><div class="date" title="2004-04-30 05:48"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42048">
<div class="phpcode"><code><span class="html">
I see there are some factorial functions below.<br><br>I'll provide the best one:<br><br>&lt;?<br>function factorial($n){ $n=(int)$n;<br>&nbsp; $f=1;<br>&nbsp; for(;$n&gt;0;--$n) $f*=$n;<br>&nbsp; return $f;<br>}<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42003">  
  <a class="name">
  <strong class="user"><em>florian at shellfire dot de</em></strong></a><div class="date" title="2004-04-28 02:48"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42003">
<div class="phpcode"><code><span class="html">
Please note that shorter is not always better
<br>(meaning that really short faculty implementation above).
<br>
<br>In my opinion, a clearer way to code this is, including a check
<br>for negative or non-integer values.
<br>
<br>In order to calculate the faculty of a positive integer,
<br>an iterative way (which might be harder to understand)
<br>is usually a bit faster, but I am using it only for small
<br>values so it is not really important to me:
<br>
<br><span class="default">&lt;?php
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// Calculate the Faculty of a positive int-value
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iFac</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$a_iFac </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$a_iFac </span><span class="keyword">* </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iFac </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; elseif (</span><span class="default">$a_iFac </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">// Wrong argument!
<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; } 
<br></span><span class="default">?&gt;
<br></span>
<br>I've also written another function to calculate the
<br>binomial coefficient of 2 values, I didn't find it anywhere yet so I hope it might help someone (works fine with the above stated faculty-function and ready to be used inside of your own classes!)
<br>
<br><span class="default">&lt;?php
<br>
<br>&nbsp; &nbsp; </span><span class="comment">// calculates the binomial coefficient "n over k" of 2 positive int values
<br>&nbsp; &nbsp; // for n &gt;= k
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">iBinCoeff</span><span class="keyword">(</span><span class="default">$a_iN</span><span class="keyword">, </span><span class="default">$a_iK</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// the binomial coefficient is defined as n! / [ (n-k)! * k! ]
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iN</span><span class="keyword">) / (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iN </span><span class="keyword">- </span><span class="default">$a_iK</span><span class="keyword">) * </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">iFaculty</span><span class="keyword">(</span><span class="default">$a_iK</span><span class="keyword">));&nbsp; &nbsp; 
<br>&nbsp; &nbsp; } 
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36321">  
  <a class="name">
  <strong class="user"><em>jl85 at yahoo dot com</em></strong></a><div class="date" title="2003-10-05 04:00"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36321">
<div class="phpcode"><code><span class="html">
Here's yet another greatest common denominator (gcd) function, a reeeeally small one.<br><br>function gcd($n,$m){<br>if(!$m)return$n;return gcd($m,$n%$m);<br>}<br><br>It works by recursion. Not really sure about it's speed, but it's really small! This won't work on floating point numbers accurately though. If you want a floating point one, you need to have at least PHP 4, and the code would be<br><br>function gcd($n,$m){<br>if(!$m)return$n;return gcd($m,fmod($n,$m));<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36201">  
  <a class="name">
  <strong class="user"><em>fabien_mornand at yahoo dot fr</em></strong></a><div class="date" title="2003-09-30 03:46"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36201">
<div class="phpcode"><code><span class="html">
here is an algorithm to calculate gcd of a number. This is Euclid algorithm i was studying in Maths. I've converted it in php for the fun.<br><br><span class="default">&lt;?php<br> </span><span class="keyword">if(</span><span class="default">$a </span><span class="keyword">&amp;&amp; </span><span class="default">$b</span><span class="keyword">)<br>&nbsp; { </span><span class="default">$ax</span><span class="keyword">=</span><span class="default">$a</span><span class="keyword">; </span><span class="default">$bx</span><span class="keyword">=</span><span class="default">$b</span><span class="keyword">;<br>&nbsp;&nbsp; </span><span class="default">$r</span><span class="keyword">=</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">);<br>&nbsp; if(!</span><span class="default">$r</span><span class="keyword">){</span><span class="default">$rx</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;}<br>&nbsp;&nbsp; while(</span><span class="default">$r</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$rx</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">=</span><span class="default">$b</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$b</span><span class="keyword">=</span><span class="default">$r</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$r</span><span class="keyword">=</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp;&nbsp; }<br>echo </span><span class="string">'PGCD ('</span><span class="keyword">.</span><span class="default">$ax</span><span class="keyword">.</span><span class="string">' , '</span><span class="keyword">.</span><span class="default">$bx</span><span class="keyword">.</span><span class="string">' ) = '</span><span class="keyword">.</span><span class="default">$rx</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31520">  
  <a class="name">
  <strong class="user"><em>matthew_gaddis at yahoo dot com</em></strong></a><div class="date" title="2003-04-24 02:23"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31520">
<div class="phpcode"><code><span class="html">
Here is a cleaner factorial function:<br><br>function factorial($s){<br>&nbsp; &nbsp; if($s) $r = $s * factorial($s - 1);<br>&nbsp; &nbsp; else $r = 1;<br>&nbsp; &nbsp; return $r;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27498">  
  <a class="name">
  <strong class="user"><em>nazgul26 (at_sign) windfox dot net</em></strong></a><div class="date" title="2002-12-08 02:58"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27498">
<div class="phpcode"><code><span class="html">
This code will convert a decimal to it's fraction equivalent. The precision can be set by changing PRECISION.
<br>
<br><span class="default">&lt;?php
<br>define</span><span class="keyword">(</span><span class="default">PRECISION</span><span class="keyword">, </span><span class="default">.01</span><span class="keyword">);
<br>
<br></span><span class="default">$count</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br></span><span class="default">$result</span><span class="keyword">=array();
<br></span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'dec'</span><span class="keyword">],</span><span class="default">$count</span><span class="keyword">,&amp;</span><span class="default">$result</span><span class="keyword">);
<br></span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);
<br></span><span class="default">$simp_fract </span><span class="keyword">= </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">]);
<br>
<br>echo </span><span class="default">$simpl_fract</span><span class="keyword">;
<br>
<br></span><span class="comment">// Start of functions
<br>
<br>/*
<br>&nbsp;&nbsp; Converts a decimal to unsimplified fraction represented in an array
<br>*/
<br></span><span class="keyword">function </span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$decimal</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$result</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= (</span><span class="default">1</span><span class="keyword">/</span><span class="default">$decimal</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= ( </span><span class="default">$a </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)&nbsp; );
<br>&nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">++;
<br>&nbsp; &nbsp; if (</span><span class="default">$b </span><span class="keyword">&gt; </span><span class="default">.01 </span><span class="keyword">&amp;&amp; </span><span class="default">$count </span><span class="keyword">&lt;= </span><span class="default">5</span><span class="keyword">) </span><span class="default">decimalToFraction</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,&amp;</span><span class="default">$result</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">] = </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);
<br>}
<br>
<br></span><span class="comment">/* 
<br>&nbsp; &nbsp; Simplifies a fraction in an array form that is returned from&nbsp; 
<br>&nbsp; &nbsp; decimalToFraction
<br>*/
<br></span><span class="keyword">function </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$fraction</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$top</span><span class="keyword">,</span><span class="default">$bottom</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$next </span><span class="keyword">= </span><span class="default">$fraction</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= (</span><span class="default">$bottom </span><span class="keyword">* </span><span class="default">$next</span><span class="keyword">) + </span><span class="default">$top</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$top </span><span class="keyword">= </span><span class="default">$bottom</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$bottom </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">--;
<br>&nbsp; &nbsp; if (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">simplifyFraction</span><span class="keyword">(</span><span class="default">$fraction</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">$top</span><span class="keyword">,</span><span class="default">$bottom</span><span class="keyword">);
<br>&nbsp; &nbsp; else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"&lt;font size=1&gt;</span><span class="default">$bottom</span><span class="string">/</span><span class="default">$top</span><span class="string">&lt;/font&gt;"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23062">  
  <a class="name">
  <strong class="user"><em>shanx at shanx dot com</em></strong></a><div class="date" title="2002-07-08 01:13"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23062">
<div class="phpcode"><code><span class="html">
&lt;?<br><br>/**<br> * Function to calculate base36 values from a number. Very <br> * useful if you wish to generate IDs from numbers. <br> * <br> * @param $value The number <br> * @param $base The base to be applied (16, 36 or 64)<br> * @return The calculated string <br> * @author Shashank Tripathi (shanx@shanx.com)<br> * @version 0.1 - Let me know if something doesnt work<br> * <br> */<br> <br>function base36($value, $base) <br>{<br>&nbsp; &nbsp; $baseChars = array('0', '1', '2', '3', '4', '5',<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '6', '7', '8', '9', 'a', 'b',<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'c', 'd', 'e', 'f', 'g', 'h',<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'i', 'j', 'k', 'l', 'm', 'n',<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'o', 'p', 'q', 'r', 's', 't',<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'u', 'v', 'w', 'x', 'y', 'z'<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br><br>&nbsp; &nbsp; $remainder = 0;<br>&nbsp; &nbsp; $newval = "";<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; while ( $value &gt; 0 ) <br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $remainder = $value % $base;<br>&nbsp; &nbsp; &nbsp; &nbsp; $value = ( ($value - $remainder)/ $base );<br>&nbsp; &nbsp; &nbsp; &nbsp; $newval .= $baseChars[$remainder];<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return strrev($newval);<br>&nbsp; &nbsp; <br>}<br><br>echo "The string for 46655, for instance, is " . base36(46655, 36);<br><br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67510">  
  <a class="name">
  <strong class="user"><em>marasek.SPAMLESS at telton.de</em></strong></a><div class="date" title="2006-06-08 05:23"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom67510">
<div class="phpcode"><code><span class="html">
I could not resist to do a simpler version of the ordinal function:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">= (int)</span><span class="default">$num</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$digit </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"th"</span><span class="keyword">;<br>&nbsp; &nbsp; switch(</span><span class="default">$digit</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">1</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"st"</span><span class="keyword">; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">2</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"nd"</span><span class="keyword">; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">3</span><span class="keyword">: </span><span class="default">$ord </span><span class="keyword">= </span><span class="string">"rd"</span><span class="keyword">; break;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; }<br>return </span><span class="default">$num</span><span class="keyword">.</span><span class="default">$ord</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>One could replace the typecast with<br><br><span class="default">&lt;?php<br></span><span class="keyword">if(</span><span class="default">$num</span><span class="keyword">===</span><span class="default">NULL </span><span class="keyword">or </span><span class="default">$num</span><span class="keyword">===</span><span class="string">""</span><span class="keyword">)<br>{return </span><span class="default">NULL</span><span class="keyword">;}<br></span><span class="default">?&gt;<br></span><br>to get an empty result instead of "0th" in case $num is empty too.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="35318">  
  <a class="name">
  <strong class="user"><em>jordanolsommer at imap dot cc</em></strong></a><div class="date" title="2003-08-27 08:07"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom35318">
<div class="phpcode"><code><span class="html">
The reason the bitwise AND ("&amp;") operator works to determine whether a number is odd or even is because odd numbers expressed in binary always have the rightmost (2^0) bit = 1 and even numbers always have the 2^0 bit = 0. <br><br>So if you do a " 1 &amp; $num", it will return zero if the number is even (since xxxxxxx0 [the even number in binary] and 00000001 [the 1]) don't share any bits, and will return 1 if the number is odd (xxxxxx1 and 000001).<br><br>a clever way of doing things, but $num % 2 would work as well i think :).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="11400">  
  <a class="name">
  <strong class="user"><em>ian at mp3 dot com</em></strong></a><div class="date" title="2001-02-19 03:43"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom11400">
<div class="phpcode"><code><span class="html">
for those looking for a credit card verification function i wrote a simple LUHN Formula algorithm:
<br>
<br><span class="default">&lt;?php
<br>$valid </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>
<br></span><span class="default">$numOfDigits </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">);
<br>
<br></span><span class="default">$i </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;
<br>while (</span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">$numOfDigits</span><span class="keyword">){
<br>&nbsp; if ((</span><span class="default">$i </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$double </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">*(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));
<br>&nbsp; &nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$double</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$double </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$double</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; } else {
<br>&nbsp; &nbsp; </span><span class="default">$total </span><span class="keyword">+= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ccNumber</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; }
<br>&nbsp; </span><span class="default">$i</span><span class="keyword">--;
<br>}
<br>
<br>if ((</span><span class="default">$total </span><span class="keyword">% </span><span class="default">10</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">){
<br>&nbsp; </span><span class="default">$valid </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50833">  
  <a class="name">
  <strong class="user"><em>eric at woolhiser dot com</em></strong></a><div class="date" title="2005-03-10 08:41"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50833">
<div class="phpcode"><code><span class="html">
For all you guys writing mortgage calculators out there:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">payment</span><span class="keyword">(</span><span class="default">$apr</span><span class="keyword">,</span><span class="default">$n</span><span class="keyword">,</span><span class="default">$pv</span><span class="keyword">,</span><span class="default">$fv</span><span class="keyword">=</span><span class="default">0.0</span><span class="keyword">,</span><span class="default">$prec</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="comment">/* Calculates the monthly payment rouned to the nearest penny<br>&nbsp; &nbsp; ** $apr = the annual percentage rate of the loan.<br>&nbsp; &nbsp; ** $n&nbsp;&nbsp; = number of monthly payments (360 for a 30year loan)<br>&nbsp; &nbsp; ** $pv&nbsp; &nbsp; = present value or principal of the loan<br>&nbsp; &nbsp; ** $fv&nbsp; = future value of the loan<br>&nbsp; &nbsp; ** $prec = the precision you wish rounded to<br>&nbsp; &nbsp; */<br>&nbsp; &nbsp; /****************************************\<br>&nbsp; &nbsp; ** No Warranty is expressed or implied. **<br>&nbsp; &nbsp; *****************************************/<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$apr </span><span class="keyword">!=</span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$alpha </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">/(</span><span class="default">1</span><span class="keyword">+</span><span class="default">$apr</span><span class="keyword">/</span><span class="default">12</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval </span><span class="keyword">=&nbsp; </span><span class="default">round</span><span class="keyword">(</span><span class="default">$pv </span><span class="keyword">* (</span><span class="default">1 </span><span class="keyword">- </span><span class="default">$alpha</span><span class="keyword">) / </span><span class="default">$alpha </span><span class="keyword">/ <br>&nbsp; &nbsp; &nbsp; &nbsp; (</span><span class="default">1 </span><span class="keyword">- </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">,</span><span class="default">$n</span><span class="keyword">)),</span><span class="default">$prec</span><span class="keyword">) ;<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$pv </span><span class="keyword">/ </span><span class="default">$n</span><span class="keyword">, </span><span class="default">$prec</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return(</span><span class="default">$retval</span><span class="keyword">);<br><br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="61377">  
  <a class="name">
  <strong class="user"><em>peter-stangl at t-online dot de</em></strong></a><div class="date" title="2006-02-01 03:16"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61377">
<div class="phpcode"><code><span class="html">
I needed to approximate an integral because i was not able to calculate it, so i wrote this function. It approximates an integral with the composite Simpson's rule.<br>More information on Simpson's rule: <a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Simpson%27s_rule</a><br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">){<br></span><span class="comment">// returns f(x) for integral approximation with composite Simpson's rule<br>&nbsp;&nbsp; </span><span class="keyword">return(</span><span class="default">pow</span><span class="keyword">((</span><span class="default">1</span><span class="keyword">+</span><span class="default">pow</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, (-</span><span class="default">4</span><span class="keyword">))), </span><span class="default">0.5</span><span class="keyword">));<br>}<br>function </span><span class="default">simpsonsrule</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">){<br></span><span class="comment">// approximates integral_a_b f(x) dx with composite Simpson's rule with $n intervals<br>// $n has to be an even number<br>// f(x) is defined in "function simpsonf($x)"<br>&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$n</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$h</span><span class="keyword">=(</span><span class="default">$b</span><span class="keyword">-</span><span class="default">$a</span><span class="keyword">)/</span><span class="default">$n</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)+</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; while(</span><span class="default">$i </span><span class="keyword">&lt;= (</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xi</span><span class="keyword">=</span><span class="default">$a</span><span class="keyword">+</span><span class="default">$h</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">$S</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$xi</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$S</span><span class="keyword">=</span><span class="default">$S</span><span class="keyword">+</span><span class="default">4</span><span class="keyword">*</span><span class="default">simpsonf</span><span class="keyword">(</span><span class="default">$xi</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; return(</span><span class="default">$h</span><span class="keyword">/</span><span class="default">3</span><span class="keyword">*</span><span class="default">$S</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp;&nbsp; else{<br>&nbsp; &nbsp; &nbsp; return(</span><span class="string">'$n has to be an even number'</span><span class="keyword">);<br>&nbsp;&nbsp; }<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47469">  
  <a class="name">
  <strong class="user"><em>info at gavinvincent dot co dot uk</em></strong></a><div class="date" title="2004-11-17 04:34"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47469">
<div class="phpcode"><code><span class="html">
If you need to deal with polar co-ordinates for somereason you will need to convert to and from x,y for input and output in most situations: here are some functions to convert cartesian to polar and polar to cartesian<br>&lt;?<br>//returns array of r, theta in the range of 0-2*pi (in radians)<br>function rect2polar($x,$y)<br>{<br>&nbsp; &nbsp;&nbsp; if(is_numeric($x)&amp;&amp;is_numeric($y))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $r=sqrt(pow($x,2)+pow($y,2));<br>&nbsp; &nbsp; &nbsp; &nbsp; if($x==0)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($y&gt;0) $theta=pi()/2;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else $theta=3*pi()/2;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else if($x&lt;0) $theta=atan($y/$x)+pi();<br>&nbsp; &nbsp; &nbsp; &nbsp; else if($y&lt;0) $theta=atan($y/$x)+2*pi();<br>&nbsp; &nbsp; &nbsp; &nbsp; else $theta=atan($y/$x);<br>&nbsp; &nbsp; &nbsp; &nbsp; $polar=array("r"=&gt;$r,"theta"=&gt;$theta);<br>&nbsp; &nbsp; &nbsp; &nbsp; return $polar;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else return false;<br>}<br><br>//r must be in radians, returns array of x,y<br>function polar2rect($r,$theta)<br>{<br> if(is_numeric($r)&amp;&amp;is_numeric($theta))<br> {<br>&nbsp; &nbsp; &nbsp; &nbsp; $x=$r*cos($theta);<br>&nbsp; &nbsp; $y=$r*sin($theta);<br>&nbsp; &nbsp; $rect=array("x"=&gt;$x,"y"=&gt;$y);<br> }<br> else<br> {<br>&nbsp;&nbsp; return false;<br> }<br>}<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70969">  
  <a class="name">
  <strong class="user"><em>tembenite at gmail dot com</em></strong></a><div class="date" title="2006-11-06 01:36"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70969">
<div class="phpcode"><code><span class="html">
To add to what Cornelius had, I have written a function that will take an array of numbers and return the least common multiple of them:<br><br>function lcm_arr($items){<br>&nbsp; &nbsp; //Input: An Array of numbers<br>&nbsp; &nbsp; //Output: The LCM of the numbers<br>&nbsp; &nbsp; while(2 &lt;= count($items)){<br>&nbsp; &nbsp; &nbsp; &nbsp; array_push($items, lcm(array_shift($items), array_shift($items)));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return reset($items);<br>}<br><br>//His Code below with $'s added for vars<br><br>function gcd($n, $m) {<br>&nbsp;&nbsp; $n=abs($n); $m=abs($m);<br>&nbsp;&nbsp; if ($n==0 and $m==0)<br>&nbsp; &nbsp; &nbsp;&nbsp; return 1; //avoid infinite recursion<br>&nbsp;&nbsp; if ($n==$m and $n&gt;=1)<br>&nbsp; &nbsp; &nbsp;&nbsp; return $n;<br>&nbsp;&nbsp; return $m&lt;$n?gcd($n-$m,$n):gcd($n,$m-$n);<br>}<br><br>function lcm($n, $m) {<br>&nbsp;&nbsp; return $m * ($n/gcd($n,$m));<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70775">  
  <a class="name">
  <strong class="user"><em>tim at durge dot org</em></strong></a><div class="date" title="2006-10-27 05:51"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70775">
<div class="phpcode"><code><span class="html">
In Evan's ordinal function, the line:<br><br><span class="default">&lt;?php<br>&nbsp; $tens </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>needs to be replaced by:<br><br><span class="default">&lt;?php<br>&nbsp; $tens </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>or similar. At least on PHP 4.3.10,&nbsp; substr("1", -2, 1)&nbsp; returns '1' - so Evan's function gives "1th", as well as "11th".&nbsp; This is contrary to the documentation, but is noted in the comments on the substr manual page.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62010">  
  <a class="name">
  <strong class="user"><em>jos at gtacrime dot nl</em></strong></a><div class="date" title="2006-02-17 01:39"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62010">
<div class="phpcode"><code><span class="html">
Thanks to Chronial "at" cyberpunkuniverse.de, I was able to create the binompdf(n, p, k) function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">){<br>&nbsp;&nbsp; if (</span><span class="default">$k </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br>&nbsp; &nbsp;&nbsp; return </span><span class="default">NaN</span><span class="keyword">;<br>&nbsp;&nbsp; if ((</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">) &lt; </span><span class="default">$k</span><span class="keyword">)<br>&nbsp; &nbsp;&nbsp; return </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, (</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">));<br>&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$k</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">*= (</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$i</span><span class="keyword">) / (</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>} <br><br>function </span><span class="default">binompdf</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">nCr</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) * </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) * </span><span class="default">pow</span><span class="keyword">((</span><span class="default">1 </span><span class="keyword">- </span><span class="default">$p</span><span class="keyword">), (</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">));<br>&nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53442">  
  <a class="name">
  <strong class="user"><em>graywh at gmail DELETE dot com</em></strong></a><div class="date" title="2005-06-01 12:48"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53442">
<div class="phpcode"><code><span class="html">
If you're really concerned about speed, you could compute the factorial of large numbers using the Gamma function of n-1.<br><br>Integral y^(t-1)*Exp(-y) for y from 0 to Infinity<br><br>For Fibonacci numbers, there's a better-than-recursive way.<br><br>((1+sqrt(5))/2)^(n/sqrt(5)) - ((1-sqrt(5))/2)^(n/sqrt(5))</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45727">  
  <a class="name">
  <strong class="user"><em>donnieb819 at hotmail dot NOSPAM dot com</em></strong></a><div class="date" title="2004-09-16 05:58"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45727">
<div class="phpcode"><code><span class="html">
Method to convert an arbitrary decimal number to its most reduced fraction form (so a string is returned, this method would probably be used for output formatting purposes.)&nbsp; There were other methods similar to this one on the page, but none did quite what I wanted.&nbsp; It's maybe not the most elegant code, but it gets the job done.&nbsp; Hope this helps someone.&nbsp; An iterative form of Euclid's algorithm is used to find the GCD.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">dec2frac</span><span class="keyword">( </span><span class="default">$decimal </span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$decimal </span><span class="keyword">= (string)</span><span class="default">$decimal</span><span class="keyword">;<br>&nbsp; </span><span class="default">$num </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; </span><span class="default">$den </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; <br>&nbsp; </span><span class="comment">// find least reduced fractional form of number<br>&nbsp; </span><span class="keyword">for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$ix </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$decimal </span><span class="keyword">); </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$ix</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br>&nbsp; {<br>&nbsp; &nbsp; </span><span class="comment">// build the denominator as we 'shift' the decimal to the right<br>&nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">$dec </span><span class="keyword">) </span><span class="default">$den </span><span class="keyword">*= </span><span class="default">10</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// find the decimal place/ build the numberator<br>&nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">$decimal</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">} == </span><span class="string">'.' </span><span class="keyword">) </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; else </span><span class="default">$num </span><span class="keyword">.= </span><span class="default">$decimal</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">};<br>&nbsp; }<br>&nbsp; </span><span class="default">$num </span><span class="keyword">= (int)</span><span class="default">$num</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; </span><span class="comment">// whole number, just return it<br>&nbsp; </span><span class="keyword">if( </span><span class="default">$den </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">) return </span><span class="default">$num</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; </span><span class="default">$num2 </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">;<br>&nbsp; </span><span class="default">$den2 </span><span class="keyword">= </span><span class="default">$den</span><span class="keyword">;<br>&nbsp; </span><span class="default">$rem&nbsp; </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; </span><span class="comment">// Euclid's Algorithm (to find the gcd)<br>&nbsp; </span><span class="keyword">while( </span><span class="default">$num2 </span><span class="keyword">% </span><span class="default">$den2 </span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$rem </span><span class="keyword">= </span><span class="default">$num2 </span><span class="keyword">% </span><span class="default">$den2</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$num2 </span><span class="keyword">= </span><span class="default">$den2</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$den2 </span><span class="keyword">= </span><span class="default">$rem</span><span class="keyword">;<br>&nbsp; }<br>&nbsp; if( </span><span class="default">$den2 </span><span class="keyword">!= </span><span class="default">$den </span><span class="keyword">) </span><span class="default">$rem </span><span class="keyword">= </span><span class="default">$den2</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; </span><span class="comment">// now $rem holds the gcd of the numerator and denominator of our fraction<br>&nbsp; </span><span class="keyword">return (</span><span class="default">$num </span><span class="keyword">/ </span><span class="default">$rem </span><span class="keyword">) . </span><span class="string">"/" </span><span class="keyword">. (</span><span class="default">$den </span><span class="keyword">/ </span><span class="default">$rem</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>Examples:<br>echo dec2frac( 10 );<br>echo dec2frac( .5 );<br>echo dec2frac( 5.25 );<br>echo dec2frac( .333333333 );<br><br>yields:<br>10<br>1/2<br>21/4<br>333333333/1000000000</span>
</code></div>
  </div>
 </div>
  <div class="note" id="29709">  
  <a class="name">
  <strong class="user"><em>jl85 at yahoo dot com</em></strong></a><div class="date" title="2003-02-22 08:04"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom29709">
<div class="phpcode"><code><span class="html">
Theres another faster way of doing even/odd number checking by using bitwise operators. Don't ask me how it works, I just found this out by experimenting with it (could the editor possibly explain?)<br><br>if ((1&amp;$num)) {<br> echo "$num is odd";<br>}<br><br>if (!(1&amp;$num)) {<br> echo "$num is even";<br>}<br><br>How it works is (1&amp;$num) returns a 1 for odd numbers and returns 0 when it's an even number.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24052">  
  <a class="name">
  <strong class="user"><em>patience at worldonline dot nl</em></strong></a><div class="date" title="2002-08-05 09:08"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24052">
<div class="phpcode"><code><span class="html">
The example for Factorials given above is wrong. Here a correct version, so that you do not have to reinvent the wheel again...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">mathFact</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">)
<br>{
<br>&nbsp; </span><span class="default">$r </span><span class="keyword">= (int) </span><span class="default">$s</span><span class="keyword">;
<br>
<br>&nbsp; if ( </span><span class="default">$r </span><span class="keyword">&lt; </span><span class="default">2 </span><span class="keyword">)
<br>&nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; else {
<br>&nbsp; &nbsp; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$r</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">-- )
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$r </span><span class="keyword">* </span><span class="default">$i</span><span class="keyword">;
<br>&nbsp; }
<br>
<br>&nbsp; return( </span><span class="default">$r </span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21946">  
  <a class="name">
  <strong class="user"><em>webkid%webkid.com</em></strong></a><div class="date" title="2002-05-31 03:49"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21946">
<div class="phpcode"><code><span class="html">
I found it kind of irritating that PHP had no native functionality for a calculating Factorials. Since I really didn't feel like loading the GMP library, I figured I'd write my own function.<br><br>function fact($s){$r=(int)$s; for ($i=$r;$i--;$i&gt;1){$r=$r*$i;} return $r;}<br><br>I think that's right... I havn't tested it extensively but it should work.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68429">  
  <a class="name">
  <strong class="user"><em>Evan Broder</em></strong></a><div class="date" title="2006-07-26 11:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68429">
<div class="phpcode"><code><span class="html">
A slightly more complex but much more accurate cardinal=&gt;ordinal function (the one below doesn't account for 11th, 12th, and 13th, which don't follow the usual rules):<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$cardinal </span><span class="keyword">= (int)</span><span class="default">$cardinal</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$digit </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tens </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$cardinal</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$tens </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; switch(</span><span class="default">$digit</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">1</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'st'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">2</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'nd'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="default">3</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'rd'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; default:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$cardinal</span><span class="keyword">.</span><span class="string">'th'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="57895">  
  <a class="name">
  <strong class="user"><em>monte at ohrt dot com</em></strong></a><div class="date" title="2005-10-18 06:37"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom57895">
<div class="phpcode"><code><span class="html">
This is an efficient method of calculating the binomial coefficient C(n,k). This code was derived from Owant: Mastering Algorithms with Perl.<br><br><span class="default">&lt;?php<br>&nbsp;&nbsp; </span><span class="comment">// calculate binomial coefficient<br>&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">binomial_coeff</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$k</span><span class="keyword">) {<br><br>&nbsp; &nbsp; &nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">$res </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; if(</span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">|| </span><span class="default">$k </span><span class="keyword">&gt; </span><span class="default">$n</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; if((</span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">) &lt; </span><span class="default">$k</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; while(</span><span class="default">$j </span><span class="keyword">&lt;= </span><span class="default">$k</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">*= </span><span class="default">$n</span><span class="keyword">--;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$res </span><span class="keyword">/= </span><span class="default">$j</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$res</span><span class="keyword">;<br><br>&nbsp;&nbsp; }<br></span><span class="default">?&gt;<br></span><br>If you compiled php with --enable-bcmath, you can get full integer values of extremely large numbers by replacing:<br><br>$res *= $n--;<br>$res /= $j++;<br><br>with:<br><br>$res = bcmul($res, $n--);<br>$res = bcdiv($res, $j++);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13343">  
  <a class="name">
  <strong class="user"><em>cornelius at skjoldhoej dot dk</em></strong></a><div class="date" title="2001-06-12 02:03"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13343">
<div class="phpcode"><code><span class="html">
I found that when dealing with tables, a 'least common multiple' function is sometimes useful for abusing tablespan and the likes.
<br>
<br>So here goes (you may choose to remove the first part of the gcd function if the function call is well-behaved):
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">gcd</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">, </span><span class="default">m</span><span class="keyword">) </span><span class="comment">//greatest common divisor
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; </span><span class="default">n</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">); </span><span class="default">m</span><span class="keyword">=</span><span class="default">abs</span><span class="keyword">(</span><span class="default">m</span><span class="keyword">);
<br>&nbsp; &nbsp; if (</span><span class="default">n</span><span class="keyword">==</span><span class="default">0 </span><span class="keyword">and </span><span class="default">m</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//avoid infinite recursion
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">n</span><span class="keyword">==</span><span class="default">m </span><span class="keyword">and </span><span class="default">n</span><span class="keyword">&gt;=</span><span class="default">1</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">n</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">m</span><span class="keyword">&lt;</span><span class="default">n</span><span class="keyword">?</span><span class="default">gcd</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">-</span><span class="default">m</span><span class="keyword">,</span><span class="default">n</span><span class="keyword">):</span><span class="default">gcd</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">,</span><span class="default">m</span><span class="keyword">-</span><span class="default">n</span><span class="keyword">);
<br>}
<br>
<br>function </span><span class="default">lcm</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">, </span><span class="default">m</span><span class="keyword">) </span><span class="comment">//least common multiple
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; return </span><span class="default">m</span><span class="keyword">*(</span><span class="default">n</span><span class="keyword">/</span><span class="default">gcd</span><span class="keyword">(</span><span class="default">n</span><span class="keyword">,</span><span class="default">m</span><span class="keyword">));
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>This may or may not be something to consider adding to the mathematical function library.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/ref.math.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:48:10 GMT -->


</body></html>