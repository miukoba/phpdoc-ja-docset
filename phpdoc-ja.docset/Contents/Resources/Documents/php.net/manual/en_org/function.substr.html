<html><!-- Mirrored from php.net/manual/en/function.substr.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:02 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>substr</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.substr.html">
 <link rel="shorturl" href="http://php.net/substr">
 <link rel="alternate" href="http://php.net/substr" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.strings.html">
 <link rel="prev" href="function.substr-replace.html">
 <link rel="next" href="function.trim.html">

 <link rel="alternate" href="function.substr.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.substr.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.substr.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.substr.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.substr.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.substr.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.substr.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.substr.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.substr.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.substr.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.substr.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.strings.html">Strings</a></li>      <li><a href="ref.strings.html">String Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.substr" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">substr</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">substr</span> â€” <span class="dc-title">Return part of a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.substr-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>substr</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$start</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   Returns the portion of <code class="parameter">string</code> specified by the
   <code class="parameter">start</code> and <code class="parameter">length</code> parameters.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.substr-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       The input string. Must be one character or longer.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">start</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">start</code> is non-negative, the returned string
       will start at the <code class="parameter">start</code>'th position in
       <code class="parameter">string</code>, counting from zero. For instance,
       in the string '<em>abcdef</em>', the character at
       position <em>0</em> is '<em>a</em>', the
       character at position <em>2</em> is
       '<em>c</em>', and so forth.
      </p>
      <p class="para">
       If <code class="parameter">start</code> is negative, the returned string
       will start at the <code class="parameter">start</code>'th character
       from the end of <code class="parameter">string</code>.
      </p>
      <p class="para">
       If <code class="parameter">string</code> is less than or equal to
       <code class="parameter">start</code> characters long, <strong><code>FALSE</code></strong> will be returned.
      </p>
      <p class="para">
       </p><div class="example" id="example-5035">
        <p><strong>Example #1 Using a negative <code class="parameter">start</code></strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"f"<br></span><span style="color: #0000BB">$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"ef"<br></span><span style="color: #0000BB">$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"d"<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

       </div>
      <p></p>
     </dd>

    
    
     <dt>
<code class="parameter">length</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">length</code> is given and is positive, the string
       returned will contain at most <code class="parameter">length</code> characters
       beginning from <code class="parameter">start</code> (depending on the length of
       <code class="parameter">string</code>).
      </p>
      <p class="para">
       If <code class="parameter">length</code> is given and is negative, then that many
       characters will be omitted from the end of <code class="parameter">string</code>
       (after the start position has been calculated when a
       <code class="parameter">start</code> is negative).  If
       <code class="parameter">start</code> denotes the position of this truncation or
       beyond, false will be returned.
      </p>
      <p class="para">
       If <code class="parameter">length</code> is given and is <em>0</em>,
       <strong><code>FALSE</code></strong> or <strong><code>NULL</code></strong> an empty string will be returned.
      </p>
      <p class="para">
       If <code class="parameter">length</code> is omitted, the substring starting from
       <code class="parameter">start</code> until the end of the string will be
       returned.
      </p>
      <div class="example" id="example-5036">
       <p><strong>Example #2 Using a negative <code class="parameter">length</code></strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"abcde"<br></span><span style="color: #0000BB">$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"cde"<br></span><span style="color: #0000BB">$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">4</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;false<br></span><span style="color: #0000BB">$rest&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;"de"<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

      </div>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.substr-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the extracted part of string;  or <strong><code>FALSE</code></strong> on failure, or
   an empty <code class="parameter">string</code>.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.substr-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.2 - 5.2.6</td>
       <td>
        If the <code class="parameter">start</code> parameter indicates the position of
        a negative truncation or beyond, false is returned. Other versions get
        the string from start.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.substr-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5037">
    <p><strong>Example #3 Basic <span class="function"><strong>substr()</strong></span> usage</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;bcdef<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;bcd<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;abcd<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;abcdef<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;f<br><br>//&nbsp;Accessing&nbsp;single&nbsp;characters&nbsp;in&nbsp;a&nbsp;string<br>//&nbsp;can&nbsp;also&nbsp;be&nbsp;achieved&nbsp;using&nbsp;"square&nbsp;brackets"<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'abcdef'</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;a<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;d<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">[</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;f<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div> 
   <div class="example" id="example-5038">
    <p><strong>Example #4 <span class="function"><strong>substr()</strong></span> casting behaviour</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">apple&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__toString</span><span style="color: #007700">()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>echo&nbsp;</span><span style="color: #DD0000">"1)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">"pear"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"2)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">54321</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"3)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">apple</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"4)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"5)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"6)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">""</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">"7)&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">1.2e3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>1) 'pe'
2) '54'
3) 'gr'
4) '1'
5) false
6) false
7) '1200'
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.substr-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
   Returns <strong><code>FALSE</code></strong> on error.
   </p><div class="example" id="example-5039">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;bool(false)<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>   
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.substr-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.strrchr.html" class="function" rel="rdfs-seeAlso">strrchr()</a> - Find the last occurrence of a character in a string</span></li>
    <li class="member"><span class="function"><a href="function.substr-replace.html" class="function" rel="rdfs-seeAlso">substr_replace()</a> - Replace text within a portion of a string</span></li>
    <li class="member"><span class="function"><a href="function.preg-match.html" class="function" rel="rdfs-seeAlso">preg_match()</a> - Perform a regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.trim.html" class="function" rel="rdfs-seeAlso">trim()</a> - Strip whitespace (or other characters) from the beginning and end of a string</span></li>
    <li class="member"><span class="function"><a href="function.mb-substr.html" class="function" rel="rdfs-seeAlso">mb_substr()</a> - Get part of string</span></li>
    <li class="member"><span class="function"><a href="function.wordwrap.html" class="function" rel="rdfs-seeAlso">wordwrap()</a> - Wraps a string to a given number of characters</span></li>
    <li class="member"><a href="language.types.string.html#language.types.string.substr" class="link">String access and modification by character</a></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="90581">  
  <a class="name">
  <strong class="user"><em>Andreas Bur (andreas dot buro at gmail dot com)</em></strong></a><div class="date" title="2009-04-29 06:25"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90581">
<div class="phpcode"><code><span class="html">
For getting a substring of UTF-8 characters, I highly recommend mb_substr<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; &nbsp; $utf8string </span><span class="keyword">= </span><span class="string">"cakeÃ¦Ã¸Ã¥"</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$utf8string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// output cake#<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$utf8string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="string">'UTF-8'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//output cakeÃ¦<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90369">  
  <a class="name">
  <strong class="user"><em>webmaster at oehoeboeroe dot nl</em></strong></a><div class="date" title="2009-04-18 02:07"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90369">
<div class="phpcode"><code><span class="html">
You might expect substr('123456', 6) to return an empty string. Instead it returns boolean FALSE.
<br>
<br>This behavior should be mentioned in the Return Values section of the manual. Instead it is only mentioned in the Parameters section.
<br>
<br>If you need an empty string instead of a boolean FALSE you should typecast the result to a string.
<br>
<br><span class="default">&lt;?php
<br>$a </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="string">'123456'</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// equivalent to $a = FALSE
<br></span><span class="default">$a </span><span class="keyword">= (string) </span><span class="default">substr</span><span class="keyword">(</span><span class="string">'123456'</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">// equivalent to $a = '';
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103143">  
  <a class="name">
  <strong class="user"><em>slow at acedsl dot com</em></strong></a><div class="date" title="2011-03-28 01:47"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103143">
<div class="phpcode"><code><span class="html">
Anyone coming from the Python world will be accustomed to making substrings by using a "slice index" on a string.&nbsp; The following function emulates basic Python string slice behavior. (A more elaborate version could be made to support array input as well as string, and the optional third "step" argument.)<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">py_slice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$slice</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$arg </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$slice</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>&nbsp; &nbsp; if (</span><span class="default">$start </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">+= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">) === </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) === </span><span class="string">''</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br>&nbsp; &nbsp; if (</span><span class="default">$end </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">+= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">);<br>}<br><br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">'2:4'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">'2:'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">':4'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">':-3'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br>print </span><span class="default">py_slice</span><span class="keyword">(</span><span class="string">'abcdefg'</span><span class="keyword">, </span><span class="string">'-3:'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="default">?&gt;<br></span><br>The $slice parameter can be a single character index, or a range separated by a colon. The start of the range is inclusive and the end is exclusive, which may be&nbsp; counterintuitive. (Eg, py_slice('abcdefg', '2:4') yields 'cd' not 'cde'). A negative range value means to count from the end of the string instead of the beginning. Both the start and end of the range may be omitted; the start defaults to 0 and the end defaults to the total length of the input.<br><br>The output from the examples:<br>c<br>cd<br>cdefg<br>abcd<br>abcd<br>efg</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112707">  
  <a class="name">
  <strong class="user"><em>biohazard dot ge at gmail dot com</em></strong></a><div class="date" title="2013-07-15 02:30"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112707">
<div class="phpcode"><code><span class="html">
may be by following functions will be easier to extract the needed sub parts from a string:<br><br><span class="default">&lt;?php<br>after </span><span class="keyword">(</span><span class="string">'@'</span><span class="keyword">, </span><span class="string">'biohazard@online.ge'</span><span class="keyword">);<br></span><span class="comment">//returns 'online.ge'<br>//from the first occurrence of '@'<br><br></span><span class="default">before </span><span class="keyword">(</span><span class="string">'@'</span><span class="keyword">, </span><span class="string">'biohazard@online.ge'</span><span class="keyword">);<br></span><span class="comment">//returns 'biohazard'<br>//from the first occurrence of '@'<br><br></span><span class="default">between </span><span class="keyword">(</span><span class="string">'@'</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">, </span><span class="string">'biohazard@online.ge'</span><span class="keyword">);<br></span><span class="comment">//returns 'online'<br>//from the first occurrence of '@'<br><br></span><span class="default">after_last </span><span class="keyword">(</span><span class="string">'['</span><span class="keyword">, </span><span class="string">'sin[90]*cos[180]'</span><span class="keyword">);<br></span><span class="comment">//returns '180]'<br>//from the last occurrence of '['<br><br></span><span class="default">before_last </span><span class="keyword">(</span><span class="string">'['</span><span class="keyword">, </span><span class="string">'sin[90]*cos[180]'</span><span class="keyword">);<br></span><span class="comment">//returns 'sin[90]*cos['<br>//from the last occurrence of '['<br><br></span><span class="default">between_last </span><span class="keyword">(</span><span class="string">'['</span><span class="keyword">, </span><span class="string">']'</span><span class="keyword">, </span><span class="string">'sin[90]*cos[180]'</span><span class="keyword">);<br></span><span class="comment">//returns '180'<br>//from the last occurrence of '['<br></span><span class="default">?&gt;<br></span><br>here comes the source:<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">after </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">)))<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">,</span><span class="default">$this</span><span class="keyword">)+</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br>&nbsp; &nbsp; function </span><span class="default">after_last </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">strrevpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">)))<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">strrevpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">)+</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br>&nbsp; &nbsp; function </span><span class="default">before </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br>&nbsp; &nbsp; function </span><span class="default">before_last </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrevpos</span><span class="keyword">(</span><span class="default">$inthat</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br>&nbsp; &nbsp; function </span><span class="default">between </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">before </span><span class="keyword">(</span><span class="default">$that</span><span class="keyword">, </span><span class="default">after</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br>&nbsp; &nbsp; function </span><span class="default">between_last </span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp;&nbsp; return </span><span class="default">after_last</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">before_last</span><span class="keyword">(</span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">));<br>&nbsp; &nbsp; };<br><br></span><span class="comment">// use strrevpos function in case your php version does not include it<br></span><span class="keyword">function </span><span class="default">strrevpos</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$rev_pos </span><span class="keyword">= </span><span class="default">strpos </span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">), </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">));<br>&nbsp; &nbsp; if (</span><span class="default">$rev_pos</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; else return </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">) - </span><span class="default">$rev_pos </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br>};<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78019">  
  <a class="name">
  <strong class="user"><em>morgangalpin att gmail dotty com</em></strong></a><div class="date" title="2007-09-24 10:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78019">
<div class="phpcode"><code><span class="html">
Adding the $limit parameter introduced a bug that was not present in the original. If $limit is small or negative, a string with a length exceeding the limit can be returned. The $limit parameter should be checked. It takes slightly more processing, but it is dwarfed in comparison to the use of strlen().<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">function </span><span class="default">short_name</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; </span><span class="comment">// Make sure a small or negative limit doesn't cause a negative length for substr().<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$limit </span><span class="keyword">&lt; </span><span class="default">3</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$limit </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// Now truncate the string if it is over the limit.<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) &gt; </span><span class="default">$limit</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">- </span><span class="default">3</span><span class="keyword">) . </span><span class="string">'...'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60548">  
  <a class="name">
  <strong class="user"><em>Bradley from California</em></strong></a><div class="date" title="2006-01-10 01:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60548">
<div class="phpcode"><code><span class="html">
Add on to (a function originally written by) "Matias from Argentina": str_format_number function.
<br>
<br>Just added handling of $String shorter then $Format by adding a side to start the fill and a string length to the while loop.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">str_format_number</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">, </span><span class="default">$Format</span><span class="keyword">, </span><span class="default">$Start </span><span class="keyword">= </span><span class="string">'left'</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="comment">//If we want to fill from right to left incase string is shorter then format
<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$Start </span><span class="keyword">== </span><span class="string">'right'</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$String </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Format </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$Format</span><span class="keyword">); 
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; if(</span><span class="default">$Format </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) return </span><span class="default">$String</span><span class="keyword">;
<br>&nbsp; &nbsp; if(</span><span class="default">$String </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) return </span><span class="default">$String</span><span class="keyword">;&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$Result </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$FormatPos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$StringPos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; while ((</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$Format</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">) &gt;= </span><span class="default">$FormatPos </span><span class="keyword">&amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">) &gt; </span><span class="default">$StringPos</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//If its a number =&gt; stores it
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$Format</span><span class="keyword">, </span><span class="default">$FormatPos</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">))) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Result </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$String</span><span class="keyword">, </span><span class="default">$StringPos</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$StringPos</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//If it is not a number =&gt; stores the caracter
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">} else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Result </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$Format</span><span class="keyword">, </span><span class="default">$FormatPos</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//Next caracter at the mask.
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$FormatPos</span><span class="keyword">++;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; if (</span><span class="default">$Start </span><span class="keyword">== </span><span class="string">'right'</span><span class="keyword">) </span><span class="default">$Result </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$Result</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">$Result</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84907">  
  <a class="name">
  <strong class="user"><em>post [at] jannik - zappe [dot] de</em></strong></a><div class="date" title="2008-08-05 07:59"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84907">
<div class="phpcode"><code><span class="html">
Just a little function to cut a string by the wanted amount. Works in both directions.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">cutString</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$amount </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">, </span><span class="default">$dir </span><span class="keyword">= </span><span class="string">"right"</span><span class="keyword">)<br>{<br>&nbsp; if((</span><span class="default">$n </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)) &gt; </span><span class="default">0</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; if(</span><span class="default">$dir </span><span class="keyword">== </span><span class="string">"right"</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$n</span><span class="keyword">-</span><span class="default">$amount</span><span class="keyword">;<br>&nbsp; &nbsp; } elseif( </span><span class="default">$dir </span><span class="keyword">== </span><span class="string">"left"</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$amount</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$n</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br>&nbsp; } else return </span><span class="default">false</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>Enjoy ;)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86587">  
  <a class="name">
  <strong class="user"><em>mar dot czapla at gmail dot com</em></strong></a><div class="date" title="2008-10-24 02:31"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86587">
<div class="phpcode"><code><span class="html">
Here we have gr8 function which simply convert ip address to a number using substr with negative offset.
<br>You can need it if you want to compare some IP addresses converted to a numbers. 
<br>For example when using ip2country, or eliminating same range of ip addresses from your website :D
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">function </span><span class="default">ip2no</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)
<br>{&nbsp; &nbsp; 
<br>&nbsp; &nbsp; list(</span><span class="default">$A</span><span class="keyword">,</span><span class="default">$B</span><span class="keyword">,</span><span class="default">$C</span><span class="keyword">,</span><span class="default">$D</span><span class="keyword">)&nbsp; &nbsp; =&nbsp; &nbsp; </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">);
<br>&nbsp; &nbsp; return 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"000"</span><span class="keyword">.</span><span class="default">$A</span><span class="keyword">,-</span><span class="default">3</span><span class="keyword">).
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"000"</span><span class="keyword">.</span><span class="default">$B</span><span class="keyword">,-</span><span class="default">3</span><span class="keyword">).
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"000"</span><span class="keyword">.</span><span class="default">$C</span><span class="keyword">,-</span><span class="default">3</span><span class="keyword">).
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"000"</span><span class="keyword">.</span><span class="default">$D</span><span class="keyword">,-</span><span class="default">3</span><span class="keyword">);
<br>}
<br>
<br></span><span class="default">$min&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&nbsp; &nbsp; </span><span class="default">ip2no</span><span class="keyword">(</span><span class="string">"10.11.1.0"</span><span class="keyword">);
<br></span><span class="default">$max&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&nbsp; &nbsp; </span><span class="default">ip2no</span><span class="keyword">(</span><span class="string">"111.11.1.0"</span><span class="keyword">);
<br></span><span class="default">$visitor&nbsp; &nbsp; </span><span class="keyword">=&nbsp; &nbsp; </span><span class="default">ip2no</span><span class="keyword">(</span><span class="string">"105.1.20.200"</span><span class="keyword">);
<br>
<br>if(</span><span class="default">$min</span><span class="keyword">&lt;</span><span class="default">$visitor </span><span class="keyword">&amp;&amp; </span><span class="default">$visitor</span><span class="keyword">&lt;</span><span class="default">$max</span><span class="keyword">)&nbsp; &nbsp; 
<br>&nbsp; &nbsp; {&nbsp; &nbsp; echo </span><span class="string">'Welcome !'</span><span class="keyword">;&nbsp; &nbsp; }
<br>else&nbsp; &nbsp; 
<br>&nbsp; &nbsp; {&nbsp; &nbsp; echo </span><span class="string">'Get out of here !'</span><span class="keyword">;&nbsp; &nbsp; }
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52893">  
  <a class="name">
  <strong class="user"><em>fanfatal at fanfatal dot pl</em></strong></a><div class="date" title="2005-05-16 11:45"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52893">
<div class="phpcode"><code><span class="html">
Hmm ... this is a script I wrote, whitch is very similar to substr, but it isn't takes html and bbcode for counting and it takes portion of string and show avoided (html &amp; bbcode) tags too ;] 
<br>Specially usefull for show part of serach result included html and bbcode tags
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">/**
<br> * string csubstr ( string string, int start [, int length] )
<br> *
<br> * @author FanFataL
<br> * @param string string
<br> * @param int start
<br> * @param [int length]
<br> * @return string
<br> */
<br></span><span class="keyword">function </span><span class="default">csubstr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">'/(\[\w+[^\]]*?\]|\[\/\w+\]|&lt;\w+[^&gt;]*?&gt;|&lt;\/\w+&gt;)/i'</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$clean </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">chr</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">), </span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; if(!</span><span class="default">$length</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$clean</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);
<br>&nbsp; &nbsp; else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$clean</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$clean</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">+ </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">chr</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">)));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">),</span><span class="string">'(.*?)'</span><span class="keyword">,</span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">));
<br>&nbsp; &nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$pattern</span><span class="keyword">.</span><span class="string">'/is'</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$matched</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$matched</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];
<br>&nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Using this is similar to simple substr.
<br>
<br>Greatings ;]
<br>...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111133">  
  <a class="name">
  <strong class="user"><em>pugazhenthi k</em></strong></a><div class="date" title="2013-01-18 09:57"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111133">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?Php <br><br></span><span class="comment">### SUB STRING&nbsp; BY WORD USING substr() and strpos()&nbsp; #####<br><br>### THIS SCRIPT WILL RETURN PART OF STRING&nbsp; WITHOUT WORD BREAK ###<br><br></span><span class="default">$description </span><span class="keyword">= </span><span class="default">â€˜your description here your description here your description here your description here your description here your description here your description hereyour description here your description hereâ€™&nbsp; </span><span class="comment">// your description here .<br><br></span><span class="default">$no_letter </span><span class="keyword">= </span><span class="default">30 </span><span class="keyword">;<br><br>if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$desctiption</span><span class="keyword">) &gt; </span><span class="default">30 </span><span class="keyword">)<br>{<br>&nbsp; &nbsp;&nbsp; echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$description</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$description</span><span class="keyword">,</span><span class="default">â€™ â€˜</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//strpos to find â€˜ â€˜ after 30 characters.<br></span><span class="keyword">}<br>else {<br>&nbsp; &nbsp;&nbsp; echo </span><span class="default">$description</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77483">  
  <a class="name">
  <strong class="user"><em>Petez</em></strong></a><div class="date" title="2007-08-31 03:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77483">
<div class="phpcode"><code><span class="html">
I wanted to work out the fastest way to get the first few characters from a string, so I ran the following experiment to compare substr, direct string access and strstr:<br><br><span class="default">&lt;?php<br></span><span class="comment">/* substr access */<br></span><span class="default">beginTimer</span><span class="keyword">();<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">1500000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; </span><span class="default">$opening </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">11</span><span class="keyword">);<br>&nbsp; &nbsp; if (</span><span class="default">$opening </span><span class="keyword">== </span><span class="string">'Lorem ipsum'</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">$endtime1 </span><span class="keyword">= </span><span class="default">endTimer</span><span class="keyword">();<br><br></span><span class="comment">/* direct access */<br></span><span class="default">beginTimer</span><span class="keyword">();<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">1500000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; if (</span><span class="default">$string</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">'L' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] == </span><span class="string">'o' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] == </span><span class="string">'r' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] == </span><span class="string">'e' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] == </span><span class="string">'m' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] == </span><span class="string">' ' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] == </span><span class="string">'i' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] == </span><span class="string">'p' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">] == </span><span class="string">'s' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">] == </span><span class="string">'u' </span><span class="keyword">&amp;&amp; </span><span class="default">$string</span><span class="keyword">[</span><span class="default">10</span><span class="keyword">] == </span><span class="string">'m'</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">$endtime2 </span><span class="keyword">= </span><span class="default">endTimer</span><span class="keyword">();<br><br></span><span class="comment">/* strstr access */<br></span><span class="default">beginTimer</span><span class="keyword">();<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">1500000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; </span><span class="default">$opening </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="string">'Lorem ipsum'</span><span class="keyword">);<br>&nbsp; &nbsp; if (</span><span class="default">$opening </span><span class="keyword">== </span><span class="default">true</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">$endtime3 </span><span class="keyword">= </span><span class="default">endTimer</span><span class="keyword">();<br><br>echo </span><span class="default">$endtime1</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">.</span><span class="default">$endtime2</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">.</span><span class="default">$endtime3</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>The string was 6 paragraphs of Lorem Ipsum, and I was trying match the first two words. The experiment was run 3 times and averaged. The results were:<br><br>(substr) 3.24<br>(direct access) 11.49<br>(strstr) 4.96<br><br>(With standard deviations 0.01, 0.02 and 0.04)<br><br>THEREFORE substr is the fastest of the three methods for getting the first few letters of a string.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55107">  
  <a class="name">
  <strong class="user"><em>frank at jkelloggs dot dk</em></strong></a><div class="date" title="2005-07-25 02:37"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55107">
<div class="phpcode"><code><span class="html">
Regarding the utf8_substr function from lmak: The pattern '/./u' doesn't match newline characters. This means that the substring from 0 to the total length of the string will miss the number of characters in the end matching the number of newlines in the string. To fix this one can add the s modifier (PCRE_DOTALL) in the pattern:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">utf8_substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">)<br>{<br>&nbsp;&nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">"/./su"</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$ar</span><span class="keyword">);<br><br>&nbsp;&nbsp; if(</span><span class="default">func_num_args</span><span class="keyword">() &gt;= </span><span class="default">3</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$end</span><span class="keyword">));<br>&nbsp;&nbsp; } else {<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$ar</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$start</span><span class="keyword">));<br>&nbsp;&nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51144">  
  <a class="name">
  <strong class="user"><em>woutermb at gmail dot com</em></strong></a><div class="date" title="2005-03-21 11:19"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51144">
<div class="phpcode"><code><span class="html">
Well this is a script I wrote, what it does is chop up long words with malicious meaning into several parts. This way, a chat in a table will not get stretched anymore.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">text</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$limit</span><span class="keyword">=</span><span class="default">20</span><span class="keyword">,</span><span class="default">$chop</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">){<br><br></span><span class="default">$text </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br>while(list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)){<br>&nbsp; &nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$length </span><span class="keyword">&gt;=</span><span class="default">20</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">+=</span><span class="default">10</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">.= </span><span class="string">" "</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$post </span><span class="keyword">.= </span><span class="default">$new</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif(</span><span class="default">$length </span><span class="keyword">&lt;=</span><span class="default">15</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$post </span><span class="keyword">.= </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$post </span><span class="keyword">.= </span><span class="string">" "</span><span class="keyword">;<br>}<br>return(</span><span class="default">$post</span><span class="keyword">);<br>}<br><br></span><span class="comment">// for example, this would return:<br></span><span class="default">$output </span><span class="keyword">= </span><span class="default">text</span><span class="keyword">(</span><span class="string">"Well this text doesn't get cut up, yet thisssssssssssssssssssssssss one does."</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">);<br><br>echo(</span><span class="default">$output</span><span class="keyword">); </span><span class="comment">// "Well this text doesn't get cup up, yet thiss sssss sssss sssss sssss sss one does."<br></span><span class="default">?&gt;<br></span><br>I hope it was useful.. :)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100678">  
  <a class="name">
  <strong class="user"><em>Cristianlf</em></strong></a><div class="date" title="2010-10-29 02:10"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100678">
<div class="phpcode"><code><span class="html">
I needed a function like lpad from oracle, or right from SQL
<br> then I use this code :
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">right</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$chars</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$vright </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)-</span><span class="default">$chars</span><span class="keyword">,</span><span class="default">$chars</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">$vright</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>}
<br>
<br>&nbsp; &nbsp; echo </span><span class="default">right</span><span class="keyword">(</span><span class="string">'0r0j4152'</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Result: 
<br> 4152
<br>------------------------------------------------
<br>This function is really simple, I just wanted to share, maybe helps someone out there.&nbsp; 
<br>
<br>regards,</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114219">  
  <a class="name">
  <strong class="user"><em>fatihmertdogancan at hotmail dot com</em></strong></a><div class="date" title="2014-01-26 08:28"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114219">
<div class="phpcode"><code><span class="html">
[English]<br>I created python similar accesing list or string with php substr &amp; strrev functions.<br><br>Use: str($string,$pattern)<br><br>About the python pattern,<br><a rel="nofollow" target="_blank">http://docs.python.org/release/1.5.1p1/tut/strings.html</a><br><a rel="nofollow" target="_blank">http://effbot.org/zone/python-list.htm</a><br><br>About of pattern structures<br>[start:stop:step]<br><br>Example,<br><span class="default">&lt;?php<br>$s </span><span class="keyword">= </span><span class="string">"fatihmertdogancan"</span><span class="keyword">;<br>echo </span><span class="default">str</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">"1:9:-2"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br>echo </span><span class="default">str</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">"1:-3:-2"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br>echo </span><span class="default">str</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">"1:-11:-5"</span><span class="keyword">);<br>echo </span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br>echo </span><span class="default">str</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">"1:9:4"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Output,<br>thetoacn<br>eht<br>aom<br>htan<br><br>This is function phpfiddle link: <a rel="nofollow" target="_blank">http://phpfiddle.org/main/code/e82-y5d</a><br><br>or source;<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">str</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$pattern</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//[start:stop:step]<br>&nbsp; &nbsp; &nbsp; &nbsp; //pattern -&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ([-]?[0-9]*|\s):([-]?[0-9]*|\s):([-]?[0-9]*|\s)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/([-]?[0-9]*|\s?):([-]?[0-9]*|\s?):?([-]?[0-9]*|\s?)/"</span><span class="keyword">, </span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$yakala</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$yakala</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stop </span><span class="keyword">= </span><span class="default">$yakala</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$step </span><span class="keyword">= </span><span class="default">$yakala</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if(empty(</span><span class="default">$start</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; </span><span class="default">$step </span><span class="keyword">== </span><span class="string">"-1"</span><span class="keyword">){</span><span class="comment">//istisna durum<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }else if(empty(</span><span class="default">$start</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; isset(</span><span class="default">$step</span><span class="keyword">)){</span><span class="comment">//istisna durum<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rev </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$step</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-" </span><span class="keyword">&amp;&amp; </span><span class="default">$stop </span><span class="keyword">!= </span><span class="string">"-1"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$atla </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$atla</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">])){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="default">$yeni</span><span class="keyword">.</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi boÅŸ, step dolu o da +";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi boÅŸ, step dolu o da -";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if(empty(</span><span class="default">$start</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$step</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi boÅŸ";<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else if(empty(</span><span class="default">$start</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$step</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rev </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stop</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"start ve step boÅŸ, stop dolu"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"start ve step boÅŸ, stop -1";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else if(isset(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; isset(</span><span class="default">$step</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rev </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stop</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$step </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"start boÅŸ, stop ve step dolu, step 1";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$stop</span><span class="keyword">))); </span><span class="comment">//abs -&gt; mutlak deÄŸer (-5 = 5)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //"start boÅŸ, stop -, step dolu, step 1";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$atla </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$atla</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">])){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="default">$yeni</span><span class="keyword">.</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"start boÅŸ, step ve stop dolu";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$stop</span><span class="keyword">)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"start boÅŸ, step ve stop -";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//start boÅŸ deÄŸilse<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else if(!empty(</span><span class="default">$start</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$step</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rev </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stop</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//return "step boÅŸ, start ve stop dolu";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$stop</span><span class="keyword">)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"step boÅŸ, start ve stop dolu, stop -";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else if(isset(</span><span class="default">$stop</span><span class="keyword">) &amp;&amp; isset(</span><span class="default">$step</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//hepsi dolu<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rev </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stop</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$step </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi dolu, step 1";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$stop</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi dolu, step 1, stop -";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$stop</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="string">"-"</span><span class="keyword">){</span><span class="default">$rev </span><span class="keyword">= </span><span class="string">"VAR"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$atla </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$step</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$atla</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">])){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yeni </span><span class="keyword">= </span><span class="default">$yeni</span><span class="keyword">.</span><span class="default">$str</span><span class="keyword">[</span><span class="default">$offset</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$rev </span><span class="keyword">!= </span><span class="string">"VAR"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$stop</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi dolu";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$yeni</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$stop</span><span class="keyword">)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//"hepsi dolu, stop -";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>Good works..</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115142">  
  <a class="name">
  <strong class="user"><em>Nadeem</em></strong></a><div class="date" title="2014-06-03 08:16"><strong>2 months ago</strong></div>
  <div class="text" id="Hcom115142">
<div class="phpcode"><code><span class="html">
Truncate a float number. Similar to the Excel trunc function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">truncate_number</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="default">$decimals</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">){<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$number</span><span class="keyword">=array();<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$number</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">)&gt;</span><span class="default">1</span><span class="keyword">){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$number</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] . </span><span class="string">"." </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">],</span><span class="default">0</span><span class="keyword">,</span><span class="default">$decimals</span><span class="keyword">);&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br><br>&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$number</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;&nbsp; &nbsp; <br>}<br><br>echo </span><span class="default">truncate_number</span><span class="keyword">(</span><span class="default">99.123456</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">); </span><span class="comment">//result = 99.12<br></span><span class="keyword">echo </span><span class="default">truncate_number</span><span class="keyword">(</span><span class="default">99.123456</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); </span><span class="comment">//result = 99.12345<br></span><span class="keyword">echo </span><span class="default">truncate_number</span><span class="keyword">(</span><span class="default">99.123456</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">); </span><span class="comment">//result = 99.1<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53639">  
  <a class="name">
  <strong class="user"><em>ivanhoe011 at gmail dot com</em></strong></a><div class="date" title="2005-06-07 08:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53639">
<div class="phpcode"><code><span class="html">
If you need just a single character from the string you don't need to use substr(), just use curly braces notation:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="comment">// both lines will output the 3rd character<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$my_string</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; echo </span><span class="default">$my_string</span><span class="keyword">{</span><span class="default">2</span><span class="keyword">};&nbsp; <br></span><span class="default">?&gt;<br></span><br>curly braces syntax is faster and more readable IMHO..</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53605">  
  <a class="name">
  <strong class="user"><em>rob NOSPAM at clancentric dot net</em></strong></a><div class="date" title="2005-06-07 03:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53605">
<div class="phpcode"><code><span class="html">
I have developed a function with a similar outcome to jay's
<br>
<br>Checks if the last character is or isnt a space. (does it the normal way if it is)
<br>It explodes the string into an array of seperate works, the effect is... it chops off anything after and including the last space.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">limit_string</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$charlimit</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$charlimit</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) != </span><span class="string">' '</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="string">'0'</span><span class="keyword">,</span><span class="default">$charlimit</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$new_string </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$new_string</span><span class="keyword">.</span><span class="string">'...'</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else
<br>&nbsp; &nbsp; {&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="string">'0'</span><span class="keyword">,</span><span class="default">$charlimit</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">).</span><span class="string">'...'</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100346">  
  <a class="name">
  <strong class="user"><em>joseph dot davidson dot 707 at gmail dot com</em></strong></a><div class="date" title="2010-10-09 12:58"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100346">
<div class="phpcode"><code><span class="html">
Using substr() to examine characters of a string without altering the string.
<br>
<br><span class="default">&lt;?php
<br>$string </span><span class="keyword">= </span><span class="string">'This is my string'</span><span class="keyword">;
<br></span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br></span><span class="default">$myChar </span><span class="keyword">= </span><span class="string">'m'</span><span class="keyword">;
<br>
<br>for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>
<br>&nbsp; &nbsp; </span><span class="default">$showString_i </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">$myChar </span><span class="keyword">== </span><span class="default">$showString_i</span><span class="keyword">) return </span><span class="default">$i</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>can also examine subs.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95918">  
  <a class="name">
  <strong class="user"><em>vnonov at gmail dot com / Viktor Nonov</em></strong></a><div class="date" title="2010-01-28 10:32"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95918">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="comment">//removes string from the end of other<br><br></span><span class="keyword">function </span><span class="default">removeFromEnd</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$stringToRemove</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$stringToRemoveLen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$stringToRemove</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$stringLen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$stringLen </span><span class="keyword">- </span><span class="default">$stringToRemoveLen</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);<br><br>&nbsp; &nbsp; return </span><span class="default">$out</span><span class="keyword">;<br>}<br><br></span><span class="default">$string </span><span class="keyword">= </span><span class="string">'picture.jpg.jpg'</span><span class="keyword">;<br></span><span class="default">$string </span><span class="keyword">= </span><span class="default">removeFromEnd</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">'.jpg'</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109046">  
  <a class="name">
  <strong class="user"><em>pheagey at gmail dot com</em></strong></a><div class="date" title="2012-06-15 02:27"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109046">
<div class="phpcode"><code><span class="html">
Using a 0 as the last parameter for substr().
<br>
<br>As per examples
<br><span class="default">&lt;?php $var </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>works no problem. However 
<br><span class="default">&lt;?php $var </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>will get you nothing. Just a quick heads up</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50915">  
  <a class="name">
  <strong class="user"><em>steve at unicycle dot co dot nz</em></strong></a><div class="date" title="2005-03-13 09:34"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50915">
<div class="phpcode"><code><span class="html">
To quickly trim an optional trailing slash off the end of a path name:<br><br>if (substr( $path, -1 ) == '/') $path = substr( $path, 0, -1 );</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100467">  
  <a class="name">
  <strong class="user"><em>magickey</em></strong></a><div class="date" title="2010-10-18 02:23"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100467">
<div class="phpcode"><code><span class="html">
Simple UTF-8 Multibyte solution (without mb_substr)<br><br><span class="default">&lt;?php<br>&nbsp; $string</span><span class="keyword">=</span><span class="string">"texto en espaÃ±ol"</span><span class="keyword">;<br>&nbsp; echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">14</span><span class="keyword">); </span><span class="comment">//Outputs: texto en espaï¿½<br></span><span class="default">?&gt;<br></span><br><span class="default">&lt;?php<br>&nbsp; $string</span><span class="keyword">=</span><span class="string">"texto en espaÃ±ol"</span><span class="keyword">;<br>&nbsp; echo </span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">utf8_decode</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">,</span><span class="default">14</span><span class="keyword">)); </span><span class="comment">//Outputs: texto en espaÃ±<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94705">  
  <a class="name">
  <strong class="user"><em>biner(gf)</em></strong></a><div class="date" title="2009-11-19 09:46"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94705">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">//substring without words breaking<br><br></span><span class="default">$str </span><span class="keyword">= </span><span class="string">"aa bb ccc ddd ee fff gg hhh iii"</span><span class="keyword">;<br><br>echo </span><span class="default">substr</span><span class="keyword">((</span><span class="default">$str</span><span class="keyword">=</span><span class="default">wordwrap</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,$,</span><span class="string">'$$'</span><span class="keyword">)),</span><span class="default">0</span><span class="keyword">,</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="string">'$$'</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70513">  
  <a class="name">
  <strong class="user"><em>egingell at sisna dot com</em></strong></a><div class="date" title="2006-10-19 03:19"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70513">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="comment">/**<br> * string substrpos(string $str, mixed $start [[, mixed $end], boolean $ignore_case])<br> *<br> * If $start is a string, substrpos will return the string from the position of the first occuring $start to $end<br> *<br> * If $end is a string, substrpos will return the string from $start to the position of the first occuring $end<br> *<br> * If the first character in (string) $start or (string) $end is '-', the last occuring string will be used.<br> *<br> * If $ignore_case is true, substrpos will not care about the case.<br> * If $ignore_case is false (or anything that is not (boolean) true, the function will be case sensitive.<br> *&nbsp; &nbsp; &nbsp; &nbsp; Both of the above: only applies if either $start or $end are strings.<br> *<br> * echo substrpos('This is a string with 0123456789 numbers in it.', 5, '5');<br> *&nbsp; &nbsp; &nbsp; &nbsp; // Prints 'is a string with 01234';<br> *<br> * echo substrpos('This is a string with 0123456789 numbers in it.', '5', 5);<br> *&nbsp; &nbsp; &nbsp; &nbsp; // Prints '56789'<br> *<br> * echo substrpos('This is a string with 0123456789 numbers in it and two strings.', -60, '-string')<br> *&nbsp; &nbsp; &nbsp; &nbsp; // Prints 's is a string with 0123456789 numbers in it and two '<br> *<br> * echo substrpos('This is a string with 0123456789 numbers in it and two strings.', -60, '-STRING', true)<br> *&nbsp; &nbsp; &nbsp; &nbsp; // Prints 's is a string with 0123456789 numbers in it and two '<br> *<br> * echo substrpos('This is a string with 0123456789 numbers in it and two strings.', -60, '-STRING', false)<br> *&nbsp; &nbsp; &nbsp; &nbsp; // Prints 's is a string with 0123456789 numbers in it and two strings.'<br> *<br> * Warnings:<br> *&nbsp; &nbsp; &nbsp; &nbsp; Since $start and $end both take either a string or an integer:<br> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the character or string you are searching $str for is a number, pass it as a quoted string.<br> *&nbsp; &nbsp; &nbsp; &nbsp; If $end is (integer) 0, an empty string will be returned.<br> *&nbsp; &nbsp; &nbsp; &nbsp; Since this function takes negative strings ('-search_string'):<br> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the string your using in $start or $end is a '-' or begins with a '-' escape it with a '\'.<br> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This only applies to the *first* character of $start or $end.<br> */<br><br>// Define stripos() if not defined (PHP &lt; 5).<br></span><span class="keyword">if (!</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">"stripos"</span><span class="keyword">)) {<br>&nbsp; &nbsp; function </span><span class="default">stripos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">), </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$offset</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">substrpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$ignore_case </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// Use variable functions<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$ignore_case </span><span class="keyword">=== </span><span class="default">true</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$strpos </span><span class="keyword">= </span><span class="string">'stripos'</span><span class="keyword">; </span><span class="comment">// stripos() is included above in case it's not defined (PHP &lt; 5).<br>&nbsp; &nbsp; </span><span class="keyword">} else {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$strpos </span><span class="keyword">= </span><span class="string">'strpos'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// If end is false, set it to the length of $str<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$end </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// If $start is a string do what's needed to make it an integer position for substr().<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If $start begins with '-' start processing until there's no more matches and use the last one found.<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$start</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} == </span><span class="string">'-'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Strip off the '-'<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while((</span><span class="default">$curr_pos </span><span class="keyword">= </span><span class="default">$strpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$curr_pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$found </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If $start begins with '\-', strip off the '\'.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$start</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} . </span><span class="default">$start</span><span class="keyword">{</span><span class="default">1</span><span class="keyword">} == </span><span class="string">'\-'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$strpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$pos </span><span class="keyword">!== </span><span class="default">false </span><span class="keyword">? </span><span class="default">$pos </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// Chop the string from $start to strlen($str).<br>&nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// If $end is a string, do exactly what was done to $start, above.<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$end</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$end</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} == </span><span class="string">'-'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$end</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while((</span><span class="default">$curr_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$curr_pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$found </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$end</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} . </span><span class="default">$end</span><span class="keyword">{</span><span class="default">1</span><span class="keyword">} == </span><span class="string">'\-'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$end</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$strpos</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$pos </span><span class="keyword">!== </span><span class="default">false </span><span class="keyword">? </span><span class="default">$pos </span><span class="keyword">: </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// Since $str has already been chopped at $start, we can pass 0 as the new $start for substr()<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89747">  
  <a class="name">
  <strong class="user"><em>link</em></strong></a><div class="date" title="2009-03-20 07:19"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89747">
<div class="phpcode"><code><span class="html">
I created some functions for entity-safe splitting+lengthcounting:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">strlen_entities</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/((?:&amp;(?:#[0-9]{2,}|[a-z]{2,});)|(?:[^&amp;])|'</span><span class="keyword">.&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'(?:&amp;(?!\w;)))s'</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$textarray</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>}&nbsp; <br>function </span><span class="default">substr_entities</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$limit</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/((?:&amp;(?:#[0-9]{2,}|[a-z]{2,});)|(?:[^&amp;])|'</span><span class="keyword">.&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'(?:&amp;(?!\w;)))s'</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$textarray</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$textarray </span><span class="keyword">= </span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; </span><span class="default">$numchars </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$textarray</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&gt;=</span><span class="default">$numchars</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= (</span><span class="default">$numchars</span><span class="keyword">)+</span><span class="default">$start</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$limit</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">=</span><span class="default">$numchars</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif (</span><span class="default">$limit</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">+(</span><span class="default">$limit</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= (</span><span class="default">$numchars</span><span class="keyword">)+</span><span class="default">$limit</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$start</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$end</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90148">  
  <a class="name">
  <strong class="user"><em>sajjad at sajjad dot biz</em></strong></a><div class="date" title="2009-04-08 12:28"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90148">
<div class="phpcode"><code><span class="html">
Substring utf-8 strings!<br>very simple!<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">substru</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$from</span><span class="keyword">,</span><span class="default">$len</span><span class="keyword">){<br>&nbsp; &nbsp; return </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'#^(?:[\x00-\x7F]|[\xC0-\xFF][\x80-\xBF]+){0,'</span><span class="keyword">. </span><span class="default">$from </span><span class="keyword">.</span><span class="string">'}'</span><span class="keyword">.</span><span class="string">'((?:[\x00-\x7F]|[\xC0-\xFF][\x80-\xBF]+){0,'</span><span class="keyword">. </span><span class="default">$len </span><span class="keyword">.</span><span class="string">'}).*#s'</span><span class="keyword">,</span><span class="string">'$1'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115627">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2014-08-27 10:14"><strong>17 hours ago</strong></div>
  <div class="text" id="Hcom115627">
<div class="phpcode"><code><span class="html">
substr() exhibits rather unexpected behavior with respect to when it returns "" and when it returns FALSE.&nbsp; Specifically, the following appears to hold (tested on PHP 5.4.19):<br><br>*&nbsp; if $string is "", it always returns FALSE<br><br>*&nbsp; if ($start &gt;= 0) and ($start &gt;= strlen($string)) it returns FALSE<br><br>*&nbsp; if ($start &gt;= 0) and ($length&lt;($start - strlen($string))) it returns FALSE<br><br>*&nbsp; if ($start &lt; 0) then it returns FALSE if *and only if* $length&lt;-strlen($string).<br><br>No other cases return FALSE.<br>Note that in the last case, the position indicated by $start doesn't actually matter!<br><br>Also worth noting is that if you supply a $start that is &lt; -strlen($string), it will be treated exactly as if you had set $start = strlen($string).<br><br>Here are some test cases to illustrate this behavior:<br><br>substr("",0,0) === FALSE<br>substr("",0,4) === FALSE<br>substr("",-2,4) === FALSE<br><br>substr("abc",3,0) === FALSE<br>substr("abc",3,10) === FALSE<br>substr("abc",3,-1) === FALSE<br>substr("abc",0,-4) === FALSE<br>substr("abc",2,-2) === FALSE<br>substr("abc",-1,-4) === FALSE<br>substr("abc",-4,-4) === FALSE<br>substr("abc",-5,-4) === FALSE<br>substr("abc",-10,-5) === FALSE<br><br>substr("abc",-10,-2) === "a"<br>substr("abc",-1,-3) === ""<br>substr("abc",-1,-2) === ""<br>substr("abc",-2,-3) === ""<br>substr("abc",0,0) === ""<br>substr("abc",-3,0) === ""<br>substr("abc",-10,0) === ""<br>substr("abc",-3,4) === "abc"<br>substr("abc",-10,20) === "abc"<br>substr("abc",-2,-2) === ""<br>substr("abc",-2,1) === "b"<br>substr("abc",0,-3) === ""<br>substr("abc",2,-1) === ""</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114784">  
  <a class="name">
  <strong class="user"><em>php at richardneill dot org</em></strong></a><div class="date" title="2014-04-06 03:25"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114784">
<div class="phpcode"><code><span class="html">
Frequently we want to check whether one string ends with (or starts with) another.&nbsp; These may be useful:<br><br>function str_ends($string,$end){<br>&nbsp; &nbsp; return (substr($string,-strlen($end),strlen($end)) === $end);<br>}&nbsp; &nbsp; <br>function str_begins($string,$start){<br>&nbsp; &nbsp; return (substr($string,0,strlen($start)) === $start);<br>}&nbsp; &nbsp; <br><br>Example:<br>if (str_ends ($filename, ".jpg")){<br>&nbsp;&nbsp; echo "The extension is .jpg";<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114650">  
  <a class="name">
  <strong class="user"><em>koczkahun at gmail dot com</em></strong></a><div class="date" title="2014-03-17 05:34"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114650">
<div class="phpcode"><code><span class="html">
For those who cannot use mb_substr for any reasons, here is a solution for Unicode strings:<br><br>function substr_unicode($str, $s, $l = null)<br>{<br>&nbsp; &nbsp; $r = '/^.{'.(int)$s.'}(.';<br>&nbsp; &nbsp; $r .= ($l === null) ? '*)$' : '{'.(int)$l.'})';<br>&nbsp; &nbsp; $r .= '/su';<br>&nbsp; &nbsp; preg_match($r, $str, $o); return $o[1];<br>}<br><br>It is EXTREMELY fast compared to the array_slice + join method suggested before, and moderately slower than mb_substr.<br><br>Note: you cannot use negative values.<br>Note 2: use mb_substr whenever you can. Only use this workaround if you can not use the library.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112745">  
  <a class="name">
  <strong class="user"><em>fengdingbo at gmail dot com</em></strong></a><div class="date" title="2013-07-19 04:23"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112745">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php&nbsp; &nbsp;&nbsp; <br>$a </span><span class="keyword">= </span><span class="string">'abc'</span><span class="keyword">;&nbsp; &nbsp; <br></span><span class="default">$php </span><span class="keyword">= </span><span class="string">'ok123'</span><span class="keyword">;&nbsp; &nbsp; <br></span><span class="default">$str </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);&nbsp; &nbsp; <br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">1000000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)&nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$php</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; <br>echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$str</span><span class="keyword">,</span><span class="string">"\n"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">$str </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);&nbsp; &nbsp; <br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">1000000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)&nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$php</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];&nbsp; &nbsp; <br>echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">)-</span><span class="default">$str</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span>output:<br>0.26694822311401<br>0.10447096824646</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104805">  
  <a class="name">
  <strong class="user"><em>leon weidauer</em></strong></a><div class="date" title="2011-07-08 01:07"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104805">
<div class="phpcode"><code><span class="html">
When using a value of a wrong type as second parameter , substr() does not return FALSE but NULL although the docs say, it should return FALSE on error.<br><br>Prior to PHP 5.3, substr() tries to cast the second parameter to int and doesn't throw any errors. Since PHP 5.3 a warning is thrown.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103843">  
  <a class="name">
  <strong class="user"><em>Quicker</em></strong></a><div class="date" title="2011-05-06 04:17"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103843">
<div class="phpcode"><code><span class="html">
If you need to parse utf-8 strings char by char, try this one:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp;&nbsp; $utf8marker</span><span class="keyword">=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">128</span><span class="keyword">);
<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; while(isset(</span><span class="default">$string</span><span class="keyword">{</span><span class="default">$count</span><span class="keyword">})){
<br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$string</span><span class="keyword">{</span><span class="default">$count</span><span class="keyword">}&gt;=</span><span class="default">$utf8marker</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parsechar</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp;&nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parsechar</span><span class="keyword">=</span><span class="default">$string</span><span class="keyword">{</span><span class="default">$count</span><span class="keyword">};
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/* do what you like with parsechar ... , eg.:*/&nbsp; </span><span class="keyword">echo </span><span class="default">$parsechar</span><span class="keyword">.</span><span class="string">"&lt;BR&gt;\r\n"</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>- it works without mb_substr
<br>- it is fast, because it grabs characters based on indexes&nbsp; when possible and avoids any count and split functions</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101863">  
  <a class="name">
  <strong class="user"><em>nikolai dot wuestemann at t-online dot de</em></strong></a><div class="date" title="2011-01-14 08:56"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101863">
<div class="phpcode"><code><span class="html">
If you want to have a string BETWEEN two strings, just use this function:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">get_between</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">)
<br>{
<br>&nbsp; </span><span class="default">$substr </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">)+</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">), (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) - </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">))*(-</span><span class="default">1</span><span class="keyword">));
<br>&nbsp; return </span><span class="default">$substr</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">//Example:
<br>
<br></span><span class="default">$string </span><span class="keyword">= </span><span class="string">"123456789"</span><span class="keyword">;
<br></span><span class="default">$a </span><span class="keyword">= </span><span class="string">"12"</span><span class="keyword">;
<br></span><span class="default">$b </span><span class="keyword">= </span><span class="string">"9"</span><span class="keyword">;
<br>
<br>echo </span><span class="default">get_between</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);
<br>
<br></span><span class="comment">//Output:
<br>//345678
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70417">  
  <a class="name">
  <strong class="user"><em>feedback at realitymedias dot com</em></strong></a><div class="date" title="2006-10-15 05:47"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70417">
<div class="phpcode"><code><span class="html">
This function can replace substr() in some situations you don't want to cut right in the middle of a word. strtrim will cut between words when it is possible choosing the closest possible final string len to return. the maxoverflow parameter lets you choose how many characters can overflow past the maxlen parameter.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">strtrim</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$maxlen</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">, </span><span class="default">$elli</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$maxoverflow</span><span class="keyword">=</span><span class="default">15</span><span class="keyword">) {<br>&nbsp; &nbsp; global </span><span class="default">$CONF</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) &gt; </span><span class="default">$maxlen</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$CONF</span><span class="keyword">[</span><span class="string">"BODY_TRIM_METHOD_STRLEN"</span><span class="keyword">]) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$maxlen</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$body </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$body_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$body</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; do {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$body</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">" "</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$thisLen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$cycle </span><span class="keyword">= (</span><span class="default">$thisLen </span><span class="keyword">&lt; </span><span class="default">$maxlen </span><span class="keyword">&amp;&amp; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$body_count</span><span class="keyword">-</span><span class="default">1 </span><span class="keyword">&amp;&amp; (</span><span class="default">$thisLen</span><span class="keyword">+</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$body</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">])) &lt; </span><span class="default">$maxlen</span><span class="keyword">+</span><span class="default">$maxoverflow</span><span class="keyword">?</span><span class="default">true</span><span class="keyword">:</span><span class="default">false</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; } while (</span><span class="default">$cycle</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$output</span><span class="keyword">.</span><span class="default">$elli</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else return </span><span class="default">$str</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93884">  
  <a class="name">
  <strong class="user"><em>kaj dot strom at kapsi dot fi</em></strong></a><div class="date" title="2009-10-05 04:42"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93884">
<div class="phpcode"><code><span class="html">
One thing to keep in mind when using string indexes and UTF-8 is that string indexes are NOT multi-byte safe.<br><br><span class="default">&lt;?php<br>$string </span><span class="keyword">= </span><span class="string">'Ã¤Ã¤Ã¤1'</span><span class="keyword">;<br>echo </span><span class="default">$string</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br></span><span class="default">?&gt;<br></span><br>Outputs:<br>Â¤<br><br>When it logically should output "1". This is not a bug, as PHP 'normal' string functions are not intended to be multi-byte safe. This can be solved by using this function<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br> * <br> * @param string $string String to "search" from<br> * @param int $index Index of the letter we want.<br> * @return string The letter found on $index.<br> */<br></span><span class="keyword">function </span><span class="default">charAt</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">){<br>&nbsp; &nbsp; if(</span><span class="default">$index </span><span class="keyword">&lt; </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else{<br>&nbsp; &nbsp; &nbsp; &nbsp; return -</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92473">  
  <a class="name">
  <strong class="user"><em>gkhelloworld at gmail dot com</em></strong></a><div class="date" title="2009-07-26 03:39"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92473">
<div class="phpcode"><code><span class="html">
Shortens the filename and its expansion has seen.
<br>
<br><span class="default">&lt;?php
<br>$file </span><span class="keyword">= </span><span class="string">"Hellothisfilehasmorethan30charactersandthisfayl.exe"</span><span class="keyword">;
<br>
<br>function </span><span class="default">funclongwords</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)
<br>{
<br>if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) &gt; </span><span class="default">30</span><span class="keyword">)
<br>{
<br></span><span class="default">$vartypesf </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">);
<br></span><span class="default">$vartypesf_len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$vartypesf</span><span class="keyword">);
<br></span><span class="default">$word_l_w </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">15</span><span class="keyword">);
<br></span><span class="default">$word_r_w </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,-</span><span class="default">15</span><span class="keyword">);
<br></span><span class="default">$word_r_a </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$word_r_w</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">$vartypesf_len</span><span class="keyword">);
<br>
<br>return </span><span class="default">$word_l_w</span><span class="keyword">.</span><span class="string">"..."</span><span class="keyword">.</span><span class="default">$word_r_a</span><span class="keyword">.</span><span class="default">$vartypesf</span><span class="keyword">;
<br>}
<br>else
<br>return </span><span class="default">$file</span><span class="keyword">;
<br>}
<br></span><span class="comment">// RETURN: Hellothisfileha...andthisfayl.exe
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91351">  
  <a class="name">
  <strong class="user"><em>kaysar in ymail in com</em></strong></a><div class="date" title="2009-06-07 11:58"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91351">
<div class="phpcode"><code><span class="html">
Drop extensions of a file (even from a file location string)<br><br><span class="default">&lt;?php<br><br>$filename </span><span class="keyword">= </span><span class="string">"c:/some dir/abc defg. hi.jklmn"</span><span class="keyword">;<br><br>echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">)) - (</span><span class="default">strlen </span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">))));<br><br></span><span class="default">?&gt;<br></span><br>output: c:/some dir/abc defg. hi<br><br>Hope it may help somebody like me.. (^_^)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89762">  
  <a class="name">
  <strong class="user"><em>link</em></strong></a><div class="date" title="2009-03-21 05:52"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89762">
<div class="phpcode"><code><span class="html">
And as always there is bound to be a bug:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">strlen_entities</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/((?:&amp;(?:#[0-9]{2,}|[a-z]{2,});)|(?:[^&amp;])|'</span><span class="keyword">.&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'(?:&amp;(?!\w;)))s'</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$textarray</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>} <br>function </span><span class="default">substr_entities</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$limit</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'/((?:&amp;(?:#[0-9]{2,}|[a-z]{2,});)|(?:[^&amp;])|'</span><span class="keyword">.&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'(?:&amp;(?!\w;)))s'</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$textarray</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$textarray </span><span class="keyword">= </span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; </span><span class="default">$numchars </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$textarray</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&gt;=</span><span class="default">$numchars</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= (</span><span class="default">$numchars</span><span class="keyword">)+</span><span class="default">$start</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; if (</span><span class="default">$start</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$limit</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end</span><span class="keyword">=</span><span class="default">$numchars</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif (</span><span class="default">$limit</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">+(</span><span class="default">$limit</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= (</span><span class="default">$numchars</span><span class="keyword">)+</span><span class="default">$limit</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$start</span><span class="keyword">;(</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$end </span><span class="keyword">&amp;&amp; isset(</span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]));</span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$textarray</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81866">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-03-17 03:53"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81866">
<div class="phpcode"><code><span class="html">
Split a string to an array of strings specified by an array of lengths:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">split_by_lengths</span><span class="keyword">(</span><span class="default">$inString</span><span class="keyword">, </span><span class="default">$arrayLengths</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$output </span><span class="keyword">= array();<br>&nbsp; &nbsp; foreach (</span><span class="default">$arrayLengths </span><span class="keyword">as </span><span class="default">$oneLength</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$output</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inString</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$oneLength</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$inString </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$inString</span><span class="keyword">, </span><span class="default">$oneLength</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return (</span><span class="default">$output</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span>split_by_lengths('teststringtestteststring', array(4,6,4,4,6)) returns:<br>array('test','string','test','test','string')<br><br>Don't use it on user input without some error handling!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81491">  
  <a class="name">
  <strong class="user"><em>kriskra at gmail dot com</em></strong></a><div class="date" title="2008-02-29 05:21"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81491">
<div class="phpcode"><code><span class="html">
The javascript charAt equivalent in php of felipe has a little bug. It's necessary to compare the type (implicit) aswell or the function returns a wrong result:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">charAt</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">) {<br>&nbsp; &nbsp; return (</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$pos</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">) : -</span><span class="default">1</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81335">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-02-22 05:12"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81335">
<div class="phpcode"><code><span class="html">
I've used the between, after, before, etc functions that biohazard put together for years and they work great.&nbsp; I've also added to it a new function that I use a lot and thought others might like it as well.&nbsp; It uses his before/after functions so they are required to use it.
<br>
<br><span class="default">&lt;?php
<br>$example_html </span><span class="keyword">= </span><span class="string">"&lt;p&gt;test1 Test2&lt;/p&gt;&lt;title&gt;hi there&lt;/title&gt;&lt;p&gt;Testing&lt;/p&gt;"</span><span class="keyword">;
<br></span><span class="default">$paragraph_text </span><span class="keyword">= </span><span class="default">multi_between</span><span class="keyword">(</span><span class="string">'&lt;p&gt;'</span><span class="keyword">, </span><span class="string">'&lt;/p&gt;'</span><span class="keyword">, </span><span class="default">$example_html</span><span class="keyword">);
<br>
<br></span><span class="comment">//Prints an arry of:
<br>//Array ( [1] =&gt; test1 Test2 [2] =&gt; Testing )
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$paragraph_text</span><span class="keyword">);
<br>
<br>function </span><span class="default">multi_between</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">)
<br>{
<br>&nbsp;&nbsp; </span><span class="default">$counter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp;&nbsp; while (</span><span class="default">$inthat</span><span class="keyword">)
<br>&nbsp;&nbsp; {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$counter</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$elements</span><span class="keyword">[</span><span class="default">$counter</span><span class="keyword">] = </span><span class="default">before</span><span class="keyword">(</span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$elements</span><span class="keyword">[</span><span class="default">$counter</span><span class="keyword">] = </span><span class="default">after</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$elements</span><span class="keyword">[</span><span class="default">$counter</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$inthat </span><span class="keyword">= </span><span class="default">after</span><span class="keyword">(</span><span class="default">$that</span><span class="keyword">, </span><span class="default">$inthat</span><span class="keyword">);
<br>&nbsp;&nbsp; }
<br>&nbsp;&nbsp; return </span><span class="default">$elements</span><span class="keyword">;
<br>}
<br></span><span class="comment">//Get the help functions from biohazard's post below.
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73233">  
  <a class="name">
  <strong class="user"><em>ijavier aka(not imatech) igjav</em></strong></a><div class="date" title="2007-02-14 02:20"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73233">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">/*
<br>&nbsp; &nbsp; An advanced substr but without breaking words in the middle.
<br>&nbsp; &nbsp; Comes in 3 flavours, one gets up to length chars as a maximum, the other with length chars as a minimum up to the next word, and the other considers removing final dots, commas and etcteteras for the sake of beauty (hahaha).
<br>&nbsp;&nbsp; This functions were posted by me some years ago, in the middle of the ages I had to use them in some corporations incorporated, with the luck to find them in some php not up to date mirrors. These mirrors are rarely being more not up to date till the end of the world... Well, may be am I the only person that finds usef not t bre word in th middl?
<br>
<br>Than! (ks)
<br>
<br>This is the calling syntax:
<br>
<br>&nbsp; &nbsp; snippet(phrase,[max length],[phrase tail])
<br>&nbsp; &nbsp; snippetgreedy(phrase,[max length before next space],[phrase tail])
<br>
<br>*/
<br>
<br></span><span class="keyword">function </span><span class="default">snippet</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">64</span><span class="keyword">,</span><span class="default">$tail</span><span class="keyword">=</span><span class="string">"..."</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$txtl </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">$txtl </span><span class="keyword">&gt; </span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">]!=</span><span class="string">" "</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">== </span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">) . </span><span class="default">$tail</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">) . </span><span class="default">$tail</span><span class="keyword">;
<br>&nbsp; &nbsp; } 
<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">// It behaves greedy, gets length characters ore goes for more
<br>
<br></span><span class="keyword">function </span><span class="default">snippetgreedy</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">64</span><span class="keyword">,</span><span class="default">$tail</span><span class="keyword">=</span><span class="string">"..."</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) &gt; </span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">]!=</span><span class="string">" "</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">]) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">) . </span><span class="default">$tail</span><span class="keyword">;
<br>&nbsp; &nbsp; } 
<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">// The same as the snippet but removing latest low punctuation chars, 
<br>// if they exist (dots and commas). It performs a later suffixal trim of spaces
<br>
<br></span><span class="keyword">function </span><span class="default">snippetwop</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">64</span><span class="keyword">,</span><span class="default">$tail</span><span class="keyword">=</span><span class="string">"..."</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$txtl </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">$txtl </span><span class="keyword">&gt; </span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">]!=</span><span class="string">" "</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$i </span><span class="keyword">== </span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">) . </span><span class="default">$tail</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; for(;</span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">]==</span><span class="string">"," </span><span class="keyword">|| </span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">]==</span><span class="string">"." </span><span class="keyword">|| </span><span class="default">$text</span><span class="keyword">[</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">]==</span><span class="string">" "</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {;}
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">) . </span><span class="default">$tail</span><span class="keyword">;
<br>&nbsp; &nbsp; } 
<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">/*
<br>echo(snippet("this is not too long to run on the column on the left, perhaps, or perhaps yes, no idea") . "&lt;br&gt;");
<br>echo(snippetwop("this is not too long to run on the column on the left, perhaps, or perhaps yes, no idea") . "&lt;br&gt;");
<br>echo(snippetgreedy("this is not too long to run on the column on the left, perhaps, or perhaps yes, no idea"));
<br>*/
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73213">  
  <a class="name">
  <strong class="user"><em>persisteus at web dot de</em></strong></a><div class="date" title="2007-02-13 07:45"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73213">
<div class="phpcode"><code><span class="html">
Here is also a nice (but a bit slow) alternative for colorizing an true color image:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// $colorize = hexadecimal code in String format, f.e. "10ffa2"
<br>// $im = the image that have to be computed
<br>
<br></span><span class="default">$red </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$colorize</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">$green </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$colorize</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));
<br></span><span class="default">$blue </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$colorize</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));
<br>
<br></span><span class="default">$lum_c </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$red</span><span class="keyword">*</span><span class="default">299 </span><span class="keyword">+ </span><span class="default">$green</span><span class="keyword">*</span><span class="default">587 </span><span class="keyword">+ </span><span class="default">$blue</span><span class="keyword">*</span><span class="default">144</span><span class="keyword">) / </span><span class="default">1000</span><span class="keyword">);
<br>
<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$lum_c</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>{
<br>&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$red </span><span class="keyword">* </span><span class="default">$i </span><span class="keyword">/ </span><span class="default">$lum_c</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">$green </span><span class="keyword">* </span><span class="default">$i </span><span class="keyword">/ </span><span class="default">$lum_c</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">$blue </span><span class="keyword">* </span><span class="default">$i </span><span class="keyword">/ </span><span class="default">$lum_c</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$pal</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$r</span><span class="keyword">&lt;&lt;</span><span class="default">16 </span><span class="keyword">| </span><span class="default">$g</span><span class="keyword">&lt;&lt;</span><span class="default">8 </span><span class="keyword">| </span><span class="default">$b</span><span class="keyword">;
<br>}
<br></span><span class="default">$pal</span><span class="keyword">[</span><span class="default">$lum_c</span><span class="keyword">] = </span><span class="default">$red</span><span class="keyword">&lt;&lt;</span><span class="default">16 </span><span class="keyword">| </span><span class="default">$green</span><span class="keyword">&lt;&lt;</span><span class="default">8 </span><span class="keyword">| </span><span class="default">$blue</span><span class="keyword">;
<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$lum_c</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">255</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>{
<br>&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$red </span><span class="keyword">+ (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$red</span><span class="keyword">) * (</span><span class="default">$i</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">) / (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">$green </span><span class="keyword">+ (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$green</span><span class="keyword">) * (</span><span class="default">$i</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">) / (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">$blue </span><span class="keyword">+ (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$blue</span><span class="keyword">) * (</span><span class="default">$i</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">) / (</span><span class="default">255</span><span class="keyword">-</span><span class="default">$lum_c</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$pal</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$r</span><span class="keyword">&lt;&lt;</span><span class="default">16 </span><span class="keyword">| </span><span class="default">$g</span><span class="keyword">&lt;&lt;</span><span class="default">8 </span><span class="keyword">| </span><span class="default">$b</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$sy </span><span class="keyword">= </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);
<br></span><span class="default">$sx </span><span class="keyword">= </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);
<br>for(</span><span class="default">$y</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">&lt;</span><span class="default">$sy</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">++)
<br>{
<br>&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">$sx</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++)
<br>&nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$rgba </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= (</span><span class="default">$rgba </span><span class="keyword">&amp; </span><span class="default">0x7F000000</span><span class="keyword">) &gt;&gt; </span><span class="default">24</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= (</span><span class="default">$rgba </span><span class="keyword">&amp; </span><span class="default">0xFF0000</span><span class="keyword">) &gt;&gt; </span><span class="default">16</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$g </span><span class="keyword">= (</span><span class="default">$rgba </span><span class="keyword">&amp; </span><span class="default">0x00FF00</span><span class="keyword">) &gt;&gt; </span><span class="default">8</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= (</span><span class="default">$rgba </span><span class="keyword">&amp; </span><span class="default">0x0000FF</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$lum </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$r</span><span class="keyword">*</span><span class="default">299</span><span class="keyword">+</span><span class="default">$g</span><span class="keyword">*</span><span class="default">587</span><span class="keyword">+</span><span class="default">$b</span><span class="keyword">*</span><span class="default">144</span><span class="keyword">)/</span><span class="default">1000</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">&lt;&lt;</span><span class="default">24 </span><span class="keyword">| </span><span class="default">$pal</span><span class="keyword">[</span><span class="default">$lum</span><span class="keyword">]);
<br>&nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59719">  
  <a class="name">
  <strong class="user"><em>mr at bbp dot biz</em></strong></a><div class="date" title="2005-12-14 02:54"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59719">
<div class="phpcode"><code><span class="html">
Here's a little addon to the html_substr function posted by fox. <br><br>Now it counts only chars outside of tags, and doesn't cut words.<br><br>Note: this will only work in xhtml strict/transitional due to the checking of "/&gt;" tags and the requirement of quotations in every value of a tag. It's also only been tested with the presence of br, img, and a tags, but it should work with the presence of any tag.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">html_substr</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">, </span><span class="default">$minimum_length </span><span class="keyword">= </span><span class="default">200</span><span class="keyword">, </span><span class="default">$length_offset </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">, </span><span class="default">$cut_words </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">, </span><span class="default">$dots </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">) {<br>&nbsp;&nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// $minimum_length:<br>&nbsp; &nbsp; // The approximate length you want the concatenated text to be&nbsp;&nbsp; <br> <br><br>&nbsp; &nbsp; // $length_offset:<br>&nbsp; &nbsp; // The variation in how long the text can be in this example text <br>&nbsp; &nbsp; // length will be between 200 and 200-20=180 characters and the <br>&nbsp; &nbsp; // character where the last tag ends<br><br>&nbsp; &nbsp; // Reset tag counter &amp; quote checker<br>&nbsp; &nbsp; </span><span class="default">$tag_counter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$quotes_on </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// Check if the text is too long<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">) &gt; </span><span class="default">$minimum_length</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Reset the tag_counter and pass through (part of) the entire text<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Load the current character and the next one<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // if the string has not arrived at the last character<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$current_char </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$next_char </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">,</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$next_char </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// First check if quotes are on<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">$quotes_on</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Check if it's a tag<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // On a "&lt;" add 3 if it's an opening tag (like &lt;a href...)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // or add only 1 if it's an ending tag (like &lt;/a&gt;)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$current_char </span><span class="keyword">== </span><span class="string">'&lt;'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$next_char </span><span class="keyword">== </span><span class="string">'/'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tag_counter </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tag_counter </span><span class="keyword">+= </span><span class="default">3</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Slash signifies an ending (like &lt;/a&gt; or ... /&gt;)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // substract 2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$current_char </span><span class="keyword">== </span><span class="string">'/' </span><span class="keyword">&amp;&amp; </span><span class="default">$tag_counter </span><span class="keyword">&lt;&gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$tag_counter </span><span class="keyword">-= </span><span class="default">2</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// On a "&gt;" substract 1<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$current_char </span><span class="keyword">== </span><span class="string">'&gt;'</span><span class="keyword">) </span><span class="default">$tag_counter </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If quotes are encountered, start ignoring the tags<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // (for directory slashes)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$current_char </span><span class="keyword">== </span><span class="string">'"'</span><span class="keyword">) </span><span class="default">$quotes_on </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// IF quotes are encountered again, turn it back off<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$current_char </span><span class="keyword">== </span><span class="string">'"'</span><span class="keyword">) </span><span class="default">$quotes_on </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Count only the chars outside html tags<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$tag_counter </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">|| </span><span class="default">$tag_counter </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Check if the counter has reached the minimum length yet,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // then wait for the tag_counter to become 0, and chop the string there<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$c </span><span class="keyword">&gt; </span><span class="default">$minimum_length </span><span class="keyword">- </span><span class="default">$length_offset </span><span class="keyword">&amp;&amp; </span><span class="default">$tag_counter </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">&amp;&amp; (</span><span class="default">$next_char </span><span class="keyword">== </span><span class="string">' ' </span><span class="keyword">|| </span><span class="default">$cut_words </span><span class="keyword">== </span><span class="default">TRUE</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$posttext </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$posttext</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$dots</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$posttext </span><span class="keyword">.= </span><span class="string">'...'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$posttext</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }&nbsp;&nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$posttext</span><span class="keyword">;<br>} <br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53199">  
  <a class="name">
  <strong class="user"><em>bleakwind at msn dot com</em></strong></a><div class="date" title="2005-05-25 10:11"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53199">
<div class="phpcode"><code><span class="html">
This returns the portion of str specified by the start and length parameters..<br>It can performs multi-byte safe on number of characters. like mb_strcut() ...<br><br>Note:<br>1.Use it like this bite_str(string str, int start, int length [,byte of on string]);<br>2.First character's position is 0. Second character position is 1, and so on...<br>3.$byte is one character length of your encoding, For example: utf-8 is "3", gb2312 and big5 is "2"...you can use the function strlen() get it... <br>Enjoy it :) ...<br><br>--- Bleakwind<br>QQ:940641<br><a rel="nofollow" target="_blank">http://www.weaverdream.com</a><br><br>PS:I'm sorry my english is too poor... :( <br><br><span class="default">&lt;?php<br></span><span class="comment">// String intercept By Bleakwind<br>// utf-8:$byte=3 | gb2312:$byte=2 | big5:$byte=2<br></span><span class="keyword">function </span><span class="default">bite_str</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">, </span><span class="default">$byte</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$str&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$count&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$str_len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br>&nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$str_len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if ((</span><span class="default">$count</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">)&gt;</span><span class="default">$len</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str&nbsp; </span><span class="keyword">.= </span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif ((</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)) &lt;= </span><span class="default">128</span><span class="keyword">) &amp;&amp; (</span><span class="default">$count </span><span class="keyword">&lt; </span><span class="default">$start</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif ((</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)) &gt; </span><span class="default">128</span><span class="keyword">) &amp;&amp; (</span><span class="default">$count </span><span class="keyword">&lt; </span><span class="default">$start</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">+</span><span class="default">$byte</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif ((</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)) &lt;= </span><span class="default">128</span><span class="keyword">) &amp;&amp; (</span><span class="default">$count </span><span class="keyword">&gt;= </span><span class="default">$start</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str&nbsp; </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; } elseif ((</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)) &gt; </span><span class="default">128</span><span class="keyword">) &amp;&amp; (</span><span class="default">$count </span><span class="keyword">&gt;= </span><span class="default">$start</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str&nbsp; </span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$byte</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">$count</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">+</span><span class="default">$byte</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$str</span><span class="keyword">;<br>}<br><br></span><span class="comment">// Test<br></span><span class="default">$str </span><span class="keyword">= </span><span class="string">"123456ï¿½ï¿½ï¿½Ö½ï¿½123456ï¿½Ö·ï¿½ï¿½ï¿½123456ï¿½ï¿½È¡ï¿½ï¿½ï¿½ï¿½"</span><span class="keyword">;<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">30</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">.</span><span class="default">bite_str</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">);&nbsp; &nbsp; <br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50162">  
  <a class="name">
  <strong class="user"><em>andrewmclagan at gmail dot com</em></strong></a><div class="date" title="2005-02-20 01:58"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50162">
<div class="phpcode"><code><span class="html">
Hi there here is a little function i wrote to limit the number of lines in a string, i could not find anything else like it out there&nbsp; &nbsp; 
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">lineLimiter </span><span class="keyword">(</span><span class="default">$string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">, </span><span class="default">$max_lines </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">"##"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$totalLines </span><span class="keyword">= (</span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">'##'</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringLength </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$totalLines </span><span class="keyword">&gt; </span><span class="default">$max_lines</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos </span><span class="keyword">( </span><span class="default">$string</span><span class="keyword">, </span><span class="string">"##"</span><span class="keyword">) + </span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//$pos = $pos - $stringLength;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$totalLines</span><span class="keyword">--;&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"##"</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$string</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76016">  
  <a class="name">
  <strong class="user"><em>Robert Chapin</em></strong></a><div class="date" title="2007-06-26 02:40"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76016">
<div class="phpcode"><code><span class="html">
All the references to "curly braces" on this page appear to be obsolete.<br><br>According to <a rel="nofollow" target="_blank">http://us.php.net/manual/en/language.types.string.php</a><br><br>"Using square array-brackets is preferred because the {braces} style is deprecated as of PHP 6."<br><br>Robert Chapin<br>Chapin Information Services</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33737">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2003-07-05 05:39"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33737">
<div class="phpcode"><code><span class="html">
If you want to substring the middle of a string with another and keep the words intact:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * Reduce a string by the middle, keeps whole words together
<br> * 
<br> * @param string $string 
<br> * @param int $max (default 50)
<br> * @param string $replacement (default [...])
<br> * @return string 
<br> * @author david at ethinkn dot com 
<br> * @author loic at xhtml dot ne 
<br> * @author arne dot hartherz at gmx dot net 
<br> */
<br>
<br></span><span class="keyword">function </span><span class="default">strMiddleReduceWordSensitive </span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">50</span><span class="keyword">, </span><span class="default">$rep </span><span class="keyword">= </span><span class="string">'[...]'</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$strlen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; if (</span><span class="default">$strlen </span><span class="keyword">&lt;= </span><span class="default">$max</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; </span><span class="default">$lengthtokeep </span><span class="keyword">= </span><span class="default">$max </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$rep</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; if ((</span><span class="default">$lengthtokeep </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$lengthtokeep </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">;
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$lengthtokeep </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$start </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; } 
<br>
<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$tmp_string </span><span class="keyword">= </span><span class="default">$string</span><span class="keyword">;
<br>&nbsp; &nbsp; while (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$strlen</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$tmp_string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="string">' '</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$tmp_string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">) . </span><span class="default">$rep</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">$tmp_string</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; } 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; } 
<br>
<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$end</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$tmp_string </span><span class="keyword">= </span><span class="default">strrev </span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);
<br>&nbsp; &nbsp; while (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$strlen</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$tmp_string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="string">' '</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$tmp_string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">strrev </span><span class="keyword">(</span><span class="default">$tmp_string</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; } 
<br>&nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">) . </span><span class="default">$rep </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, - </span><span class="default">$end</span><span class="keyword">);
<br>} 
<br>
<br>echo </span><span class="default">strMiddleReduceWordSensitive </span><span class="keyword">(</span><span class="string">'ABCDEEF GHIJK LLKJHKHKJHKL HGHFK sdfasdfsdafsdf sadf asdf sadf sad s'</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;
<br></span><span class="comment">// Returns: ABCDEEF GHIJK[...]asdf sadf sad s (33 chrs)
<br></span><span class="keyword">echo </span><span class="default">strMiddleReduceWordSensitive </span><span class="keyword">(</span><span class="string">'ABCDEEF GHIJK LLKJHKHKJHKL HGHFK sdfasdfsdafsdf sadf asdf sadf sad s'</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">, </span><span class="string">'...'</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;
<br></span><span class="comment">// Returns: ABCDEEF GHIJK...asdf sadf sad s (32 chrs)
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80247">  
  <a class="name">
  <strong class="user"><em>highstrike at gmail dot com</em></strong></a><div class="date" title="2008-01-05 08:47"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80247">
<div class="phpcode"><code><span class="html">
Because i didnt see a function that would cut a phrase from a text (article or whatever) no matter where, front/middle/end and add ... + keeping the words intact, i wrote this:<br><br>Usage:<br>- The parameter $value if array will need the whole text and the portion you want to start from, a string. EG: cuttext(array($text, $string), 20). If the string is "have" and is near the beginning of the text, the function will cut like "I have a car ...", if the string is in the middle somewhere it will cut like "... if you want to have your own car ..." and if its somewhere near the end it will cut like "... and you will have one."<br>- The $length parameter is self explanatory.<br><br>Note: if you have just a string "127hh43h2h52312453jfks2" and you want to cut it, just use the function like so: cuttext($string, 10) and it will cut it like "127hh43h2h..."<br><br><span class="default">&lt;?php<br><br></span><span class="comment">////////////////////////////////////////////////////////<br>// Function:&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; cuttext<br>// Description: Cuts a string and adds ...<br><br></span><span class="keyword">function </span><span class="default">cuttext</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">)<br>{&nbsp; &nbsp; <br>&nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) list(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$match_to</span><span class="keyword">) = </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; else { </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; </span><span class="default">$match_to </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">}; }<br><br>&nbsp; &nbsp; </span><span class="default">$match_start </span><span class="keyword">= </span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$match_to</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$match_compute </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match_start</span><span class="keyword">);<br><br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) &gt; </span><span class="default">$length</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$match_compute </span><span class="keyword">&lt; (</span><span class="default">$length </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match_to</span><span class="keyword">)))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pre_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos_end </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_end </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$pre_string</span><span class="keyword">.</span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos_end</span><span class="keyword">).</span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else if (</span><span class="default">$match_compute </span><span class="keyword">&gt; (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) - (</span><span class="default">$length </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match_to</span><span class="keyword">))))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pre_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) - (</span><span class="default">$length </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match_to</span><span class="keyword">))));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos_start </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="default">$pos_start</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_start </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">$pre_string</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="default">$pos_start</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pre_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, (</span><span class="default">$match_compute </span><span class="keyword">- </span><span class="default">round</span><span class="keyword">((</span><span class="default">$length </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">))), </span><span class="default">$length</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos_start </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">); </span><span class="default">$pos_end </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="string">" "</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="default">$pos_start</span><span class="keyword">, </span><span class="default">$pos_end</span><span class="keyword">).</span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_start </span><span class="keyword">=== </span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">$pos_end </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">$pre_string</span><span class="keyword">.</span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"..."</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pre_string</span><span class="keyword">, </span><span class="default">$pos_start</span><span class="keyword">, </span><span class="default">$pos_end</span><span class="keyword">).</span><span class="string">"..."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$match_start </span><span class="keyword">= </span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$match_to</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$match_compute </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$match_start</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113718">  
  <a class="name">
  <strong class="user"><em>greg at apparel dot com</em></strong></a><div class="date" title="2013-11-20 05:28"><strong>9 months ago</strong></div>
  <div class="text" id="Hcom113718">
<div class="phpcode"><code><span class="html">
Coming to PHP from classic ASP I am used to the Left() and Right() functions built into ASP so I did a quick PHPversion. hope these help someone else making the switch<br><br>function left($str, $length) {<br>&nbsp; &nbsp; return substr($str, 0, $length);<br>}<br><br>function right($str, $length) {<br>&nbsp; &nbsp; return substr($str, -$length);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85827">  
  <a class="name">
  <strong class="user"><em>NULL_byte</em></strong></a><div class="date" title="2008-09-19 03:21"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom85827">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">insert_substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">, </span><span class="default">$substr</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$part1 </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">$pos</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$part2 </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, -</span><span class="default">$pos</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$part1</span><span class="keyword">.</span><span class="default">$substr</span><span class="keyword">.</span><span class="default">$part2</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54281">  
  <a class="name">
  <strong class="user"><em>php_net at thomas dot trella dot de</em></strong></a><div class="date" title="2005-06-29 08:07"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54281">
<div class="phpcode"><code><span class="html">
I needed to cut a string after x chars at a&nbsp; html converted utf-8 text (for example Japanese text like &amp;#23344;&amp;#35632;&amp;#24368;&amp;#33072;&amp;#27440;&amp;#32591;). <br>The problem was, the different length of the signs, so I wrote the following function to handle that.<br>Perhaps it helps.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">html_cutstr </span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if (!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/\&amp;#[0-9]*;.*/i'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rVal </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$chars </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$chars </span><span class="keyword">&gt;= </span><span class="default">$len</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; break;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str_tmp </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/\&amp;#[0-9]*;.*/i'</span><span class="keyword">, </span><span class="default">$str_tmp</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$chars</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$rVal </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) &gt; </span><span class="default">$start</span><span class="keyword">)<br>&nbsp; &nbsp; </span><span class="default">$rVal </span><span class="keyword">.= </span><span class="string">" ..."</span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">$rVal</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84775">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-07-29 11:18"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84775">
<div class="phpcode"><code><span class="html">
I wrote this simple function to limit the middle characters of a string to a specified length.
<br>
<br><span class="default">&lt;?php
<br>$input </span><span class="keyword">= </span><span class="string">"hello world"
<br></span><span class="keyword">echo(</span><span class="default">limitchrmid</span><span class="keyword">(</span><span class="default">$imput</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">)) </span><span class="comment">// hel ... rld
<br>
<br>//limit chars middle
<br></span><span class="keyword">function </span><span class="default">limitchrmid</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$lenght</span><span class="keyword">){
<br>&nbsp; &nbsp; if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &gt;= </span><span class="default">$lenght </span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lenght_max </span><span class="keyword">= (</span><span class="default">$lenght</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)-</span><span class="default">3</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)- </span><span class="default">$lenght_max</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$limited </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$lenght_max</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$limited</span><span class="keyword">.= </span><span class="string">" ... "</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$limited</span><span class="keyword">.= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$start</span><span class="keyword">,</span><span class="default">$lenght_max</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else{
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$limited </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$limited</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107287">  
  <a class="name">
  <strong class="user"><em>maxim at inbox dot ru</em></strong></a><div class="date" title="2012-01-27 04:43"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107287">
<div class="phpcode"><code><span class="html">
Here is a recursion function to get parts of passed string which are in a char. Func looks pretty, and works fast, tell me please if you find more opt way.<br><span class="default">&lt;?php<br>$s </span><span class="keyword">= </span><span class="string">"info= &amp;make&amp;,endvcc &amp;new&amp; &amp;another&amp;info"</span><span class="keyword">;<br>echo </span><span class="default">str_cut</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="string">"&amp;"</span><span class="keyword">,</span><span class="string">","</span><span class="keyword">);<br></span><span class="comment">//output:<br>//make,new,another<br><br></span><span class="keyword">function </span><span class="default">str_cut</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$d</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">=</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$l</span><span class="keyword">=</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$f</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$out</span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$f</span><span class="keyword">,</span><span class="default">$l</span><span class="keyword">-</span><span class="default">$f</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if <br>&nbsp; &nbsp; (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$l</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)!==</span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; {</span><span class="default">$s</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$l</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);</span><span class="default">$out</span><span class="keyword">.=</span><span class="default">$d</span><span class="keyword">.</span><span class="default">str_cut</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$d</span><span class="keyword">);}<br>return </span><span class="default">$out</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>it is possible to output in array, you have to returns a var as an array.<br>Also you can add an extra needle, which would be compare with the end of strings :<br>replace to <br>$l=strpos($s,$b,$f)-$f;<br>and dont forget to pass into recursion call $b value, but i did like that <br>$b=func_get_arg(func_num_args()-1);<br>care! the last argument should be $a, because $b getting last arg. like that:<br>function str_cut($s,$d="",$a)<br>but i think this method of getting $b not the best way for perfomance.<br>Sorry for my English.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86018">  
  <a class="name">
  <strong class="user"><em>mr.davin</em></strong></a><div class="date" title="2008-09-29 10:01"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86018">
<div class="phpcode"><code><span class="html">
Simple use of substr to determine possession:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">possessive </span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">) {
<br>&nbsp; &nbsp; return&nbsp; </span><span class="default">$word</span><span class="keyword">.(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">) == </span><span class="string">'s' </span><span class="keyword">? </span><span class="string">"'" </span><span class="keyword">: </span><span class="string">"'s"</span><span class="keyword">);
<br>}
<br>
<br></span><span class="comment">// Davis =&gt; Davis'
<br>// Paul =&gt; Paul's
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113223">  
  <a class="name">
  <strong class="user"><em>nanhe dot kumar at gmail dot com</em></strong></a><div class="date" title="2013-09-13 09:19"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113223">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br>$string</span><span class="keyword">=</span><span class="string">"NanheKumar"</span><span class="keyword">;<br>echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); </span><span class="comment">//Nanhe<br></span><span class="keyword">echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); </span><span class="comment">//Kumar<br></span><span class="keyword">echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,-</span><span class="default">4</span><span class="keyword">); </span><span class="comment">//umar<br></span><span class="keyword">echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,-</span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">); </span><span class="comment">//um<br></span><span class="keyword">echo </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">); </span><span class="comment">//umnheKum<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98975">  
  <a class="name">
  <strong class="user"><em>jeff dot swain at pcmmllc dot com</em></strong></a><div class="date" title="2010-07-19 05:00"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98975">
<div class="phpcode"><code><span class="html">
I noticed a slight issue when parsing out long strings using the substr function. <br><br>Here is my string: $merge = "UPDATE AssistanceRequest SET RequestorID = '4301' WHERE RequestorID IN ( '4535','6222','4865','5137','4893')"<br><br>To parse out the WHERE portion I used: <br>$whereClause = substr($merge, strpos($merge,'WHERE', (strlen($merge) - strpos($merge,'WHERE')))); <br>Normally the function returned: $whereClause = "WHERE RequestorID IN ( '4535','6222','4865','5137','4893')"<br><br>This $whereClause gives me the WHERE clause to modify the MSSQL database records being manipulated. So that when I used $whereClause as the WHERE clause to create subsequent SQL, I used the following syntax: $setDeleteFlag = "UPDATE AssistanceRequestor SET bIsDirty = 'DELETE' " . $whereClause;<br><br>This should have returned: $setDeleteFlag = "UPDATE AssistanceRequestor SET bIsDirty = 'DELETE' WHERE RequestorID IN ( '4535','6222','4865','5137','4893')"<br><br>As long as the length of the original $merge string was less than 104 characters, the $setDeleteFlag sql came out correctly. However, when the length of the original $merge string exceeded 104 characters, I got this returned:<br><br>$setDeleteFlag = "UPDATE AssistanceRequestor SET bIsDirty = 'DELETE' UPDATE AssistanceRequestor SET bIsDirty = 'DELETE' WHERE RequestorID IN ( '4535','6222','4865','5137','4893')"<br><br>The result was that the bIsDirty field for every record in the database was set to 'DELETE'. I fixed it by breaking apart the substr to create the original $whereClause so that it looked like this:<br><br>$wherePosition = strpos($merge,'WHERE');<br>$whereClause = substr($merge, $wherePosition, strlen($merge) - $wherePosition);<br>$setDeleteFlag = "UPDATE AssistanceRequestor SET bIsDirty = 'DELETE' " . $whereClause;<br><br>I do have to note that I run PHP 5.x on my development server, while I think the production host is still on 4.x. I did not seem to have an issue in development, but I don't think I tested strings longer than 104 characters. Maybe this issue has been corrected in version 5.x.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90724">  
  <a class="name">
  <strong class="user"><em>benny at bennyborn dot de</em></strong></a><div class="date" title="2009-05-06 01:52"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90724">
<div class="phpcode"><code><span class="html">
If you need a word-sensitive and also html-tags aware version of substr, this one should do the job. It works fine for me
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br>* word-sensitive substring function with html tags awareness
<br>* @param text The text to cut
<br>* @param len The maximum length of the cut string
<br>* @returns string
<br>**/
<br></span><span class="keyword">function </span><span class="default">substrws</span><span class="keyword">( </span><span class="default">$text</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">=</span><span class="default">180 </span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; if( (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) &gt; </span><span class="default">$len</span><span class="keyword">) ) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$whitespaceposition </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$len</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$whitespaceposition </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">$whitespaceposition</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// close unclosed html tags
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">"|&lt;([a-zA-Z]+)&gt;|"</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$aBuffer</span><span class="keyword">) ) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( !empty(</span><span class="default">$aBuffer</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) ) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="string">"|&lt;/([a-zA-Z]+)&gt;|"</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">,</span><span class="default">$aBuffer2</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">count</span><span class="keyword">(</span><span class="default">$aBuffer</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) != </span><span class="default">count</span><span class="keyword">(</span><span class="default">$aBuffer2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) ) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach( </span><span class="default">$aBuffer</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$tag </span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( empty(</span><span class="default">$aBuffer2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">]) || </span><span class="default">$aBuffer2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">] != </span><span class="default">$tag</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">'&lt;/'</span><span class="keyword">.</span><span class="default">$tag</span><span class="keyword">.</span><span class="string">'&gt;'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60373">  
  <a class="name">
  <strong class="user"><em>eallik at hotmail dot com</em></strong></a><div class="date" title="2006-01-04 07:22"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60373">
<div class="phpcode"><code><span class="html">
Be careful when comparing the return value of substr to FALSE. FALSE may be returned even if the output is a valid string.<br><br>substr("0", 0); // equals "0", comparision with FALSE evaluates to true, because "0" == 0 == FALSE</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95987">  
  <a class="name">
  <strong class="user"><em>Jarrod Nettles (jarrod at squarecrow dot com)</em></strong></a><div class="date" title="2010-02-01 12:46"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95987">
<div class="phpcode"><code><span class="html">
I've seen numerous requests over the years from people trying to put together templating systems using XML parsers or regular expressions - you can create a simple template system with the following class. It could easily be expanded to take advantage of parameters, conditionals, etc.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">class </span><span class="default">Template
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; const </span><span class="default">OPEN_BRACKET </span><span class="keyword">= </span><span class="string">"{"</span><span class="keyword">;
<br>&nbsp; &nbsp; const </span><span class="default">CLOSE_BRACKET </span><span class="keyword">= </span><span class="string">"}"</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; public static function </span><span class="default">inject</span><span class="keyword">(array </span><span class="default">$source</span><span class="keyword">, </span><span class="default">$template</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ob_size </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">OPEN_BRACKET</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$cb_size </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">CLOSE_BRACKET</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$template</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">$pos </span><span class="keyword">&lt;= </span><span class="default">$end</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_1 </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$template</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">OPEN_BRACKET</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_1</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos_2 </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$template</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">CLOSE_BRACKET</span><span class="keyword">, </span><span class="default">$pos_1</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos_2</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return_length </span><span class="keyword">= (</span><span class="default">$pos_2</span><span class="keyword">-</span><span class="default">$cb_size</span><span class="keyword">) - </span><span class="default">$pos_1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$template</span><span class="keyword">, </span><span class="default">$pos_1</span><span class="keyword">+</span><span class="default">$ob_size</span><span class="keyword">, </span><span class="default">$return_length</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$template </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::</span><span class="default">OPEN_BRACKET</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">.</span><span class="default">self</span><span class="keyword">::</span><span class="default">CLOSE_BRACKET</span><span class="keyword">, </span><span class="default">$source</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">], </span><span class="default">$template</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">$pos_2 </span><span class="keyword">+ </span><span class="default">$cb_size</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">exception</span><span class="keyword">(</span><span class="string">"Incorrectly formed template - missing closing bracket. Please check your syntax."</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//exit the loop
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$template</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>}
<br>
<br></span><span class="comment">//array of values to inject into the template
<br></span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"NAME" </span><span class="keyword">=&gt; </span><span class="string">"John Doe"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"DOB"&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">"12/21/1986"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"ACL" </span><span class="keyword">=&gt; </span><span class="string">"Super Administrator"</span><span class="keyword">);
<br>
<br></span><span class="comment">//template using '{' and '}' to signify variables 
<br></span><span class="default">$template </span><span class="keyword">= </span><span class="string">"This is your template, {NAME}. You were born on {DOB} and you are a {ACL} on this system."</span><span class="keyword">;
<br>
<br>echo </span><span class="default">Template</span><span class="keyword">::</span><span class="default">inject</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$template</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.substr.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:03 GMT -->


</body></html>