<html><!-- Mirrored from php.net/manual/en/function.asort.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:54:58 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>asort</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.asort.html">
 <link rel="shorturl" href="http://php.net/asort">
 <link rel="alternate" href="http://php.net/asort" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.array.html">
 <link rel="prev" href="function.arsort.html">
 <link rel="next" href="function.compact.html">

 <link rel="alternate" href="function.asort.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.asort.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.asort.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.asort.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.asort.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.asort.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.asort.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.asort.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.asort.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.asort.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.asort.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.array.html">Arrays</a></li>      <li><a href="ref.array.html">Array Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.asort" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">asort</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">asort</span> — <span class="dc-title">Sort an array and maintain index association</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.asort-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>asort</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&amp;$array</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$sort_flags</code><span class="initializer"> = SORT_REGULAR</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   This function sorts an array such that array indices maintain
   their correlation with the array elements they are associated
   with.  This is used mainly when sorting associative arrays where
   the actual element order is significant.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.asort-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       The input array.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">sort_flags</code></dt>

     <dd>

      <p class="para">
       You may modify the behavior of the sort using the optional
       parameter <code class="parameter">sort_flags</code>, for details
       see <span class="function"><a href="function.sort.html" class="function">sort()</a></span>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.asort-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.asort-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5122">
    <p><strong>Example #1 <span class="function"><strong>asort()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$fruits&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"d"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"lemon"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">asort</span><span style="color: #007700">(</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">);<br>foreach&nbsp;(</span><span style="color: #0000BB">$fruits&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$key</span><span style="color: #DD0000">&nbsp;=&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>c = apple
b = banana
d = lemon
a = orange
</pre></div>
    </div>
    <div class="example-contents"><p>
     The fruits have been sorted in alphabetical order, and the index
     associated with each element has been maintained.
    </p></div>
   </div>
  <p></p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.asort-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.arsort.html" class="function" rel="rdfs-seeAlso">arsort()</a> - Sort an array in reverse order and maintain index association</span></li>
    <li class="member">The <a href="array.sorting.html" class="link">comparison of array sorting functions</a></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="71318">  
  <a class="name">
  <strong class="user"><em>richard at happymango dot me dot uk</em></strong></a><div class="date" title="2006-11-22 03:35"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71318">
<div class="phpcode"><code><span class="html">
This is a function to sort an indexed 2D array by a specified sub array key, either ascending or descending.<br><br>It is usefull for sorting query results from a database by a particular field after the query has been returned<br><br>This function can be quite greedy. It recreates the array as a hash to use ksort() then back again<br><br>By default it will sort ascending but if you specify $reverse as true it will return the records sorted descending <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">record_sort</span><span class="keyword">(</span><span class="default">$records</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$reverse</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$hash </span><span class="keyword">= array();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$records </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hash</span><span class="keyword">[</span><span class="default">$record</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">]] = </span><span class="default">$record</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; (</span><span class="default">$reverse</span><span class="keyword">)? </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">) : </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$records </span><span class="keyword">= array();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$hash </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$records </span><span class="keyword">[]= </span><span class="default">$record</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$records</span><span class="keyword">;<br>}<br><br></span><span class="comment">// Example below<br><br></span><span class="default">$airports </span><span class="keyword">= array<br>(<br>&nbsp; &nbsp; array( </span><span class="string">"code" </span><span class="keyword">=&gt; </span><span class="string">"LHR"</span><span class="keyword">, </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"Heathrow" </span><span class="keyword">),<br>&nbsp; &nbsp; array( </span><span class="string">"code" </span><span class="keyword">=&gt; </span><span class="string">"LGW"</span><span class="keyword">, </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"Gatwick" </span><span class="keyword">),<br>);<br><br></span><span class="default">printf</span><span class="keyword">(</span><span class="string">"Before: &lt;pre&gt;%s&lt;/pre&gt;"</span><span class="keyword">, </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br><br></span><span class="default">$airports </span><span class="keyword">= </span><span class="default">record_sort</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="string">"name"</span><span class="keyword">);<br><br></span><span class="default">printf</span><span class="keyword">(</span><span class="string">"After: &lt;pre&gt;%s&lt;/pre&gt;"</span><span class="keyword">, </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br><br></span><span class="default">?&gt;<br></span><br>Example Outputs:<br><br>Before: Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Array ( [code] =&gt; LHR, [name] =&gt; Heathrow )<br>&nbsp; &nbsp; [1] =&gt; Array ( [code] =&gt; LGW, [name] =&gt; Gatwick )<br>)<br><br>After: Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Array ( [code] =&gt; LGW, [name] =&gt; Gatwick )<br>&nbsp; &nbsp; [1] =&gt; Array ( [code] =&gt; LHR, [name] =&gt; Heathrow )<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105797">  
  <a class="name">
  <strong class="user"><em>nick ([AT]) nickyost ([DOT]) com</em></strong></a><div class="date" title="2011-09-15 03:32"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom105797">
<div class="phpcode"><code><span class="html">
This function can be used to sort multidimensional arrays with almost no work whatsoever by using the individual values within the custom sort function.<br><br>This function passes the entire child element even if it is not a string. If it is an array, as would be the case in multidimensional arrays, it will pass the whole child array as one parameter.<br><br>Therefore, do something elegant like this:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// Sort the multidimensional array<br>&nbsp; &nbsp;&nbsp; </span><span class="default">usort</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="string">"custom_sort"</span><span class="keyword">);<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// Define the custom sort function<br>&nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">custom_sort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'some_sub_var'</span><span class="keyword">]&gt;</span><span class="default">$b</span><span class="keyword">[</span><span class="string">'some_sub_var'</span><span class="keyword">];<br>&nbsp; &nbsp;&nbsp; }<br></span><span class="default">?&gt;<br></span><br>This does in 4 lines what other functions took 40 to 50 lines to do. This does not require you to create temporary arrays or anything. This is, for me, a highly preferred solution.<br><br>Hope it helps!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80802">  
  <a class="name">
  <strong class="user"><em>mike at clear-link dot com</em></strong></a><div class="date" title="2008-01-31 03:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80802">
<div class="phpcode"><code><span class="html">
Small typo in the aksort function I just submitted. Here's the entire thing again, with the correction noted:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">aksort</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$valrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">,</span><span class="default">$keyrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br>&nbsp; if (</span><span class="default">$valrev</span><span class="keyword">) { </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); } else { </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); }<br>&nbsp; </span><span class="default">$vals </span><span class="keyword">= </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; foreach (</span><span class="default">$vals </span><span class="keyword">AS </span><span class="default">$val</span><span class="keyword">=&gt;</span><span class="default">$num</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$first </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$num</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$keyrev</span><span class="keyword">) { </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); } else { </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">,</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$tmp</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">+</span><span class="default">$num</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Fixed from previous post: $i = $num;<br>&nbsp; &nbsp; </span><span class="keyword">}<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43513">  
  <a class="name">
  <strong class="user"><em>rojaro</em></strong></a><div class="date" title="2004-06-23 07:38"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43513">
<div class="phpcode"><code><span class="html">
Advanced sort array by second index function, which produces ascending (default) or descending output and uses optionally natural case insensitive sorting (which can be optionally case sensitive as well).<br>Only the first two arguments are required.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">sabsi </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">$order</span><span class="keyword">=</span><span class="string">'asc'</span><span class="keyword">, </span><span class="default">$natsort</span><span class="keyword">=</span><span class="default">FALSE</span><span class="keyword">, </span><span class="default">$case_sensitive</span><span class="keyword">=</span><span class="default">FALSE</span><span class="keyword">) {<br>&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">) </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">];<br>&nbsp; &nbsp; if(!</span><span class="default">$natsort</span><span class="keyword">) (</span><span class="default">$order</span><span class="keyword">==</span><span class="string">'asc'</span><span class="keyword">)? </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">) : </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br>&nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; (</span><span class="default">$case_sensitive</span><span class="keyword">)? </span><span class="default">natsort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">) : </span><span class="default">natcasesort</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; if(</span><span class="default">$order</span><span class="keyword">!=</span><span class="string">'asc'</span><span class="keyword">) </span><span class="default">$temp</span><span class="keyword">=</span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">) (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))? </span><span class="default">$sorted</span><span class="keyword">[]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] : </span><span class="default">$sorted</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br>&nbsp; &nbsp; return </span><span class="default">$sorted</span><span class="keyword">;<br>&nbsp; }<br>&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23920">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2002-07-31 06:48"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23920">
<div class="phpcode"><code><span class="html">
Sorry, my last post had a typo:
<br>// unnecessary backslashes break create_function, oops.
<br>&nbsp; if ( is_string($var) ) $var = "\'$var\'";
<br>//it should be:
<br>&nbsp; if ( is_string($var) ) $var = "'$var'";
<br>
<br>-- FIXED and TESTED -- :)
<br>
<br>Similar to above but for an array of arrays instead of an array of objects.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">aasort</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$cmp</span><span class="keyword">=</span><span class="string">'strcasecmp'</span><span class="keyword">){
<br>&nbsp; if ( </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) ) </span><span class="default">$var </span><span class="keyword">= </span><span class="string">"'</span><span class="default">$var</span><span class="string">'"</span><span class="keyword">;
<br>&nbsp; </span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$a,$b'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'return '</span><span class="keyword">.</span><span class="default">$cmp</span><span class="keyword">.</span><span class="string">'( $a['</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">.</span><span class="string">'],$b['</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">.</span><span class="string">']);'</span><span class="keyword">)
<br>&nbsp; );
<br>&nbsp; return </span><span class="default">$x</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31628">  
  <a class="name">
  <strong class="user"><em>spectre at hellfish dot NOSPAM dot org</em></strong></a><div class="date" title="2003-04-28 09:54"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom31628">
<div class="phpcode"><code><span class="html">
that works nicely, tho it breaks the result-array up if one or more of arrays indexes are deleted before sorting. this one should fix it up:<br><br>change:<br>for ($i = 0; $i &lt; sizeof($array); $i++) {<br><br>to:<br>foreach ($array as $i =&gt; $k) {</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69425">  
  <a class="name">
  <strong class="user"><em>php at web-in-time dot com</em></strong></a><div class="date" title="2006-09-05 02:47"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69425">
<div class="phpcode"><code><span class="html">
acecream's function works fine, especially with the spectre extension.<br><br>nevertheless sometimes the index values have to be kept. To achieve this, just replace:<br><br>$sorted_arr[] = $array[$arr_key];&nbsp; <br><br>with:<br><br>$sorted_arr[$arr_key] = $array[$arr_key];</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103858">  
  <a class="name">
  <strong class="user"><em>Anon</em></strong></a><div class="date" title="2011-05-06 05:37"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103858">
<div class="phpcode"><code><span class="html">
Case insensitive sort in one line:<br><br><span class="default">&lt;?php<br><br>array_multisort</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtolower'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">), </span><span class="default">$array</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19545">  
  <a class="name">
  <strong class="user"><em>rcwang at cmu dot edu</em></strong></a><div class="date" title="2002-03-02 05:42"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19545">
<div class="phpcode"><code><span class="html">
Here's my version of sorting multi-dimensional array by 2nd index.
<br>Feel free to change the code to suit your needs.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">aSortBySecondIndex</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">, </span><span class="default">$secondIndex</span><span class="keyword">) {
<br>&nbsp; &nbsp; while (list(</span><span class="default">$firstIndex</span><span class="keyword">, ) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$indexMap</span><span class="keyword">[</span><span class="default">$firstIndex</span><span class="keyword">] = </span><span class="default">$multiArray</span><span class="keyword">[</span><span class="default">$firstIndex</span><span class="keyword">][</span><span class="default">$secondIndex</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$indexMap</span><span class="keyword">);
<br>&nbsp; &nbsp; while (list(</span><span class="default">$firstIndex</span><span class="keyword">, ) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$indexMap</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$firstIndex</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sortedArray</span><span class="keyword">[] = </span><span class="default">$multiArray</span><span class="keyword">[</span><span class="default">$firstIndex</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$sortedArray</span><span class="keyword">[</span><span class="default">$firstIndex</span><span class="keyword">] = </span><span class="default">$multiArray</span><span class="keyword">[</span><span class="default">$firstIndex</span><span class="keyword">];
<br>&nbsp; &nbsp; return </span><span class="default">$sortedArray</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12757">  
  <a class="name">
  <strong class="user"><em>freeman at generalresources dot com</em></strong></a><div class="date" title="2001-05-04 04:51"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12757">
<div class="phpcode"><code><span class="html">
The asortbyindex($sortarray, $index) looks like sort not asort. The key of the $sortarray was changed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7787">  
  <a class="name">
  <strong class="user"><em>sweetland at whoadammit dot com</em></strong></a><div class="date" title="2000-08-15 12:02"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7787">
<div class="phpcode"><code><span class="html">
Here's a little routine I whipped up to sort multi-dimensional arrays:
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> ** comesafter ($s1, $s2)
<br> **
<br> ** Returns 1 if $s1 comes after $s2 alphabetically, 0 if not.
<br> **/
<br>
<br></span><span class="keyword">function </span><span class="default">comesafter </span><span class="keyword">(</span><span class="default">$s1</span><span class="keyword">, </span><span class="default">$s2</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/**
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ** We don't want to overstep the bounds of one of the strings and segfault,
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ** so let's see which one is shorter.
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; **/
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$order </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$s1</span><span class="keyword">) &gt; </span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$s2</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$s1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s1 </span><span class="keyword">= </span><span class="default">$s2</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s2 </span><span class="keyword">= </span><span class="default">$temp</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$order </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$index </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$index </span><span class="keyword">&lt; </span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$s1</span><span class="keyword">); </span><span class="default">$index</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/**
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ** $s1 comes after $s2
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; **/
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$s1</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] &gt; </span><span class="default">$s2</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]) return (</span><span class="default">$order</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/**
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ** $s1 comes before $s2
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; **/
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$s1</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] &lt; </span><span class="default">$s2</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]) return (</span><span class="default">1 </span><span class="keyword">- </span><span class="default">$order</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br> 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">/**
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ** Special case in which $s1 is a substring of $s2
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; **/
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return (</span><span class="default">$order</span><span class="keyword">);
<br>}
<br>
<br></span><span class="comment">/**
<br> ** asortbyindex ($sortarray, $index)
<br> **
<br> ** Sort a multi-dimensional array by a second-degree index. For instance, the 0th index
<br> ** of the Ith member of both the group and user arrays is a string identifier. In the
<br> ** case of a user array this is the username; with the group array it is the group name.
<br> ** asortby
<br> **/
<br>
<br></span><span class="keyword">function </span><span class="default">asortbyindex </span><span class="keyword">(</span><span class="default">$sortarray</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lastindex </span><span class="keyword">= </span><span class="default">count </span><span class="keyword">(</span><span class="default">$sortarray</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$subindex </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$subindex </span><span class="keyword">&lt; </span><span class="default">$lastindex</span><span class="keyword">; </span><span class="default">$subindex</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lastiteration </span><span class="keyword">= </span><span class="default">$lastindex </span><span class="keyword">- </span><span class="default">$subindex</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$iteration </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$iteration </span><span class="keyword">&lt; </span><span class="default">$lastiteration</span><span class="keyword">;&nbsp; &nbsp; </span><span class="default">$iteration</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nextchar </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">comesafter </span><span class="keyword">(</span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">], </span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">])) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration</span><span class="keyword">] = </span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sortarray</span><span class="keyword">[</span><span class="default">$iteration </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">$sortarray</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>It's a bit long with all the comments, but I hope it helps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80798">  
  <a class="name">
  <strong class="user"><em>mike at clear-link dot com</em></strong></a><div class="date" title="2008-01-31 03:23"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80798">
<div class="phpcode"><code><span class="html">
For a recent project I needed to sort an associative array by value first, and then by key if a particular value appeared multiple times. I wrote this function to accomplish the task. Note that the parameters default to sort ascending on both keys and values, but allow granular control over each.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">aksort</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$valrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">,</span><span class="default">$keyrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br>&nbsp; if (</span><span class="default">$valrev</span><span class="keyword">) { </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); } else { </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); }<br>&nbsp; &nbsp; </span><span class="default">$vals </span><span class="keyword">= </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; foreach (</span><span class="default">$vals </span><span class="keyword">AS </span><span class="default">$val</span><span class="keyword">=&gt;</span><span class="default">$num</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$first </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$num</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$keyrev</span><span class="keyword">) { </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); } else { </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">,</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$tmp</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="comment">// Example<br></span><span class="default">$tmp </span><span class="keyword">= array(</span><span class="string">'ca'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">'cb'</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">'ce'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">'pa'</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">'pe'</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">);<br><br></span><span class="comment">// Standard asort<br></span><span class="default">asort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value ASC, key ASC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value DESC, key ASC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value DESC, key DESC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Results<br></span><span class="keyword">Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br></span><span class="keyword">)<br>Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br></span><span class="keyword">)<br>Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br></span><span class="keyword">)<br>Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br></span><span class="keyword">)</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71344">  
  <a class="name">
  <strong class="user"><em>richard at happymango dot me dot uk</em></strong></a><div class="date" title="2006-11-23 03:52"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71344">
<div class="phpcode"><code><span class="html">
This is a fixed version of the same function I posted below. Now it will handle duplicate entries in the sorted field. EG: If there were two records that had the name Heathrow it would still work. <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">record_sort</span><span class="keyword">(</span><span class="default">$records</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$reverse</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$hash </span><span class="keyword">= array();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$records </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$record</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hash</span><span class="keyword">[</span><span class="default">$record</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">].</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$record</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; (</span><span class="default">$reverse</span><span class="keyword">)? </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">) : </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$records </span><span class="keyword">= array();<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$hash </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$records </span><span class="keyword">[]= </span><span class="default">$record</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$records</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="20433">  
  <a class="name">
  <strong class="user"><em>salchicha at cable dot net dot co</em></strong></a><div class="date" title="2002-04-03 01:23"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom20433">
<div class="phpcode"><code><span class="html">
Here's one I whipped up to allow you to sort an array of a specific class by a member or function:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Sort a class by one of its members (even lowercase!!!)
<br></span><span class="keyword">function </span><span class="default">casort</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$tarr </span><span class="keyword">= array();
<br>&nbsp;&nbsp; </span><span class="default">$rarr </span><span class="keyword">= array();
<br>&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$element </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$tarr</span><span class="keyword">[] = </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">-&gt;{</span><span class="default">$var</span><span class="keyword">});
<br>&nbsp;&nbsp; }
<br>
<br>&nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$tarr</span><span class="keyword">);
<br>&nbsp;&nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$tarr</span><span class="keyword">);
<br>&nbsp;&nbsp; </span><span class="default">$karr </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$tarr</span><span class="keyword">);
<br>&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$tarr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$rarr</span><span class="keyword">[] = </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$karr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])];
<br>&nbsp;&nbsp; }
<br>
<br>&nbsp;&nbsp; return </span><span class="default">$rarr</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>It works very well. For example, I have a Room class with members title, isActive(), date, etc. I can sort an array by casort($rooms, "title") or casort($rooms, "isActive()") and it'll work.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111537">  
  <a class="name">
  <strong class="user"><em>stephen [ at ] brooksie-net [ dot ] co [ dot ] uk</em></strong></a><div class="date" title="2013-03-01 04:37"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111537">
<div class="phpcode"><code><span class="html">
It is obviously necessary to log the keys used as so we don't overwrite previous entries in the array ;o)
<br>
<br>N.B. this also effects the timings, but still faster than the alternatives : 
<br>
<br>&nbsp; &nbsp;&nbsp; * int : 0.00159&nbsp; &nbsp; (ms)
<br>&nbsp; &nbsp;&nbsp; * str : 0.00092&nbsp; &nbsp; (ms)
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">private function </span><span class="default">_keySort</span><span class="keyword">(Array </span><span class="default">$data</span><span class="keyword">) 
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$keys </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$keyIncrement </span><span class="keyword">= 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (!isset(</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_orderField</span><span class="keyword">]])) 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ? </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_orderField</span><span class="keyword">]] = </span><span class="default">0
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">: ++</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_orderField</span><span class="keyword">]];
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tempArray</span><span class="keyword">[</span><span class="default">$row</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_orderField</span><span class="keyword">].</span><span class="default">$keyIncrement</span><span class="keyword">] = </span><span class="default">$row</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_orderDirection </span><span class="keyword">== </span><span class="string">'DESC'</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$tempArray</span><span class="keyword">, </span><span class="default">SORT_NATURAL </span><span class="keyword">| </span><span class="default">SORT_FLAG_CASE </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$tempArray</span><span class="keyword">, </span><span class="default">SORT_NATURAL </span><span class="keyword">| </span><span class="default">SORT_FLAG_CASE</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$tempArray</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72582">  
  <a class="name">
  <strong class="user"><em>smileaf at smileaf dot org</em></strong></a><div class="date" title="2007-01-24 06:34"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72582">
<div class="phpcode"><code><span class="html">
Ok I was mistaken, after re-reading the previous post the ".$key" is important. What caused the sorting issue for me wasn't that at all. But rather something else.<br>doing an: asort($records, $flags); before returning fixes the sorting problems.<br>The sorting problem I was refearing to causes a character based sorting done on numeric data.<br>so instead of:<br>1<br>2<br>3<br>...<br>10<br>12<br>20<br>It was returned back as<br>1<br>10<br>12<br>2<br>20<br>3<br>...<br>basically what I was trying to fix in the first place.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="3984">  
  <a class="name">
  <strong class="user"><em>jacko at kring dot co dot uk</em></strong></a><div class="date" title="2000-02-24 11:26"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom3984">
<div class="phpcode"><code><span class="html">
asort has one anoying feature, it ignores any default or implicit order in the data.&nbsp; i.e. if two elements of an array contain "banana" then it is not garanteed that the first will still be the first after the sort.
<br>This makes the Burrows-Wheeler block sort a bit of a pain to impliment, with a trailing string having to be appended to all strings before sorting, and removed after sorting. To maintain the so called "banana" order.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80450">  
  <a class="name">
  <strong class="user"><em>mzvarik at gmail dot com</em></strong></a><div class="date" title="2008-01-16 09:29"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80450">
<div class="phpcode"><code><span class="html">
I noticed that my function mentioned earlier is very misleading - somebody please delete that note!<br><br>This is how you sort:<br><span class="default">&lt;?php<br>setlocale </span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">'czech'</span><span class="keyword">);<br></span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"č"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">);<br></span><span class="default">usort </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'strcoll'</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78925">  
  <a class="name">
  <strong class="user"><em>przemekkus [at] interia [dot] pl</em></strong></a><div class="date" title="2007-11-02 06:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78925">
<div class="phpcode"><code><span class="html">
Function written by a dot brandon at chello dot nl has an error&nbsp; - wrong variable name. It should be:<br><br>if($rev) arsort($named_hash,$flags=0) ;<br><br>instead of<br><br>if($reverse) arsort($named_hash,$flags=0) ;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75991">  
  <a class="name">
  <strong class="user"><em>a dot brandon at chello dot nl</em></strong></a><div class="date" title="2007-06-25 07:18"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75991">
<div class="phpcode"><code><span class="html">
I use this for quasi-SQL orderby. Loosely based on smileaf. Any good for you nerds?<br><br>&lt;?<br><br>function named_records_sort($named_recs, $order_by, $rev=false, $flags=0)<br>{// Create 1-dimensional named array with just <br> // sortfield (in stead of record) values<br>&nbsp; &nbsp; $named_hash = array(); <br>&nbsp; &nbsp;&nbsp; foreach($named_recs as $key=&gt;$fields) <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $named_hash["$key"] = $fields[$order_by];<br> <br> // Order 1-dimensional array, <br> // maintaining key-value relations&nbsp;&nbsp; <br>&nbsp; &nbsp; if($reverse) arsort($named_hash,$flags=0) ;<br>&nbsp; &nbsp; else asort($named_hash, $flags=0);<br>&nbsp; <br> // Create copy of named records array <br> // in order of sortarray&nbsp; <br>&nbsp; &nbsp; $sorted_records = array(); <br>&nbsp; &nbsp; foreach($named_hash as $key=&gt;$val) <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $sorted_records["$key"]= $named_recs[$key];<br>&nbsp; <br>return $sorted_records;} // named_recs_sort()<br><br>function show_sorted_records($named_recs, $order_by, $rev=false, $flags=0)<br>{$sorted_records=named_records_sort($named_recs, $order_by, $rev, $flags);<br>foreach($sorted_records as $name=&gt;$fields) <br>&nbsp; {echo "&lt;b&gt;$name&lt;/b&gt;&nbsp;&nbsp; "; <br>&nbsp;&nbsp; foreach($fields as $field=&gt;$val) <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "$field = $val "; echo "&lt;br&gt;";}<br>} // show_sorted_records()<br><br>$girl_friends=array();<br>$girl_friends["Anna"]=<br>array("born"=&gt;'1989-08-22',"cupsize"=&gt;'B-',"IQ"=&gt;105, "daddy"=&gt;'rich');<br>$girl_friends["Zoe"]<br>=array("born"=&gt;'1978-03-11',"cupsize"=&gt;'C#',"IQ"=&gt;130, "daddy"=&gt;'poor');<br>$girl_friends["Lilly"]<br>=array("born"=&gt;'1985-06-16',"cupsize"=&gt;'DD',"IQ"=&gt;90, "daddy"=&gt;'nasty');<br><br>$order_by="cupsize"; echo "And the winners are: &lt;br&gt;";<br>show_sorted_records($girl_friends, $order_by, true);<br><br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75749">  
  <a class="name">
  <strong class="user"><em>gunnar at taljaren dot se</em></strong></a><div class="date" title="2007-06-14 01:00"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75749">
<div class="phpcode"><code><span class="html">
for ($i=0;$i&lt;5;$i++)<br>&nbsp;&nbsp; $values[] = $i;<br>asort($values);&nbsp; <br><br>works, but<br>for ($i=0;$i&lt;5;$i++)<br>&nbsp;&nbsp; $values[$i] =$i;<br>asort($values);<br>doesn't!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27372">  
  <a class="name">
  <strong class="user"><em>mbevan at marginsoftware dot com</em></strong></a><div class="date" title="2002-12-03 01:25"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27372">
<div class="phpcode"><code><span class="html">
Nevermind... use my last note as a quick tip: if you wish to keep the keys, use asort() and arsort() in place of sort() and rsort().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="23919">  
  <a class="name">
  <strong class="user"><em>phzzzt .a.t. acm .d.o.t. org</em></strong></a><div class="date" title="2002-07-31 06:32"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom23919">
<div class="phpcode"><code><span class="html">
Similar to above but for an array of arrays instead of an array of objects.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">aasort</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$cmp</span><span class="keyword">=</span><span class="string">'strcasecmp'</span><span class="keyword">){
<br>&nbsp; if ( </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) ) </span><span class="default">$var </span><span class="keyword">= </span><span class="string">"\'</span><span class="default">$var</span><span class="string">\'"</span><span class="keyword">;
<br>&nbsp; </span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$a,$b'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'return '</span><span class="keyword">.</span><span class="default">$cmp</span><span class="keyword">.</span><span class="string">'( $a['</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">.</span><span class="string">'],$b['</span><span class="keyword">.</span><span class="default">$var</span><span class="keyword">.</span><span class="string">']);'</span><span class="keyword">)
<br>&nbsp; );
<br>&nbsp; return </span><span class="default">$x</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7386">  
  <a class="name">
  <strong class="user"><em>bwuhlman at tallships dot ca</em></strong></a><div class="date" title="2000-08-02 03:01"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7386">
<div class="phpcode"><code><span class="html">
Well, actually, asort has *two* annoying features.
<br>
<br>It works perfectly well sorting hashes (or associative arrays, as you might have it), but doggedly refuses to sort regular arrays maintaining index assocation. Kind've makes sense, but the docs don't explicitly say you can't do it.
<br>
<br>Urgggh.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81155">  
  <a class="name">
  <strong class="user"><em>bakatamas at freemail dot hu</em></strong></a><div class="date" title="2008-02-15 02:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81155">
<div class="phpcode"><code><span class="html">
Dear mike at clear-link dot com!<br><br>I needed a case insensitive version of your function. It is still not perfect as I have to do something with country specific characters (öüóőúéáűíÖÜÓŐÚÉÁŰÍ)<br><br>function akisort(&amp;$array,$valrev=false,$keyrev=false)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; if ($valrev)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; arsort($array);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; asort($array);<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; $vals = array_count_values($array);<br>&nbsp; &nbsp; $i = 0;<br>&nbsp; &nbsp; foreach ($vals AS $val=&gt;$num)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $first = array_splice($array,0,$i);<br>&nbsp; &nbsp; &nbsp; &nbsp; $tmp = array_splice($array,0,$num);<br>&nbsp; &nbsp; &nbsp; &nbsp; $tmp2 = array();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($tmp as $key =&gt; $value)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tmp2[] = $key;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $number = $value;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; natcasesort($tmp2);<br>&nbsp; &nbsp; &nbsp; &nbsp; reset($tmp2);<br>&nbsp; &nbsp; &nbsp; &nbsp; print_r($tmp2);<br>&nbsp; &nbsp; &nbsp; &nbsp; unset($tmp);<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach($tmp2 as $key =&gt; $value)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tmp[$value] = $number;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; if($keyrev)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $tmp = array_reverse($tmp, true);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; $array = array_merge($first,$tmp,$array);<br>&nbsp; &nbsp; &nbsp; &nbsp; unset($tmp);<br>&nbsp; &nbsp; &nbsp; &nbsp; $i = $i+$num;<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>};</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90425">  
  <a class="name">
  <strong class="user"><em>Eran</em></strong></a><div class="date" title="2009-04-21 05:15"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90425">
<div class="phpcode"><code><span class="html">
i made this sample multi dimensional array sort to someone who needed to read lines from a text file instead of using sql - order by statement.<br><br>the idea is to take the key and sort(order) the specific column and then order the entire of the array as the selected column asort returned.<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br> * <br> * This sample is reading text data<br> * and perform a sort to a 2 dimensional array<br> * just like a normal sql do to "order by asc" <br> * <br> */<br><br></span><span class="default">$foo </span><span class="keyword">= array();<br><br></span><span class="comment">/*<br># SORT_REGULAR - compare items normally (don't change types)<br># SORT_NUMERIC - compare items numerically<br># SORT_STRING - compare items as strings<br>*/<br></span><span class="default">$sort_by </span><span class="keyword">= </span><span class="default">SORT_REGULAR</span><span class="keyword">;<br><br></span><span class="comment">/*<br># 0 - order by name column<br># 1 - order by age column<br># 2 - order by rank column<br># 3 - order by color column<br>*/<br></span><span class="default">$order_by </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br><br></span><span class="comment">// source file<br></span><span class="default">$line_of_text</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">'a1name|f2age|h3rank|jcolor'</span><span class="keyword">;<br></span><span class="default">$line_of_text</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">'b1name|d2age|i3rank|k4color'</span><span class="keyword">;<br></span><span class="default">$line_of_text</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">'c1name|e2age|g3rank|l4color'</span><span class="keyword">;<br><br></span><span class="comment">// make array<br></span><span class="keyword">for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">&lt;=</span><span class="default">2</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++)<br>{<br>&nbsp; &nbsp; </span><span class="default">$line </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">,</span><span class="default">$line_of_text</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]);<br><br>&nbsp; &nbsp; </span><span class="comment">// save it by coulmns otherwise it will saved like rows<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$foo</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$x</span><span class="keyword">] = </span><span class="default">$line</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="comment">// get the key order<br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">$foo</span><span class="keyword">[</span><span class="default">$order_by</span><span class="keyword">];<br><br></span><span class="comment">// sort<br></span><span class="default">asort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$sort_by</span><span class="keyword">);<br><br></span><span class="comment">// start print<br></span><span class="keyword">echo </span><span class="string">"&lt;table cellpudding=0 cellspacing=0 border=1&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;tr&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;key&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;name&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;age&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;rank&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;color&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;/tr&gt;\n"</span><span class="keyword">;<br><br></span><span class="comment">// print by key order<br></span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;tr&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;</span><span class="default">$k</span><span class="string">&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="comment">// you can print here a for loop (0 to num of columns[=3])<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;td&gt;"</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">].</span><span class="string">"&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;"</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">].</span><span class="string">"&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;"</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">].</span><span class="string">"&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;td&gt;"</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="default">$k</span><span class="keyword">].</span><span class="string">"&lt;/td&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;/tr&gt;\n"</span><span class="keyword">;<br>}<br>echo </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103703">  
  <a class="name">
  <strong class="user"><em>rick at toewsweb dot net</em></strong></a><div class="date" title="2011-04-28 04:40"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103703">
<div class="phpcode"><code><span class="html">
On sorting by value first, then by key (cf., 2008-01-31 notes by mike at clear-link dot com):<br><br>What occurred to me to solve this problem was to extract the keys and values into separate arrays, then use array_multisort to get the desired order:<br><br>Ex:<br><span class="default">&lt;?php<br>$kvpairs </span><span class="keyword">= array(</span><span class="string">'noun' </span><span class="keyword">=&gt; </span><span class="string">'thought'</span><span class="keyword">, </span><span class="string">'animal' </span><span class="keyword">=&gt; </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'abstract' </span><span class="keyword">=&gt; </span><span class="string">'thought'</span><span class="keyword">, </span><span class="string">'food' </span><span class="keyword">=&gt; </span><span class="string">'fish'</span><span class="keyword">, </span><span class="string">'verb' </span><span class="keyword">=&gt; </span><span class="string">'fish'</span><span class="keyword">);<br>print </span><span class="string">"before:\n"</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$kvpairs</span><span class="keyword">);<br><br></span><span class="comment">// Essentially, one line of code is all that's needed for the sort:<br></span><span class="default">array_multisort</span><span class="keyword">(</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$kvpairs</span><span class="keyword">), </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$kvpairs</span><span class="keyword">), </span><span class="default">$kvpairs</span><span class="keyword">);<br><br>print </span><span class="string">"after:\n"</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$kvpairs</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>before:<br>Array<br>(<br>&nbsp; &nbsp; [noun] =&gt; thought<br>&nbsp; &nbsp; [animal] =&gt; fish<br>&nbsp; &nbsp; [abstract] =&gt; thought<br>&nbsp; &nbsp; [food] =&gt; fish<br>&nbsp; &nbsp; [verb] =&gt; fish<br>)<br>after:<br>Array<br>(<br>&nbsp; &nbsp; [animal] =&gt; fish<br>&nbsp; &nbsp; [food] =&gt; fish<br>&nbsp; &nbsp; [verb] =&gt; fish<br>&nbsp; &nbsp; [abstract] =&gt; thought<br>&nbsp; &nbsp; [noun] =&gt; thought<br>)<br><br>Of course, array_multisort allows you to specify sort order (SORT_ASC, SORT_DESC) and sort type (SORT_REGULAR, SORT_STRING, SORT_NUMERIC) for each array you pass it.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.asort.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:54:59 GMT -->


</body></html>