<html><!-- Mirrored from php.net/manual/en/book.apc.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:30:06 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>APC</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="book.apc.html">
 <link rel="shorturl" href="http://php.net/apc">
 <link rel="alternate" href="http://php.net/apc" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="refs.basic.php.html">
 <link rel="prev" href="refs.basic.php.html">
 <link rel="next" href="intro.apc.html">

 <link rel="alternate" href="book.apc.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/book.apc.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/book.apc.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/book.apc.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/book.apc.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/book.apc.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/book.apc.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/book.apc.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/book.apc.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/book.apc.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/book.apc.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="book.apc" class="book">
 <h1 class="title">Alternative PHP Cache</h1>
 

 

 







 






 







 







<ul class="chunklist chunklist_book"><li><a href="intro.apc.html">Introduction</a></li><li><a href="apc.setup.html">Installing/Configuring</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="apc.requirements.html">Requirements</a></li><li><a href="apc.installation.html">Installation</a></li><li><a href="apc.configuration.html">Runtime Configuration</a></li><li><a href="apc.resources.html">Resource Types</a></li></ul></li><li><a href="apc.constants.html">Predefined Constants</a></li><li><a href="ref.apc.html">APC Functions</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="function.apc-add.html">apc_add</a> â€” Cache a new variable in the data store</li><li><a href="function.apc-bin-dump.html">apc_bin_dump</a> â€” Get a binary dump of the given files and user variables</li><li><a href="function.apc-bin-dumpfile.html">apc_bin_dumpfile</a> â€” Output a binary dump of cached files and user variables to a file</li><li><a href="function.apc-bin-load.html">apc_bin_load</a> â€” Load a binary dump into the APC file/user cache</li><li><a href="function.apc-bin-loadfile.html">apc_bin_loadfile</a> â€” Load a binary dump from a file into the APC file/user cache</li><li><a href="function.apc-cache-info.html">apc_cache_info</a> â€” Retrieves cached information from APC's data store</li><li><a href="function.apc-cas.html">apc_cas</a> â€” Updates an old value with a new value</li><li><a href="function.apc-clear-cache.html">apc_clear_cache</a> â€” Clears the APC cache</li><li><a href="function.apc-compile-file.html">apc_compile_file</a> â€” Stores a file in the bytecode cache, bypassing all filters.</li><li><a href="function.apc-dec.html">apc_dec</a> â€” Decrease a stored number</li><li><a href="function.apc-define-constants.html">apc_define_constants</a> â€” Defines a set of constants for retrieval and mass-definition</li><li><a href="function.apc-delete-file.html">apc_delete_file</a> â€” Deletes files from the opcode cache</li><li><a href="function.apc-delete.html">apc_delete</a> â€” Removes a stored variable from the cache</li><li><a href="function.apc-exists.html">apc_exists</a> â€” Checks if APC key exists</li><li><a href="function.apc-fetch.html">apc_fetch</a> â€” Fetch a stored variable from the cache</li><li><a href="function.apc-inc.html">apc_inc</a> â€” Increase a stored number</li><li><a href="function.apc-load-constants.html">apc_load_constants</a> â€” Loads a set of constants from the cache</li><li><a href="function.apc-sma-info.html">apc_sma_info</a> â€” Retrieves APC's Shared Memory Allocation information</li><li><a href="function.apc-store.html">apc_store</a> â€” Cache a variable in the data store</li></ul></li><li><a href="class.apciterator.html">APCIterator</a> â€” The APCIterator class<ul class="chunklist chunklist_book chunklist_children"><li><a href="apciterator.construct.html">APCIterator::__construct</a> â€” Constructs an APCIterator iterator object</li><li><a href="apciterator.current.html">APCIterator::current</a> â€” Get current item</li><li><a href="apciterator.gettotalcount.html">APCIterator::getTotalCount</a> â€” Get total count</li><li><a href="apciterator.gettotalhits.html">APCIterator::getTotalHits</a> â€” Get total cache hits</li><li><a href="apciterator.gettotalsize.html">APCIterator::getTotalSize</a> â€” Get total cache size</li><li><a href="apciterator.key.html">APCIterator::key</a> â€” Get iterator key</li><li><a href="apciterator.next.html">APCIterator::next</a> â€” Move pointer to next item</li><li><a href="apciterator.rewind.html">APCIterator::rewind</a> â€” Rewinds iterator</li><li><a href="apciterator.valid.html">APCIterator::valid</a> â€” Checks if current position is valid</li></ul></li></ul></div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="105926">  
  <a class="name">
  <strong class="user"><em>umut dot kirgoz at gmail dot com</em></strong></a><div class="date" title="2011-09-26 12:32"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom105926">
<div class="phpcode"><code><span class="html">
Since APC 3.1.3, there is a bug (<a rel="nofollow" target="_blank">http://pecl.php.net/bugs/bug.php?id=16814</a>) which produces warnings like "Potential Cache Slam Averted for Key" when slam defense is on and you're trying to write a key that already exists. <br><br>These is not a fix right now for this, but you can change the APC settings from php.ini file like below if possible:<br><br>apc.write_lock = 1<br>apc.slam_defense = 0</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107387">  
  <a class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><div class="date" title="2012-02-06 04:39"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107387">
<div class="phpcode"><code><span class="html">
Was using Memcache and Memcached extensions, painfully bouncing between faults, failures and shortcomings of each.&nbsp; My two cents: Neither of these old drivers has been a smash hit, repressing and slowly dooming of the true potential and full use of unix memcached.<br><br>The pain finally drove to me to try APC's apc_store and apc_fetch.&nbsp; The results?&nbsp; Instant success, no more errors, an order of magnitude (at least) speed boost, plus one less thing (memcached) to run.&nbsp; Nice.&nbsp; Never going back again.&nbsp; Thank y'all.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91541">  
  <a class="name">
  <strong class="user"><em>hello at haroonahmad dot co dot uk</em></strong></a><div class="date" title="2009-06-16 03:57"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91541">
<div class="phpcode"><code><span class="html">
Disclaimer: i do not guarantee it will work for you so you better use it at your own risk. It works for me.<br><br>* I am using # symbol for all shell commands<br><br>I am posting a quick step-by-step guide to install APC on servers (dedicated or VPS) with cpanel/whm working.<br><br>First login as a root to your server/vps and make a directory to work with this plugin,<br><br>#mkdir /home/APC-php<br><br>#cd /home/APC-php<br><br>now here we will first download the APC with following command<br><br>#wget <a rel="nofollow" target="_blank">http://pecl.php.net/get/APC-3.0.14.tgz</a> <br><br>you can check for the latest version<br><br>now you can use gzip and tar separately or tar -xzvf to unzip this file<br><br>#tar -xzvf APC-3.0.14.tgz<br><br>now you will have a APC-3.0.14 folder. <br><br>#cd APC-3.0.14<br><br>now you have to make php configuration files by following command<br><br>#phpize<br><br>after this use following three commands<br><br># ./configure --enable-apc --enable-apc-mmap --with-apxs --with-php-config=/usr/bin/php-config<br><br>*if you do not know the php path then execute ( which php ) command it will display the path. on a typical cpanel vps it could be /usr/bin/php-config or /usr/local/bin/php-config but you better check it before executing the above command)<br><br>#make<br><br>#make test<br><br>#make install<br><br>NOTE: if you are using suPHP then skip --with-apxs <br><br>*one more thing, if you use <br><br>#make test<br><br>command it shows 3 tests failed then do not worry, it showed at least to me but worked with the final steps. <br><br>the (make install) command will return the apc.so module path, note down that with you as you will have to feed it in the php.ini file in the next step.<br><br>check your php.ini location by<br><br>#php -i | grep php.ini<br><br>then open it with your favorite editor. mine was at<br><br>#vi /usr/local/lib/php.ini<br><br>and go to the last line and paste the following<br><br>extension="apc.so"<br><br>now there is a catch in it, if you have other modules installed and their extension directory is different than the one MAKE INSTALL showed for APC so you have to move your apc.so to that directory so that all modules are in the same directory. in my case my APC directory was<br><br>/usr/lib/php/extensions/no-debug-non-zts-20060613/<br><br>but i moved apc.so from this location to my other location where my other extensions.so files were. <br><br>you can check that path in php.ini sectiion of<br><br>extension_dir = ""<br><br>after this restart your apache, for different servers it may vary mine worked with <br><br>#service httpd restart<br><br>if everything works fine it will restart apache without showing any error. in case of any error, roll back your php.ini changes and restart apache and discuss your problem in some forum or email me at hello@haroonahmad.co.uk<br><br>now check the phpinfo() output in your browser and it will display APC version information etc. for command line you might do<br><br>php -i | grep apc <br><br>I hope it helps.<br><br>Haroon Ahmad</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/book.apc.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:30:09 GMT -->


</body></html>