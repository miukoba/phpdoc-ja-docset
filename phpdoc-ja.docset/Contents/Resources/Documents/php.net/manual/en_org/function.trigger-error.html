<html><!-- Mirrored from php.net/manual/en/function.trigger-error.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:07:17 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>trigger_error</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.trigger-error.html">
 <link rel="shorturl" href="http://php.net/trigger-error">
 <link rel="alternate" href="http://php.net/trigger-error" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.errorfunc.html">
 <link rel="prev" href="function.set-exception-handler.html">
 <link rel="next" href="function.user-error.html">

 <link rel="alternate" href="function.trigger-error.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.trigger-error.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.trigger-error.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.trigger-error.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.trigger-error.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.trigger-error.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.trigger-error.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.trigger-error.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.trigger-error.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.trigger-error.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.trigger-error.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>      <li><a href="book.errorfunc.html">Error Handling</a></li>      <li><a href="ref.errorfunc.html">Error Handling Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.trigger-error" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">trigger_error</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5)</p><p class="refpurpose"><span class="refname">trigger_error</span> â€” <span class="dc-title">Generates a user-level error/warning/notice message</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.trigger-error-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>trigger_error</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$error_msg</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$error_type</code><span class="initializer"> = E_USER_NOTICE</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Used to trigger a user error condition, it can be used in conjunction
   with the built-in error handler, or with a user defined function that has
   been set as the new error handler
   (<span class="function"><a href="function.set-error-handler.html" class="function">set_error_handler()</a></span>). 
  </p>
  <p class="para">
   This function is useful when you need to generate a particular response to
   an exception at runtime.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.trigger-error-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">error_msg</code></dt>

     <dd>

      <p class="para">
       The designated error message for this error. It's limited to 1024 
       bytes in length. Any additional characters beyond 1024 bytes will be 
       truncated.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">error_type</code></dt>

     <dd>

      <p class="para">
       The designated error type for this error. It only works with the E_USER
       family of constants, and will default to <strong><code>E_USER_NOTICE</code></strong>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.trigger-error-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   This function returns <strong><code>FALSE</code></strong> if wrong <code class="parameter">error_type</code> is
   specified, <strong><code>TRUE</code></strong> otherwise.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.trigger-error-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-477">
    <p><strong>Example #1 <span class="function"><strong>trigger_error()</strong></span> example</strong></p>
    <div class="example-contents"><p>
     See <span class="function"><a href="function.set-error-handler.html" class="function">set_error_handler()</a></span> for a more extensive example.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$divisor&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">"Cannot&nbsp;divide&nbsp;by&nbsp;zero"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.trigger-error-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">
     HTML entities in <code class="parameter">error_msg</code> are not
     escaped. Use <span class="function"><a href="function.htmlentities.html" class="function">htmlentities()</a></span> on the message if
     the error is to be displayed in a browser.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.trigger-error-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.error-reporting.html" class="function" rel="rdfs-seeAlso">error_reporting()</a> - Sets which PHP errors are reported</span></li>
    <li class="member"><span class="function"><a href="function.set-error-handler.html" class="function" rel="rdfs-seeAlso">set_error_handler()</a> - Sets a user-defined error handler function</span></li>
    <li class="member"><span class="function"><a href="function.restore-error-handler.html" class="function" rel="rdfs-seeAlso">restore_error_handler()</a> - Restores the previous error handler function</span></li>
    <li class="member">The <a href="errorfunc.constants.html" class="link">error level constants</a></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="94081">  
  <a class="name">
  <strong class="user"><em>tudor AT iccblue DOT com DOT nospam</em></strong></a><div class="date" title="2009-10-15 08:07"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94081">
<div class="phpcode"><code><span class="html">
It actually turns out - at least on PHP 5.2.6 on XAMPP (Windows) that for the custom error handler, you will need to set $errorType as the first parameter, and only the second parameter as $message, i.e. in reverse order compared to how the manual states it now.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39196">  
  <a class="name">
  <strong class="user"><em>dzn'tM@ter</em></strong></a><div class="date" title="2004-01-20 09:05"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom39196">
<div class="phpcode"><code><span class="html">
Some might think that trigger_error is like a throw() or an err.raise construction, and @ works like catch(){} one - in fact it's NOT.<br><br>function badgirl(){<br>&nbsp; &nbsp; trigger_error("shame on me",E_USER_ERROR);<br>&nbsp; &nbsp; return true;<br>}<br><br>$sheis = @badgirl();<br>echo "You will never see this line - @ only supress message, not a control flow";</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92016">  
  <a class="name">
  <strong class="user"><em>Howard Yeend</em></strong></a><div class="date" title="2009-07-05 04:39"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92016">
<div class="phpcode"><code><span class="html">
trigger_error always reports the line and file that trigger_error was called on. Which isn't very useful.<br><br>eg:<br><br>main.php:<br><span class="default">&lt;?php<br></span><span class="keyword">include(</span><span class="string">'functions.php'</span><span class="keyword">);<br></span><span class="default">$x </span><span class="keyword">= </span><span class="string">'test'</span><span class="keyword">;<br></span><span class="default">doFunction</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>functions.php:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">doFunction</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br>if(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)) {<br> </span><span class="comment">/* do some stuff*/<br></span><span class="keyword">} else {<br> </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'var must be numeric'</span><span class="keyword">);<br>}<br>}<br></span><span class="default">?&gt;<br></span><br>will output "Notice: var must be numeric in functions.php on line 6"<br>whereas "Notice: var must be numeric in main.php on line 4" would be more useful<br><br>here's a function to do that:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">=</span><span class="default">E_USER_NOTICE</span><span class="keyword">) {<br></span><span class="default">$caller </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">debug_backtrace</span><span class="keyword">());<br></span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">.</span><span class="string">' in &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'function'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt; called from &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'file'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt; on line &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'line'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt;'</span><span class="keyword">.</span><span class="string">"\n&lt;br /&gt;error handler"</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>So now in our example:<br><br>main.php:<br><span class="default">&lt;?php<br></span><span class="keyword">include(</span><span class="string">'functions.php'</span><span class="keyword">);<br></span><span class="default">$x </span><span class="keyword">= </span><span class="string">'test'</span><span class="keyword">;<br></span><span class="default">doFunction</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>functions.php:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">doFunction</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br>&nbsp; &nbsp; if(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/* do some stuff*/<br>&nbsp; &nbsp; </span><span class="keyword">} else {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">error</span><span class="keyword">(</span><span class="string">'var must be numeric'</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">=</span><span class="default">E_USER_NOTICE</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$caller </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">debug_backtrace</span><span class="keyword">());<br>&nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">.</span><span class="string">' in &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'function'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt; called from &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'file'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt; on line &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$caller</span><span class="keyword">[</span><span class="string">'line'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt;'</span><span class="keyword">.</span><span class="string">"\n&lt;br /&gt;error handler"</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>now outputs:<br><br>"Notice: var must be numeric in doFunction called from main.php on line 4"<br><br><a rel="nofollow" target="_blank">http://www.puremango.co.uk</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="52255">  
  <a class="name">
  <strong class="user"><em>mano at easymail dot hu</em></strong></a><div class="date" title="2005-04-26 05:13"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52255">
<div class="phpcode"><code><span class="html">
I am not so familiar with this but I think you can reach some of the functionality of try..catch with this function. I would disagree or correct the previous note. The @ is not the catch, it sets the error_reporting to 0 tempolary but with set_error_handler you can try to imitate some behavior like catch.<br>I've just made this to try if it possible, I never tried in projects but I think could work in php 4. Actually if you want to have the Trace of the error you need to use php4.3+.<br>Maybe not many of you will create new scripts in php4 and try to have some features from php5 but in some cases (extending older projects) this could be better error handling.<br><br>If this is a wrong approach, waiting for comments, if its not, use it!<br><br>&lt;?<br>function catch($errno, $errstr, $errfile, $errline){<br>&nbsp; &nbsp; $GLOBALS['throw'] = $errstr;<br>&nbsp; &nbsp; $GLOBALS['throw_info'] = array(<br>&nbsp; &nbsp; &nbsp; &nbsp; 'Message'=&gt;$errstr<br>&nbsp; &nbsp; &nbsp; &nbsp; ,'Code'=&gt;$errno<br>&nbsp; &nbsp; &nbsp; &nbsp; ,'Line'=&gt;$errline<br>&nbsp; &nbsp; &nbsp; &nbsp; ,'File'=&gt;$errfile<br>&nbsp; &nbsp; &nbsp; &nbsp; ,'Trace'=&gt;debug_backtrace()<br>&nbsp; &nbsp; );<br>&nbsp; &nbsp; <br>}<br>set_error_handler('catch');<br><br>function badgirl(){<br>&nbsp; &nbsp; if(true){ //error occure<br>&nbsp; &nbsp; &nbsp; &nbsp; trigger_error("BadGirlWithError",E_USER_NOTICE); // as throw with notice<br>&nbsp; &nbsp; &nbsp; &nbsp; return; // ...because trigger_error does not stop the function<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp;&nbsp; return true;<br>&nbsp; &nbsp; }<br>}<br><br>// Try <br>$GLOBALS['throw'] = null; // ...try...<br>$sheis = badgirl(); //could be @badgirl, display_errors is something else, this just the handling<br>// ..try<br>if($GLOBALS['throw']){&nbsp; // This actually catch re-throws too...<br>&nbsp; &nbsp; switch($GLOBALS['throw']){ // Catch<br>&nbsp; &nbsp; &nbsp; &nbsp; case 'GoodGirlException':<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die('No bad girl today!');<br>&nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; case 'BadGirlWithError':<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die('Bad girl has some error');<br>&nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; default:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return; // or you can make another trigger_error and re-throw another 'exception' or some other action<br>&nbsp; &nbsp; }<br>}<br>echo "You will never see this line - @ only supress message, not a control flow";<br>echo "Wrong! You could see this:)";<br><br>?&gt;<br><br>.mano</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98910">  
  <a class="name">
  <strong class="user"><em>PhpMyCoder</em></strong></a><div class="date" title="2010-07-15 03:18"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98910">
<div class="phpcode"><code><span class="html">
For those of you looking to use your own file or line number in the error (possibly using debug_backtrace()) instead of the ones created by trigger_error(), here is a solution:<br>Create a custom function to handle E_USER_ERRORs that simply outputs the error type and message, while excluding the line number and file trigger_error() reports. You may also configure it to handle user warnings and notices if necessary (I did in the example below).<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">error_handler</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">, </span><span class="default">$message</span><span class="keyword">, </span><span class="default">$file</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">, </span><span class="default">$context</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">//Handle user errors, warnings, and notices ourself<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$level </span><span class="keyword">=== </span><span class="default">E_USER_ERROR </span><span class="keyword">|| </span><span class="default">$level </span><span class="keyword">=== </span><span class="default">E_USER_WARNING </span><span class="keyword">|| </span><span class="default">$level </span><span class="keyword">=== </span><span class="default">E_USER_NOTICE</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">'&lt;strong&gt;Error:&lt;/strong&gt; '</span><span class="keyword">.</span><span class="default">$message</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">true</span><span class="keyword">); </span><span class="comment">//And prevent the PHP error handler from continuing<br>&nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; return(</span><span class="default">false</span><span class="keyword">); </span><span class="comment">//Otherwise, use PHP's error handler<br></span><span class="keyword">}<br><br>function </span><span class="default">trigger_my_error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">//Get the caller of the calling function and details about it<br>&nbsp; &nbsp; </span><span class="default">$callee </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">debug_backtrace</span><span class="keyword">());<br>&nbsp; &nbsp; </span><span class="comment">//Trigger appropriate error<br>&nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">.</span><span class="string">' in &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$callee</span><span class="keyword">[</span><span class="string">'file'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt; on line &lt;strong&gt;'</span><span class="keyword">.</span><span class="default">$callee</span><span class="keyword">[</span><span class="string">'line'</span><span class="keyword">].</span><span class="string">'&lt;/strong&gt;'</span><span class="keyword">, </span><span class="default">$level</span><span class="keyword">);<br>}<br><br></span><span class="comment">//Use our custom handler<br></span><span class="default">set_error_handler</span><span class="keyword">(</span><span class="string">'error_handler'</span><span class="keyword">);<br><br></span><span class="comment">//-------------------------------<br>//Demo usage:<br>//-------------------------------<br></span><span class="keyword">function </span><span class="default">abc</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) {<br>&nbsp; &nbsp; if(!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_my_error</span><span class="keyword">(</span><span class="string">'abc() expects parameter 1 to be a string'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">abc</span><span class="keyword">(</span><span class="string">'Hello world!'</span><span class="keyword">); </span><span class="comment">//Works<br></span><span class="default">abc</span><span class="keyword">(</span><span class="default">18</span><span class="keyword">); </span><span class="comment">//Error: abc() expects parameter 1 to be a string in [FILE].php on line 31<br></span><span class="default">?&gt;<br></span><br>This is a pretty simple concept and I'm sure most of you know this, but for those that don't, let it serve as a good example!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36043">  
  <a class="name">
  <strong class="user"><em>robert at klugher dot com</em></strong></a><div class="date" title="2003-09-23 05:12"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36043">
<div class="phpcode"><code><span class="html">
This one took me some time ...<br><br>When you use trigger_error with your own error handler, the class instances are destroyed (don't know how to say it better, I am not an expert).<br><br>So, if you try to call a class function from within the error handler function, you will get 'Call to a member function on a non-object' error, even if this function works perfectly in the rest of your script.<br><br>Solution : re-use the xxx = new yyy to re-create the instance in the beginning of your error handler ... and then you can call the class functions you want !</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80206">  
  <a class="name">
  <strong class="user"><em>webmaster at paramiliar dot com</em></strong></a><div class="date" title="2008-01-03 11:11"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80206">
<div class="phpcode"><code><span class="html">
We wanted to be able to pass an SQL query to the error handler on our site so we could monitor SQL problems, you cant do this through normal methods so we came up with this bridge script that 100% works<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">myErrorHandler</span><span class="keyword">(</span><span class="default">$errno</span><span class="keyword">, </span><span class="default">$errstr</span><span class="keyword">, </span><span class="default">$errfile</span><span class="keyword">, </span><span class="default">$errline</span><span class="keyword">){<br>&nbsp; &nbsp; switch (</span><span class="default">$errno</span><span class="keyword">) {<br>&nbsp; &nbsp; case </span><span class="default">E_USER_ERROR</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$errstr </span><span class="keyword">== </span><span class="string">"(SQL)"</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// handling an sql error<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"&lt;b&gt;SQL Error&lt;/b&gt; [</span><span class="default">$errno</span><span class="string">] " </span><span class="keyword">. </span><span class="default">SQLMESSAGE </span><span class="keyword">. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"Query : " </span><span class="keyword">. </span><span class="default">SQLQUERY </span><span class="keyword">. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"On line " </span><span class="keyword">. </span><span class="default">SQLERRORLINE </span><span class="keyword">. </span><span class="string">" in file " </span><span class="keyword">. </span><span class="default">SQLERRORFILE </span><span class="keyword">. </span><span class="string">" "</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">", PHP " </span><span class="keyword">. </span><span class="default">PHP_VERSION </span><span class="keyword">. </span><span class="string">" (" </span><span class="keyword">. </span><span class="default">PHP_OS </span><span class="keyword">. </span><span class="string">")&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"Aborting...&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&lt;b&gt;My ERROR&lt;/b&gt; [</span><span class="default">$errno</span><span class="string">] </span><span class="default">$errstr</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&nbsp; Fatal error on line </span><span class="default">$errline</span><span class="string"> in file </span><span class="default">$errfile</span><span class="string">"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">", PHP " </span><span class="keyword">. </span><span class="default">PHP_VERSION </span><span class="keyword">. </span><span class="string">" (" </span><span class="keyword">. </span><span class="default">PHP_OS </span><span class="keyword">. </span><span class="string">")&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"Aborting...&lt;br /&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; exit(</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; break;<br><br>&nbsp; &nbsp; case </span><span class="default">E_USER_WARNING</span><span class="keyword">:<br>&nbsp; &nbsp; case </span><span class="default">E_USER_NOTICE</span><span class="keyword">:<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="comment">/* Don't execute PHP internal error handler */<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br>}<br><br></span><span class="comment">// function to test the error handling<br><br></span><span class="keyword">function </span><span class="default">sqlerrorhandler</span><span class="keyword">(</span><span class="default">$ERROR</span><span class="keyword">, </span><span class="default">$QUERY</span><span class="keyword">, </span><span class="default">$PHPFILE</span><span class="keyword">, </span><span class="default">$LINE</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">"SQLQUERY"</span><span class="keyword">, </span><span class="default">$QUERY</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">"SQLMESSAGE"</span><span class="keyword">, </span><span class="default">$ERROR</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">"SQLERRORLINE"</span><span class="keyword">, </span><span class="default">$LINE</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">"SQLERRORFILE"</span><span class="keyword">, </span><span class="default">$PHPFILE</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"(SQL)"</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>}<br><br></span><span class="default">set_error_handler</span><span class="keyword">(</span><span class="string">"myErrorHandler"</span><span class="keyword">);<br><br></span><span class="comment">// trigger an sql error<br></span><span class="default">$query </span><span class="keyword">= </span><span class="string">"SELECT * FROM tbl LIMIT 1"</span><span class="keyword">;<br></span><span class="default">$sql </span><span class="keyword">= @</span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">)<br>&nbsp; &nbsp; or </span><span class="default">sqlerrorhandler</span><span class="keyword">(</span><span class="string">"("</span><span class="keyword">.</span><span class="default">mysql_errno</span><span class="keyword">().</span><span class="string">") "</span><span class="keyword">.</span><span class="default">mysql_error</span><span class="keyword">(), </span><span class="default">$query</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">], </span><span class="default">__LINE__</span><span class="keyword">);<br>&nbsp; &nbsp; <br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63910">  
  <a class="name">
  <strong class="user"><em>richard at 2006 dot atterer dot net</em></strong></a><div class="date" title="2006-04-03 09:28"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63910">
<div class="phpcode"><code><span class="html">
Beware, trigger_error() is absolutely useless for transporting your own function's error messages in $php_errormsg:<br><br>ini_set('track_errors', TRUE);<br>function x() { trigger_error('MY ERROR'); }<br>@x();<br>echo "Error 1: \\"$php_errormsg\\"\\n";<br>@file_get_contents('/nonexisting');<br>echo "Error 2: \\"$php_errormsg\\"\\n";<br><br>This outputs:<br><br>Error 1: ""<br>Error 2: "failed to open stream: No such file or directory"<br><br>This behaviour is consistent with the description of $php_errormsg, which says that the variable will only be available within the scope in which the error occurred. The problem can be worked around with a custom error handler like the one below. However, I'm undecided whether changing the language in this way is good:<br><br>function errHandler($errno, $errstr, $errfile, $errline) {<br>&nbsp; global $php_errormsg; $php_errormsg = $errstr;<br>}<br>set_error_handler('errHandler');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32316">  
  <a class="name">
  <strong class="user"><em>someone at attbi dot com</em></strong></a><div class="date" title="2003-05-23 09:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32316">
<div class="phpcode"><code><span class="html">
sl0th, the idea is never to give out file names, line numbers, and cryptic codes to the user. Use trigger_error() after you used set_error_handler() to register your own callback function which either logs or emails the error codes to you, and echo a simple friendly message to the user.<br><br>And turn on a more verbose error handler function when you need to debug your scripts. In my init.php scripts I always have:<br><br>if (_DEBUG_) {<br>&nbsp; &nbsp; set_error_handler ('debug_error_handler');<br>}<br>else {<br>&nbsp; &nbsp; set_error_handler ('nice_error_handler');<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115254">  
  <a class="name">
  <strong class="user"><em>aydin dot kn12 at gmail dot com</em></strong></a><div class="date" title="2014-06-20 07:48"><strong>2 months ago</strong></div>
  <div class="text" id="Hcom115254">
<div class="phpcode"><code><span class="html">
If error_type is E_USER_ERROR then trigger_error throw FATAL ERROR and script stopped after this line.<br><br><span class="default">&lt;?php<br><br>$msg </span><span class="keyword">= </span><span class="string">'This is the test message for echo'</span><span class="keyword">;<br><br></span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Error message'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">); </span><span class="comment">// Script stopped after this line...<br><br></span><span class="keyword">echo </span><span class="default">$msg</span><span class="keyword">; </span><span class="comment">// This line does not appear...<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32228">  
  <a class="name">
  <strong class="user"><em>sl0th at r00thell dot ath dot cx</em></strong></a><div class="date" title="2003-05-20 07:25"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32228">
<div class="phpcode"><code><span class="html">
Well this is a good way on debuging your php scripts, but i wouldn't feel<br>too comfortable by giving out my web servers structure.<br>Notice that what helps you finding and isolating errors in your php helps also a potential attacker.<br>Or maybe i am just paranoid, but its worth mention it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="26378">  
  <a class="name">
  <strong class="user"><em>ceo at l-i-e dot com</em></strong></a><div class="date" title="2002-10-28 05:20"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26378">
<div class="phpcode"><code><span class="html">
You should be using set_error_handler (possibly in conjuction with error_log and/or trigger_error) if you want FILE and LINE number information.<br>You don't need macros for this.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34526">  
  <a class="name">
  <strong class="user"><em>mail at dooley dot cjb dot net</em></strong></a><div class="date" title="2003-07-29 07:16"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34526">
<div class="phpcode"><code><span class="html">
i recently began using a custom error handling class. the biggest problem is that, with call time pass by reference deprecated, you can't manipulate the error handler class after assigning at as the error handler (and it appears not to be returned by the set_error_handler method as the old error handler). my goal was to be able to store up all my non-fatal errors and print them at the end of script execution. that way i can use 'trigger_error' (which i actually have wrapped in a static method ErrorHandler::throwException for portability purposes... which is a pain because it always has the same line number information!!) for all kinds of errors, including user input erros. so when i check a user's password, for instance i would trigger a warning that said 'incorrect password'. of course i would only want this to print out the error once the script had completed. <br><br>so in my error handler class i have the following in the constructor:<br><br>function ErrorHandler()<br>{<br>&nbsp; &nbsp; $this-&gt;error_messages&nbsp; = array();<br>&nbsp; &nbsp; error_reporting (E_ALL);<br>&nbsp; &nbsp; set_error_handler(array($this,"assignError"));<br>}<br><br>and my assignError method:<br>//accept the required arguments<br>function assignError($errno, $errstr, $errfile, $errline)<br>{<br>&nbsp; &nbsp; //get the error string<br>&nbsp; &nbsp; $error_message = $errstr;<br>//if in debug mode, add line number and file info<br> if(ErrorHandler::DEBUG())<br> $error_message .= "&lt;br&gt;".basename($errfile).",line: ".$errline;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch ($errno)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //if the error was fatal, then add the error<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //display an error page and exit<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ErrorHandler::FATAL():<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;setType('Fatal');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;addError($error_message);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display::errorPage($this-&gt;errorMessages());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit(1);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //if it was an error message, add a message of<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //type error<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ErrorHandler::ERROR():<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;setType('Error');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;addError($error_message);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //if it was a warning, add a message of type<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //warning<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ErrorHandler::WARNING():<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;setType('Warning');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;addError($error_message);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //if it was some other code then display all<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //the error messages that were added<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display::errorRows($this-&gt;errorMessages());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //return a value so that the script will continue<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //execution<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 1;<br>}<br><br>the key part there is the 'default' behaviour. i found that if i call trigger_error with anything other than E_USER_ERROR, E_USER_WARNING or E_USER_NOTICE, then error code '2' is passed to the handler method. so when it is time to print all my non-fatal errors, like 'password and confirm password don't match' or something, i call ErrorHandler::printAllErrors()<br><br>&nbsp; &nbsp; &nbsp; &nbsp; function printAllErrors()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; trigger_error("",2);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>which leads to the default behaviour in my switch statement in the assignError method above. the only problem with this is that the weird bug 'Problem with method call' that occurs with some static method calls (that one person on the bug lists said was fixed and another said wouldn't be fixed until version 5) also produces error code 2!! i have just taken to suppressing these errors with @, because despite the alledged problem with the method call, the script still seems to execute fine.<br><br>iain.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.trigger-error.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:07:18 GMT -->


</body></html>