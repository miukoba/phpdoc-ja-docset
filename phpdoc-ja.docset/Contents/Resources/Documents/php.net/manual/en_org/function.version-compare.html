<html><!-- Mirrored from php.net/manual/en/function.version-compare.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:09:05 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>version_compare</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.version-compare.html">
 <link rel="shorturl" href="http://php.net/version-compare">
 <link rel="alternate" href="http://php.net/version-compare" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.info.html">
 <link rel="prev" href="function.sys-get-temp-dir.html">
 <link rel="next" href="function.zend-logo-guid.html">

 <link rel="alternate" href="function.version-compare.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.version-compare.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.version-compare.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.version-compare.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.version-compare.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.version-compare.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.version-compare.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.version-compare.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.version-compare.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.version-compare.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.version-compare.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>      <li><a href="book.info.html">PHP Options/Info</a></li>      <li><a href="ref.info.html">PHP Options/Info Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.version-compare" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">version_compare</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5)</p><p class="refpurpose"><span class="refname">version_compare</span> â€” <span class="dc-title">Compares two "PHP-standardized" version number strings</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.version-compare-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>version_compare</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$version1</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$version2</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$operator</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>version_compare()</strong></span> compares two "PHP-standardized"
   version number strings.
  </p>
  <p class="para">
   The function first replaces <em>_</em>, <em>-</em> and
   <em>+</em> with a dot <em>.</em> in the version
   strings and also inserts dots <em>.</em> before and after any
   non number so that for example '4.3.2RC1' becomes '4.3.2.RC.1'. Then it
   compares the parts starting from left to right. If a part contains
   special version strings these are handled in the following order:
   <em>any string not found in this list</em> &lt; 
   <em>dev</em> &lt; <em>alpha</em> =
   <em>a</em> &lt; <em>beta</em> =
   <em>b</em> &lt; <em>RC</em> =  
   <em>rc</em> &lt; <em>#</em> &lt;
   <em>pl</em> = <em>p</em>. This way not only versions
   with different levels like '4.1' and '4.1.2' can be compared but also any
   PHP specific version containing development state.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.version-compare-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">version1</code></dt>

     <dd>

      <p class="para">
       First version number.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">version2</code></dt>

     <dd>

      <p class="para">
       Second version number.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">operator</code></dt>

     <dd>

      <p class="para">
       If the third optional <code class="parameter">operator</code> argument is
       specified, test for a particular relationship. The possible operators
       are: <em>&lt;</em>, <em>lt</em>,
       <em>&lt;=</em>, <em>le</em>, <em>&gt;</em>,
       <em>gt</em>, <em>&gt;=</em>, <em>ge</em>,
       <em>==</em>, <em>=</em>, <em>eq</em>,
       <em>!=</em>, <em>&lt;&gt;</em>, <em>ne</em>
       respectively. 
      </p>
      <p class="para">
       This parameter is case-sensitive, values should be lowercase.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.version-compare-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   By default, <span class="function"><strong>version_compare()</strong></span> returns
   <em>-1</em> if the first version is lower than the second, 
   <em>0</em> if they are equal, and
   <em>1</em> if the second is lower. 
  </p>
  <p class="para">
   When using the optional <code class="parameter">operator</code> argument, the
   function will return <strong><code>TRUE</code></strong> if the relationship is the one specified
   by the operator, <strong><code>FALSE</code></strong> otherwise.   
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.version-compare-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   The examples below use the <strong><code>PHP_VERSION</code></strong> constant,
   because it contains the value of the PHP version that is executing
   the code.
  </p>
  <p class="para">
   </p><div class="example" id="example-542">
    <p><strong>Example #1 <span class="function"><strong>version_compare()</strong></span> examples</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'6.0.0'</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'I&nbsp;am&nbsp;at&nbsp;least&nbsp;PHP&nbsp;version&nbsp;6.0.0,&nbsp;my&nbsp;version:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_VERSION&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br>if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'5.3.0'</span><span style="color: #007700">)&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'I&nbsp;am&nbsp;at&nbsp;least&nbsp;PHP&nbsp;version&nbsp;5.3.0,&nbsp;my&nbsp;version:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_VERSION&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br>if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'5.0.0'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&gt;='</span><span style="color: #007700">))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'I&nbsp;am&nbsp;using&nbsp;PHP&nbsp;5,&nbsp;my&nbsp;version:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_VERSION&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br><br>if&nbsp;(</span><span style="color: #0000BB">version_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_VERSION</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'5.0.0'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;'</span><span style="color: #007700">))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'I&nbsp;am&nbsp;using&nbsp;PHP&nbsp;4,&nbsp;my&nbsp;version:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_VERSION&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.version-compare-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The <strong><code>PHP_VERSION</code></strong> constant holds current PHP version.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Note that pre-release versions, such as 5.3.0-dev, are considered
    lower than their final release counterparts (like 5.3.0).
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    Special version strings such as <em>alpha</em> and
    <em>beta</em> are case sensitive. Version strings from arbitrary
    sources that do not adhere to the PHP standard may need to be lowercased
    via <span class="function"><a href="function.strtolower.html" class="function">strtolower()</a></span> before calling
    <span class="function"><strong>version_compare()</strong></span>.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.version-compare-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.phpversion.html" class="function" rel="rdfs-seeAlso">phpversion()</a> - Gets the current PHP version</span></li>
    <li class="member"><span class="function"><a href="function.php-uname.html" class="function" rel="rdfs-seeAlso">php_uname()</a> - Returns information about the operating system PHP is running on</span></li>
    <li class="member"><span class="function"><a href="function.function-exists.html" class="function" rel="rdfs-seeAlso">function_exists()</a> - Return TRUE if the given function has been defined</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="43452">  
  <a class="name">
  <strong class="user"><em>eric at themepark dot com</em></strong></a><div class="date" title="2004-06-21 09:50"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43452">
<div class="phpcode"><code><span class="html">
[editors note]
<br>snipbit fixed after comment from Matt Mullenweg
<br>
<br>--jm
<br>[/editors note]
<br>
<br>so in a nutshell... I believe it works best like this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (</span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">phpversion</span><span class="keyword">(), </span><span class="string">"4.3.0"</span><span class="keyword">, </span><span class="string">"&gt;="</span><span class="keyword">)) {
<br>&nbsp; </span><span class="comment">// you're on 4.3.0 or later
<br></span><span class="keyword">} else {
<br>&nbsp; </span><span class="comment">// you're not
<br></span><span class="keyword">}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75656">  
  <a class="name">
  <strong class="user"><em>opendb at iamvegan dot net</em></strong></a><div class="date" title="2007-06-10 05:01"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75656">
<div class="phpcode"><code><span class="html">
Something that may trip some folks up, but is useful to mention is that the following version comparison does not work quite as I expected:<br>&nbsp; &nbsp; version_compare('1.0.1', '1.0pl1', '&gt;') <br><br>However, its quite easy to get working:<br>&nbsp; &nbsp; version_compare('1.0.1', '1.0.0pl1', '&gt;')</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46094">  
  <a class="name">
  <strong class="user"><em>arnoud at procurios dot nl</em></strong></a><div class="date" title="2004-09-29 02:28"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46094">
<div class="phpcode"><code><span class="html">
If you're careful, this function actualy works quite nicely for comparing version numbers from programs other than PHP itself. I've used it to compare MySQL version numbers. The only issue is that version_compare doesn't recognize the 'gamma' addition that mysql uses as being later than 'alpha' or 'beta', because the latter two are treated specially. If you keep this in mind though, you should have no problems.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93802">  
  <a class="name">
  <strong class="user"><em>loaded67 at hotmail dot com</em></strong></a><div class="date" title="2009-09-30 04:53"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93802">
<div class="phpcode"><code><span class="html">
This function is also usefull when working with multiple installations.<br><br>As php5.3+ will not have E_STRICT in the error_reporting anymore you can state:<br><br><span class="default">&lt;?php<br>ini_set</span><span class="keyword">(</span><span class="string">'error_reporting'</span><span class="keyword">, (</span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">, </span><span class="string">'5.3.0'</span><span class="keyword">, </span><span class="string">'&lt;'</span><span class="keyword">) ? </span><span class="default">E_ALL</span><span class="keyword">|</span><span class="default">E_STRICT </span><span class="keyword">: </span><span class="default">E_ALL</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>Giving you all the error error reporting you want...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106715">  
  <a class="name">
  <strong class="user"><em>rogier</em></strong></a><div class="date" title="2011-11-30 08:43"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106715">
<div class="phpcode"><code><span class="html">
Please note that supplying an operator that is not listed (e.g. ===), this function returns NULL instead of false.<br><br>Tested on PHP5.3.0, Win32</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42608">  
  <a class="name">
  <strong class="user"><em>sam at wyvern dot non-spammers-remove dot com dot au</em></strong></a><div class="date" title="2004-05-23 11:18"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42608">
<div class="phpcode"><code><span class="html">
Actually, it works to any degree:<br><br><span class="default">&lt;?php<br>version_compare</span><span class="keyword">(</span><span class="string">'1.2.3.4RC7.7'</span><span class="keyword">, </span><span class="string">'1.2.3.4RC7.8'</span><span class="keyword">)<br></span><span class="default">version_compare</span><span class="keyword">(</span><span class="string">'8.2.50.4'</span><span class="keyword">, </span><span class="string">'8.2.52.6'</span><span class="keyword">)<br></span><span class="default">?&gt;<br></span><br>will both give -1 (ie the left is lower than the right).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89416">  
  <a class="name">
  <strong class="user"><em>insid0r at yahoo dot com</em></strong></a><div class="date" title="2009-03-06 01:05"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89416">
<div class="phpcode"><code><span class="html">
Since this function considers 1 &lt; 1.0 &lt; 1.0.0, others might find this function useful (which considers 1 == 1.0):
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//Compare two sets of versions, where major/minor/etc. releases are separated by dots.
<br>//Returns 0 if both are equal, 1 if A &gt; B, and -1 if B &lt; A.
<br></span><span class="keyword">function </span><span class="default">version_compare2</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">".0"</span><span class="keyword">)); </span><span class="comment">//Split version into pieces and remove trailing .0
<br>&nbsp; &nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="string">".0"</span><span class="keyword">)); </span><span class="comment">//Split version into pieces and remove trailing .0
<br>&nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$depth </span><span class="keyword">=&gt; </span><span class="default">$aVal</span><span class="keyword">)
<br>&nbsp; &nbsp; { </span><span class="comment">//Iterate over each piece of A
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (isset(</span><span class="default">$b</span><span class="keyword">[</span><span class="default">$depth</span><span class="keyword">]))
<br>&nbsp; &nbsp; &nbsp; &nbsp; { </span><span class="comment">//If B matches A to this depth, compare the values
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$aVal </span><span class="keyword">&gt; </span><span class="default">$b</span><span class="keyword">[</span><span class="default">$depth</span><span class="keyword">]) return </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//Return A &gt; B
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">else if (</span><span class="default">$aVal </span><span class="keyword">&lt; </span><span class="default">$b</span><span class="keyword">[</span><span class="default">$depth</span><span class="keyword">]) return -</span><span class="default">1</span><span class="keyword">; </span><span class="comment">//Return B &gt; A
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //An equal result is inconclusive at this point
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; { </span><span class="comment">//If B does not match A to this depth, then A comes after B in sort order
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//so return A &gt; B
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="comment">//At this point, we know that to the depth that A and B extend to, they are equivalent.
<br>&nbsp; &nbsp; //Either the loop ended because A is shorter than B, or both are equal.
<br>&nbsp; &nbsp; </span><span class="keyword">return (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) &lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">)) ? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78838">  
  <a class="name">
  <strong class="user"><em>Jonathon dot Reinhart at gmail dot com</em></strong></a><div class="date" title="2007-10-30 07:38"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78838">
<div class="phpcode"><code><span class="html">
I know this is somewhat incomplete, but it did a fair enough job for what I needed.&nbsp; I was writing some code that needed done immediately on a server that was to be upgraded some time in the future.&nbsp; Here is a quick replacement for version_compare (without the use of the operator argument). Feel free to add to this / complete it.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">version_compare2</span><span class="keyword">(</span><span class="default">$version1</span><span class="keyword">, </span><span class="default">$version2</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$v1 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$version1</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$v2 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$version2</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] &gt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; else if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] &lt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; else&nbsp; &nbsp; </span><span class="comment">// Major ver are =<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] &gt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; else if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] &lt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; else&nbsp; </span><span class="comment">// Minor ver are =<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] &gt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (</span><span class="default">$v1</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] &lt; </span><span class="default">$v2</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43710">  
  <a class="name">
  <strong class="user"><em>mina86 at tlen dot pl</em></strong></a><div class="date" title="2004-06-30 07:40"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43710">
<div class="phpcode"><code><span class="html">
Here's a wrapper which is more tolerant as far as order of arguments is considered:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">ver_cmp</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2 </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$arg3 </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br>&nbsp; static </span><span class="default">$phpversion </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&nbsp; if (</span><span class="default">$phpversion</span><span class="keyword">===</span><span class="default">null</span><span class="keyword">) </span><span class="default">$phpversion </span><span class="keyword">= </span><span class="default">phpversion</span><span class="keyword">();<br><br>&nbsp; switch (</span><span class="default">func_num_args</span><span class="keyword">()) {<br>&nbsp; case </span><span class="default">1</span><span class="keyword">: return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$phpversion</span><span class="keyword">, </span><span class="default">$arg1</span><span class="keyword">);<br>&nbsp; case </span><span class="default">2</span><span class="keyword">:<br>&nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^[lg][te]|[&lt;&gt;]=?|[!=]?=|eq|ne|&lt;&gt;$/i'</span><span class="keyword">, </span><span class="default">$arg1</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$phpversion</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">, </span><span class="default">$arg1</span><span class="keyword">);<br>&nbsp; &nbsp; elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^[lg][te]|[&lt;&gt;]=?|[!=]?=|eq|ne|&lt;&gt;$/i'</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$phpversion</span><span class="keyword">, </span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">);<br>&nbsp; default:<br>&nbsp; &nbsp; </span><span class="default">$ver1 </span><span class="keyword">= </span><span class="default">$arg1</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^[lg][te]|[&lt;&gt;]=?|[!=]?=|eq|ne|&lt;&gt;$/i'</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg3</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">, </span><span class="default">$arg3</span><span class="keyword">);<br>&nbsp; }<br>}<br></span><span class="default">?&gt;<br></span><br>It also uses phpversion() as a default version if only one string is present. It can make your code look nicer 'cuz you can now write:<br><span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">ver_cmp</span><span class="keyword">(</span><span class="default">$version1</span><span class="keyword">, </span><span class="string">'&gt;='</span><span class="keyword">, </span><span class="default">$version2</span><span class="keyword">)) </span><span class="default">something</span><span class="keyword">; </span><span class="default">?&gt;<br></span>and to check a version string against the PHP's version you might use:<br><span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">ver_cmp</span><span class="keyword">(</span><span class="string">'&gt;='</span><span class="keyword">, </span><span class="default">$version</span><span class="keyword">)) </span><span class="default">something</span><span class="keyword">; </span><span class="default">?&gt;<br></span>instead of using phpversion().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109489">  
  <a class="name">
  <strong class="user"><em>mindplay.dk</em></strong></a><div class="date" title="2012-07-21 03:10"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109489">
<div class="phpcode"><code><span class="html">
This little script can perhaps help you understand version comparison a little better - the output is displayed in the comment at the top. Tweak the list of versions if you need more examples...<br><br><span class="default">&lt;?php<br><br></span><span class="comment">#&nbsp; &nbsp; &nbsp; 1 lt 1.0<br>#&nbsp; &nbsp; 1.0 lt 1.01<br>#&nbsp;&nbsp; 1.01 eq 1.1<br>#&nbsp; &nbsp; 1.1 lt 1.10<br>#&nbsp;&nbsp; 1.10 gt 1.10b<br>#&nbsp; 1.10b lt 1.10.0<br><br></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: text/plain'</span><span class="keyword">);<br><br></span><span class="default">$versions </span><span class="keyword">= array(<br>&nbsp; </span><span class="string">'1'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.0'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.01'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.1'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.10'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.10b'</span><span class="keyword">,<br>&nbsp; </span><span class="string">'1.10.0'</span><span class="keyword">,<br>);<br><br></span><span class="default">$comps </span><span class="keyword">= array(<br> -</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'lt'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'eq'</span><span class="keyword">,<br>&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'gt'<br></span><span class="keyword">);<br><br>foreach (</span><span class="default">$versions </span><span class="keyword">as </span><span class="default">$version</span><span class="keyword">) {<br>&nbsp; if (isset(</span><span class="default">$last</span><span class="keyword">)) {<br>&nbsp; &nbsp; </span><span class="default">$comp </span><span class="keyword">= </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">$last</span><span class="keyword">, </span><span class="default">$version</span><span class="keyword">);<br>&nbsp; &nbsp; echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$last</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">,</span><span class="default">STR_PAD_LEFT</span><span class="keyword">) . </span><span class="string">" </span><span class="keyword">{</span><span class="default">$comps</span><span class="keyword">[</span><span class="default">$comp</span><span class="keyword">]}</span><span class="string"> </span><span class="keyword">{</span><span class="default">$version</span><span class="keyword">}</span><span class="string">\n"</span><span class="keyword">;<br>&nbsp; }<br>&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">$version</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.version-compare.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:09:06 GMT -->


</body></html>