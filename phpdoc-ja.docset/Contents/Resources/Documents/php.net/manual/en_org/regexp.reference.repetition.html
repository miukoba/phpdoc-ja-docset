<html><!-- Mirrored from php.net/manual/en/regexp.reference.repetition.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:25 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Repetition</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="regexp.reference.repetition.html">
 <link rel="shorturl" href="regexp.reference.repetition.html">
 <link rel="alternate" href="regexp.reference.repetition.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="reference.pcre.pattern.syntax.html">
 <link rel="prev" href="regexp.reference.subpatterns.html">
 <link rel="next" href="regexp.reference.back-references.html">

 <link rel="alternate" href="regexp.reference.repetition.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/regexp.reference.repetition.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/regexp.reference.repetition.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/regexp.reference.repetition.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/regexp.reference.repetition.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/regexp.reference.repetition.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/regexp.reference.repetition.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/regexp.reference.repetition.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/regexp.reference.repetition.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/regexp.reference.repetition.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/regexp.reference.repetition.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.pcre.html">PCRE</a></li>      <li><a href="pcre.pattern.html">PCRE Patterns</a></li>      <li><a href="reference.pcre.pattern.syntax.html">PCRE regex syntax</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="regexp.reference.repetition" class="section">
  <h2 class="title">Repetition</h2>
  <p class="para">
   Repetition is specified by quantifiers, which can follow any
   of the following items:
   
   </p><ul class="itemizedlist">
    <li class="listitem"><span class="simpara">a single character, possibly escaped</span></li>
    <li class="listitem"><span class="simpara">the . metacharacter</span></li>
    <li class="listitem"><span class="simpara">a character class</span></li>
    <li class="listitem"><span class="simpara">a back reference (see next section)</span></li>
    <li class="listitem"><span class="simpara">a parenthesized subpattern (unless it is  an  assertion  -
     see below)</span></li>
   </ul>
  <p></p>
  <p class="para">
   The general repetition quantifier specifies  a  minimum  and
   maximum  number  of  permitted  matches,  by  giving the two
   numbers in curly brackets (braces), separated  by  a  comma.
   The  numbers  must be less than 65536, and the first must be
   less than or equal to the second. For example:
   
   <em>z{2,4}</em>
   
   matches "zz", "zzz", or "zzzz". A closing brace on  its  own
   is not a special character. If the second number is omitted,
   but the comma is present, there is no upper  limit;  if  the
   second number and the comma are both omitted, the quantifier
   specifies an exact number of required matches. Thus
   
   <em>[aeiou]{3,}</em>
   
   matches at least 3 successive vowels,  but  may  match  many
   more, while
   
   <em>\d{8}</em>
   
   matches exactly 8 digits.  An  opening  curly  bracket  that
   appears  in a position where a quantifier is not allowed, or
   one that does not match the syntax of a quantifier, is taken
   as  a literal character. For example, {,6} is not a quantifier,
   but a literal string of four characters.
  </p>
  <p class="para">
   The quantifier {0} is permitted, causing the  expression  to
   behave  as  if the previous item and the quantifier were not
   present.
  </p>
  <p class="para">
   For convenience (and  historical  compatibility)  the  three
   most common quantifiers have single-character abbreviations:
   
   </p><table class="doctable table">
    <caption><strong>Single-character quantifiers</strong></caption>
    
     <tbody class="tbody">
      <tr>
       <td><em>*</em></td>
       <td>equivalent to <em>{0,}</em></td>
      </tr>

      <tr>
       <td><em>+</em></td>
       <td>equivalent to <em>{1,}</em></td>
      </tr>

      <tr>
       <td><em>?</em></td>
       <td>equivalent to <em>{0,1}</em></td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
  <p class="para">
   It is possible to construct infinite loops  by  following  a
   subpattern  that  can  match no characters with a quantifier
   that has no upper limit, for example:
   
   <em>(a?)*</em>
  </p>
  <p class="para">
   Earlier versions of Perl and PCRE used to give an  error  at
   compile  time  for such patterns. However, because there are
   cases where this  can  be  useful,  such  patterns  are  now
   accepted,  but  if  any repetition of the subpattern does in
   fact match no characters, the loop is forcibly broken.
  </p>
  <p class="para">
   By default, the quantifiers  are  "greedy",  that  is,  they
   match  as much as possible (up to the maximum number of permitted
   times), without causing the rest of  the  pattern  to
   fail. The classic example of where this gives problems is in
   trying to match comments in C programs. These appear between
   the  sequences /* and */ and within the sequence, individual
   * and / characters may appear. An attempt to  match  C  comments
   by applying the pattern
   
   <em>/\*.*\*/</em>
   
   to the string
   
   <em>/* first comment */  not comment  /* second comment */</em>
   
   fails, because it matches  the  entire  string  due  to  the
   greediness of the .*  item.
  </p>
  <p class="para">
   However, if a quantifier is followed  by  a  question  mark,
   then it becomes lazy, and instead matches the minimum
   number of times possible, so the pattern
   
   <em>/\*.*?\*/</em>
   
   does the right thing with the C comments. The meaning of the
   various  quantifiers is not otherwise changed, just the preferred
   number of matches.  Do not confuse this use of
   question  mark  with  its  use as a quantifier in its own right.
   Because it has two uses, it can sometimes appear doubled, as
   in
   
   <em>\d??\d</em>
   
   which matches one digit by preference, but can match two  if
   that is the only way the rest of the pattern matches.
  </p>
  <p class="para">
   If the <a href="reference.pcre.pattern.modifiers.html" class="link">PCRE_UNGREEDY</a>  
   option is set (an option which  is  not
   available  in  Perl)  then the quantifiers are not greedy by
   default, but individual ones can be made greedy by following
   them  with  a  question mark. In other words, it inverts the
   default behaviour.
  </p>
  <p class="para">
   Quantifiers followed by <em>+</em> are "possessive". They eat
   as many characters as possible and don't return to match the rest of the
   pattern. Thus <em>.*abc</em> matches "aabc" but
   <em>.*+abc</em> doesn't because <em>.*+</em> eats the
   whole string. Possessive quantifiers can be used to speed up processing.
  </p>
  <p class="para">
   When a parenthesized subpattern is quantified with a minimum
   repeat  count  that is greater than 1 or with a limited maximum,
   more store is required for the  compiled  pattern,  in
   proportion to the size of the minimum or maximum.
  </p>
  <p class="para">
   If a pattern starts with .* or  .{0,}  and  the  <a href="reference.pcre.pattern.modifiers.html" class="link">PCRE_DOTALL</a> 
   option (equivalent to Perl's /s) is set, thus allowing the .
   to match newlines, then the pattern is implicitly  anchored,
   because whatever follows will be tried against every character
   position in the subject string, so there is no point  in
   retrying  the overall match at any position after the first.
   PCRE treats such a pattern as though it were preceded by \A.
   In  cases where it is known that the subject string contains
   no newlines, it is worth setting <a href="reference.pcre.pattern.modifiers.html" class="link">PCRE_DOTALL</a>  when  the  
   pattern begins with .* in order to
   obtain this optimization, or
   alternatively using ^ to indicate anchoring explicitly.
  </p>
  <p class="para">
   When a capturing subpattern is repeated, the value  captured
   is the substring that matched the final iteration. For example, after
   
   <em>(tweedle[dume]{3}\s*)+</em>
   
   has matched "tweedledum tweedledee" the value  of  the  captured
   substring  is  "tweedledee".  However,  if  there are
   nested capturing  subpatterns,  the  corresponding  captured
   values  may  have been set in previous iterations. For example,
   after
   
   <em>/(a|(b))+/</em>
   
   matches "aba" the value of the second captured substring  is
   "b".
  </p>
 </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/regexp.reference.repetition.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:07:25 GMT -->


</body></html>