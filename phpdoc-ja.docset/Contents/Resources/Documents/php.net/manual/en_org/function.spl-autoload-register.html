<html><!-- Mirrored from php.net/manual/en/function.spl-autoload-register.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:51 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>spl_autoload_register</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.spl-autoload-register.html">
 <link rel="shorturl" href="http://php.net/spl-autoload-register">
 <link rel="alternate" href="http://php.net/spl-autoload-register" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.spl.html">
 <link rel="prev" href="function.spl-autoload-functions.html">
 <link rel="next" href="function.spl-autoload-unregister.html">

 <link rel="alternate" href="function.spl-autoload-register.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.spl-autoload-register.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.spl-autoload-register.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.spl-autoload-register.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.spl-autoload-register.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.spl-autoload-register.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.spl-autoload-register.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.spl-autoload-register.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.spl-autoload-register.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.spl-autoload-register.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.spl-autoload-register.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.other.html">Other Basic Extensions</a></li>      <li><a href="book.spl.html">SPL</a></li>      <li><a href="ref.spl.html">SPL Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.spl-autoload-register" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">spl_autoload_register</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.2)</p><p class="refpurpose"><span class="refname">spl_autoload_register</span> â€” <span class="dc-title">Register given function as __autoload() implementation</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.spl-autoload-register-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>spl_autoload_register</strong></span>
    ([ <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$autoload_function</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$throw</code><span class="initializer"> = true</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$prepend</code><span class="initializer"> = false</span></span>
  ]]] )</div>

  <p class="para rdfs-comment">
   Register a function with the spl provided __autoload stack. If the stack
   is not yet activated it will be activated.  
  </p>
  <p class="para">
   If your code has an existing <span class="function"><a href="function.autoload.html" class="function">__autoload()</a></span> function then
   this function must be explicitly registered on the __autoload stack. This
   is because <span class="function"><strong>spl_autoload_register()</strong></span> will effectively
   replace the engine cache for the <span class="function"><a href="function.autoload.html" class="function">__autoload()</a></span> function
   by either <span class="function"><a href="function.spl-autoload.html" class="function">spl_autoload()</a></span> or
   <span class="function"><a href="function.spl-autoload-call.html" class="function">spl_autoload_call()</a></span>.
  </p>
  <p class="para">
   If there must be multiple autoload functions, <span class="function"><strong>spl_autoload_register()</strong></span> 
   allows for this. It effectively creates a queue of autoload functions, and
   runs through each of them in the order they are defined. By contrast, 
   <span class="function"><a href="function.autoload.html" class="function">__autoload()</a></span> may only be defined once.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.spl-autoload-register-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">autoload_function</code></dt>

     <dd>

      <p class="para">
       The autoload function being registered.
       If no parameter is provided, then the default implementation of
       <span class="function"><a href="function.spl-autoload.html" class="function">spl_autoload()</a></span> will be registered.      
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">throw</code></dt>

     <dd>

      <p class="para">
       This parameter specifies whether
       <span class="function"><strong>spl_autoload_register()</strong></span> should throw 
       exceptions when the <code class="parameter">autoload_function</code>
       cannot be registered.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">prepend</code></dt>

     <dd>

      <p class="para">
       If true, <span class="function"><strong>spl_autoload_register()</strong></span> will prepend
       the autoloader on the autoload stack instead of appending it.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.spl-autoload-register-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.spl-autoload-register-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Namespaces support was introduced.
       </td>
      </tr>

      <tr>
       <td>5.3.0</td>
       <td>
        The <code class="parameter">prepend</code> parameter was added.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.spl-autoload-register-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-4043">
    <p><strong>Example #1 <span class="function"><strong>spl_autoload_register()</strong></span> as a replacement for an <span class="function"><a href="function.autoload.html" class="function">__autoload()</a></span> function</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #FF8000">//&nbsp;function&nbsp;__autoload($class)&nbsp;{<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;'classes/'&nbsp;.&nbsp;$class&nbsp;.&nbsp;'.class.php';<br>//&nbsp;}<br><br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">my_autoloader</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;</span><span style="color: #DD0000">'classes/'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.class.php'</span><span style="color: #007700">;<br>}<br><br></span><span style="color: #0000BB">spl_autoload_register</span><span style="color: #007700">(</span><span style="color: #DD0000">'my_autoloader'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Or,&nbsp;using&nbsp;an&nbsp;anonymous&nbsp;function&nbsp;as&nbsp;of&nbsp;PHP&nbsp;5.3.0<br></span><span style="color: #0000BB">spl_autoload_register</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$class</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;</span><span style="color: #DD0000">'classes/'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.class.php'</span><span style="color: #007700">;<br>});<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-4044">
    <p><strong>Example #2 <span class="function"><strong>spl_autoload_register()</strong></span> example where the class is not loaded</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Foobar</span><span style="color: #007700">;<br><br>class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'[['</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">']]'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br></span><span style="color: #0000BB">spl_autoload_register</span><span style="color: #007700">(</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo::test'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br><br></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">InexistentClass</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>[[Foobar\InexistentClass]]
Fatal error: Class 'Foobar\InexistentClass' not found in ...
</pre></div>
    </div>
   </div>
  <p></p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.spl-autoload-register-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.autoload.html" class="function" rel="rdfs-seeAlso">__autoload()</a> - Attempt to load undefined class</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="92514">  
  <a class="name">
  <strong class="user"><em>a dot schaffhirt at sedna-soft dot de</em></strong></a><div class="date" title="2009-07-27 07:05"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92514">
<div class="phpcode"><code><span class="html">
Good news for PHP 5.3 users with namespaced classes:<br><br>When you create a subfolder structure matching the namespaces of the containing classes, you will never even have to define an autoloader.<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; spl_autoload_extensions</span><span class="keyword">(</span><span class="string">".php"</span><span class="keyword">); </span><span class="comment">// comma-separated list<br>&nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span><br>It is recommended to use only one extension for all classes. PHP (more exactly spl_autoload) does the rest for you and is even quicker than a semantically equal self-defined autoload function like this one:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">my_autoload </span><span class="keyword">(</span><span class="default">$pClassName</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; include(</span><span class="default">__DIR__ </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$pClassName </span><span class="keyword">. </span><span class="string">".php"</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">"my_autoload"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>I compared them with the following setting: There are 10 folders, each having 10 subfolders, each having 10 subfolders, each containing 10 classes.<br><br>To load and instantiate these 1000 classes (parameterless no-action constructor), the user-definded autoload function approach took 50ms longer in average than the spl_autoload function in a series of 10 command-line calls for each approach.<br><br>I made this benchmark to ensure that I don't recommend something that could be called "nice, but slow" later.<br><br>Best regards,</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98746">  
  <a class="name">
  <strong class="user"><em>anthon at piwik dot org</em></strong></a><div class="date" title="2010-07-04 09:02"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98746">
<div class="phpcode"><code><span class="html">
Think twice about throwing an exception from a registered autoloader.<br><br>If you have multiple autoloaders registered, and one (or more) throws an exception before a later autoloader loads the class, stacked exceptions are thrown (and must be caught) even though the class was loaded successfully.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102180">  
  <a class="name">
  <strong class="user"><em>(delphists) at (apollo) dot (lv)</em></strong></a><div class="date" title="2011-02-01 01:57"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102180">
<div class="phpcode"><code><span class="html">
When using spl_autoload_register() with class methods, it might seem that it can use only public methods, though it can use private/protected methods as well, if registered from inside the class:<br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">class </span><span class="default">ClassAutoloader </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'loader'</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; private function </span><span class="default">loader</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">'Trying to load '</span><span class="keyword">, </span><span class="default">$className</span><span class="keyword">, </span><span class="string">' via '</span><span class="keyword">, </span><span class="default">__METHOD__</span><span class="keyword">, </span><span class="string">"()\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; include </span><span class="default">$className </span><span class="keyword">. </span><span class="string">'.php'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="default">$autoloader </span><span class="keyword">= new </span><span class="default">ClassAutoloader</span><span class="keyword">();<br><br>&nbsp; &nbsp; </span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Class1</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Class2</span><span class="keyword">();<br><br></span><span class="default">?&gt;<br></span><br>Output:<br>--------<br>Trying to load Class1 via ClassAutoloader::loader()<br>Class1::__construct()<br>Trying to load Class2 via ClassAutoloader::loader()<br>Class2::__construct()</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111875">  
  <a class="name">
  <strong class="user"><em>a dot schaffhirt at sedna-soft dot de</em></strong></a><div class="date" title="2013-04-07 01:42"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111875">
<div class="phpcode"><code><span class="html">
What I said here previously is only true on Windows. The built-in default autoloader that is registered when you call spl_autoload_register() without any arguments simply adds the qualified class name plus the registered file extension (.php) to each of the include paths and tries to include that file.<br><br>Example (on Windows):<br><br>include paths:<br>- "."<br>- "d:/projects/phplib"<br><br>qualified class name to load:<br>network\http\rest\Resource<br><br>Here's what happens:<br><br>PHP tries to load<br>'.\\network\\http\\rest\\Resource.php'<br>-&gt; file not found<br><br>PHP tries to load<br>'d:/projects/phplib\\network\\http\\rest\\Resource.php'<br>-&gt; file found and included<br><br>Note the slashes and backslashes in the file path. On Windows this works perfectly, but on a Linux machine, the backslashes won't work and additionally the file names are case-sensitive.<br><br>That's why on Linux the quick-and-easy way would be to convert these qualified class names to slashes and to lowercase and pass them to the built-in autoloader like so:<br><br><span class="default">&lt;?php<br>spl_autoload_register</span><span class="keyword">(<br>&nbsp; function (</span><span class="default">$pClassName</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">spl_autoload</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\\"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$pClassName</span><span class="keyword">)));<br>&nbsp; }<br>);<br></span><span class="default">?&gt;<br></span><br>But this means, you have to save all your classes with lowercase file names. Otherwise, if you omit the strtolower call, you have to use the class names exactly as specified by the file name, which can be annoying for class names that are defined with non-straightforward case like e. g. XMLHttpRequest.<br><br>I prefer the lowercase approach, because it is easier to use and the file name conversion can be done automatically on deploying.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95456">  
  <a class="name">
  <strong class="user"><em>rayro at gmx dot de</em></strong></a><div class="date" title="2010-01-04 03:14"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95456">
<div class="phpcode"><code><span class="html">
It is never a good idea and a unconscienable concept to create the classes in the autoload function via eval. <br>It should be a nice feature with these Exception, but i think anyone is able to handle it without this method although. Atm i dont realize for what this is good for...<br><br>As i might note, class_exists() will ever define the classes u only want to check for existance, and will therefor ever return true:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">EvalIsEvil</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br>&nbsp; eval(</span><span class="string">'class '</span><span class="keyword">.</span><span class="default">$className</span><span class="keyword">.</span><span class="string">'{}'</span><span class="keyword">);<br>}<br></span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'EvalIsEvil'</span><span class="keyword">);<br>if (</span><span class="default">class_exists</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">=</span><span class="string">"IsMyModuleHere"</span><span class="keyword">)) {<br>&nbsp; </span><span class="comment">// this is no module, but get there with eval()...<br>&nbsp; </span><span class="keyword">return new </span><span class="default">$s</span><span class="keyword">();<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113251">  
  <a class="name">
  <strong class="user"><em>phil at propcom dot co dot uk</em></strong></a><div class="date" title="2013-09-18 08:36"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113251">
<div class="phpcode"><code><span class="html">
It is important to note that the autoloader will NOT be called if an E_STRICT error triggers the error handler which, in turn, tries to use classes which are not yet loaded. <br><br>In this instance, you should manually load classes required by the error handler.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96952">  
  <a class="name">
  <strong class="user"><em>sebastian dot krebs at kingcrunch dot de</em></strong></a><div class="date" title="2010-03-24 10:54"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96952">
<div class="phpcode"><code><span class="html">
It seems, that&nbsp; spl_autoload tests, if the class exists, after calling every registered loader. So it breaks the chain, if the class exists and will not call the other loaders
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">a </span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) {
<br>&nbsp; echo </span><span class="string">"a\n"</span><span class="keyword">;
<br>&nbsp; class </span><span class="default">Bla </span><span class="keyword">{} </span><span class="comment">// Usually "include 'path/to/file.php';"
<br></span><span class="keyword">}
<br>function </span><span class="default">b </span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) {
<br>&nbsp; echo </span><span class="string">"b\n"</span><span class="keyword">;
<br>}
<br></span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">);
<br></span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'b'</span><span class="keyword">);
<br>
<br></span><span class="default">$c </span><span class="keyword">= new </span><span class="default">Bla</span><span class="keyword">();
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96804">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2010-03-16 08:30"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96804">
<div class="phpcode"><code><span class="html">
Be careful using this function on case sensitive file systems.<br><br><span class="default">&lt;?php<br>spl_autoload_extensions</span><span class="keyword">(</span><span class="string">'.php'</span><span class="keyword">);<br></span><span class="default">spl_autoload_register</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span><br>I develop on OS X and everything was working fine. But when releasing to my linux server, none of my class files were loading. I had to lowercase all my filenames, because calling a class "DatabaseObject" would try including "databaseobject.php", instead of "DatabaseObject.php"<br><br>I think i'll go back to using the slower __autoload() function, just so i can keep my class files readable</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73146">  
  <a class="name">
  <strong class="user"><em>harvey dot NO_SPAM dot robin at gmail dot com</em></strong></a><div class="date" title="2007-02-10 05:54"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73146">
<div class="phpcode"><code><span class="html">
This function is smart enough not to add the same loader twice.&nbsp; This seems to work for all of the different loader formats.&nbsp; Example:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">ALoader<br></span><span class="keyword">{<br>&nbsp; static function </span><span class="default">load</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) { return </span><span class="default">true</span><span class="keyword">; }<br>}<br><br>function </span><span class="default">anotherLoader</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br>&nbsp; return </span><span class="default">true</span><span class="keyword">;<br>}<br><br></span><span class="default">$F </span><span class="keyword">= new </span><span class="default">ALoader</span><span class="keyword">;<br><br></span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="string">'ALoader'</span><span class="keyword">, </span><span class="string">'load'</span><span class="keyword">));<br></span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="string">'ALoader'</span><span class="keyword">, </span><span class="string">'load'</span><span class="keyword">));<br></span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="default">$F</span><span class="keyword">, </span><span class="string">'load'</span><span class="keyword">));<br></span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'anotherLoader'</span><span class="keyword">);<br></span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'anotherLoader'</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">spl_autoload_functions</span><span class="keyword">());<br><br></span><span class="comment">/*<br> * Results on PHP5.2 CLI, linux.<br> * array(2) {<br> *&nbsp; [0]=&gt;<br> *&nbsp; array(2) {<br> *&nbsp; &nbsp; [0]=&gt;<br> *&nbsp; &nbsp; string(7) "ALoader"<br> *&nbsp; &nbsp; [1]=&gt;<br> *&nbsp; &nbsp; string(4) "load"<br> *&nbsp; }<br> *&nbsp; [1]=&gt;<br> *&nbsp; string(13) "anotherLoader"<br> * }<br> */<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115154">  
  <a class="name">
  <strong class="user"><em>nmmm at nmmm dot nu</em></strong></a><div class="date" title="2014-06-04 02:17"><strong>2 months ago</strong></div>
  <div class="text" id="Hcom115154">
<div class="phpcode"><code><span class="html">
spl_autoload_register() can be used with include_path.<br><br>suppose in current directory we have directory "a", and inside there is directory "test" and inside is test.php :<br><br>&lt;?<br>namespace test;<br>class test{<br>&nbsp; &nbsp; &nbsp; &nbsp; function __construct(){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "Test created\n";<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>}<br>?&gt; <br><br>then we can use following code to load the class:<br>&lt;?<br>ini_set("include_path", "./a/");<br><br>spl_autoload_register();<br><br>$t = new \test\test();<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114042">  
  <a class="name">
  <strong class="user"><em>hajo-p</em></strong></a><div class="date" title="2014-01-05 05:25"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114042">
<div class="phpcode"><code><span class="html">
if you have a dir-structure like "/abc/def/ghi", your index.php lies in the top directory, but you want to use namespaces starting with "def" or "ghi":
<br>
<br>you can switch the namespace root directory of php with e.g. set_include_path(__DIR__ . '/abc') and afterwards define + use your namespaces with the simple spl_autoload_register() function without any arguments supplied.
<br>
<br>remember that php handlers "cli" and "cli-server" are special cases.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71155">  
  <a class="name">
  <strong class="user"><em>florent at mediagonale dot com</em></strong></a><div class="date" title="2006-11-14 01:19"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71155">
<div class="phpcode"><code><span class="html">
If your autoload function is a class method, you can call spl_autoload_register with an array specifying the class and the method to run.<br><br>* You can use a static method :<br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">MyClass </span><span class="keyword">{<br>&nbsp; public static function </span><span class="default">autoload</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// ...<br>&nbsp; </span><span class="keyword">}<br>}<br><br></span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="string">'MyClass'</span><span class="keyword">, </span><span class="string">'autoload'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>* Or you can use an instance :<br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">MyClass </span><span class="keyword">{<br>&nbsp; public function </span><span class="default">autoload</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// ...<br>&nbsp; </span><span class="keyword">}<br>}<br><br></span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">MyClass</span><span class="keyword">();<br></span><span class="default">spl_autoload_register</span><span class="keyword">(array(</span><span class="default">$instance</span><span class="keyword">, </span><span class="string">'autoload'</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113362">  
  <a class="name">
  <strong class="user"><em>Kurd the Great</em></strong></a><div class="date" title="2013-10-01 04:13"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113362">
<div class="phpcode"><code><span class="html">
if(!defined('BASE_PATH')) {<br>&nbsp; &nbsp; define('BASE_PATH', dirname(__FILE__) . '/');<br>&nbsp; &nbsp; require BASE_PATH . 'Autoloader.php';<br>&nbsp; &nbsp; Autoloader::Register();<br>}<br><br>class Autoloader<br>{<br>&nbsp; &nbsp; public static function Register() {<br>&nbsp; &nbsp; &nbsp; &nbsp; return spl_autoload_register(array('Autoloader', 'Load'));<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public static function Load($strObjectName) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(class_exists($strObjectName) === false) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; $strObjectFilePath = BASE_PATH . $strObjectName . '.php';<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if((file_exists($strObjectFilePath) === false) || (is_readable($strObjectFilePath) === false)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; require($strObjectFilePath);<br>&nbsp; &nbsp; }<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110382">  
  <a class="name">
  <strong class="user"><em>daniel at amnistechnology dot com</em></strong></a><div class="date" title="2012-10-17 09:57"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110382">
<div class="phpcode"><code><span class="html">
Cleverly - and usefully - I have noticed that (on PHP 5.3 at least) these autoloaders "kick in" even when you call a public static method of an as-yet-unloaded all static class.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78122">  
  <a class="name">
  <strong class="user"><em>stanlemon at mac dot com</em></strong></a><div class="date" title="2007-09-28 10:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78122">
<div class="phpcode"><code><span class="html">
Editorial note: The appropriate PHP bug that requests behavior this function emulates is <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=42823</a> . This function does NOT work if there has been an array($obj, 'nonStaticMethod') registered in the autoload stack--while the autoload will be removed, it will be re-registered incorrectly.
<br>
<br>The spl_autoload_register() method registers functions in its stack in the order that spl_autoload_register() was called, and subsequently if you want an autoload function to override previous autoload functions you will either need to unregister the previous ones or change the order of the autoload stack.
<br>
<br>For example, say in your default implementation of an autoload function you throw an exception if the class cannot be found, or perhaps a fatal error.&nbsp; Later on in your code you add a second implementation of an autoload function which will load a library that the previous method would fail on.&nbsp; This will not call the second autoloader method first, but rather will continue to error out on the first method.
<br>
<br>As previously mentioned, you can unregister the existing autoloader that errors out, or you can create a mechanism for unregistering and re-registering the autoloaders in the order you want.
<br>
<br>Here is a sample/example of how you might consider re-registering autoloaders so that the newest autoloader is called first, and the oldest last:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">// Editorial notes: Small bug and compatibility fixes
<br>// added to the function
<br>
<br></span><span class="keyword">function </span><span class="default">spl_autoload_preregister</span><span class="keyword">( </span><span class="default">$autoload </span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="comment">// No functions currently in the stack.
<br>&nbsp; &nbsp; </span><span class="keyword">if ( (</span><span class="default">$funcs </span><span class="keyword">= </span><span class="default">spl_autoload_functions</span><span class="keyword">()) === </span><span class="default">false </span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="default">$autoload</span><span class="keyword">);
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Unregister existing autoloaders...
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$compat </span><span class="keyword">=
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">, </span><span class="string">'5.1.2'</span><span class="keyword">, </span><span class="string">'&lt;='</span><span class="keyword">) &amp;&amp;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">, </span><span class="string">'5.1.0'</span><span class="keyword">, </span><span class="string">'&gt;='</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$funcs </span><span class="keyword">as </span><span class="default">$func</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// :TRICKY: There are some compatibility issues and some
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // places where we need to error out
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$reflector </span><span class="keyword">= new </span><span class="default">ReflectionMethod</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$func</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">$reflector</span><span class="keyword">-&gt;</span><span class="default">isStatic</span><span class="keyword">()) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This function is not compatible
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; with non-static object methods due to PHP Bug #44144.
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Suprisingly, spl_autoload_register supports the
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Class::staticMethod callback format, although call_user_func doesn't
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$compat</span><span class="keyword">) </span><span class="default">$func </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'::'</span><span class="keyword">, </span><span class="default">$func</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">spl_autoload_unregister</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Register the new one, thus putting it at the front of the stack...
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="default">$autoload</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Now, go back and re-register all of our old ones.
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$funcs </span><span class="keyword">as </span><span class="default">$func</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Note: I have not tested this for overhead, so I am not 100% sure what the performance implication of the above example are.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112260">  
  <a class="name">
  <strong class="user"><em>sebastian at 34n dot de</em></strong></a><div class="date" title="2013-05-24 09:49"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112260">
<div class="phpcode"><code><span class="html">
You can also use it like this:<br><br>&gt; spl_autoload_register ( array( new AutoloaderClass, 'method') );<br><br>or in PHP &gt; 5.3:<br><br>&gt; spl_autoload_register ( [ new My\Namespace\Autoloader, 'method'] );<br><br>On this way you dont have to create a variable, which is used once.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107362">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2012-02-03 04:52"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107362">
<div class="phpcode"><code><span class="html">
Note that when specifying the third parameter (prepend), the function will fail badly in PHP 5.2</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112804">  
  <a class="name">
  <strong class="user"><em>ali dot taheri dot m at gmail dot com</em></strong></a><div class="date" title="2013-07-24 02:23"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112804">
<div class="phpcode"><code><span class="html">
I've made a little function that makes and registers a loader that seems to be safe and reliable although I'm not sure but it feels like a good idea to share, it took me some time to come up with it I hope it saves someone some time, <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">Loader</span><span class="keyword">(</span><span class="default">$root </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$loaderFunction </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$class'</span><span class="keyword">, </span><span class="string">'include&nbsp; "' </span><span class="keyword">. </span><span class="default">$root </span><span class="keyword">. </span><span class="string">'$class.php";'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="default">$loaderFunction</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>if you have a file system exactly like your directory tree this function works perfectly, I haven't tested it on unix, but on windows, the default loader fails when your webpage isn't in the root directory, this makes sure that it won't cause a problem if your webpage is on a subdir too just pass ../ or more drived ../../ as root and it will work like a charm, note that i couldn't use anonymous functions because then the $root variable wouldn't have the same scope as the Loader function, so the function must be created on the fly. this is a good example of this functions usage<br><br>your class:<br>root/classes/support/classic.php<br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">namespace </span><span class="default">classes</span><span class="keyword">/</span><span class="default">support</span><span class="keyword">;<br><br>&nbsp; &nbsp; class </span><span class="default">classic </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// class def<br>&nbsp; &nbsp; </span><span class="keyword">}<br><br></span><span class="default">?&gt;<br></span><br>root/support/index.php<br><span class="default">&lt;?php<br><br>Loader</span><span class="keyword">(</span><span class="string">'../'</span><span class="keyword">);<br><br>use </span><span class="default">classes</span><span class="keyword">/</span><span class="default">support</span><span class="keyword">/</span><span class="default">classic</span><span class="keyword">;<br><br></span><span class="default">$cls </span><span class="keyword">= new </span><span class="default">classic</span><span class="keyword">();<br></span><span class="comment">//use $cls<br></span><span class="default">?&gt;<br></span><br>the loader will make a function like this:<br><span class="default">&lt;?php<br><br></span><span class="keyword">function(</span><span class="default">$class</span><span class="keyword">) {<br>&nbsp; &nbsp; include&nbsp; </span><span class="string">"../</span><span class="default">$class</span><span class="string">.php"</span><span class="keyword">;<br>}<br><br></span><span class="comment">//when and when the class is needed this will run the script which is indeed what we need:<br><br></span><span class="keyword">include </span><span class="string">'../classes/support/classic.php'</span><span class="keyword">;<br><br></span><span class="default">?&gt;<br></span><br>hope this helps folks;</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.spl-autoload-register.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:51 GMT -->


</body></html>