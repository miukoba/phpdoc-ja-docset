<html><!-- Mirrored from php.net/manual/en/function.strptime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:18:50 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>strptime</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.strptime.html">
 <link rel="shorturl" href="http://php.net/strptime">
 <link rel="alternate" href="http://php.net/strptime" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.datetime.html">
 <link rel="prev" href="function.strftime.html">
 <link rel="next" href="function.strtotime.html">

 <link rel="alternate" href="function.strptime.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.strptime.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.strptime.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.strptime.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.strptime.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.strptime.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.strptime.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.strptime.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.strptime.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.strptime.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.strptime.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="ref.datetime.html">Date/Time Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.strptime" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">strptime</h1>
    <p class="verinfo">(PHP 5 &gt;= 5.1.0)</p><p class="refpurpose"><span class="refname">strptime</span> â€” <span class="dc-title">
     Parse a time/date generated with <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span>
    </span></p>

   </div>
   <div class="refsect1 description" id="refsect1-function.strptime-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="type">array</span> <span class="methodname"><strong>strptime</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$date</code></span>
     , <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
     )</div>

    <p class="para rdfs-comment">
     <span class="function"><strong>strptime()</strong></span> returns an array with the
     <code class="parameter">date</code> parsed, or <strong><code>FALSE</code></strong> on error.
    </p>
    <p class="para">
     Month and weekday names and other language dependent strings respect the
     current locale set with <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span> (<strong><code>LC_TIME</code></strong>).
    </p>
   </div>


   <div class="refsect1 parameters" id="refsect1-function.strptime-parameters">
   <h3 class="title">Parameters</h3>
   <p class="para">
    </p><dl>

     
      <dt>
<code class="parameter">date</code> (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

      <dd>

       <p class="para">
        The string to parse (e.g. returned from <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span>).
       </p>
      </dd>

     
     
      <dt>
<code class="parameter">format</code> (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

      <dd>

       <p class="para">
        The format used in <code class="parameter">date</code> (e.g. the same as
        used in <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span>). Note that some of the format
        options available to <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span> may not have any
        effect within <span class="function"><strong>strptime()</strong></span>; the exact subset that are
        supported will vary based on the operating system and C library in
        use.
       </p>
       <p class="para">
        For more information about the format options, read the
        <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span> page.
       </p>
      </dd>

     
    </dl>

   <p></p>
  </div>


  <div class="refsect1 returnvalues" id="refsect1-function.strptime-returnvalues">
   <h3 class="title">Return Values</h3>
   <p class="para">
    Returns an array or <strong><code>FALSE</code></strong> on failure.
   </p>

    <p class="para">
     </p><table class="doctable table">
      <caption><strong>The following parameters are returned in the array</strong></caption>
      
       <thead>
        <tr>
         <th>parameters</th>
         <th>Description</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><em>"tm_sec"</em></td>
         <td>Seconds after the minute (0-61)</td>
        </tr>

        <tr>
         <td><em>"tm_min"</em></td>
         <td>Minutes after the hour (0-59)</td>
        </tr>

        <tr>
         <td><em>"tm_hour"</em></td>
         <td>Hour since midnight (0-23)</td>
        </tr>

        <tr>
         <td><em>"tm_mday"</em></td>
         <td>Day of the month (1-31)</td>
        </tr>

        <tr>
         <td><em>"tm_mon"</em></td>
         <td>Months since January (0-11)</td>
        </tr>

        <tr>
         <td><em>"tm_year"</em></td>
         <td>Years since 1900</td>
        </tr>

        <tr>
         <td><em>"tm_wday"</em></td>
         <td>Days since Sunday (0-6)</td>
        </tr>

        <tr>
         <td><em>"tm_yday"</em></td>
         <td>Days since January 1 (0-365)</td>
        </tr>

        <tr>
         <td><em>"unparsed"</em></td>
         <td>the <code class="parameter">date</code> part which was not
          recognized using the specified <code class="parameter">format</code></td>
        </tr>

       </tbody>
      
     </table>

    <p></p>

  </div>


  <div class="refsect1 examples" id="refsect1-function.strptime-examples">
   <h3 class="title">Examples</h3>
   <p class="para">
   </p><div class="example" id="example-2415">
    <p><strong>Example #1 <span class="function"><strong>strptime()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$format&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'%d/%m/%Y&nbsp;%H:%M:%S'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$strf&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strftime</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">);<br><br>echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$strf</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">strptime</span><span style="color: #007700">(</span><span style="color: #0000BB">$strf</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$format</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>The above example will output
something similar to:</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>03/10/2004 15:54:19

Array
(
    [tm_sec] =&gt; 19
    [tm_min] =&gt; 54
    [tm_hour] =&gt; 15
    [tm_mday] =&gt; 3
    [tm_mon] =&gt; 9
    [tm_year] =&gt; 104
    [tm_wday] =&gt; 0
    [tm_yday] =&gt; 276
    [unparsed] =&gt;
)
</pre></div>
      </div>
      </div>
     <p></p>
    </div>


    <div class="refsect1 notes" id="refsect1-function.strptime-notes">
     <h3 class="title">Notes</h3>
     <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is not
implemented on Windows platforms.</span></p></blockquote>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      </p><p class="para">
       Internally, this function calls the <em>strptime()</em>
       function provided by the system's C library. This function can exhibit
       noticeably different behaviour across different operating systems. The
       use of <span class="function"><a href="function.date-parse-from-format.html" class="function">date_parse_from_format()</a></span>, which does not
       suffer from these issues, is recommended on PHP 5.3.0 and later.
      </p>
     <p></p></blockquote>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      </p><p class="para">
       <em>"tm_sec"</em> includes any leap seconds (currently upto 2
       a year). For more information on leap seconds, see the <a href="http://en.wikipedia.org/wiki/Leap_second" class="link external">Â»&nbsp;Wikipedia article
       on leap seconds</a>.
      </p>
     <p></p></blockquote>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      </p><p class="para">
       Prior to PHP 5.2.0, this function could return undefined behaviour. Notably,
       the <em>"tm_sec"</em>, <em>"tm_min"</em> and <em>"tm_hour"</em> 
       entries would return undefined values.
      </p>
     <p></p></blockquote>
    </div>


    <div class="refsect1 seealso" id="refsect1-function.strptime-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     </p><ul class="simplelist">
      <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - Validate a Gregorian date</span></li>
      <li class="member"><span class="function"><a href="function.strftime.html" class="function" rel="rdfs-seeAlso">strftime()</a> - Format a local time/date according to locale settings</span></li>
      <li class="member"><span class="function"><a href="function.date-parse-from-format.html" class="function" rel="rdfs-seeAlso">date_parse_from_format()</a> - Get info about given date formatted according to the specified format</span></li>
      <li class="member"><span class="function"><a href="datetime.createfromformat.html" class="function" rel="rdfs-seeAlso">DateTime::createFromFormat()</a> - Returns new DateTime object formatted according to the specified format</span></li>
     </ul>
    <p></p>
   </div>

  </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="103598">  
  <a class="name">
  <strong class="user"><em>131</em></strong></a><div class="date" title="2011-04-21 12:17"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103598">
<div class="phpcode"><code><span class="html">
Another portage for windows (from ex/yks toolkit)
<br><span class="default">&lt;?php
<br></span><span class="comment">//&nbsp; public static 
<br></span><span class="keyword">function </span><span class="default">strptime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$masks </span><span class="keyword">= array(
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%d' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;d&gt;[0-9]{2})'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%m' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;m&gt;[0-9]{2})'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%Y' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;Y&gt;[0-9]{4})'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%H' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;H&gt;[0-9]{2})'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%M' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;M&gt;[0-9]{2})'</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">'%S' </span><span class="keyword">=&gt; </span><span class="string">'(?P&lt;S&gt;[0-9]{2})'</span><span class="keyword">,
<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">// usw..
<br>&nbsp; &nbsp; </span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$rexep </span><span class="keyword">= </span><span class="string">"#"</span><span class="keyword">.</span><span class="default">strtr</span><span class="keyword">(</span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">), </span><span class="default">$masks</span><span class="keyword">).</span><span class="string">"#"</span><span class="keyword">;
<br>&nbsp; &nbsp; if(!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$rexep</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= array(
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_sec"&nbsp; </span><span class="keyword">=&gt; (int) </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'S'</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_min"&nbsp; </span><span class="keyword">=&gt; (int) </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'M'</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_hour" </span><span class="keyword">=&gt; (int) </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'H'</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_mday" </span><span class="keyword">=&gt; (int) </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'d'</span><span class="keyword">],
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_mon"&nbsp; </span><span class="keyword">=&gt; </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'m'</span><span class="keyword">]?</span><span class="default">$out</span><span class="keyword">[</span><span class="string">'m'</span><span class="keyword">]-</span><span class="default">1</span><span class="keyword">:</span><span class="default">0</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; </span><span class="string">"tm_year" </span><span class="keyword">=&gt; </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'Y'</span><span class="keyword">] &gt; </span><span class="default">1900 </span><span class="keyword">? </span><span class="default">$out</span><span class="keyword">[</span><span class="string">'Y'</span><span class="keyword">] - </span><span class="default">1900 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">,
<br>&nbsp; &nbsp; );
<br>&nbsp; &nbsp; return </span><span class="default">$ret</span><span class="keyword">;
<br>&nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109120">  
  <a class="name">
  <strong class="user"><em>emanuil dot tolev at gmail dot com</em></strong></a><div class="date" title="2012-06-21 04:08"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109120">
<div class="phpcode"><code><span class="html">
Be careful: the output of strptime() ( <a rel="nofollow" target="_blank">http://www.php.net/manual/en/function.strptime.php</a> ) cannot always be used with mktime() ( <a rel="nofollow" target="_blank">http://www.php.net/manual/en/function.mktime.php</a> )!<br><br>This is not because of what platform you're using or what format strings glibc supports. This is simply because strptime returns years SINCE 1900 (as documented above) and mktime expects a year in the format returned by date('Y') - which is the full 4 digits.<br><br>Therefore, if you parse a date with strptime and want to give it to mktime, you have to pass in ($parsed_time['tm_year'] + 1900) as the year parameter to mktime(), not just $parsed_time['tm_year'].<br><br>This issue arose when I had a date like: 19/06/2012 12:03:34. strtotime() doesn't parse this particular format, so I needed custom parsing. So I ended up with:<br>1. $ts = $service-&gt;getNeededDateTime();<br>2. $ts = strptime($ts, '%d/%m/%Y %H:%M:%S');<br>3. $ts = mktime($ts['tm_hour'], $ts['tm_min'], $ts['tm_sec'],<br>&nbsp; &nbsp; &nbsp; $ts['tm_mon'], $ts['tm_mday'], ($ts['tm_year'] + 1900));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80743">  
  <a class="name">
  <strong class="user"><em>P.</em></strong></a><div class="date" title="2008-01-30 04:19"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80743">
<div class="phpcode"><code><span class="html">
If strptime() fails to match all of the format string and therefore an error occurred the function returns NULL.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75775">  
  <a class="name">
  <strong class="user"><em>chad 0x40 herballure 0x2e com</em></strong></a><div class="date" title="2007-06-15 07:00"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75775">
<div class="phpcode"><code><span class="html">
The result of strptime() is not affected by the current timezone setting, even though strftime() is. Tested in PHP 5.1.6.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63659">  
  <a class="name">
  <strong class="user"><em>Malte Starostik</em></strong></a><div class="date" title="2006-03-27 10:45"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63659">
<div class="phpcode"><code><span class="html">
It says "Parse a time/date generated with strftime()" but that's not entirely correct -- While strptime("2006131", "%Y%W%u") works as expected, strptime("2006131", "%G%V%u") returns false instead of reversing the equivalent - and unambiguous - strftime() usage.&nbsp; I suspect that's because glibc doesn't support that.&nbsp; Anyway, this docu page fails to mention that apparently not all format components supported by strftime() can be used with strptime().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114221">  
  <a class="name">
  <strong class="user"><em>arnold at nijboer dot it</em></strong></a><div class="date" title="2014-01-26 02:28"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114221">
<div class="phpcode"><code><span class="html">
the example (or the function) has an inconsistancy with other PHP functions.<br><br>the example returns 104 for the year 2004<br><br>while in the strftime function the 2 digit year is 70-100 for 1970-2000<br>and 1-69 for 2001-2069</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89239">  
  <a class="name">
  <strong class="user"><em>Quietust</em></strong></a><div class="date" title="2009-02-27 08:38"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89239">
<div class="phpcode"><code><span class="html">
On some systems, particularly those of BSD lineage (such as FreeBSD and MacOS X), the tm_wday and tm_yday fields are only initialized if requested explicitly (that is, if the %a/%A/%u/%w and %j formats are specified), while others such as Linux and Solaris will calculate them automatically.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86572">  
  <a class="name">
  <strong class="user"><em>Altar 2010</em></strong></a><div class="date" title="2008-10-24 01:45"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86572">
<div class="phpcode"><code><span class="html">
If you want to parse a date or a /time in windows env, i re-write strptime function for windows.<br><br>I use the same param and i return the same think that the original one.<br>I use sscanf to parde the string.<br>Only some format can be parsed (%S, %M, %H, %d, %m, %Y)<br><br>See this page (because the function is too big for this notes)<br><a rel="nofollow" target="_blank">http://sauron.lionel.free.fr/?page=php_lib_strptime</a><br><br>preview :<br><span class="default">&lt;?php<br></span><span class="comment">/**<br> * Parse a time/date generated with strftime().<br> *<br> * This function is the same as the original one defined by PHP (Linux/Unix only),<br> *&nbsp; but now you can use it on Windows too.<br> *&nbsp; Limitation : Only this format can be parsed %S, %M, %H, %d, %m, %Y<br> * <br> * @author Lionel SAURON<br> * @version 1.0<br> * @public<br> * <br> * @param $sDate(string)&nbsp; &nbsp; The string to parse (e.g. returned from strftime()).<br> * @param $sFormat(string)&nbsp; The format used in date&nbsp; (e.g. the same as used in strftime()).<br> * @return (array)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Returns an array with the &lt;code&gt;$sDate&lt;/code&gt; parsed, or &lt;code&gt;false&lt;/code&gt; on error.<br> */<br></span><span class="keyword">if(</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"strptime"</span><span class="keyword">) == </span><span class="default">false</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; function </span><span class="default">strptime</span><span class="keyword">(</span><span class="default">$sDate</span><span class="keyword">, </span><span class="default">$sFormat</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aResult </span><span class="keyword">= array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_sec'&nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_min'&nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_hour'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_mday'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_mon'&nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_year'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_wday'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'tm_yday'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'unparsed' </span><span class="keyword">=&gt; </span><span class="default">$sDate</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; );<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">$sFormat </span><span class="keyword">!= </span><span class="string">""</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// ===== Search a %x element, Check the static string before the %x =====<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nIdxFound </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$sFormat</span><span class="keyword">, </span><span class="string">'%'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$nIdxFound </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// There is no more format. Check the last static string.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'unparsed'</span><span class="keyword">] = (</span><span class="default">$sFormat </span><span class="keyword">== </span><span class="default">$sDate</span><span class="keyword">) ? </span><span class="string">"" </span><span class="keyword">: </span><span class="default">$sDate</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; .....<br>&nbsp; &nbsp; &nbsp; &nbsp; .....<br>&nbsp; &nbsp; &nbsp; &nbsp; .....<br>&nbsp; &nbsp; &nbsp; &nbsp; .....<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// ===== Create the other value of the result array =====<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nParsedDateTimestamp </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_hour'</span><span class="keyword">], </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_min'</span><span class="keyword">], </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_sec'</span><span class="keyword">],<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_mon'</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">, </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_mday'</span><span class="keyword">], </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_year'</span><span class="keyword">] + </span><span class="default">1900</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Before PHP 5.1 return -1 when error<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if((</span><span class="default">$nParsedDateTimestamp </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; ||(</span><span class="default">$nParsedDateTimestamp </span><span class="keyword">=== -</span><span class="default">1</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_wday'</span><span class="keyword">] = (int) </span><span class="default">strftime</span><span class="keyword">(</span><span class="string">"%w"</span><span class="keyword">, </span><span class="default">$nParsedDateTimestamp</span><span class="keyword">); </span><span class="comment">// Days since Sunday (0-6)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aResult</span><span class="keyword">[</span><span class="string">'tm_yday'</span><span class="keyword">] = (</span><span class="default">strftime</span><span class="keyword">(</span><span class="string">"%j"</span><span class="keyword">, </span><span class="default">$nParsedDateTimestamp</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">); </span><span class="comment">// Days since January 1 (0-365)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$aResult</span><span class="keyword">;<br>&nbsp; &nbsp; } </span><span class="comment">// END of function<br>&nbsp; &nbsp; <br></span><span class="keyword">} </span><span class="comment">// END if(function_exists("strptime") == false)<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82004">  
  <a class="name">
  <strong class="user"><em>firefox3107 at gmail dot com</em></strong></a><div class="date" title="2008-03-23 06:44"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82004">
<div class="phpcode"><code><span class="html">
For Windows user! It's rather the same as strptime!<br>It uses the previous function: but call strToTime($date, $format) to strToDate($date, $format) because this name is forgiven!<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">strToDateTime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">) {<br>&nbsp; &nbsp; if(!(</span><span class="default">$date </span><span class="keyword">= </span><span class="default">strToDate</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">, </span><span class="default">$format</span><span class="keyword">))) return;<br>&nbsp; &nbsp; </span><span class="default">$dateTime </span><span class="keyword">= array(</span><span class="string">'sec' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'hour' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'day' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'mon' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'year' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'timestamp' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">);<br>&nbsp; &nbsp; foreach(</span><span class="default">$date </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; switch(</span><span class="default">$key</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'d'</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'j'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'D'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'j'</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'m'</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'n'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'M'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'Y'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'y'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)+</span><span class="default">2000</span><span class="keyword">; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'G'</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'g'</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'H'</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'h'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'i'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'min'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">'s'</span><span class="keyword">: </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'sec'</span><span class="keyword">] = </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">); break;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'timestamp'</span><span class="keyword">] = </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'hour'</span><span class="keyword">], </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'min'</span><span class="keyword">], </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'sec'</span><span class="keyword">], </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'mon'</span><span class="keyword">], </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'day'</span><span class="keyword">], </span><span class="default">$dateTime</span><span class="keyword">[</span><span class="string">'year'</span><span class="keyword">]);<br>&nbsp; &nbsp; return </span><span class="default">$dateTime</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="71341">  
  <a class="name">
  <strong class="user"><em>svenr at selfhtml dot org</em></strong></a><div class="date" title="2006-11-23 01:44"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom71341">
<div class="phpcode"><code><span class="html">
If you need strptime but are restricted to a php version which does not support it (windows or before PHP 5), note that MySQL since Version 4.1.1 offers (almost?) the same functionality with the STR_TO_DATE function.<br><br>See <a rel="nofollow" target="_blank">http://dev.mysql.com/doc/refman/4.1/en/date-and-time-functions.html</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="68792">  
  <a class="name">
  <strong class="user"><em>DT &lt;pwadas at gazeta dot pl&gt;</em></strong></a><div class="date" title="2006-08-10 12:55"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68792">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">//This turns non-standard but often used "datetime" string
<br>//like '20060810084251' into nice formatted date
<br>//'Thursday, 10 August 2006 08:42:51 CEST'
<br>//note, that strptime returns day of year counting from 0, so
<br>//you need to put 1 as month number to get appropriate
<br>//month for the daycount. for 2006 strptime for unknown
<br>//reason returns 106, so I simply add 1900
<br>
<br></span><span class="default">$informat </span><span class="keyword">= </span><span class="string">'%Y%m%d%H%M%S'</span><span class="keyword">;
<br></span><span class="default">$outformat </span><span class="keyword">=&nbsp; </span><span class="string">'%A, %d %B %Y %T %Z'</span><span class="keyword">;
<br></span><span class="default">$ftime </span><span class="keyword">= </span><span class="default">strptime</span><span class="keyword">(</span><span class="string">"20060810084251"</span><span class="keyword">,</span><span class="default">$informat</span><span class="keyword">);
<br></span><span class="default">$unxTimestamp </span><span class="keyword">= </span><span class="default">mktime</span><span class="keyword">(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ftime</span><span class="keyword">[</span><span class="string">'tm_hour'</span><span class="keyword">], 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ftime</span><span class="keyword">[</span><span class="string">'tm_min'</span><span class="keyword">], 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ftime</span><span class="keyword">[</span><span class="string">'tm_sec'</span><span class="keyword">], 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">1 </span><span class="keyword">, 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ftime</span><span class="keyword">[</span><span class="string">'tm_yday'</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">, 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ftime</span><span class="keyword">[</span><span class="string">'tm_year'</span><span class="keyword">] + </span><span class="default">1900
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);
<br></span><span class="comment">//setlocale(LC_TIME,'pl_PL');
<br></span><span class="keyword">echo </span><span class="default">strftime</span><span class="keyword">(</span><span class="default">$outformat </span><span class="keyword">, </span><span class="default">$unxTimestamp </span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66048">  
  <a class="name">
  <strong class="user"><em>jojyjob at gmail dot com</em></strong></a><div class="date" title="2006-05-13 12:18"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66048">
<div class="phpcode"><code><span class="html">
/***Finding the days of a week ***/<br><br><span class="default">&lt;?php <br><br>$out </span><span class="keyword">= </span><span class="default">pre</span><span class="keyword">();&nbsp; <br></span><span class="default">$outpre</span><span class="keyword">=</span><span class="default">nextweek</span><span class="keyword">();<br></span><span class="default">$td</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">);<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">(</span><span class="default">$outpre</span><span class="keyword">);<br></span><span class="comment">//print_r($result);<br></span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$td</span><span class="keyword">);<br></span><span class="default">$newarray </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$out</span><span class="keyword">);<br><br>&nbsp; foreach(</span><span class="default">$newarray </span><span class="keyword">as </span><span class="default">$date1</span><span class="keyword">){<br>&nbsp; &nbsp; echo </span><span class="default">$date1</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br> }<br><br></span><span class="comment">//print_r($out);<br>//print_r($newarray);<br><br></span><span class="keyword">function </span><span class="default">pre</span><span class="keyword">()&nbsp; <br>{<br></span><span class="default">$monP</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br></span><span class="default">$tueP</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br></span><span class="default">$wedP</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;<br></span><span class="default">$thuP</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">;<br></span><span class="default">$friP</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;<br></span><span class="default">$satP</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">;<br></span><span class="default">$sunP</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">;<br>&nbsp; <br></span><span class="default">$td</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">);&nbsp;&nbsp; <br></span><span class="comment">//echo $td;<br></span><span class="default">$tdname</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"l"</span><span class="keyword">);&nbsp; <br>&nbsp; switch(</span><span class="default">$tdname</span><span class="keyword">)<br>&nbsp; {<br>&nbsp;&nbsp; case </span><span class="string">"Monday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$monP</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Tuesday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$tueP</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Wednesday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$wedP</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Thursday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$thuP</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Friday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$friP</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Saturday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$satP</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Sunday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$sunP</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; break;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp;&nbsp; default:<br>&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Sorry"</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; }<br><br> <br></span><span class="comment">//echo $tdname."&lt;br&gt;";&nbsp;&nbsp; <br>//echo $rep;<br></span><span class="default">$datstart </span><span class="keyword">=</span><span class="default">$td</span><span class="keyword">;&nbsp; </span><span class="comment">/* the starting date */<br>//$rep = 12;&nbsp; /* number of future dates to display */ <br></span><span class="default">$nod </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of days in the future to increment the date */<br></span><span class="default">$nom </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of months in the future to increment the date */<br></span><span class="default">$noy </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of years in the future to increment the date */<br></span><span class="default">$precon</span><span class="keyword">=</span><span class="default">future_date</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">,</span><span class="default">$nod</span><span class="keyword">,</span><span class="default">$nom</span><span class="keyword">,</span><span class="default">$noy</span><span class="keyword">); <br>return </span><span class="default">$precon</span><span class="keyword">;<br>}<br>function </span><span class="default">future_date</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">,</span><span class="default">$nod</span><span class="keyword">,</span><span class="default">$nom</span><span class="keyword">,</span><span class="default">$noy</span><span class="keyword">) {<br> </span><span class="default">$pre </span><span class="keyword">= array();<br>&nbsp; while (</span><span class="default">$rep </span><span class="keyword">&gt;= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$datyy</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$datmm</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$datdd</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$fda</span><span class="keyword">=</span><span class="default">$datdd </span><span class="keyword">- </span><span class="default">$nod</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$fmo</span><span class="keyword">=</span><span class="default">$datmm </span><span class="keyword">- </span><span class="default">$nom</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$fyr</span><span class="keyword">=</span><span class="default">$datyy </span><span class="keyword">-</span><span class="default">$noy</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$dat1</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$fmo</span><span class="keyword">,</span><span class="default">$fda</span><span class="keyword">,</span><span class="default">$fyr</span><span class="keyword">)).</span><span class="string">"&lt;BR&gt;"</span><span class="keyword">; <br>&nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$pre</span><span class="keyword">,</span><span class="default">$dat1</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">//echo $dat1; <br>&nbsp; &nbsp; </span><span class="default">$datstart</span><span class="keyword">=</span><span class="default">$dat1</span><span class="keyword">; <br>&nbsp; &nbsp; </span><span class="default">$rep</span><span class="keyword">--; <br>&nbsp; }<br>&nbsp; return </span><span class="default">$pre</span><span class="keyword">;<br>}<br><br>function </span><span class="default">nextweek</span><span class="keyword">()<br>{<br></span><span class="default">$monN</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">;<br></span><span class="default">$tueN</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">;<br></span><span class="default">$wedN</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;<br></span><span class="default">$thuN</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">;<br></span><span class="default">$friN</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;<br></span><span class="default">$satN</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br></span><span class="default">$sunN</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br><br></span><span class="default">$td</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">);&nbsp;&nbsp; <br></span><span class="default">$tdname</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"l"</span><span class="keyword">);&nbsp; <br>&nbsp; switch(</span><span class="default">$tdname</span><span class="keyword">)<br>&nbsp; {<br>&nbsp;&nbsp; case </span><span class="string">"Monday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$monN</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Tuesday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$tueN</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Wednesday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$wedN</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Thursday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$thuN</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Friday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$friN</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Saturday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$satN</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp;&nbsp; case </span><span class="string">"Sunday"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rep</span><span class="keyword">=</span><span class="default">$sunN</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; break;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp;&nbsp; default:<br>&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Sorry"</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp; }<br><br> <br></span><span class="comment">//echo $tdname."&lt;br&gt;";&nbsp;&nbsp; <br>//echo $rep;<br></span><span class="default">$datstart </span><span class="keyword">=</span><span class="default">$td</span><span class="keyword">;&nbsp; </span><span class="comment">/* the starting date */<br>//$rep = 12;&nbsp; /* number of future dates to display */ <br></span><span class="default">$nod </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of days in the future to increment the date */<br></span><span class="default">$nom </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of months in the future to increment the date */<br></span><span class="default">$noy </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; </span><span class="comment">/* number of years in the future to increment the date */<br><br></span><span class="default">$con </span><span class="keyword">= </span><span class="default">future_date1</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">,</span><span class="default">$nod</span><span class="keyword">,</span><span class="default">$nom</span><span class="keyword">,</span><span class="default">$noy</span><span class="keyword">); <br>return </span><span class="default">$con</span><span class="keyword">;<br>}<br><br>function </span><span class="default">future_date1</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">$rep</span><span class="keyword">,</span><span class="default">$nod</span><span class="keyword">,</span><span class="default">$nom</span><span class="keyword">,</span><span class="default">$noy</span><span class="keyword">) {<br> </span><span class="default">$pre </span><span class="keyword">= array();<br>&nbsp; while (</span><span class="default">$rep </span><span class="keyword">&gt;= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$datyy</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$datmm</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$datdd</span><span class="keyword">=</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$datstart</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$fda</span><span class="keyword">=</span><span class="default">$datdd </span><span class="keyword">+ </span><span class="default">$nod</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$fmo</span><span class="keyword">=</span><span class="default">$datmm </span><span class="keyword">+ </span><span class="default">$nom</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$fyr</span><span class="keyword">=</span><span class="default">$datyy </span><span class="keyword">+ </span><span class="default">$noy</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$dat1</span><span class="keyword">=</span><span class="default">date</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$fmo</span><span class="keyword">,</span><span class="default">$fda</span><span class="keyword">,</span><span class="default">$fyr</span><span class="keyword">)).</span><span class="string">"&lt;BR&gt;"</span><span class="keyword">; <br>&nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$pre</span><span class="keyword">,</span><span class="default">$dat1</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">//echo $dat1; <br>&nbsp; &nbsp; </span><span class="default">$datstart</span><span class="keyword">=</span><span class="default">$dat1</span><span class="keyword">; <br>&nbsp; &nbsp; </span><span class="default">$rep</span><span class="keyword">--; <br>&nbsp; }<br>&nbsp; return </span><span class="default">$pre</span><span class="keyword">;<br>} <br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.strptime.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:18:50 GMT -->


</body></html>