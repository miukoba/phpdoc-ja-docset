<html><!-- Mirrored from php.net/manual/en/install.fpm.configuration.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:11 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Configuration</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="install.fpm.configuration.html">
 <link rel="shorturl" href="install.fpm.configuration.html">
 <link rel="alternate" href="install.fpm.configuration.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="install.fpm.html">
 <link rel="prev" href="install.fpm.install.html">
 <link rel="next" href="install.pecl.html">

 <link rel="alternate" href="install.fpm.configuration.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/install.fpm.configuration.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/install.fpm.configuration.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/install.fpm.configuration.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/install.fpm.configuration.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/install.fpm.configuration.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/install.fpm.configuration.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/install.fpm.configuration.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/install.fpm.configuration.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/install.fpm.configuration.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/install.fpm.configuration.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="install.html">Installation and Configuration</a></li>      <li><a href="install.fpm.html">FastCGI Process Manager (FPM)</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="install.fpm.configuration" class="sect1">
   <h2 class="title">Configuration</h2>
   <p class="para">
    FPM uses <var class="filename">php.ini</var> syntax for its configuration file - <var class="filename">php-fpm.conf</var>, and pool configuration files.
   </p>
   <div class="sect2"> 
    <h3 class="title">List of global <var class="filename">php-fpm.conf</var> directives</h3>
    <dl>

     
      <dt id="pid">
       <code class="parameter">pid</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para"> 
        Path to PID file. Default value: none.
       </p>
      </dd>

     
     
      <dt id="error-log">
       <code class="parameter">error_log</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Path to error log file. Default value:
        <em>#INSTALL_PREFIX#/log/php-fpm.log</em>.
       </p> 
      </dd>

     
     
      <dt id="log-level">
       <code class="parameter">log_level</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Error log level. Possible values: alert, error, warning, notice,
        debug. Default value: notice.
       </p> 
      </dd>

     
     
      <dt id="emergency-restart-threshold">
       <code class="parameter">emergency_restart_threshold</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        If this number of child processes exit with SIGSEGV or SIGBUS within
        the time interval set by <em>emergency_restart_interval</em> 
        then FPM will restart. A value of 0 means 'Off'. Default value: 0 (Off).
       </p> 
      </dd>

     
     
      <dt id="emergency-restart-interval">
       <code class="parameter">emergency_restart_interval</code>
       <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      </dt>

      <dd>

       <p class="para">
        Interval of time used by emergency_restart_interval to determine when
        a graceful restart will be initiated. This can be useful to work around
        accidental corruptions in an accelerator's shared memory.
        Available Units: s(econds), m(inutes), h(ours), or d(ays).
        Default Unit: seconds. Default value: 0 (Off).
       </p> 
      </dd>

     
     
      <dt id="process-control-timeout">
       <code class="parameter">process_control_timeout</code>
       <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      </dt>

      <dd>

       <p class="para">
        Time limit for child processes to wait for a reaction on signals from
        master. Available units: s(econds), m(inutes), h(ours), or d(ays)
        Default Unit: seconds. Default value: 0.
       </p> 
      </dd>

     
     
      <dt id="daemonize">
       <code class="parameter">daemonize</code>
       <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
      </dt>

      <dd>

       <p class="para">
        Send FPM to background. Set to 'no' to keep FPM in foreground for
        debugging. Default value: yes.
       </p> 
      </dd>

     
    </dl>

   </div>

   <div class="sect2"> 
    <h3 class="title">List of pool directives</h3>
    <p class="para">
     With FPM you can run several pools of processes with different setting.
     These are settings that can be tweaked per pool. 
    </p>
    <dl>

     
      <dt id="listen">
       <code class="parameter">listen</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        The address on which to accept FastCGI requests. Valid syntaxes are:
        'ip.add.re.ss:port', 'port', '/path/to/unix/socket'. This option is
        mandatory for each pool.
       </p> 
      </dd>

     
     
      <dt id="listen-backlog">
       <code class="parameter">listen.backlog</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        Set listen(2) backlog. A value of '-1' means unlimited. Default value:
        -1.
       </p> 
      </dd>

     
     
      <dt id="listen-allowed-clients">
       <code class="parameter">listen.allowed_clients</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        List of ipv4 addresses of FastCGI clients which are allowed to
        connect. Equivalent to the FCGI_WEB_SERVER_ADDRS environment variable in the
        original PHP FastCGI (5.2.2+). Makes sense only with a tcp listening socket.
        Each address must be separated by a comma. If this value is left blank,
        connections will be accepted from any ip address. Default value: any.
       </p> 
      </dd>

     
     
      <dt id="listen-owner">
       <code class="parameter">listen.owner</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Set permissions for unix socket, if one is used. In Linux, read/write
        permissions must be set in order to allow connections from a web
        server. Many BSD-derived systems allow connections regardless of permissions.
        Default values: user and group are set as the running user, mode is set to 0660.
       </p> 
      </dd>

     
     
      <dt id="listen-group">
       <code class="parameter">listen.group</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        See <em>listen.owner</em>.
       </p> 
      </dd>

     
     
      <dt id="listen-mode">
       <code class="parameter">listen.mode</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        See <em>listen.owner</em>.
       </p> 
      </dd>

     
     
      <dt id="user">
       <code class="parameter">user</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Unix user of FPM processes. This option is mandatory.
       </p> 
      </dd>

     
     
      <dt id="group">
       <code class="parameter">group</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Unix group of FPM processes. If not set, the default user's group is
        used. 
       </p> 
      </dd>

     
     
      <dt id="pm">
       <code class="parameter">pm</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Choose how the process manager will control the number of child
        processes. Possible values: <em>static</em>, <em>ondemand</em>,
        <em>dynamic</em>. 
        This option is mandatory.
       </p>
       <p class="para">
        <em>static</em> - the number of child processes is fixed (<em>pm.max_children</em>).
       </p>
       <p class="para">
        <em>ondemand</em> - the processes spawn on demand (when requested,
        as opposed to dynamic, where <em>pm.start_servers</em> are started
        when the service is started.
       </p>
       <p class="para">
        <em>dynamic</em> - the number of child processes is set dynamically based on the
        following directives: <em>pm.max_children</em>, <em>pm.start_servers</em>, 
        <em>pm.min_spare_servers</em>, <em>pm.max_spare_servers</em>.
       </p>
      </dd>

     
     
      <dt id="pm.max-chidlren">
       <code class="parameter">pm.max_children</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        The number of child processes to be created when <em>pm</em> is set to
        <em>static</em> and the maximum number of child processes to be created 
        when <em>pm</em> is set to <em>dynamic</em>. This
        option is mandatory.
       </p>
       <p class="para">
        This option sets the limit on the number of simultaneous requests that
        will be served. Equivalent to the ApacheMaxClients directive with
        mpm_prefork and to the <var class="varname"><var class="varname">PHP_FCGI_CHILDREN</var></var> environment variable in the
        original PHP FastCGI.
       </p>
      </dd>

     
     
      <dt id="pm.start-servers">
       <code class="parameter">pm.start_servers</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        The number of child processes created on startup. 
        Used only when <em>pm</em> is set to <em>dynamic</em>.
        Default Value: min_spare_servers + (max_spare_servers -
        min_spare_servers) / 2.
       </p> 
      </dd>

     
     
      <dt id="pm.min-spare-servers">
       <code class="parameter">pm.min_spare_servers</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        The desired minimum number of idle server processes. Used only when
        <em>pm</em> is set to <em>dynamic</em>. Also
        mandatory in this case.
       </p> 
      </dd>

     
     
      <dt id="pm.max-spare-servers">
       <code class="parameter">pm.max_spare_servers</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        The desired maximum number of idle server processes. Used only when
        <em>pm</em> is set to <em>dynamic</em>. Also
        mandatory in this case.
       </p> 
      </dd>

     
     
      <dt id="pm.max-requests">
       <code class="parameter">pm.max_requests</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        The number of requests each child process should execute before
        respawning. This can be useful to work around memory leaks in 3rd party
        libraries. For endless request processing specify '0'. Equivalent to
        <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var>. Default value: 0.
       </p> 
      </dd>

     
     
      <dt id="pm.status-path">
       <code class="parameter">pm.status_path</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        The URI to view the FPM status page. If this value is not set, no URI
        will be recognized as a status page. Default value: none.
       </p> 
      </dd>

     
     
      <dt id="ping.path">
       <code class="parameter">ping.path</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        The ping URI to call the monitoring page of FPM. If this value is not
        set, no URI will be recognized as a ping page. This could be used to test
        from outside that FPM is alive and responding. Please note that the value must
        start with a leading slash (/).
       </p> 
      </dd>

     
     
      <dt id="ping.response">
       <code class="parameter">ping.response</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        This directive may be used to customize the response to a ping
        request. The response is formatted as text/plain with a 200 response code.
        Default value: pong.
       </p> 
      </dd>

     
     
      <dt id="request-terminate-timeout">
       <code class="parameter">request_terminate_timeout</code>
       <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      </dt>

      <dd>

       <p class="para">
        The timeout for serving a single request after which the worker
        process will be killed. This option should be used when the 'max_execution_time'
        ini option does not stop script execution for some reason. A value of '0' means
        'Off'. Available units: s(econds)(default), m(inutes), h(ours), or d(ays).
        Default value: 0.
       </p> 
      </dd>

     
     
      <dt id="request-slowlog-timeout">
       <code class="parameter">request_slowlog_timeout</code>
       <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
      </dt>

      <dd>

       <p class="para">
        The timeout for serving a single request after which a PHP backtrace
        will be dumped to the 'slowlog' file. A value of '0' means 'Off'.
        Available units: s(econds)(default), m(inutes), h(ours), or d(ays).
        Default value: 0.
       </p> 
      </dd>

     
     
      <dt id="slowlog">
       <code class="parameter">slowlog</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        The log file for slow requests. Default value:
        <em>#INSTALL_PREFIX#/log/php-fpm.log.slow</em>.
       </p> 
      </dd>

     
     
      <dt id="rlimit-files">
       <code class="parameter">rlimit_files</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        Set open file descriptor rlimit. Default value: system defined value.
       </p> 
      </dd>

     
     
      <dt id="rlimit-core">
       <code class="parameter">rlimit_core</code>
       <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>
      </dt>

      <dd>

       <p class="para">
        Set max core size rlimit. Possible Values: 'unlimited' or an integer greater or equal to 0.
        Default value: system defined value.
       </p> 
      </dd>

     
     
      <dt id="chroot">
       <code class="parameter">chroot</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Chroot to this directory at the start. This value must be defined as
        an absolute path. When this value is not set, chroot is not used.
       </p> 
      </dd>

     
     
      <dt id="chdir">
       <code class="parameter">chdir</code>
       <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
      </dt>

      <dd>

       <p class="para">
        Chdir to this directory at the start. This value must be an absolute
        path. Default value: current directory or / when chroot.
       </p> 
      </dd>

     
     
      <dt id="catch-workers-output">
       <code class="parameter">catch_workers_output</code>
       <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
      </dt>

      <dd>

       <p class="para">
        Redirect worker stdout and stderr into main error log. If not set,
        stdout and stderr will be redirected to /dev/null according to FastCGI specs.
        Default value: no.
       </p> 
      </dd>

     
    </dl>

    <p class="para">
     It's possible to pass additional environment variables and update PHP settings of a certain pool.
     To do this, you need to add the following options to the pool configuration file.
     </p><div class="example" id="example-73">
      <p><strong>Example #1 Passing environment variables and PHP settings to a pool</strong></p>
      <div class="example-contents">
<div class="inicode"><pre class="inicode">env[HOSTNAME] = $HOSTNAME
env[PATH] = /usr/local/bin:/usr/bin:/bin
env[TMP] = /tmp
env[TMPDIR] = /tmp
env[TEMP] = /tmp

php_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f www@my.domain.com
php_flag[display_errors] = off
php_admin_value[error_log] = /var/log/fpm-php.www.log
php_admin_flag[log_errors] = on
php_admin_value[memory_limit] = 32M</pre>
</div>
      </div>

     </div>
     PHP settings passed with <em>php_value</em> or
     <em>php_flag</em> will overwrite their previous value.
     Please note that defining 
     <a href="ini.core.html#ini.disable-functions" class="link">disable_functions</a> or 
     <a href="ini.core.html#ini.disable-classes" class="link">disable_classes</a> will
     not overwrite previously defined <var class="filename">php.ini</var> values, 
     but will append the new value instead.
    <p></p>
    <p class="para">
     Settings defined with <em>php_admin_value</em> and <em>php_admin_flag</em>
     cannot be overriden with <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span>.
    </p>
    <p class="para">
     As of 5.3.3, PHP settings are also possible to be set in webserver.
     </p><div class="example" id="example-74">
      <p><strong>Example #2 set PHP settings in nginx.conf</strong></p>
      <div class="example-contents">
       <div class="inicode"><pre class="inicode">set $php_value "pcre.backtrack_limit=424242";
set $php_value "$php_value \n pcre.recursion_limit=99999";
fastcgi_param  PHP_VALUE $php_value;

fastcgi_param  PHP_ADMIN_VALUE "open_basedir=/var/www/htdocs";</pre>
</div>
      </div>

     </div>
     <div class="caution"><strong class="caution">Caution</strong>
      <p class="para">
       Because these settings are passed to php-fpm as fastcgi headers,
       php-fpm should not be bound to a worldwide accessible address.
       Otherwise, anyone could alter the PHP configuration options.
       See also 
       <a href="install.fpm.configuration.html#listen-allowed-clients" class="link">listen.allowed_clients</a>.
      </p>
     </div>
    <p></p>
   </div>
   
  </div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="111414">  
  <a class="name">
  <strong class="user"><em>sroussey at gmail dot com</em></strong></a><div class="date" title="2013-02-18 12:15"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111414">
<div class="phpcode"><code><span class="html">
Starting in 5.3.9 the security.limit_extensions configuration item has been added and it defaults to .php. If you need to execute other extensions, you have to change this setting.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104172">  
  <a class="name">
  <strong class="user"><em>Frank DENIS</em></strong></a><div class="date" title="2011-05-29 11:23"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104172">
<div class="phpcode"><code><span class="html">
The default value for listen.backlog isn't exactly "unlimited".<br><br>It's 128 on some operating systems, and -1 (which doesn't mean "unlimited" as well, but is an alias to a hard limit) on other systems.<br><br>Check for a sysctl value like kern.somaxconn (OpenBSD) or net.core.somaxconn (Linux).<br><br>Crank it up if you need more PHP workers than the default value. Then adjust listen.backlog in your php-fpm configuration file to the same value.<br><br>-Frank.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114193">  
  <a class="name">
  <strong class="user"><em>Yousef Ismaeil Cliprz</em></strong></a><div class="date" title="2014-01-23 02:03"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114193">
<div class="phpcode"><code><span class="html">
Check if fastCGI enabled<br><br><span class="default">&lt;?php<br></span><span class="comment">// You can use isset or is_null for $_SERVER['FCGI_SERVER_VERSION']<br></span><span class="keyword">function </span><span class="default">isFastCGI </span><span class="keyword">() {<br>&nbsp; &nbsp; return !</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'FCGI_SERVER_VERSION'</span><span class="keyword">]);<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114961">  
  <a class="name">
  <strong class="user"><em>gadnet at aqueos dot com</em></strong></a><div class="date" title="2014-05-06 02:24"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom114961">
<div class="phpcode"><code><span class="html">
the doc is lacking a lot of things it seems.<br><br>&nbsp; The php fpm exemple config file indicate different thing, more option etc... I wonder why the main documentation is less verbose that the configuration file that user can have .. or not have ?</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/install.fpm.configuration.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:11 GMT -->


</body></html>