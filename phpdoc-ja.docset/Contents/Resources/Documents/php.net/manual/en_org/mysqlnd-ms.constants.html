<html><!-- Mirrored from php.net/manual/en/mysqlnd-ms.constants.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:00:00 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Predefined Constants</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="mysqlnd-ms.constants.html">
 <link rel="shorturl" href="mysqlnd-ms.constants.html">
 <link rel="alternate" href="mysqlnd-ms.constants.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.mysqlnd-ms.html">
 <link rel="prev" href="mysqlnd-ms.plugin-ini-json.html">
 <link rel="next" href="ref.mysqlnd-ms.html">

 <link rel="alternate" href="mysqlnd-ms.constants.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/mysqlnd-ms.constants.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/mysqlnd-ms.constants.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/mysqlnd-ms.constants.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/mysqlnd-ms.constants.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/mysqlnd-ms.constants.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/mysqlnd-ms.constants.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/mysqlnd-ms.constants.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/mysqlnd-ms.constants.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/mysqlnd-ms.constants.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/mysqlnd-ms.constants.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqlnd-ms.html">mysqlnd_ms</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="mysqlnd-ms.constants" class="appendix">
 <h1>Predefined Constants</h1>

 <p class="simpara">
The constants below are defined by this extension, and
will only be available when the extension has either
been compiled into PHP or dynamically loaded at runtime.
</p>

 <p class="para">
  <em class="emphasis">SQL hint related</em>
 </p>
 <p class="para">
  </p><div class="example" id="example-1929">
   <p><strong>Example #1 Example demonstrating the usage of mysqlnd_ms constants</strong></p>
   <div class="example-contents"><p>
    The mysqlnd replication and load balancing plugin (<em>mysqlnd_ms</em>)
    performs read/write splitting. This directs write queries to a MySQL
    master server, and read-only queries to the MySQL slave servers.
    The plugin has a built-in read/write split logic.
    All queries which start with <em>SELECT</em> are considered read-only
    queries, which are then sent to a MySQL slave server that is listed in
    the plugin configuration file. All other queries are directed to the
    MySQL master server that is also specified in the plugin configuration file.
   </p></div>
   <div class="example-contents"><p>
    User supplied SQL hints can be used to overrule automatic read/write splitting,
    to gain full control on the process. SQL hints are standards compliant
    SQL comments. The plugin will scan the beginning of a query string for
    an SQL comment for certain commands, which then control query redirection.
    Other systems involved in the query processing are unaffected by the
    SQL hints because other systems will ignore the SQL comments.
   </p></div>
   <div class="example-contents"><p>
    The plugin supports three SQL hints to direct queries to either the MySQL slave
    servers, the MySQL master server, or the last used MySQL server. SQL hints
    must be placed at the beginning of a query to be recognized by the plugin.
   </p></div>
   <div class="example-contents"><p>
    For better portability, it is recommended to use the string constants
    <strong><code>MYSQLND_MS_MASTER_SWITCH</code></strong>,
    <strong><code>MYSQLND_MS_SLAVE_SWITCH</code></strong> and
    <strong><code>MYSQLND_MS_LAST_USED_SWITCH</code></strong> instead of their literal
    values.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;Use&nbsp;constants&nbsp;for&nbsp;maximum&nbsp;portability&nbsp;*/<br></span><span style="color: #0000BB">$master_query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"/*"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">MYSQLND_MS_MASTER_SWITCH&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"*/SELECT&nbsp;id&nbsp;FROM&nbsp;test"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">/*&nbsp;Valid&nbsp;but&nbsp;less&nbsp;portable:&nbsp;using&nbsp;literal&nbsp;instead&nbsp;of&nbsp;constant&nbsp;*/<br></span><span style="color: #0000BB">$slave_query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"/*ms=slave*/SHOW&nbsp;TABLES"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"master_query&nbsp;=&nbsp;'%s'\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$master_query</span><span style="color: #007700">);<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"slave_query&nbsp;=&nbsp;'%s'\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$slave_query</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above examples will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>master_query = /*ms=master*/SELECT id FROM test
slave_query = /*ms=slave*/SHOW TABLES
</pre></div>
   </div>
  </div>
 <p></p>
 <p class="para">
  </p><dl>

   
    <dt id="constant.mysqlnd-ms-master-switch">
     <strong><code>MYSQLND_MS_MASTER_SWITCH</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      SQL hint used to send a query to the MySQL replication master server.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-slave-switch">
     <strong><code>MYSQLND_MS_SLAVE_SWITCH</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      SQL hint used to send a query to one of the MySQL replication slave servers.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-last-used-switch">
     <strong><code>MYSQLND_MS_LAST_USED_SWITCH</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      SQL hint used to send a query to the last used MySQL server. The last
      used MySQL server can either be a master or a slave server in a
      MySQL replication setup.
     </span>
    </dd>

   
  </dl>

 <p></p>

 <p class="para">
  <span class="function"><a href="function.mysqlnd-ms-query-is-select.html" class="function">mysqlnd_ms_query_is_select()</a></span>
  related
 </p>
 <p class="para">
  </p><dl>

   
    <dt id="constant.mysqlnd-ms-query-use-master">
     <strong><code>MYSQLND_MS_QUERY_USE_MASTER</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
     If <span class="function"><strong>mysqlnd_ms_is_select()</strong></span> returns
     <strong><code>MYSQLND_MS_QUERY_USE_MASTER</code></strong> for a given query, the
     built-in read/write split mechanism recommends sending the query to
     a MySQL replication master server.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-query-use-slave">
     <strong><code>MYSQLND_MS_QUERY_USE_SLAVE</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      If <span class="function"><strong>mysqlnd_ms_is_select()</strong></span> returns
      <strong><code>MYSQLND_MS_QUERY_USE_SLAVE</code></strong> for a given query, the
      built-in read/write split mechanism recommends sending the query to
      a MySQL replication slave server.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-query-use-last-used">
     <strong><code>MYSQLND_MS_QUERY_USE_LAST_USED</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      If <span class="function"><strong>mysqlnd_ms_is_select()</strong></span> returns
      <strong><code>MYSQLND_MS_QUERY_USE_LAST_USED</code></strong> for a given query, the
      built-in read/write split mechanism recommends sending the query to
      the last used server.
     </span>
    </dd>

   
  </dl>

 <p></p>

 <p class="para">
  <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span>,
  quality of service filter and service level related
 </p>
 <p class="para">
  </p><dl>

   
    <dt id="constant.mysqlnd-ms-qos-consistency-eventual">
     <strong><code>MYSQLND_MS_QOS_CONSISTENCY_EVENTUAL</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Use to request the service level eventual consistency from the
      <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span>. Eventual consistency is the
      default quality of service when reading from an asynchronous MySQL
      replication slave. Data returned in this service level may or may not
      be stale, depending on whether the selected slaves happen to have replicated
      the latest changes from the MySQL replication master or not.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-qos-consistency-session">
     <strong><code>MYSQLND_MS_QOS_CONSISTENCY_SESSION</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Use to request the service level session consistency from the
      <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span>. Session consistency
      is defined as read your writes. The client is guaranteed to see his
      latest changes.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-qos-consistency-strong">
     <strong><code>MYSQLND_MS_QOS_CONSISTENCY_STRONG</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Use to request the service level strong consistency from the
      <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span>. Strong consistency
      is used to ensure all clients see each others changes.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-qos-option-gtid">
     <strong><code>MYSQLND_MS_QOS_OPTION_GTID</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Used as a service level option with
      <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span> to parameterize session
      consistency.
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-qos-option-age">
     <strong><code>MYSQLND_MS_QOS_OPTION_AGE</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Used as a service level option with
      <span class="function"><a href="function.mysqlnd-ms-set-qos.html" class="function">mysqlnd_ms_set_qos()</a></span> to parameterize eventual
      consistency.
     </span>
    </dd>

   
  </dl>

 <p></p>

 <p class="para">
  <em class="emphasis">Other</em>
 </p>
 <p class="para">
  The plugins version number can be obtained using
  <strong><code>MYSQLND_MS_VERSION</code></strong> or
  <strong><code>MYSQLND_MS_VERSION_ID</code></strong>.
  <strong><code>MYSQLND_MS_VERSION</code></strong>
  is the string representation of the numerical version number
  <strong><code>MYSQLND_MS_VERSION_ID</code></strong>, which is an integer such as 10000.
  Developers can calculate the version number as follows.
 </p>
 <p class="para">
   </p><table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Version (part)</th>
      <th>Example</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>Major*10000</td>
      <td>1*10000 = 10000</td>
     </tr>

     <tr>
      <td>Minor*100</td>
      <td>0*100 = 0</td>
     </tr>

     <tr>
      <td>Patch</td>
      <td>0 = 0</td>
     </tr>

     <tr>
      <td>MYSQLND_MS_VERSION_ID</td>
      <td>10000</td>
     </tr>

    </tbody>
   
  </table>

 <p></p>
 <p class="para">
  </p><dl>

   
    <dt id="constant.mysqlnd-ms-version">
     <strong><code>MYSQLND_MS_VERSION</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Plugin version string, for example, "<span class="quote">1.0.0-prototype</span>".
     </span>
    </dd>

   
   
    <dt id="constant.mysqlnd-ms-version-id">
     <strong><code>MYSQLND_MS_VERSION_ID</code></strong>
     (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      Plugin version number, for example, 10000.
     </span>
    </dd>

   
  </dl>

 <p></p>

</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/mysqlnd-ms.constants.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:00:00 GMT -->


</body></html>