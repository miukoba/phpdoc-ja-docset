<html><!-- Mirrored from php.net/manual/en/ref.mysqli.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:59:54 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Aliases and deprecated Mysqli Functions</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="ref.mysqli.html">
 <link rel="shorturl" href="http://php.net/mysqli">
 <link rel="alternate" href="http://php.net/mysqli" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.mysqli.html">
 <link rel="prev" href="class.mysqli-sql-exception.html">
 <link rel="next" href="function.mysqli-bind-param.html">

 <link rel="alternate" href="ref.mysqli.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/ref.mysqli.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/ref.mysqli.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/ref.mysqli.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/ref.mysqli.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/ref.mysqli.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/ref.mysqli.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/ref.mysqli.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/ref.mysqli.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/ref.mysqli.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/ref.mysqli.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqli.html">Mysqli</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="ref.mysqli" class="reference">
 <h1 class="title">Aliases and deprecated Mysqli Functions</h1>

 







































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.mysqli-bind-param.html">mysqli_bind_param</a> — Alias for mysqli_stmt_bind_param</li><li><a href="function.mysqli-bind-result.html">mysqli_bind_result</a> — Alias for mysqli_stmt_bind_result</li><li><a href="function.mysqli-client-encoding.html">mysqli_client_encoding</a> — Alias of mysqli_character_set_name</li><li><a href="function.mysqli-connect.html">mysqli_connect</a> — Alias of mysqli::__construct</li><li><a href="function.mysqli-disable-reads-from-master.html">mysqli::disable_reads_from_master</a> — Disable reads from master</li><li><a href="function.mysqli-disable-rpl-parse.html">mysqli_disable_rpl_parse</a> — Disable RPL parse</li><li><a href="function.mysqli-enable-reads-from-master.html">mysqli_enable_reads_from_master</a> — Enable reads from master</li><li><a href="function.mysqli-enable-rpl-parse.html">mysqli_enable_rpl_parse</a> — Enable RPL parse</li><li><a href="function.mysqli-escape-string.html">mysqli_escape_string</a> — Alias of mysqli_real_escape_string</li><li><a href="function.mysqli-execute.html">mysqli_execute</a> — Alias for mysqli_stmt_execute</li><li><a href="function.mysqli-fetch.html">mysqli_fetch</a> — Alias for mysqli_stmt_fetch</li><li><a href="function.mysqli-get-cache-stats.html">mysqli_get_cache_stats</a> — Returns client Zval cache statistics</li><li><a href="function.mysqli-get-links-stats.html">mysqli_get_links_stats</a> — Return information about open and cached links</li><li><a href="function.mysqli-get-metadata.html">mysqli_get_metadata</a> — Alias for mysqli_stmt_result_metadata</li><li><a href="function.mysqli-master-query.html">mysqli_master_query</a> — Enforce execution of a query on the master in a master/slave setup</li><li><a href="function.mysqli-param-count.html">mysqli_param_count</a> — Alias for mysqli_stmt_param_count</li><li><a href="function.mysqli-report.html">mysqli_report</a> — Alias of of mysqli_driver-&gt;report_mode</li><li><a href="function.mysqli-rpl-parse-enabled.html">mysqli_rpl_parse_enabled</a> — Check if RPL parse is enabled</li><li><a href="function.mysqli-rpl-probe.html">mysqli_rpl_probe</a> — RPL probe</li><li><a href="function.mysqli-send-long-data.html">mysqli_send_long_data</a> — Alias for mysqli_stmt_send_long_data</li><li><a href="function.mysqli-set-opt.html">mysqli::set_opt</a> — Alias of mysqli_options</li><li><a href="function.mysqli-slave-query.html">mysqli_slave_query</a> — Force execution of a query on a slave in a master/slave setup</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="69933">  
  <a class="name">
  <strong class="user"><em>dan+php dot net-note-about-mysqli at obluda dot cz</em></strong></a><div class="date" title="2006-09-27 02:15"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69933">
<div class="phpcode"><code><span class="html">
Hints for upgrading PHP code from MySQL to MySQLi:<br><br>Note - MySQLi doesn't support persistent connection. If you need it, you must implement it by self. This case is not covered in this note.<br><br>First - change all occurences of MYSQL_ to MYSQLI_ and mysql_ to mysqli_<br><br>Most of changes is required because mysqli* functions has no implicit link argument, so it need to be added explicitly if not present already. Even if it is present, most mysqli_ functions require 'link' argument as first (and mandatory) argument instead of last (and optional) as required by mysql_ functions. So, we need to change order of arguments at least.<br><br>So, you need to found names of all mysql_ functions used in your code, check if it need reoder of parameters or add the link parameter. Only *_connect() functions need review, but most scripts contain only few connect call.<br><br>If you use functions deprecated in mysql, then may not be impemented in mysqli. Those need to be reimplemented if required. In most case, it's very simple. In advance, PHP script written by carefull programer should not contain deprecated calls, so it's not problem in most cases at all.<br><br>Most of scripts I ported from mysql_ to mysqli_ can be converted by simple sed script followed by *_connect() function call review only. Especially when when programmer doesn't used the link as implicit argument and doesn't use deprecated functions the conversion of PHP source is trivial task and converted script work with no problem.<br><br>Special handling of some functions:<br><br>mysql_connect(),mysql_pconnect()<br>-----------------------------------------<br>Call with 3 or less parameters need not to be modified.<br>4-parameters call - delete 4th parameter as mysqli is always non-persistent<br>5-parameters - replace it by sequence of mysqli_init();mysqli_options();mysqli_real_connect()<br><br>mysql_create_db(), mysql_drop_db(), mysql_list_dbs(), mysql_db_name(),mysql_list_fields(), mysql_list_processes(), mysql_list_tables(), mysql_db_query(),mysql_table_name()<br>------------------------------------------<br>mysqli variant doesn't exist (those functions has been deprecated even in mysql_) but it's easy to reimplement each of it. Use apropropriate SQL command followed by standard loop for processing query results where applicable. If no connection to server yet you need to use explicit mysqli_connect call.<br><br>mysql_result()<br>-----------------<br>mysqli variant doesn't exist. Use one of mysqli_fetch_* variant (depending of type of mysql_result() third argument)<br><br>mysql_unbuffered_query()<br>-----------------<br>mysqli variant doesn't exist. Use mysqli_real_query()</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115611">  
  <a class="name">
  <strong class="user"><em>nulled elitscripts2000 at yahoo dot com</em></strong></a><div class="date" title="2014-08-26 01:00"><strong>2 days ago</strong></div>
  <div class="text" id="Hcom115611">
<div class="phpcode"><code><span class="html">
If you need to install mysqli extension there is no need to recompile PHP5 pr PHP5-fpm... <br><br>apt-get install php5-mysqlnd<br><br>Will install mysql and mysqli and mysqlnd<br><br>If you compile PHP from source then yes add the -use-mysqli in compile config.<br><br>This is Debian and Ubuntu.&nbsp; Or at least Ubuntu.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81778">  
  <a class="name">
  <strong class="user"><em>jeff at coderforlife dot com</em></strong></a><div class="date" title="2008-03-12 11:37"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81778">
<div class="phpcode"><code><span class="html">
It looks as though mysqli persistent connections will be available by default in PHP 6.<br><br>The source code for the mysqli PHP 6 module is here in the mysql SVN:<br><a rel="nofollow" target="_blank">http://svn.mysql.com/svnpublic/</a><br>php-mysqlnd/trunk/php6/ext/mysqli/mysqli.c<br><br>It has a ton a of references to persistence, and the ini setting for enabling persistence is true by default.<br><br>To bad this isn't be integrated into the latest PHP 5 builds.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79090">  
  <a class="name">
  <strong class="user"><em>swong</em></strong></a><div class="date" title="2007-11-10 07:48"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79090">
<div class="phpcode"><code><span class="html">
If you want to extend mysqli and establish an connection with SSL authentication, the followings may be useful.<br>(note: not all php-mysqli supports mysqli_ssl_set())<br><br>class DataAccess extends mysqli<br>{<br>&nbsp; &nbsp; function __construct(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $hostname, $username, $passwd=null, $dbname=null,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $port=null, $socket=null, $flags=null,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $privatekey=null, $certificate=null, $caCertificate=null)<br>&nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $link = parent::init();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($privatekey!=null &amp;&amp; $certificate!=null &amp;&amp; $caCertificate!=null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $link-&gt;ssl_set($privatekey, $certificate, $caCertificate,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; dirname($caCertificate),NULL);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent::__construct($hostname, $username,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $passwd, $dbname, $port, $socket);<br>&nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .....<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76156">  
  <a class="name">
  <strong class="user"><em>smurf at smurf dot noris dot de</em></strong></a><div class="date" title="2007-07-03 05:45"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76156">
<div class="phpcode"><code><span class="html">
Yay. No more persistent connections. I am NOT happy about that.<br><br>As soon as you get more than 250 requests per second (ever been slashdotted?) there will not be any more free TCP ports for talking to the database server, because each TCP port will be kept in TIME_WAIT for two minutes and there are only 30000 ports in the local range.<br><br>And that's not the only problem. There's also more than twice the packet rate on the network link to the database. Frankly I'd like my CPUs to spend their cycles on something producive. :-/</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67971">  
  <a class="name">
  <strong class="user"><em>chris &lt;at&gt; gerlt.net</em></strong></a><div class="date" title="2006-07-07 11:47"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom67971">
<div class="phpcode"><code><span class="html">
For installing mysqli extension after PHP is installed on a Linux ubuntu ( or other linux distro with apt-get such as debian, etc...):<br><br># apt-get install php5-mysqli<br><br>NOTE: after install, you need to reboot apache<br># apache2ctl graceful</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67538">  
  <a class="name">
  <strong class="user"><em>Docey</em></strong></a><div class="date" title="2006-06-08 11:11"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom67538">
<div class="phpcode"><code><span class="html">
It should be noticed that mysqli does not support persistent<br>connections, so do not bother about implementing them<br>unless you got a million hits an hour on your website.<br><br>also about using both mysql and mysqli, i want to note <br>that under windows the best approach is to load either <br>mysql or mysqli at runtime not both. <br><br>i know that under php5 this is deprecated but it seems <br>to work fine. i used the same appoach under debian-linux<br>and seems to work aswell. just don't know for the <br>speed cost. maybe someone can benchmark this out.<br><br>just my 2 eurocents.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62794">  
  <a class="name">
  <strong class="user"><em>kronicade@yahoo</em></strong></a><div class="date" title="2006-03-09 11:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62794">
<div class="phpcode"><code><span class="html">
Same problem, no solution.&nbsp; I'm running Solaris sparc with mysql 4.1.12.&nbsp; I've tried every config command I can think of and have modified my PATH as follows:<br><br>setenv PATH /usr/ccs/bin:<br>/usr/local/bin:<br>/usr/local/ipw/bin:<br>/usr/local/ipw/contrib/bin:<br>/sbin:/usr/sbin:<br>/usr/bin:<br>/usr/bin/X11:<br>/usr/ucb:<br>/usr/openwin/bin<br><br>./configure '--prefix=/usr/local/php' '--localstatedir=/usr/local'&nbsp; '--mandir=/usr/share/man' '--with-mysqli=/usr/local/mysql/bin/mysql_config' '--includedir=/usr/lib' '--enable-shared=max'&nbsp; '--enable-module=most'&nbsp; '--with-imap=/usr/local/imap'&nbsp; '--with-imap-ssl=/usr/local/ssl'&nbsp; '--with-apxs2=/usr/local/apache2/bin/apxs'&nbsp; '--enable-fastcgi'&nbsp; '--enable-mbstring=all'&nbsp; '--with-zlib-dir=/usr'&nbsp; '--with-openssl=/usr/local/ssl'<br><br>I think it's a compatibility issue with the version of mysql running 64-bit.<br><br>-Andrew</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60654">  
  <a class="name">
  <strong class="user"><em>Michael &lt;mstclaire at myprintflow dot com&gt;</em></strong></a><div class="date" title="2006-01-12 07:10"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60654">
<div class="phpcode"><code><span class="html">
I was running into some random issues using the myqli extension with MySQL 5 on Mac OS X. <br><br>I discovered that when I compiled php 5 with the --with-mysqli flag, it was building php with the pre-installed MySQL 4 client libraries.<br><br>Heres how it fixed it to build php with the correct MySQL client libraries.<br><br>----------------<br>I had installed the binary version of MySQL 5 from MySQL AB. It installs everything in the default location /usr/local/mysql, which is fine. The MySQL version that comes with OS X ( v.4.x, depends on your OS X version ) installs the mysql_config help utility at /usr/bin/mysql_config. When php configs, it uses that one by default, inheritently using the wrong MySQL client libs.<br><br>No problem I thought, I just changed the --with-mysqli flag to --with-mysqli=/usr/local/mysql/bin/mysql_config ( or sudo find / -name mysql_config to find yours ). Nope, php throws a build error because it can't find the matching libraries. Hmmm...<br><br>So i tested /usr/local/mysql/bin/mysql_config --version, and I am shown my most current MySQL install. The problem is that the binary editions for OS X DO NOT include the shared libs ( libmysqlclient.dylib ). Oh no, I did not want to compile MySQL myself, not because I don't know how, but because MySQL AB does not recommend it, and for good reasons. Trust me, I've found out the hard way.<br><br>So what do you do? Download the source version of MySQL 5 that matches my binary version. <br><br>Configure MySQL:<br><br>./configure --enable-shared ( it's listed as ON as default, but I want to be sure )<br><br>Build MySQL:<br><br>make ( requires Developer Tools, but you knew that )<br><br>DO NOT make install !!! I repeat, DO NOT make install unless you really wish to overwrite your binary verions, which is not a good idea. ( You can configure MySQL with the --without-server flag, but I want to be certain I don't mess up )<br><br>Ok, almost done. Go to the lib directory in your MySQL build location and go to the invisible directory, .libs . There you will find your shared libraries, namely libmysqlclient.15.0.0.dylib.<br><br>Copy this to your /usr/local/mysql/lib directory. Now do the following from the lib directory:<br><br>ln -s libmysqlclient.15.0.0.dylib libmysqlclient.15.dylib <br>ln -s libmysqlclient.15.0.0.dylib libmysqlclient.dylib <br>mkdir mysql<br>cd mysql<br>ln -s ../libmysqlclient.15.0.0.dylib libmysqlclient.15.0.0.dylib <br>ln -s ../libmysqlclient.15.0.0.dylib libmysqlclient.15.dylib <br>ln -s ../libmysqlclient.15.0.0.dylib libmysqlclient.dylib <br><br>Now you can build your php with the correct library. After you build, check your phpinfo(); to validate the client version under the mysqli section. When I restarted Apache, it originally couldn't find my libraries, thus the /usr/local/mysql/lib/mysql directory.<br><br>Hope this helped.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55490">  
  <a class="name">
  <strong class="user"><em>arjen at mysql dot com</em></strong></a><div class="date" title="2005-08-04 01:26"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55490">
<div class="phpcode"><code><span class="html">
John Coggeshall wrote a PHP5 ext/mysqli compatibility script for applications that still use the old ext/mysql functions. This prevents the hassle of trying to have both the mysql and mysqli extensions loaded in PHP5, which can be tricky.
<br>
<br>The script is at:
<br><a rel="nofollow" target="_blank">http://www.coggeshall.org/oss/mysql2i/</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="50240">  
  <a class="name">
  <strong class="user"><em>Andrei Nazarenko</em></strong></a><div class="date" title="2005-02-22 11:21"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50240">
<div class="phpcode"><code><span class="html">
If you are having trouble compiling PHP5 with MySQLi support on Linux and getting a message:<br>"configure: error: wrong mysql library version or lib not found" <br>and the config.log shows an error about -lnss_files being not found, here is the solution:<br><br>edit your mysql_config file and *REMOVE* all&nbsp; "-lnss_files" AND "-lnss_dns" entries from it.<br>After that PHP should not complain anymore.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49871">  
  <a class="name">
  <strong class="user"><em>neil</em></strong></a><div class="date" title="2005-02-10 02:15"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49871">
<div class="phpcode"><code><span class="html">
I have spent far too much time finding this answer:<br><br>Since PHP5 many many people are having installation problems.&nbsp; I found many apps were broken when I upgraded to version 5.&nbsp; I tried to install mysql and mysqli and had problems.<br><br>Here's the solution:<br><br>After doing:<br><br> ./configure --with-mysql=/path/to/mysql_config --with-mysqli=/path/to/mysql_config<br><br>do this:<br><br>"<br>&nbsp; &nbsp; if you want to use both the old mysql and the new mysqli interface, load the Makefile into your editor and search for the line beginning with EXTRA_LIBS; it includes -lmysqlclient twice; remove the second instance<br>"<br><br>then you can:<br><br>make<br>make install<br><br>......<br>Please note:&nbsp; the mysql-dev must be installed or you won't have a mysql_config anywhere.&nbsp; I installed the mysql-dev rpm<br><br>Further note:&nbsp; the information about the Makefile's duplicate instances of "-libmysqlclient" came from Michael Kofler.&nbsp; Thanks should be directed to him.&nbsp; He gives more details at the following link:<br><br><a rel="nofollow" target="_blank">http://www.kofler.cc/forum/forumthread.php?rootID=3571</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="49610">  
  <a class="name">
  <strong class="user"><em>php at arwin dot net</em></strong></a><div class="date" title="2005-02-02 03:32"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49610">
<div class="phpcode"><code><span class="html">
For those having trouble compiling with both --with-mysql AND --with-mysqli, I found a solution at this URL:<br><br><a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=29860&amp;edit=1</a><br><br>rjanson at msn dot com writes:<br><br>OK, finally an answer!<br><br>I checked Makefile and found the following line:<br><br>EXTRA_LIBS = -lcrypt -lcrypt -lmysqlclient -lpng -lz -lz -lresolv -lm<br>-ldl -lnsl -lxml2 -<br>lz -lm -lxml2 -lz -lm -lmysqlclient -lcrypt -lnsl -lm -lz -lnss_files<br>-lnss_dns -lresolv -lnss_files<br> -lnss_dns -lresolv -lxml2 -lz -lm -lcrypt -lxml2 -lz -lm -lcrypt <br><br>By removing one of the -lmysqlclient entries on this line I was able to<br>successfully make and make install with both mysql and mysqli. As<br>confirmed by phpInfo().<br><br>I'm not sure why the other libs have multiple entries and don't cause<br>make to crash.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47298">  
  <a class="name">
  <strong class="user"><em>Yair Lapin</em></strong></a><div class="date" title="2004-11-10 07:28"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47298">
<div class="phpcode"><code><span class="html">
I successed to install php support for a mysql 4.1.7 database after several attempts because the instructions are not clear.<br>I have a server with linux SuSe 9 enterprise with apache 1.3.31. I installed mysql from rpm files, i installed php 4.3.9 as dynamic library. this version database needs its own client library else the mysql functions in php will not work.<br>configuration must be as following:<br><br>./configure --with-msqli=/usr/bin/mysql_config --with-mysql=/usr&nbsp; --with-apxs=/usr/local/apache/bin/apxs<br><br> Must be installed in your machine the correct mysql librery:<br><br>MySQL-devel-4.1.7-0<br>MySQL-shared-4.1.7-0</span>
</code></div>
  </div>
 </div>
  <div class="note" id="45639">  
  <a class="name">
  <strong class="user"><em>nathansquires at pacbell dot net</em></strong></a><div class="date" title="2004-09-13 10:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom45639">
<div class="phpcode"><code><span class="html">
If you want to build php with both the Mysql and mysqli extensions, make sure your mysql distribution comes with shared libraries or build mysql yourself with shared libraries. With only static mysql libraries the compile process will fail.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44684">  
  <a class="name">
  <strong class="user"><em>severin dot kacianka at aon dot at</em></strong></a><div class="date" title="2004-08-12 03:55"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44684">
<div class="phpcode"><code><span class="html">
I tryed Marco Kaiser's way of getting both mysql_* and mysqli_*, but it failed for me. However I could get it working this way: <br>First of all I installed the MySQL 4.1.3 binary disribution acourding to the manual. Then I simply passed these ./configure arguments: <br><br>--with-mysql=/path/to/mysql4.1.3<br>--with-mysqli=/path/to/mysql4.1.3/bin/mysql_config<br><br>This enabled both, the mysql_* and mysqli_* functions. <br><br>Severin Kacianka</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43333">  
  <a class="name">
  <strong class="user"><em>philip</em></strong></a><div class="date" title="2004-06-17 03:51"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43333">
<div class="phpcode"><code><span class="html">
A couple tutorials on the subject of mysqli:<br>* <a rel="nofollow" target="_blank">http://www.zend.com/php5/articles/php5-mysqli.php</a><br>* <a rel="nofollow" target="_blank">http://www.zend.com/php5/articles/php5-mysqli2.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="41384">  
  <a class="name">
  <strong class="user"><em>phoeniks[at]nm[dot]ru</em></strong></a><div class="date" title="2004-04-08 03:21"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41384">
<div class="phpcode"><code><span class="html">
Here is a little sample to do fast hierarchical queries using new prepared statements
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// Root - lowest start element
<br>// Top&nbsp; - most top element
<br>// stack - array for storing info
<br>
<br></span><span class="keyword">function </span><span class="default">tree_rise</span><span class="keyword">(</span><span class="default">$root</span><span class="keyword">, &amp;</span><span class="default">$stack</span><span class="keyword">, </span><span class="default">$top </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">$mysqli </span><span class="keyword">= </span><span class="default">mysqli_connect</span><span class="keyword">(</span><span class="string">'localhost'</span><span class="keyword">, </span><span class="string">'root'</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$top&nbsp; </span><span class="keyword">= (int)</span><span class="default">$top</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$stmt </span><span class="keyword">= </span><span class="default">mysqli_prepare</span><span class="keyword">(</span><span class="default">$mysqli</span><span class="keyword">, </span><span class="string">"SELECT id, pid, title FROM news.strg WHERE id = ? LIMIT 1"</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysqli_stmt_bind_param</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">, </span><span class="string">"i"</span><span class="keyword">, </span><span class="default">$root</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysqli_stmt_execute</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysqli_stmt_store_result</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">);
<br>&nbsp; </span><span class="default">mysqli_bind_result</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$root</span><span class="keyword">, </span><span class="default">$title</span><span class="keyword">);
<br>
<br>&nbsp; while (</span><span class="default">mysqli_fetch</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">)) {
<br>&nbsp; &nbsp; </span><span class="default">$stack</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">] = </span><span class="default">$title</span><span class="keyword">;
<br>&nbsp; &nbsp; if (</span><span class="default">$root </span><span class="keyword">!= </span><span class="default">$top </span><span class="keyword">&amp;&amp; !</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$root</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">mysqli_stmt_execute</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">mysqli_stmt_store_result</span><span class="keyword">(</span><span class="default">$stmt</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; }
<br>&nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82365">  
  <a class="name">
  <strong class="user"><em>Daniel Sowden</em></strong></a><div class="date" title="2008-04-08 03:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82365">
<div class="phpcode"><code><span class="html">
I had a problem compiling PHP 5.2.5 with mysqli enabled on Mac OS X. Whether this problem was unique to me I do not no, so I am posting this for anybody else that runs into the same problem. Configure would run right to the end, but I had it telling me something had failed and that it was likely messed up. Upon checking debug.log I noticed this:<br><br>dyld: Library not loaded: /usr/local/mysql/lib/mysql/libmysqlclient.15.dylib<br>Referenced from: /Users/daniel/desktop/php -5.2.5/sapi/cli/php<br>Reason: image not found<br>/bin/sh: line 1: /Users/daniel/desktop/php -5.2.5/tmp-php.ini: Permission denied<br>dyld: Library not loaded: /usr/local/mysql/lib/mysql/libmysqlclient.15.dylib<br>Referenced from: /Users/daniel/desktop/php -5.2.5/sapi/cli/php<br>Reason: image not found<br>make: [test] Error 133 (ignored)<br><br>After screwing around for an hour and screaming many profanities at my computer I looked back at the error and noticed:<br><br>"/usr/local/mysql/lib/&lt;b&gt;mysql/&lt;/b&gt;libmysqlclient.15.dylib<br><br>Why it was using this path I do not know, but I headslapped when I realised how simple it was! I solved the problem by creating a link called mysql that linked back on itself:<br><br>cd /usr/local/mysql/lib<br>sudo ln -s ./ mysql<br><br>Problem solved! I probably should have figured out why it was doing this instead, but this was easier and saved me from allot more frustration.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78225">  
  <a class="name">
  <strong class="user"><em>marcus at synchromedia dot co dot uk</em></strong></a><div class="date" title="2007-10-03 09:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78225">
<div class="phpcode"><code><span class="html">
For those having trouble getting MySQLi to work, there is another way that is set to become much more common:<br><br><a rel="nofollow" target="_blank">http://dev.mysql.com/downloads/connector/php-mysqlnd/</a><br><br>This is the new MySQL native driver which has been backported from PHP6 and replaces MySQLi with a version that doesn't require any local MySQL client libraries or binaries.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/ref.mysqli.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:59:55 GMT -->


</body></html>