<html><!-- Mirrored from php.net/manual/en/function.call-user-func.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:37 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>call_user_func</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.call-user-func.html">
 <link rel="shorturl" href="http://php.net/call-user-func">
 <link rel="alternate" href="http://php.net/call-user-func" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.funchand.html">
 <link rel="prev" href="function.call-user-func-array.html">
 <link rel="next" href="function.create-function.html">

 <link rel="alternate" href="function.call-user-func.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.call-user-func.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.call-user-func.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.call-user-func.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.call-user-func.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.call-user-func.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.call-user-func.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.call-user-func.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.call-user-func.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.call-user-func.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.call-user-func.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.funchand.html">Function Handling</a></li>      <li><a href="ref.funchand.html">Function handling Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.call-user-func" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">call_user_func</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">call_user_func</span> â€” <span class="dc-title">Call the callback given by the first parameter</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.call-user-func-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>call_user_func</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$parameter</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$...</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Calls the <code class="parameter">callback</code> given by the first parameter and passes
   the remaining parameters as arguments.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.call-user-func-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       The <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> to be called.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">parameter</code></dt>

     <dd>

      <p class="para">
       Zero or more parameters to be passed to the callback.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        Note that the parameters for <span class="function"><strong>call_user_func()</strong></span> are
        not passed by reference.
        </p><div class="example" id="example-5216">
         <p><strong>Example #1 <span class="function"><strong>call_user_func()</strong></span> example and references</strong></p>
         <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br>function&nbsp;</span><span style="color: #0000BB">increment</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">++;<br>}<br><br></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #DD0000">'increment'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'increment'</span><span style="color: #007700">,&nbsp;array(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;You&nbsp;can&nbsp;use&nbsp;this&nbsp;instead&nbsp;before&nbsp;PHP&nbsp;5.3<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
         </div>

         <div class="example-contents"><p>The above example will output:</p></div>
         <div class="example-contents screen">
<div class="cdata"><pre>0
1
</pre></div>
         </div>
        </div>
       <p></p>
      <p></p></blockquote>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.call-user-func-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the return value of the callback, or <strong><code>FALSE</code></strong> on error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.call-user-func-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        The interpretation of object oriented keywords like <em>parent</em> 
        and <em>self</em> has changed. Previously, calling them using the 
        double colon syntax would emit an <strong><code>E_STRICT</code></strong> warning because 
        they were interpreted as static.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.call-user-func-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5217">
    <p><strong>Example #2 <span class="function"><strong>call_user_func()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">barber</span><span style="color: #007700">(</span><span style="color: #0000BB">$type</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"You&nbsp;wanted&nbsp;a&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #DD0000">&nbsp;haircut,&nbsp;no&nbsp;problem\n"</span><span style="color: #007700">;<br>}<br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #DD0000">'barber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"mushroom"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #DD0000">'barber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"shave"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>You wanted a mushroom haircut, no problem
You wanted a shave haircut, no problem
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5218">
    <p><strong>Example #3 <span class="function"><strong>call_user_func()</strong></span> using namespace name</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Foobar</span><span style="color: #007700">;<br><br>class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;world!\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo::test'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(array(</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Hello world!
Hello world!
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5219">
    <p><strong>Example #4 Using a class method with <span class="function"><strong>call_user_func()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">myclass&nbsp;</span><span style="color: #007700">{<br>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">say_hello</span><span style="color: #007700">()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Hello!\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br></span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"myclass"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$classname</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'say_hello'</span><span style="color: #007700">));<br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">.</span><span style="color: #DD0000">'::say_hello'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;5.2.3<br><br></span><span style="color: #0000BB">$myobject&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">myclass</span><span style="color: #007700">();<br><br></span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$myobject</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'say_hello'</span><span style="color: #007700">));<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Hello!
Hello!
Hello!
</pre></div>
    </div>   
   </div>
   <div class="example" id="example-5220">
    <p><strong>Example #5 Using lambda function with <span class="function"><strong>call_user_func()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>call_user_func</span><span style="color: #007700">(function(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">)&nbsp;{&nbsp;print&nbsp;</span><span style="color: #DD0000">"[</span><span style="color: #0000BB">$arg</span><span style="color: #DD0000">]\n"</span><span style="color: #007700">;&nbsp;},&nbsp;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">/*&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0&nbsp;*/<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>[test]
</pre></div>
    </div>   
   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.call-user-func-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">Callbacks registered
with functions such as <span class="function"><strong>call_user_func()</strong></span> and <span class="function"><a href="function.call-user-func-array.html" class="function">call_user_func_array()</a></span> will not be
called if there is an uncaught exception thrown in a previous callback.</p><p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.call-user-func-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.call-user-func-array.html" class="function" rel="rdfs-seeAlso">call_user_func_array()</a> - Call a callback with an array of parameters</span></li>
    <li class="member"><span class="function"><a href="function.is-callable.html" class="function" rel="rdfs-seeAlso">is_callable()</a> - Verify that the contents of a variable can be called as a function</span></li>
    <li class="member">information about the <a href="language.pseudo-types.html#language.types.callback" class="link">callback</a> type</li>
    <li class="member"><span class="methodname"><a href="reflectionfunction.invoke.html" class="methodname" rel="rdfs-seeAlso">ReflectionFunction::invoke()</a> - Invokes function</span></li>
    <li class="member"><span class="methodname"><a href="reflectionmethod.invoke.html" class="methodname" rel="rdfs-seeAlso">ReflectionMethod::invoke()</a> - Invoke</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="61553">  
  <a class="name">
  <strong class="user"><em>insta at citiesunlimited dot com</em></strong></a><div class="date" title="2006-02-06 12:15"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61553">
<div class="phpcode"><code><span class="html">
I benchmarked the comparison in speed between variable functions, call_user_func, and eval.&nbsp; My results are below:<br><br>Variable functions took 0.125958204269 seconds.<br>call_user_func took 0.485446929932 seconds.<br>eval took 2.78526711464 seconds.<br><br>This was run on a Compaq Proliant server, 180MHz Pentium Pro 256MB RAM.&nbsp; Code is as follows:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">fa </span><span class="keyword">() { return </span><span class="default">1</span><span class="keyword">; }<br>function </span><span class="default">fb </span><span class="keyword">() { return </span><span class="default">1</span><span class="keyword">; }<br>function </span><span class="default">fc </span><span class="keyword">() { return </span><span class="default">1</span><span class="keyword">; }<br><br></span><span class="default">$calla </span><span class="keyword">= </span><span class="string">'fa'</span><span class="keyword">;<br></span><span class="default">$callb </span><span class="keyword">= </span><span class="string">'fb'</span><span class="keyword">;<br></span><span class="default">$callc </span><span class="keyword">= </span><span class="string">'fc'</span><span class="keyword">;<br><br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">);<br>for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">5000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--; ) {<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">$calla</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">$callb</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">$callc</span><span class="keyword">();<br>&nbsp; &nbsp; if( </span><span class="default">$x </span><span class="keyword">!= </span><span class="default">3 </span><span class="keyword">) die( </span><span class="string">'Bad numbers' </span><span class="keyword">);<br>}<br>echo( </span><span class="string">"Variable functions took " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">) - </span><span class="default">$time</span><span class="keyword">) . </span><span class="string">" seconds.&lt;br /&gt;" </span><span class="keyword">);<br><br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">);<br>for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">5000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--; ) {<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'fa'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'fb'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'fc'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; if( </span><span class="default">$x </span><span class="keyword">!= </span><span class="default">3 </span><span class="keyword">) die( </span><span class="string">'Bad numbers' </span><span class="keyword">);<br>}<br>echo( </span><span class="string">"call_user_func took " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">) - </span><span class="default">$time</span><span class="keyword">) . </span><span class="string">" seconds.&lt;br /&gt;" </span><span class="keyword">);<br><br></span><span class="default">$time </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">);<br>for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">5000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--; ) {<br>&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; eval( </span><span class="string">'$x += ' </span><span class="keyword">. </span><span class="default">$calla </span><span class="keyword">. </span><span class="string">'();' </span><span class="keyword">);<br>&nbsp; &nbsp; eval( </span><span class="string">'$x += ' </span><span class="keyword">. </span><span class="default">$callb </span><span class="keyword">. </span><span class="string">'();' </span><span class="keyword">);<br>&nbsp; &nbsp; eval( </span><span class="string">'$x += ' </span><span class="keyword">. </span><span class="default">$callc </span><span class="keyword">. </span><span class="string">'();' </span><span class="keyword">);<br>&nbsp; &nbsp; if( </span><span class="default">$x </span><span class="keyword">!= </span><span class="default">3 </span><span class="keyword">) die( </span><span class="string">'Bad numbers' </span><span class="keyword">);<br>}<br>echo( </span><span class="string">"eval took " </span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">( </span><span class="default">true </span><span class="keyword">) - </span><span class="default">$time</span><span class="keyword">) . </span><span class="string">" seconds.&lt;br /&gt;" </span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104292">  
  <a class="name">
  <strong class="user"><em>blakerenton09 at yahoo dot com</em></strong></a><div class="date" title="2011-06-06 04:45"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104292">
<div class="phpcode"><code><span class="html">
call_user_func may also be used to call a closure or anonymous function that has been passed into a user-defined function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">Benchmark</span><span class="keyword">()<br>{<br>&nbsp; &nbsp; foreach(</span><span class="default">func_get_args</span><span class="keyword">() as </span><span class="default">$function</span><span class="keyword">)<br>&nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$st </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$et </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"Time: %f"</span><span class="keyword">, </span><span class="default">$et </span><span class="keyword">- </span><span class="default">$st</span><span class="keyword">) . </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">Benchmark</span><span class="keyword">(function()<br>{<br>&nbsp; &nbsp; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br>&nbsp; &nbsp; { }<br>}, <br>function()<br>{<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; while ( </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">10000 </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;<br>&nbsp; &nbsp; }<br>});<br></span><span class="default">?&gt;<br></span><br>Returns:<br>Time: 0.001652<br>Time: 0.001458</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78949">  
  <a class="name">
  <strong class="user"><em>Maxdamantus</em></strong></a><div class="date" title="2007-11-03 10:26"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78949">
<div class="phpcode"><code><span class="html">
Note that the parser can interpret variables in function syntax, which means you can pass all variables normally (eg: reference).<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">myfunction</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, &amp;</span><span class="default">$int</span><span class="keyword">){<br>&nbsp; &nbsp; echo </span><span class="default">$string</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$int</span><span class="keyword">++;<br>}<br></span><span class="default">$function_name </span><span class="keyword">= </span><span class="string">"myfunction"</span><span class="keyword">;<br></span><span class="default">$x </span><span class="keyword">= </span><span class="default">1336</span><span class="keyword">;<br></span><span class="default">$function_name</span><span class="keyword">(</span><span class="string">"Hello World"</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">);<br>echo </span><span class="default">$x</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span>---<br>Hello World<br>1337</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93869">  
  <a class="name">
  <strong class="user"><em>Nitrogen</em></strong></a><div class="date" title="2009-10-04 04:08"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93869">
<div class="phpcode"><code><span class="html">
A good use for call_user_func(); is for recursive functions.<br>If you're distributing code, you will often come across users who will rename functions and break the code..<br>Use this: call_user_func(__FUNCTION__, ... ); inside a function to call itself with whatever parameters you want.<br><br><span class="default">&lt;?php<br></span><span class="comment">// example, an extremely simplified factorial calculator..<br>// it's quite obvious when someone renames the function, it'll spit out an error because it wants to call itself.<br></span><span class="keyword">function </span><span class="default">Factorial</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br>&nbsp; return(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">?</span><span class="default">1</span><span class="keyword">:</span><span class="default">$i</span><span class="keyword">*</span><span class="default">Factorial</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">));<br>}<br><br></span><span class="comment">// you can give this function whatever name you want, it'll always work, of course if you initially call it using the name you gave it.<br></span><span class="keyword">function </span><span class="default">qwertyuiop</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br>&nbsp; return(</span><span class="default">$i</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">?</span><span class="default">1</span><span class="keyword">:</span><span class="default">$i</span><span class="keyword">*</span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;<br></span><br>Just that I didn't see any reference to recursive functions when user_call_func(); really helps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99870">  
  <a class="name">
  <strong class="user"><em>gskluzacek dot nospam at gmail dot com</em></strong></a><div class="date" title="2010-09-11 10:38"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom99870">
<div class="phpcode"><code><span class="html">
if you simply want to dynamically call a method on an object it is not necessary to use call_user_function but instead you can do the following:<br><br><span class="default">&lt;?php<br><br>$method_name </span><span class="keyword">= </span><span class="string">"AMethodName"</span><span class="keyword">;<br><br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">ClassName</span><span class="keyword">();<br><br></span><span class="default">$obj</span><span class="keyword">-&gt;{</span><span class="default">$method_name</span><span class="keyword">}();<br><br></span><span class="default">?&gt;<br></span><br>I've used the above so I know it works.<br><br>Regards,<br>-- Greg</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77663">  
  <a class="name">
  <strong class="user"><em>Knightnet</em></strong></a><div class="date" title="2007-09-07 05:31"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77663">
<div class="phpcode"><code><span class="html">
You don't need to use this function to call a variable class function. Instead you can do the following:<br><br>$this-&gt;{$fnname}();<br><br>The example works in PHP 5 from within the class. It is the {} that do the trick.<br><br>Regards,<br>Julian.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52952">  
  <a class="name">
  <strong class="user"><em>info at webseiteselberpflegen dot de</em></strong></a><div class="date" title="2005-05-18 01:00"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52952">
<div class="phpcode"><code><span class="html">
It seems like call_user_func() can not be used to create Objects via the new Command.
<br>
<br>The Following example dosen't work:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; </span><span class="keyword">include_once(</span><span class="default">class_</span><span class="string">".</span><span class="default">$type</span><span class="string">."</span><span class="keyword">.</span><span class="default">php</span><span class="string">");
<br>&nbsp; </span><span class="default">$object</span><span class="string"> = new call_user_func ('bdv_'.</span><span class="default">$type</span><span class="string">);
<br>?&gt;
<br>
<br>But this works:
<br>
<br>&lt;?php
<br>&nbsp; &nbsp; include_once(class_"</span><span class="keyword">.</span><span class="default">$type</span><span class="keyword">.</span><span class="string">".php"</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$constr </span><span class="keyword">= </span><span class="string">'bdv_'</span><span class="keyword">.</span><span class="default">$type</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$object </span><span class="keyword">= new </span><span class="default">$constr</span><span class="keyword">();
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68147">  
  <a class="name">
  <strong class="user"><em>rlansky at webroot dot com</em></strong></a><div class="date" title="2006-07-14 04:17"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68147">
<div class="phpcode"><code><span class="html">
Based on the previous posts, it appears that using call_user_func can be serveral times slower than using variable substitution. I think these results are somewhat misleading.<br><br>I set up a similar test in which a static method of an object was called repeatedly in a loop. I got similar results to those seen; when calling the method using call_user_func the execution was twice that of calling the method directly. However, I then started adding some "meat" to the method in question. In my case, I found that what was constant was not the percentage change, but rather that there is a fixed cost to using call_user_func. <br><br>In my case, this fixed cost was 2 microseconds per call. When executing a method that performs no operations, this is a large percentage of the execution time for that method. However, when using this on a method that actually performs some work, the 2 microsecond cost is almost impossible to measure.<br><br>It seems to me that if you want to use call_user_func to call a very fast executing method, and you need to do this thousands of times, then you may want to reconsider. However, if you are using this to call methods that are not executed thousands of times, the small fixed cost of using php call_user_func is probably not an issue.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="57469">  
  <a class="name">
  <strong class="user"><em>Marco</em></strong></a><div class="date" title="2005-10-05 01:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom57469">
<div class="phpcode"><code><span class="html">
&gt;phil at gettcomm dot com
<br>&gt;22-May-2002 04:51
<br>&gt;if you need to get a reference back from a method, you can work around 
<br>&gt;call_user_func()'s shortcomings like this:
<br>&gt;
<br>Naaa! Having back a reference is a real problem, but it can be solved by mean of eval(), instead of using call_user_func: 
<br>
<br><span class="default">&lt;?php
<br>&nbsp; </span><span class="keyword">class </span><span class="default">Node </span><span class="keyword">{
<br>&nbsp; &nbsp; var </span><span class="default">$name</span><span class="keyword">;
<br>&nbsp; &nbsp; var </span><span class="default">$child</span><span class="keyword">;
<br>&nbsp; &nbsp; function </span><span class="default">Node </span><span class="keyword">( </span><span class="default">$name </span><span class="keyword">) { </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">; }
<br>&nbsp; &nbsp; function &amp;</span><span class="default">getChild </span><span class="keyword">() { return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">child</span><span class="keyword">; }
<br>&nbsp; }
<br>&nbsp; </span><span class="default">$p </span><span class="keyword">= new </span><span class="default">Node </span><span class="keyword">( </span><span class="string">'Father' </span><span class="keyword">);
<br>&nbsp; </span><span class="default">$c </span><span class="keyword">= new </span><span class="default">Node </span><span class="keyword">( </span><span class="string">'Child' </span><span class="keyword">);
<br>&nbsp; </span><span class="default">$p</span><span class="keyword">-&gt;</span><span class="default">child </span><span class="keyword">= &amp;</span><span class="default">$c</span><span class="keyword">;&nbsp; 
<br>
<br>&nbsp; eval ( </span><span class="string">"\\</span><span class="default">$cref</span><span class="string"> = &amp;\\</span><span class="default">$p</span><span class="keyword">-&gt;</span><span class="default">getChild</span><span class="string"> ();" </span><span class="keyword">);
<br>&nbsp; </span><span class="default">$cref</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="string">'Another Child'</span><span class="keyword">;
<br>
<br>&nbsp; </span><span class="comment">// Prints out 'Another Child'
<br>&nbsp; </span><span class="keyword">echo </span><span class="string">"****** After eval c = " </span><span class="keyword">. </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">. </span><span class="string">"\\n\\n"</span><span class="keyword">;
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50974">  
  <a class="name">
  <strong class="user"><em>d at safetypub dot org</em></strong></a><div class="date" title="2005-03-15 08:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50974">
<div class="phpcode"><code><span class="html">
callbacks, this par excellence, goes with set error handler, everywhere you'ren't sure of extensio de intensionibus (animis alii).<br><br><span class="default">&lt;?php<br><br>$checkMe </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br></span><span class="default">$detail </span><span class="keyword">= array();<br></span><span class="default">set_error_handler</span><span class="keyword">(</span><span class="string">"imErrant"</span><span class="keyword">);<br><br></span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">);<br>if (</span><span class="default">$argc </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]));<br>} else if(</span><span class="default">$argc </span><span class="keyword">== </span><span class="default">2</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]), </span><span class="default">$argv</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br>} <br>else<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]),</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">));<br><br>if(</span><span class="default">$checkMe</span><span class="keyword">)</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$detail</span><span class="keyword">);<br><br>function </span><span class="default">imErrant</span><span class="keyword">(</span><span class="default">$no</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$file</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; global </span><span class="default">$checkMe</span><span class="keyword">, </span><span class="default">$detail</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$checkMe </span><span class="keyword">= </span><span class="default">$no</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$detail </span><span class="keyword">= array(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$file</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39280">  
  <a class="name">
  <strong class="user"><em>Kris Koskelin</em></strong></a><div class="date" title="2004-01-22 03:21"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom39280">
<div class="phpcode"><code><span class="html">
I was trying to use this function to call a method of an already-instantiated object.&nbsp; I needed to do this with the object itself, not simply call the class' method.
<br>
<br>To accomplish this, I really avoided this particular function altogether like this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if ( </span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$my_obj</span><span class="keyword">, </span><span class="default">$action</span><span class="keyword">) ){
<br>&nbsp; &nbsp;&nbsp; return </span><span class="default">$my_obj</span><span class="keyword">-&gt;{</span><span class="default">$action</span><span class="keyword">}();
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>I hope someone else finds this useful.&nbsp; Note that doing this allows you to pass params to the function more-or-less in the same way you would to any other class method.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19698">  
  <a class="name">
  <strong class="user"><em>dougqh at hotmail dot com</em></strong></a><div class="date" title="2002-03-07 05:16"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19698">
<div class="phpcode"><code><span class="html">
The previous note I posted had an error in the source code.&nbsp; That has been corrected in this note.
<br>
<br>Note, that returning by reference does not work properly when the function
<br>is called using call_user_func.
<br>
<br>This example illustrates the problem...
<br>
<br><span class="default">&lt;?php
<br>$globalVar </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>
<br>function &amp;</span><span class="default">staticFunction</span><span class="keyword">()
<br>{
<br>&nbsp;&nbsp; global </span><span class="default">$globalVar</span><span class="keyword">;
<br>&nbsp;&nbsp; 
<br>&nbsp;&nbsp; return </span><span class="default">$globalVar</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$result </span><span class="keyword">=&amp; </span><span class="default">call_user_func</span><span class="keyword">( </span><span class="string">"staticFunction" </span><span class="keyword">);
<br>
<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;
<br>
<br>print </span><span class="string">"result:" </span><span class="keyword">. </span><span class="default">$result </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;
<br>print </span><span class="string">"globalVar: " </span><span class="keyword">. </span><span class="default">$globalVar </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;
<br>
<br></span><span class="default">$result2 </span><span class="keyword">=&amp; </span><span class="default">staticFunction</span><span class="keyword">();
<br>
<br></span><span class="default">$result2 </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;
<br>
<br>print </span><span class="string">"result2: " </span><span class="keyword">. </span><span class="default">$result2 </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;
<br>print </span><span class="string">"globalVar: " </span><span class="keyword">. </span><span class="default">$globalVar </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>The above code results in the following output ...
<br>Note that $result is not a reference to $globalVar.
<br>
<br>result:0
<br>globalVar: 0
<br>result2: 3
<br>globalVar: 3
<br>
<br>Also, the use of call_user_method is now deprecated in favor of passing
<br>array( &amp;$object, $method ) as the function to call_user_func.&nbsp; This is
<br>reported when error reporting is set to E_ALL in the latest versions of
<br>PHP.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="14105">  
  <a class="name">
  <strong class="user"><em>danyloco at yahoo dot com</em></strong></a><div class="date" title="2001-07-17 04:31"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom14105">
<div class="phpcode"><code><span class="html">
I was trying to call multiple functions within a class, and after a brain frying experience this is what came out... hope it helps:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{
<br> function </span><span class="default">hey1</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">){echo </span><span class="string">"In hey1"</span><span class="keyword">;}
<br> function </span><span class="default">hey2</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">){echo </span><span class="string">"In hey2"</span><span class="keyword">;}
<br> </span><span class="comment">#... and so forth ...
<br> </span><span class="keyword">function </span><span class="default">runtest</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="comment">#the fun part :)
<br>&nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">2</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="string">"hey"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$fp</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">);
<br>}
<br>}
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>It worked like a charm :).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7961">  
  <a class="name">
  <strong class="user"><em>andreyhristov at yahoo dot com</em></strong></a><div class="date" title="2000-08-22 06:09"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7961">
<div class="phpcode"><code><span class="html">
Let say we construct somehow the name of the function. In some cases we can use nested&nbsp; 'switch'&nbsp; but the alternative is to to use for and parse a string to construct&nbsp; the&nbsp; function&nbsp; name, after than&nbsp; we also can construct and the parameter(s) for it. It&nbsp; is like using of eval. I use it in&nbsp; one of my projects to construct a name of nested array like $ar['1999'['july']['29']['19'], etc.
<br>
<br>the problem is in that I'm parsing a string to construct the name. If I've {1:2:3}&nbsp; the array name&nbsp; will be $ar['1']['2']['3'] but if i've
<br>{1:2:3:4:5} it will&nbsp; be $ar['1']['2']['3']['4']['5'].
<br>
<br>Eval is the only way (very hard because of characters escaping is needed)&nbsp; to do it. So this function is of the type of EVAL().
<br>USE IT wherever your script is&nbsp; 'self-modified';</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106391">  
  <a class="name">
  <strong class="user"><em>dexen dot devries at gmail dot com</em></strong></a><div class="date" title="2011-11-04 05:00"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106391">
<div class="phpcode"><code><span class="html">
In PHP v5.2, you /can/ use call_user_func(array($this, 'parent::SOME_FUNCTION')).
<br>
<br>If you don't have custom __autoload() function, you are good to go.
<br>
<br>If you do have custom __autoload(), you need to make it `parent' aware. Something like:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">__autoload</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">) {
<br>&nbsp; if (</span><span class="default">$classname </span><span class="keyword">=== </span><span class="string">'parent'</span><span class="keyword">)
<br>&nbsp; &nbsp; return;
<br>&nbsp; else
<br>&nbsp; &nbsp; </span><span class="comment">//((load class definition))
<br></span><span class="keyword">}
<br></span><span class="default">?&gt;
<br></span>
<br>Rationale: PHP 5.2 surprisingly tries to autoload a class named `parent'. However, if you don't do anything in __autoload() for the `parent' class, it'll work just fine.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89636">  
  <a class="name">
  <strong class="user"><em>edgar dot klerks at gmail dot com</em></strong></a><div class="date" title="2009-03-17 07:18"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89636">
<div class="phpcode"><code><span class="html">
An entirely OO solution to add dynamicly methods to classes, I used in a project:<br><span class="default">&lt;?php <br></span><span class="keyword">class </span><span class="default">ProductPart </span><span class="keyword">{<br><br>&nbsp; &nbsp; &nbsp; &nbsp; protected </span><span class="default">$data</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; protected </span><span class="default">$plugins </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="default">$data</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">register</span><span class="keyword">(</span><span class="default">ProductPlugin $plugin</span><span class="keyword">){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$plugin</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">)){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">[</span><span class="default">$plugin</span><span class="keyword">-&gt;</span><span class="default">toString</span><span class="keyword">()] = </span><span class="default">$plugin</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Function allready defined'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">unregister</span><span class="keyword">(</span><span class="default">ProductPlugin $plugin</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">[</span><span class="default">$plugin</span><span class="keyword">-&gt;</span><span class="default">toString</span><span class="keyword">()])){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">[</span><span class="default">$plugin</span><span class="keyword">-&gt;</span><span class="default">toString</span><span class="keyword">()]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'No such function'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; protected function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">[</span><span class="default">$method</span><span class="keyword">])){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_unshift</span><span class="keyword">(&amp;</span><span class="default">$args</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_unshift</span><span class="keyword">(&amp;</span><span class="default">$args</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">plugins</span><span class="keyword">[</span><span class="default">$method</span><span class="keyword">]-&gt;</span><span class="default">run</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$args</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$args</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'No such function'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>} </span><span class="default">?&gt;<br></span><br>I simplified the class somewhat for clearity.<br><br>With this class, you can dynamicly add and remove classes by calling register or unregister. Register will store the object in an associative array by calling toString (as defined by ProductPlugin) and saving the method under the returned string in the array. (In this case the name of the method the class adds.)<br><br>When a method is called, which isn't standard in the object, _call will lookup the called method in the array. If found, __call run the method of the plugin with the provided arguments. I restricted the user provided argument to 1, because I want to force the user to use associative arrays.<br><br>Because I chose an array to store my classes, removing a function is quite simple. However the unregister function isn't optimal, I better pass a string instead of a plugin object. I didn't test it yet on performance.<br><br>The ProductPlugin class:<br><br><span class="default">&lt;?php <br><br></span><span class="keyword">abstract class </span><span class="default">ProductPlugin </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; protected </span><span class="default">$name </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; abstract public function </span><span class="default">run</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$data </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Name must be defined'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">init</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; protected function </span><span class="default">init</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">){<br><br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public function </span><span class="default">toString</span><span class="keyword">(){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>}<br><br></span><span class="default">?&gt;<br></span><br>And at last some demonstration code: <br><br><span class="default">&lt;?php <br>$bla </span><span class="keyword">= new </span><span class="default">ProductPart</span><span class="keyword">(array(</span><span class="string">'HelloWorld' </span><span class="keyword">=&gt; </span><span class="string">'Hello world'</span><span class="keyword">));<br></span><span class="default">$hello </span><span class="keyword">= new </span><span class="default">helloPlugin</span><span class="keyword">();<br></span><span class="default">$bla</span><span class="keyword">-&gt;</span><span class="default">register</span><span class="keyword">(</span><span class="default">$hello</span><span class="keyword">);<br></span><span class="default">$bla</span><span class="keyword">-&gt;</span><span class="default">HelloWorld</span><span class="keyword">();<br></span><span class="default">$bla</span><span class="keyword">-&gt;</span><span class="default">unregister</span><span class="keyword">(</span><span class="default">$hello</span><span class="keyword">);<br></span><span class="default">$bla</span><span class="keyword">-&gt;</span><span class="default">HelloWorld</span><span class="keyword">();<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87786">  
  <a class="name">
  <strong class="user"><em>dead,screamer@seznam,cz</em></strong></a><div class="date" title="2008-12-21 08:50"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87786">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php call_user_func</span><span class="keyword">()</span><span class="default">?&gt;</span> and <span class="default">&lt;?php call_user_func_array</span><span class="keyword">()</span><span class="default">?&gt;</span> hide some errors (notices, warnings and maybe errors), even if is display_errors turned on and error_Reporting is set to E_ALL|E_STRICT</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70781">  
  <a class="name">
  <strong class="user"><em>jaimz at vertigolabs dot org</em></strong></a><div class="date" title="2006-10-27 10:40"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70781">
<div class="phpcode"><code><span class="html">
replay to bkfake-php at yahoo dot com's comment:<br><br>that's not passing by referance, your explicitly setting the value of $testy's member variable, infact, if you take the &amp; out of your outsidefunc() it still works...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69596">  
  <a class="name">
  <strong class="user"><em>Typer85 at gmail dot com</em></strong></a><div class="date" title="2006-09-12 03:57"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69596">
<div class="phpcode"><code><span class="html">
I would just like to say at first that I prefer variable function calls over the use of this function.<br><br>However I found that at some times, the use of this function is needed in situtations where variable function calls can not be used. And in those same situations, the use of this function is also better than using eval.<br><br>The situation I ran into is this:<br><br>I wanted to call object methods dynamically from within the object but with arguments given for possible parameters that the method I will call requires.<br><br>The parameters themselves are dynamic, meaning I have no prior knowledge of how many their are, their values, or if they even exist.<br><br>Also because object methods are dynamic, meaning I have no prior knowledge which object method will actually be called, I can not simply use variable function calls, call the method and pass any parameters.<br><br>So what I simply do is call the object method with an array of parameters, something that, to the best of my knowledge, can not be done with variable function calls, since variable function calls, even though they themeselves are dynamic, passing parameters to them is not.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="69270">  
  <a class="name">
  <strong class="user"><em>watchout at no dot spam dot please</em></strong></a><div class="date" title="2006-08-29 06:05"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom69270">
<div class="phpcode"><code><span class="html">
&gt; This particular case will not work. The user functions can only be successfully called (as the documentation alludes to), with static calls to class functions.<br><br>actually it *does* work on PHP 5.0.2 (tested), and should also work on PHP 4.3.x (untested). Also the documentation does not state that only calls to static class methods are possible, but it says clearly that calls to OBJECT (thats dynamic) methods are possible: <a rel="nofollow" target="_blank">http://cz.php.net/manual/en/language.pseudo-types.php</a> (see under type callback)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55644">  
  <a class="name">
  <strong class="user"><em>php at REMOVEMEkennel17 dot co dot uk</em></strong></a><div class="date" title="2005-08-09 08:46"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55644">
<div class="phpcode"><code><span class="html">
re comment by mw at lanfear dot com<br><br>I am using PHP 4.3.2 and that technique works fine here as well.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55164">  
  <a class="name">
  <strong class="user"><em>mw at lanfear dot com</em></strong></a><div class="date" title="2005-07-26 01:49"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55164">
<div class="phpcode"><code><span class="html">
This function is actually quite useful for calling static methods on classes, which you CANNOT call as:<br><br>$v1 = 'MyClass';<br>$m1 = 'method';<br>$v1::$m1();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // syntax error -- not permitted.<br><br>The following, however, DOES work quite well, and is hopefully slightly faster than eval() ...<br><br>$ar = array($v1, $m1);<br><br>call_user_func($ar);&nbsp; &nbsp; // works teh awes0me!!1!<br><br>[I am, however, presuming PHP5 here ...]</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50343">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-02-24 07:46"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50343">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">/*<br>&nbsp; &nbsp; A very simple event handler dispose and change the latest one I did<br>*/<br><br></span><span class="keyword">class </span><span class="default">Duke<br></span><span class="keyword">{<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$m_pRaiser</span><span class="keyword">;<br>&nbsp; &nbsp; var </span><span class="default">$m_strRaiserFun</span><span class="keyword">;<br>&nbsp; &nbsp; var </span><span class="default">$m_objArgs</span><span class="keyword">;<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">Duke</span><span class="keyword">(&nbsp; </span><span class="default">$pRaiser</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$strRaiserFun</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$objArgs </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$pRaiser</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_strRaiserFun </span><span class="keyword">= </span><span class="default">$strRaiserFun</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_objArgs&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$objArgs</span><span class="keyword">;<br><br>&nbsp; &nbsp; }</span><span class="comment">//end of constructor<br><br></span><span class="keyword">}</span><span class="comment">//end of class Duke<br><br></span><span class="keyword">class </span><span class="default">A<br></span><span class="keyword">{<br></span><span class="comment">//protected:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">OnEventHandler</span><span class="keyword">( </span><span class="default">$sender</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">)</span><span class="comment">//virtual<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sender </span><span class="keyword">-&gt;</span><span class="default">SayHello</span><span class="keyword">();<br>&nbsp; &nbsp; }</span><span class="comment">//end of OnEventHandler( $sender, $args )<br> <br>//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">OnEvent</span><span class="keyword">( </span><span class="default">$pDuke </span><span class="keyword">= </span><span class="default">null </span><span class="keyword">)<br>&nbsp; &nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if( </span><span class="default">$pDuke </span><span class="keyword">== </span><span class="default">null </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">( array( &amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">"OnEventHandler" </span><span class="keyword">), </span><span class="default">$this</span><span class="keyword">, </span><span class="default">null </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">( array( </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser</span><span class="keyword">, </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_strRaiserFun </span><span class="keyword">), </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser</span><span class="keyword">, </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_objArgs </span><span class="keyword">);<br><br>&nbsp; &nbsp; }</span><span class="comment">//end of&nbsp; OnEvent( $pDuke )<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">SayHello</span><span class="keyword">()</span><span class="comment">//virtual<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"A::SayHello" </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; }</span><span class="comment">//end of SayHello() <br><br></span><span class="keyword">}</span><span class="comment">//end of class A<br><br></span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br></span><span class="keyword">{<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">SayHello</span><span class="keyword">()</span><span class="comment">//override<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"B::SayHello" </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; }</span><span class="comment">//end of SayHello()<br><br></span><span class="keyword">}</span><span class="comment">//end of class B<br><br>//////////////////////////////////////////////////////////////////////<br>//Main import to test<br>//<br></span><span class="default">$a </span><span class="keyword">= &amp;new </span><span class="default">A</span><span class="keyword">();<br></span><span class="default">$b </span><span class="keyword">= &amp;new </span><span class="default">B</span><span class="keyword">();<br><br></span><span class="default">$pDuke </span><span class="keyword">= &amp;new </span><span class="default">Duke</span><span class="keyword">( </span><span class="default">$b</span><span class="keyword">, </span><span class="string">"OnEventHandler"</span><span class="keyword">, </span><span class="default">null </span><span class="keyword">);<br><br></span><span class="default">$b </span><span class="keyword">-&gt;</span><span class="default">OnEvent</span><span class="keyword">();<br></span><span class="default">$b </span><span class="keyword">-&gt;</span><span class="default">OnEvent</span><span class="keyword">( </span><span class="default">$pDuke </span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50305">  
  <a class="name">
  <strong class="user"><em>zxy at estec-jp dot com</em></strong></a><div class="date" title="2005-02-24 02:57"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50305">
<div class="phpcode"><code><span class="html">
A simple event handler dispose released by useful callback in PHP 4.x<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">Duke<br></span><span class="keyword">{<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$m_pRaiser</span><span class="keyword">;<br>&nbsp; &nbsp; var </span><span class="default">$m_strRaiserFun</span><span class="keyword">;<br>&nbsp; &nbsp; var </span><span class="default">$m_objArgs</span><span class="keyword">;<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">Duke</span><span class="keyword">(&nbsp; </span><span class="default">$pRaiser</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$strRaiserFun</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$objArgs </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$pRaiser</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_strRaiserFun </span><span class="keyword">= </span><span class="default">$strRaiserFun</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this </span><span class="keyword">-&gt;</span><span class="default">m_objArgs&nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$objArgs</span><span class="keyword">;<br><br>&nbsp; &nbsp; }</span><span class="comment">//end of constructor<br><br></span><span class="keyword">}</span><span class="comment">//end of class Duke<br><br></span><span class="keyword">class </span><span class="default">A<br></span><span class="keyword">{<br></span><span class="comment">//protected:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">OnEventHandler</span><span class="keyword">( </span><span class="default">$sender</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">)</span><span class="comment">//virtual<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$sender </span><span class="keyword">-&gt;</span><span class="default">SayHello</span><span class="keyword">();<br>&nbsp; &nbsp; }</span><span class="comment">//end of OnEventHandler( $sender, $args )<br> <br>//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">OnEvent</span><span class="keyword">( </span><span class="default">$pDuke </span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">( array( </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser</span><span class="keyword">, </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_strRaiserFun </span><span class="keyword">), </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_pRaiser</span><span class="keyword">, </span><span class="default">$pDuke </span><span class="keyword">-&gt;</span><span class="default">m_objArgs </span><span class="keyword">);<br>&nbsp; &nbsp; }</span><span class="comment">//end of&nbsp; OnEvent( $pDuke )<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">SayHello</span><span class="keyword">()</span><span class="comment">//virtual<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"A::SayHello" </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; }</span><span class="comment">//end of SayHello() <br><br></span><span class="keyword">}</span><span class="comment">//end of class A<br><br></span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br></span><span class="keyword">{<br></span><span class="comment">//public:<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">SayHello</span><span class="keyword">()</span><span class="comment">//override<br>&nbsp; &nbsp; </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"B::SayHello" </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; }</span><span class="comment">//end of SayHello()<br><br></span><span class="keyword">}</span><span class="comment">//end of class B<br><br>///////////////////////////////////////////////////////////<br>//Main import to test<br>//<br></span><span class="default">$a </span><span class="keyword">= &amp;new </span><span class="default">A</span><span class="keyword">();<br></span><span class="default">$b </span><span class="keyword">= &amp;new </span><span class="default">B</span><span class="keyword">();<br><br></span><span class="default">$pDuke </span><span class="keyword">= &amp;new </span><span class="default">Duke</span><span class="keyword">( </span><span class="default">$b</span><span class="keyword">, </span><span class="string">"SayHello"</span><span class="keyword">, </span><span class="default">null </span><span class="keyword">);<br></span><span class="default">$b </span><span class="keyword">-&gt;</span><span class="default">OnEvent</span><span class="keyword">( </span><span class="default">$pDuke </span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46327">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2004-10-07 12:23"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46327">
<div class="phpcode"><code><span class="html">
If you are trying to instantiate an object from a class whose name is dynamic, you WILL NOT be able to do this with call_user_func() and I do not suggest that you do it with eval(). The way to do it is actually much simpler than i thought. As far as i know this works in PHP 4 and 5:<br><br><span class="default">&lt;?PHP<br></span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br> var </span><span class="default">$boo</span><span class="keyword">;<br>&nbsp; &nbsp; function </span><span class="default">foo</span><span class="keyword">( </span><span class="default">$someVal </span><span class="keyword">) {<br>&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">boo </span><span class="keyword">= </span><span class="default">$someVal</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$ClassToUse </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;<br></span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">$ClassToUse</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">);<br>echo </span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">boo</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41087">  
  <a class="name">
  <strong class="user"><em>arjini at mac dot com</em></strong></a><div class="date" title="2004-03-29 05:04"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41087">
<div class="phpcode"><code><span class="html">
Some of the wierder examples below confused me, and made me think that the following would work (but it does!).
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">class </span><span class="default">barber</span><span class="keyword">{
<br>&nbsp; &nbsp; function </span><span class="default">shop</span><span class="keyword">(</span><span class="default">$one</span><span class="keyword">,</span><span class="default">$two</span><span class="keyword">,</span><span class="default">$three</span><span class="keyword">,</span><span class="default">$four</span><span class="keyword">=</span><span class="string">'quartet'</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">$one</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$two</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$three</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$four</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$bsq </span><span class="keyword">= new </span><span class="default">barber</span><span class="keyword">;
<br></span><span class="default">call_user_func</span><span class="keyword">(array(&amp;</span><span class="default">$bsq</span><span class="keyword">,</span><span class="string">'shop'</span><span class="keyword">),</span><span class="string">'one'</span><span class="keyword">,</span><span class="string">'two'</span><span class="keyword">,</span><span class="string">'three'</span><span class="keyword">);
<br>
<br></span><span class="comment">/* Output = one,two,three,quartet */
<br>
<br></span><span class="keyword">class </span><span class="default">bigBarber</span><span class="keyword">{
<br>&nbsp; &nbsp; var </span><span class="default">$quartet</span><span class="keyword">;
<br>&nbsp; &nbsp; function </span><span class="default">bigBarber</span><span class="keyword">(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">quartet </span><span class="keyword">= </span><span class="string">'four'</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; function </span><span class="default">shop</span><span class="keyword">(</span><span class="default">$one</span><span class="keyword">,</span><span class="default">$two</span><span class="keyword">,</span><span class="default">$three</span><span class="keyword">,</span><span class="default">$five</span><span class="keyword">=</span><span class="string">'quintet'</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">$one</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$two</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$three</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">quartet</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$five</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$bbsq </span><span class="keyword">= new </span><span class="default">bigBarber</span><span class="keyword">();
<br></span><span class="default">call_user_func</span><span class="keyword">(array(&amp;</span><span class="default">$bbsq</span><span class="keyword">,</span><span class="string">'shop'</span><span class="keyword">),</span><span class="string">'one'</span><span class="keyword">,</span><span class="string">'two'</span><span class="keyword">,</span><span class="string">'three'</span><span class="keyword">);
<br>
<br></span><span class="comment">/* Output = one,two,three,four,quintet */
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36168">  
  <a class="name">
  <strong class="user"><em>Michele.Manzato at verona.miz.it</em></strong></a><div class="date" title="2003-09-29 08:49"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36168">
<div class="phpcode"><code><span class="html">
With overload()ed classes call_user_func_* calls real class methods only. If the method does not exist then PHP does not try with the "__call()" magic method (at least until PHP 4.3.3). See this:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">A <br></span><span class="keyword">{<br>&nbsp; &nbsp; function </span><span class="default">A</span><span class="keyword">() {}<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">, &amp;</span><span class="default">$ret</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"__call(): You called '</span><span class="keyword">{</span><span class="default">$method</span><span class="keyword">}</span><span class="string">()'&lt;br&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; function </span><span class="default">regular</span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"You called 'regular()'&lt;br&gt;\n"</span><span class="keyword">;<br>&nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br>};<br></span><span class="default">overload</span><span class="keyword">(</span><span class="string">"A"</span><span class="keyword">);<br><br></span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">;<br><br></span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">regular</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Works, calls regular()<br></span><span class="default">call_user_func</span><span class="keyword">(array(&amp;</span><span class="default">$a</span><span class="keyword">, </span><span class="string">"regular"</span><span class="keyword">));&nbsp; </span><span class="comment">// Works, calls regular()<br><br></span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">hello</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Works, calls __call()<br></span><span class="default">call_user_func</span><span class="keyword">(array(&amp;</span><span class="default">$a</span><span class="keyword">, </span><span class="string">"hello"</span><span class="keyword">));&nbsp; &nbsp; </span><span class="comment">// Does NOT work!<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34474">  
  <a class="name">
  <strong class="user"><em>Carl</em></strong></a><div class="date" title="2003-07-28 11:53"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34474">
<div class="phpcode"><code><span class="html">
I had a problem where I wanted to parameterize a callback. The end called was in an external class, but I needed to save some state for the callback that didn't make sense to keep in the original object, as it might change from call to call...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">foo 
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; function </span><span class="default">foo</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="string">"Hello There"</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$str2 </span><span class="keyword">= </span><span class="string">"Carl"</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$that </span><span class="keyword">=&amp; new </span><span class="default">holder</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">call_user_func</span><span class="keyword">(array(&amp;</span><span class="default">$that</span><span class="keyword">, </span><span class="string">'callback'</span><span class="keyword">), </span><span class="default">$str2</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br>
<br>class </span><span class="default">holder
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; function </span><span class="default">holder</span><span class="keyword">(</span><span class="default">$aParam</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">param </span><span class="keyword">= </span><span class="default">$aParam</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; function </span><span class="default">callback</span><span class="keyword">(</span><span class="default">$aStr</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"A=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">param</span><span class="string">, B=</span><span class="default">$aStr</span><span class="string">\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27120">  
  <a class="name">
  <strong class="user"><em>matt at tasonline dot com</em></strong></a><div class="date" title="2002-11-23 12:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27120">
<div class="phpcode"><code><span class="html">
On PHP 4.2.3 (not sure about older releases) you can send objects by reference by sending the reference from call_user_func()
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">myFunction</span><span class="keyword">(@</span><span class="default">$obj</span><span class="keyword">)
<br>{
<br>&nbsp;&nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">doThis</span><span class="keyword">(</span><span class="string">'hello'</span><span class="keyword">);
<br>&nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$myObj </span><span class="keyword">= new </span><span class="default">CObject</span><span class="keyword">();
<br>
<br></span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'myFunction'</span><span class="keyword">, @</span><span class="default">$myObj</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21646">  
  <a class="name">
  <strong class="user"><em>phil at gettcomm dot com</em></strong></a><div class="date" title="2002-05-21 07:51"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21646">
<div class="phpcode"><code><span class="html">
if you need to get a reference back from a method, you can work around call_user_func()'s shortcomings like this:
<br>
<br><span class="default">&lt;?php
<br>
<br>$globalObj</span><span class="keyword">;
<br>
<br>class </span><span class="default">tClass
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; function &amp;</span><span class="default">instance</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$globalObj</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$globalObj</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$globalObj </span><span class="keyword">= new </span><span class="default">tClass</span><span class="keyword">();
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$globalObj</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$classname </span><span class="keyword">= </span><span class="string">"tClass"</span><span class="keyword">;
<br></span><span class="comment"># calling the function this way won't 
<br># return a reference.
<br></span><span class="default">$test </span><span class="keyword">= &amp;</span><span class="default">call_user_func</span><span class="keyword">(array(</span><span class="default">$classname</span><span class="keyword">,</span><span class="string">"instance"</span><span class="keyword">));
<br></span><span class="comment"># but if we call it again with the instance
<br># that we just got, it'll be the right
<br># one
<br></span><span class="default">$test </span><span class="keyword">= &amp;</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">instance</span><span class="keyword">();
<br></span><span class="comment"># so test is now a reference to $globalObj, just like it should be
<br>
<br># let's verify it:
<br></span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">blah</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br>
<br>echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$globalObj</span><span class="keyword">);
<br>echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;
<br></span><span class="comment"># there, now it behaves just like you'd expect
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75756">  
  <a class="name">
  <strong class="user"><em>Mr.KTO</em></strong></a><div class="date" title="2007-06-14 07:39"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75756">
<div class="phpcode"><code><span class="html">
To send an object to your function by link, using call_user_func it's not enough (in php4) to define func(&amp;$obj) { ... }<br><br>You need: call_user_func("callback", &amp;$myobj)<br><br>(in php5 objects are sending by link as default)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70757">  
  <a class="name">
  <strong class="user"><em>bkfake-php at yahoo dot com</em></strong></a><div class="date" title="2006-10-26 10:18"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70757">
<div class="phpcode"><code><span class="html">
I have found a case where the parameters ARE passed by reference<br><br>class test<br>{<br>&nbsp; &nbsp; function test()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;passme = '';<br>&nbsp; &nbsp; &nbsp; &nbsp; call_user_func('outsidefunc',$this);<br>&nbsp; &nbsp; &nbsp; &nbsp; // $this-&gt;passme is now 'not empty'<br>&nbsp; &nbsp; &nbsp; &nbsp; // with 5.1.2<br>&nbsp; &nbsp; &nbsp; &nbsp; // not so with php 4.3.10...<br>&nbsp; &nbsp; }<br>}<br><br>function outsidefunc(&amp;$testy)<br>{<br>&nbsp; &nbsp;&nbsp; $testy-&gt;passme = 'not empty';<br>}<br>$test = new test();<br>echo 'passme = '.$test-&gt;passme;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76087">  
  <a class="name">
  <strong class="user"><em>lsblsb at gmx dot de</em></strong></a><div class="date" title="2007-06-29 04:55"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76087">
<div class="phpcode"><code><span class="html">
referring to Mr.KTO (and Bug #24931):<br>[system: PHP 5.2.0-8] - _doesnt_ pass by reference, at least when using the old syntax with the '&amp;'.<br><br>when you pass your object by reference using call_user_func, any changes made on that object within the called function wont effect your "original" object.<br><br>you should use mixed call_user_func_array ( callback $function, array $param_arr ) instead or eval() (slower).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103889">  
  <a class="name">
  <strong class="user"><em>romainbessuges at gmail dot com</em></strong></a><div class="date" title="2011-05-09 05:50"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103889">
<div class="phpcode"><code><span class="html">
I made a wrapper for call_user_func_array which is really simple and convenient. It takes advantage of the __invoke() magic method :
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">class </span><span class="default">Func </span><span class="keyword">{
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; public static function </span><span class="default">fromFunction</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return new </span><span class="default">Func</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; public static function </span><span class="default">fromClassMethod</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return new </span><span class="default">Func</span><span class="keyword">(array(</span><span class="default">$class</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">));
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; public static function </span><span class="default">fromObjectMethod</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return new </span><span class="default">Func</span><span class="keyword">(array(</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; public </span><span class="default">$function</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; public function&nbsp; </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">function </span><span class="keyword">= </span><span class="default">$function</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; public function </span><span class="default">__invoke</span><span class="keyword">(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">function</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">());
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Example : 
<br>
<br><span class="default">&lt;?php
<br>$func </span><span class="keyword">= </span><span class="default">Func</span><span class="keyword">::</span><span class="default">fromObjectMethod</span><span class="keyword">(</span><span class="default">$myArrayObject</span><span class="keyword">, </span><span class="string">"offsetGet"</span><span class="keyword">);
<br>
<br>echo </span><span class="default">$func</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64415">  
  <a class="name">
  <strong class="user"><em>Maresa</em></strong></a><div class="date" title="2006-04-13 03:41"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64415">
<div class="phpcode"><code><span class="html">
I tested the same code that insta at citiesunlimited dot com pasted on the following machines:<br><br>www1 machine:<br>OS:&nbsp; FreeBSD 5.2.1-RELEASE<br>CPU: 2 x Intel(R) Xeon(TM) CPU 2.66GHz (2657.82-MHz 686-class CPU) with Hyperthreading<br>MEM: 1073217536 (1023 MB)<br>PHP 5.1.2 (cli)<br>PHP 4.4.1 (Web)<br><br>www2 machine:<br>OS:&nbsp; Linux version 2.6.14-gentoo-r5 Gentoo 3.4.3-r1, ssp-3.4.3-0, pie-8.7.7)<br>CPU: 2 x Dual Core AMD Opteron(tm) Processor 265 stepping 02 1808.357 MHz<br>MEM: 2060388k total<br>PHP 5.1.2 (cli)<br>PHP Version 4.4.0-pl1-gentoo (web)<br><br>dev machine:<br>OS:&nbsp; Linux version 2.6.15-gentoo-r1 Gentoo 3.3.5.20050130-r1, ssp-3.3.5.20050130-1, pie-8.7.7.1<br>CPU: Intel(R) Pentium(R) 4 CPU 2.00GHz stepping 04<br>MEM: 516384k total,<br>PHP 4.4.0-pl1-gentoo (cli)<br>PHP Version 4.4.0-pl1-gentoo (web)<br><br>The result are as follows:<br><br>www1 - CLI<br>Variable functions took 0.012186050415 seconds.<br>call_user_func took 0.0300550460815 seconds.<br>eval took 0.17235994339 seconds.<br><br>www1 - Web<br>Variable functions took 0.017616 seconds. <br>call_user_func took 0.034926 seconds. <br>eval took 0.149618 seconds<br><br>www2 - CLI<br>Variable functions took 0.0065491199493408 seconds.<br>call_user_func took 0.019452095031738 seconds.<br>eval took 0.10734891891479 seconds.<br><br>www2 - Web<br>Variable functions took 0.01565 seconds. <br>call_user_func took 0.02613 seconds. <br>eval took 0.132258 seconds.<br><br>dev - CLI<br>Variable functions took 0.025176 seconds.<br>call_user_func took 0.047402 seconds.<br>eval took 0.168196 seconds.<br><br>dev - Web<br>Variable functions took 0.025465 seconds. <br>call_user_func took 0.049713 seconds. <br>eval took 0.20154 seconds.<br><br>On www1 - CLI, eval is about 14 times slower than calling function by using variable.<br>On www1 - Web, eval is about 8.5 times slower (hmm interesting. Perhaps PHP4 is faster calculating eval than PHP5)<br><br>On www2 - CLI, eval is about 16 times slower than calling function by using variable.<br>On www2 - Web, eval is about 8.5 times slower (about same result as www1)<br><br>On dev - CLI, eval is about 6.6 times slower than calling function by using variable.<br>On dev - Web, eval is about 8 times slower (about same result as www1)<br><br>On the dev machine, CLI and web version of PHP is the same. and their speed difference between calling function using variable or eval does not differ that much compare to PHP5 VS PHP5</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97879">  
  <a class="name">
  <strong class="user"><em>moisadoru at gmail dot com</em></strong></a><div class="date" title="2010-05-13 08:49"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97879">
<div class="phpcode"><code><span class="html">
Actually, when calling a static method of some class, the params are sent by reference:<br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br>&nbsp; &nbsp; private </span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; public function </span><span class="default">getX</span><span class="keyword">(){<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; public function </span><span class="default">setX</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>class </span><span class="default">Bar </span><span class="keyword">{<br>&nbsp; &nbsp; static function </span><span class="default">incStatic</span><span class="keyword">(</span><span class="default">Foo $f</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">setX</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getX</span><span class="keyword">()+</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; global </span><span class="default">$foo</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$f </span><span class="keyword">=== </span><span class="default">$foo</span><span class="keyword">) echo </span><span class="string">'&lt;span style="color: blue"&gt;' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() objects are equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; else&nbsp; echo </span><span class="string">'&lt;span style="color: red"&gt;' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() objects are not equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; public function </span><span class="default">incNonStatic</span><span class="keyword">(</span><span class="default">Foo $f</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">setX</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getX</span><span class="keyword">()+</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$f </span><span class="keyword">=== </span><span class="default">$foo</span><span class="keyword">) echo </span><span class="string">'&lt;span style="color: blue"&gt;' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() objects are equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; else&nbsp; echo </span><span class="string">'&lt;span style="color: red"&gt;' </span><span class="keyword">. </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">'() objects are not equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">inc</span><span class="keyword">(</span><span class="default">Foo $f</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">setX</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getX</span><span class="keyword">()+</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; if(</span><span class="default">$f </span><span class="keyword">=== </span><span class="default">$foo</span><span class="keyword">) echo </span><span class="string">'&lt;span style="color: blue"&gt;' </span><span class="keyword">. </span><span class="default">__FUNCTION__ </span><span class="keyword">. </span><span class="string">'() objects are equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; else&nbsp; echo </span><span class="string">'&lt;span style="color: red"&gt;' </span><span class="keyword">. </span><span class="default">__FUNCTION__ </span><span class="keyword">. </span><span class="string">'() objects are not equal&lt;/span&gt;&lt;br /&gt;'</span><span class="keyword">;<br>}<br><br></span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">;<br></span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">;<br><br></span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'inc'</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">);<br></span><span class="default">call_user_func</span><span class="keyword">(</span><span class="string">'Bar::incStatic'</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">);<br></span><span class="default">call_user_func</span><span class="keyword">(array(</span><span class="default">$bar</span><span class="keyword">, </span><span class="string">'incNonStatic'</span><span class="keyword">), </span><span class="default">$foo</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>The results on PHP 5.2.6 (macosx 10.5):<br><br>inc() objects are not equal<br>Bar::incStatic() objects are equal<br>Bar::incNonStatic() objects are not equal<br><br>Hope it helps sombody.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.call-user-func.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:37 GMT -->


</body></html>