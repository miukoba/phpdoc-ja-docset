<html><!-- Mirrored from php.net/manual/en/function.stat.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:07:13 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>stat</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.stat.html">
 <link rel="shorturl" href="http://php.net/stat">
 <link rel="alternate" href="http://php.net/stat" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.filesystem.html">
 <link rel="prev" href="function.set-file-buffer.html">
 <link rel="next" href="function.symlink.html">

 <link rel="alternate" href="function.stat.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.stat.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.stat.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.stat.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.stat.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.stat.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.stat.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.stat.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.stat.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.stat.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.stat.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.file.html">File System Related Extensions</a></li>      <li><a href="book.filesystem.html">Filesystem</a></li>      <li><a href="ref.filesystem.html">Filesystem Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.stat" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">stat</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">stat</span> â€” <span class="dc-title">Gives information about a file</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.stat-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>stat</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   )</div>

  <p class="para rdfs-comment">
   Gathers the statistics of the file named by
   <code class="parameter">filename</code>.  If <code class="parameter">filename</code> is a
   symbolic link, statistics are from the file itself, not the symlink.
  </p>
  <p class="para">
   <span class="function"><a href="function.lstat.html" class="function">lstat()</a></span> is identical to <span class="function"><strong>stat()</strong></span>
   except it would instead be based off the symlinks status.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.stat-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       Path to the file.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.stat-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   </p><table class="doctable table">
    <caption><strong><span class="function"><strong>stat()</strong></span> and <span class="function"><a href="function.fstat.html" class="function">fstat()</a></span> result
     format</strong></caption>
    
     <thead>
      <tr>
       <th>Numeric</th>
       <th>Associative</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>0</td>
       <td>dev</td>
       <td>device number</td>
      </tr>

      <tr>
       <td>1</td>
       <td>ino</td>
       <td>inode number *</td>
      </tr>

      <tr>
       <td>2</td>
       <td>mode</td>
       <td>inode protection mode</td>
      </tr>

      <tr>
       <td>3</td>
       <td>nlink</td>
       <td>number of links</td>
      </tr>

      <tr>
       <td>4</td>
       <td>uid</td>
       <td>userid of owner *</td>
      </tr>

      <tr>
       <td>5</td>
       <td>gid</td>
       <td>groupid of owner *</td>
      </tr>

      <tr>
       <td>6</td>
       <td>rdev</td>
       <td>device type, if inode device</td>
      </tr>

      <tr>
       <td>7</td>
       <td>size</td>
       <td>size in bytes</td>
      </tr>

      <tr>
       <td>8</td>
       <td>atime</td>
       <td>time of last access (Unix timestamp)</td>
      </tr>

      <tr>
       <td>9</td>
       <td>mtime</td>
       <td>time of last modification (Unix timestamp)</td>
      </tr>

      <tr>
       <td>10</td>
       <td>ctime</td>
       <td>time of last inode change (Unix timestamp)</td>
      </tr>

      <tr>
       <td>11</td>
       <td>blksize</td>
       <td>blocksize of filesystem IO **</td>
      </tr>

      <tr>
       <td>12</td>
       <td>blocks</td>
       <td>number of 512-byte blocks allocated **</td>
      </tr>

     </tbody>
    
   </table>

   * On Windows this will always be 0.
  <p></p>
  <p class="para">
   ** Only valid on systems supporting the st_blksize type - other
   systems (e.g. Windows) return -1.
  </p>
  <p class="para">
   In case of error, <span class="function"><strong>stat()</strong></span> returns <strong><code>FALSE</code></strong>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">
    Because PHP's integer type is signed and many platforms use 32bit integers,
    some filesystem functions may return unexpected results for files which
    are larger than 2GB.
   </span></p></blockquote>
 </div>


 <div class="refsect1 errors" id="refsect1-function.stat-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
   Upon failure, an <strong><code>E_WARNING</code></strong> is emitted.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.stat-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2525">
    <p><strong>Example #1 <span class="function"><strong>stat()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;Get&nbsp;file&nbsp;stat&nbsp;*/<br></span><span style="color: #0000BB">$stat&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stat</span><span style="color: #007700">(</span><span style="color: #DD0000">'C:\php\php.exe'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*<br>&nbsp;*&nbsp;Print&nbsp;file&nbsp;access&nbsp;time,&nbsp;this&nbsp;is&nbsp;the&nbsp;same&nbsp;<br>&nbsp;*&nbsp;as&nbsp;calling&nbsp;fileatime()<br>&nbsp;*/<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Access&nbsp;time:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$stat</span><span style="color: #007700">[</span><span style="color: #DD0000">'atime'</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">/*<br>&nbsp;*&nbsp;Print&nbsp;file&nbsp;modification&nbsp;time,&nbsp;this&nbsp;is&nbsp;the&nbsp;<br>&nbsp;*&nbsp;same&nbsp;as&nbsp;calling&nbsp;filemtime()<br>&nbsp;*/<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Modification&nbsp;time:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$stat</span><span style="color: #007700">[</span><span style="color: #DD0000">'mtime'</span><span style="color: #007700">];<br><br></span><span style="color: #FF8000">/*&nbsp;Print&nbsp;the&nbsp;device&nbsp;number&nbsp;*/<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Device&nbsp;number:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$stat</span><span style="color: #007700">[</span><span style="color: #DD0000">'dev'</span><span style="color: #007700">];<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-2526">
    <p><strong>Example #2 Using <span class="function"><strong>stat()</strong></span> information together with <span class="function"><a href="function.touch.html" class="function">touch()</a></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;Get&nbsp;file&nbsp;stat&nbsp;*/<br></span><span style="color: #0000BB">$stat&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stat</span><span style="color: #007700">(</span><span style="color: #DD0000">'C:\php\php.exe'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Did&nbsp;we&nbsp;failed&nbsp;to&nbsp;get&nbsp;stat&nbsp;information?&nbsp;*/<br></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$stat</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'stat()&nbsp;call&nbsp;failed...'</span><span style="color: #007700">;<br>}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;We&nbsp;want&nbsp;the&nbsp;access&nbsp;time&nbsp;to&nbsp;be&nbsp;1&nbsp;week&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;after&nbsp;the&nbsp;current&nbsp;access&nbsp;time.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$atime&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$stat</span><span style="color: #007700">[</span><span style="color: #DD0000">'atime'</span><span style="color: #007700">]&nbsp;+&nbsp;</span><span style="color: #0000BB">604800</span><span style="color: #007700">;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;Touch&nbsp;the&nbsp;file&nbsp;*/<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #DD0000">'some_file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">$atime</span><span style="color: #007700">))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Failed&nbsp;to&nbsp;touch&nbsp;file...'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'touch()&nbsp;returned&nbsp;success...'</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.stat-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">Note that time resolution may differ
from one file system to another.</p><p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">The results of this
function are cached. See <span class="function"><a href="function.clearstatcache.html" class="function">clearstatcache()</a></span> for
more details.</span></p></blockquote>
  <div class="tip"><strong class="tip">Tip</strong><p class="simpara">As of PHP 5.0.0, this function
can also be used with <em class="emphasis">some</em> URL wrappers.  Refer to
<a href="wrappers.html" class="xref">Supported Protocols and Wrappers</a> to determine which wrappers support
<span class="function"><strong>stat()</strong></span> family of functionality.</p></div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.stat-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.lstat.html" class="function" rel="rdfs-seeAlso">lstat()</a> - Gives information about a file or symbolic link</span></li>
    <li class="member"><span class="function"><a href="function.fstat.html" class="function" rel="rdfs-seeAlso">fstat()</a> - Gets information about a file using an open file pointer</span></li>
    <li class="member"><span class="function"><a href="function.filemtime.html" class="function" rel="rdfs-seeAlso">filemtime()</a> - Gets file modification time</span></li>
    <li class="member"><span class="function"><a href="function.filegroup.html" class="function" rel="rdfs-seeAlso">filegroup()</a> - Gets file group</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="114191">  
  <a class="name">
  <strong class="user"><em>webmaster at askapache dot com</em></strong></a><div class="date" title="2014-01-22 05:16"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom114191">
<div class="phpcode"><code><span class="html">
On GNU/Linux you can retrieve the number of currently running processes on the machine by doing a stat for hard links on the '/proc' directory like so:<br><br>$ stat -c '%h' /proc<br>118<br><br>You can do the same thing in php by doing a stat on /proc and grabbing the [3] 'nlink' - number of links in the returned array.<br><br>Here is the function I'm using, it does a clearstatcache() when called more than once.<br><br><span class="default">&lt;?php<br><br></span><span class="comment">/**<br> * Returns the number of running processes<br> *<br> * @link <a rel="nofollow" target="_blank">http://php.net/clearstatcache</a><br> * @link <a rel="nofollow" target="_blank">http://php.net/stat&nbsp;</a> Description of stat syntax.<br> * @author <a rel="nofollow" target="_blank">http://www.askapache.com/php/get-number-running-proccesses.html</a><br> * @return int<br> */<br></span><span class="keyword">function </span><span class="default">get_process_count</span><span class="keyword">() {<br>&nbsp; static </span><span class="default">$ver</span><span class="keyword">, </span><span class="default">$runs </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; <br>&nbsp; </span><span class="comment">// check if php version supports clearstatcache params, but only check once<br>&nbsp; </span><span class="keyword">if ( </span><span class="default">is_null</span><span class="keyword">( </span><span class="default">$ver </span><span class="keyword">) )<br>&nbsp; &nbsp; </span><span class="default">$ver </span><span class="keyword">= </span><span class="default">version_compare</span><span class="keyword">( </span><span class="default">PHP_VERSION</span><span class="keyword">, </span><span class="string">'5.3.0'</span><span class="keyword">, </span><span class="string">'&gt;=' </span><span class="keyword">);<br> <br>&nbsp; </span><span class="comment">// Only call clearstatcache() if function called more than once */<br>&nbsp; </span><span class="keyword">if ( </span><span class="default">$runs</span><span class="keyword">++ &gt; </span><span class="default">0 </span><span class="keyword">) { </span><span class="comment">// checks if $runs &gt; 0, then increments $runs by one.<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; // if php version is &gt;= 5.3.0<br>&nbsp; &nbsp; </span><span class="keyword">if ( </span><span class="default">$ver </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">clearstatcache</span><span class="keyword">( </span><span class="default">true</span><span class="keyword">, </span><span class="string">'/proc' </span><span class="keyword">);<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; </span><span class="comment">// if php version is &lt; 5.3.0<br>&nbsp; &nbsp; &nbsp; </span><span class="default">clearstatcache</span><span class="keyword">();<br>&nbsp; &nbsp; }<br>&nbsp; }<br>&nbsp; <br>&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">stat</span><span class="keyword">( </span><span class="string">'/proc' </span><span class="keyword">);<br> <br>&nbsp; </span><span class="comment">// if stat succeeds and nlink value is present return it, otherwise return 0<br>&nbsp; </span><span class="keyword">return ( ( </span><span class="default">false </span><span class="keyword">!== </span><span class="default">$stat </span><span class="keyword">&amp;&amp; isset( </span><span class="default">$stat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] ) ) ? </span><span class="default">$stat</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] : </span><span class="default">0 </span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>Example #1 get_process_count() example<br><br><span class="default">&lt;?php<br>$num_procs </span><span class="keyword">= </span><span class="default">get_process_count</span><span class="keyword">();<br></span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">$num_procs </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>The above example will output:<br><br>int(118)<br><br>Which is the number of processes that were running.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="61238">  
  <a class="name">
  <strong class="user"><em>marting.dc AT gmail.com</em></strong></a><div class="date" title="2006-01-28 05:08"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61238">
<div class="phpcode"><code><span class="html">
If you want to know a directory size, this function will help you:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">dir_size</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$handle </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; while (</span><span class="default">$file </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'..' </span><span class="keyword">&amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'.' </span><span class="keyword">&amp;&amp; !</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mas </span><span class="keyword">+= </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">) &amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'..' </span><span class="keyword">&amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'.'</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mas </span><span class="keyword">+= </span><span class="default">dir_size</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$mas</span><span class="keyword">;
<br>}
<br>echo </span><span class="default">dir_size</span><span class="keyword">(</span><span class="string">'DIRECTORIO'</span><span class="keyword">).</span><span class="string">' Bytes'</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34919">  
  <a class="name">
  <strong class="user"><em>salisbm at hotmail dot com</em></strong></a><div class="date" title="2003-08-11 05:21"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34919">
<div class="phpcode"><code><span class="html">
I was curious how I could tell if a file was a directory... so I found on <a rel="nofollow" target="_blank">http://www.hmug.org/man/2/stat.html</a> the following information about the mode bits:<br>#define S_IFMT 0170000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* type of file */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFIFO&nbsp; 0010000&nbsp; /* named pipe (fifo) */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFCHR&nbsp; 0020000&nbsp; /* character special */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFDIR&nbsp; 0040000&nbsp; /* directory */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFBLK&nbsp; 0060000&nbsp; /* block special */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFREG&nbsp; 0100000&nbsp; /* regular */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFLNK&nbsp; 0120000&nbsp; /* symbolic link */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFSOCK 0140000&nbsp; /* socket */<br>#define&nbsp; &nbsp; &nbsp; &nbsp; S_IFWHT&nbsp; 0160000&nbsp; /* whiteout */<br>#define S_ISUID 0004000&nbsp; /* set user id on execution */<br>#define S_ISGID 0002000&nbsp; /* set group id on execution */<br>#define S_ISVTX 0001000&nbsp; /* save swapped text even after use */<br>#define S_IRUSR 0000400&nbsp; /* read permission, owner */<br>#define S_IWUSR 0000200&nbsp; /* write permission, owner */<br>#define S_IXUSR 0000100&nbsp; /* execute/search permission, owner */<br><br>Note that these numbers are in octal format.&nbsp; Then, to check to see if the file is a directory, after calling fstat, I do:<br><br>if ($fstats[mode] &amp; 040000)<br>&nbsp; ... this must be a directory</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87241">  
  <a class="name">
  <strong class="user"><em>webmaster at askapache dot com</em></strong></a><div class="date" title="2008-11-26 01:20"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87241">
<div class="phpcode"><code><span class="html">
This is a souped up 'stat' function based on <br>many user-submitted code snippets and <br>@ <a rel="nofollow" target="_blank">http://www.askapache.com/security/chmod-stat.html</a> <br><br>Give it a filename, and it returns an array like stat. <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">alt_stat</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) {<br> <br> </span><span class="default">clearstatcache</span><span class="keyword">();<br> </span><span class="default">$ss</span><span class="keyword">=@</span><span class="default">stat</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br> if(!</span><span class="default">$ss</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">//Couldnt stat file<br> <br> </span><span class="default">$ts</span><span class="keyword">=array(<br>&nbsp; </span><span class="default">0140000</span><span class="keyword">=&gt;</span><span class="string">'ssocket'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0120000</span><span class="keyword">=&gt;</span><span class="string">'llink'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0100000</span><span class="keyword">=&gt;</span><span class="string">'-file'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0060000</span><span class="keyword">=&gt;</span><span class="string">'bblock'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0040000</span><span class="keyword">=&gt;</span><span class="string">'ddir'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0020000</span><span class="keyword">=&gt;</span><span class="string">'cchar'</span><span class="keyword">,<br>&nbsp; </span><span class="default">0010000</span><span class="keyword">=&gt;</span><span class="string">'pfifo'<br> </span><span class="keyword">);<br> <br> </span><span class="default">$p</span><span class="keyword">=</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">];<br> </span><span class="default">$t</span><span class="keyword">=</span><span class="default">decoct</span><span class="keyword">(</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">] &amp; </span><span class="default">0170000</span><span class="keyword">); </span><span class="comment">// File Encoding Bit<br> <br> </span><span class="default">$str </span><span class="keyword">=(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">octdec</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">),</span><span class="default">$ts</span><span class="keyword">))?</span><span class="default">$ts</span><span class="keyword">[</span><span class="default">octdec</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">)]{</span><span class="default">0</span><span class="keyword">}:</span><span class="string">'u'</span><span class="keyword">;<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0100</span><span class="keyword">)?</span><span class="string">'r'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">).((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0080</span><span class="keyword">)?</span><span class="string">'w'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">);<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0040</span><span class="keyword">)?((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0800</span><span class="keyword">)?</span><span class="string">'s'</span><span class="keyword">:</span><span class="string">'x'</span><span class="keyword">):((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0800</span><span class="keyword">)?</span><span class="string">'S'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">));<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0020</span><span class="keyword">)?</span><span class="string">'r'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">).((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0010</span><span class="keyword">)?</span><span class="string">'w'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">);<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0008</span><span class="keyword">)?((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0400</span><span class="keyword">)?</span><span class="string">'s'</span><span class="keyword">:</span><span class="string">'x'</span><span class="keyword">):((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0400</span><span class="keyword">)?</span><span class="string">'S'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">));<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0004</span><span class="keyword">)?</span><span class="string">'r'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">).((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0002</span><span class="keyword">)?</span><span class="string">'w'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">);<br> </span><span class="default">$str</span><span class="keyword">.=((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0001</span><span class="keyword">)?((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0200</span><span class="keyword">)?</span><span class="string">'t'</span><span class="keyword">:</span><span class="string">'x'</span><span class="keyword">):((</span><span class="default">$p</span><span class="keyword">&amp;</span><span class="default">0x0200</span><span class="keyword">)?</span><span class="string">'T'</span><span class="keyword">:</span><span class="string">'-'</span><span class="keyword">));<br> <br> </span><span class="default">$s</span><span class="keyword">=array(<br> </span><span class="string">'perms'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'umask'</span><span class="keyword">=&gt;</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%04o"</span><span class="keyword">,@</span><span class="default">umask</span><span class="keyword">()),<br>&nbsp; </span><span class="string">'human'</span><span class="keyword">=&gt;</span><span class="default">$str</span><span class="keyword">,<br>&nbsp; </span><span class="string">'octal1'</span><span class="keyword">=&gt;</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%o"</span><span class="keyword">, (</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">] &amp; </span><span class="default">000777</span><span class="keyword">)),<br>&nbsp; </span><span class="string">'octal2'</span><span class="keyword">=&gt;</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"0%o"</span><span class="keyword">, </span><span class="default">0777 </span><span class="keyword">&amp; </span><span class="default">$p</span><span class="keyword">),<br>&nbsp; </span><span class="string">'decimal'</span><span class="keyword">=&gt;</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%04o"</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">),<br>&nbsp; </span><span class="string">'fileperms'</span><span class="keyword">=&gt;@</span><span class="default">fileperms</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'mode1'</span><span class="keyword">=&gt;</span><span class="default">$p</span><span class="keyword">,<br>&nbsp; </span><span class="string">'mode2'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">]),<br> <br> </span><span class="string">'owner'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'fileowner'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'uid'</span><span class="keyword">],<br>&nbsp; </span><span class="string">'filegroup'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'gid'</span><span class="keyword">],<br>&nbsp; </span><span class="string">'owner'</span><span class="keyword">=&gt;<br>&nbsp; (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'posix_getpwuid'</span><span class="keyword">))?<br>&nbsp; @</span><span class="default">posix_getpwuid</span><span class="keyword">(</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'uid'</span><span class="keyword">]):</span><span class="string">''</span><span class="keyword">,<br>&nbsp; </span><span class="string">'group'</span><span class="keyword">=&gt;<br>&nbsp; (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'posix_getgrgid'</span><span class="keyword">))?<br>&nbsp; @</span><span class="default">posix_getgrgid</span><span class="keyword">(</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'gid'</span><span class="keyword">]):</span><span class="string">''<br>&nbsp; </span><span class="keyword">),<br> <br> </span><span class="string">'file'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'filename'</span><span class="keyword">=&gt;</span><span class="default">$file</span><span class="keyword">,<br>&nbsp; </span><span class="string">'realpath'</span><span class="keyword">=&gt;(@</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) != </span><span class="default">$file</span><span class="keyword">) ? @</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) : </span><span class="string">''</span><span class="keyword">,<br>&nbsp; </span><span class="string">'dirname'</span><span class="keyword">=&gt;@</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'basename'</span><span class="keyword">=&gt;@</span><span class="default">basename</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)<br>&nbsp; ),<br><br> </span><span class="string">'filetype'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'type'</span><span class="keyword">=&gt;</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$ts</span><span class="keyword">[</span><span class="default">octdec</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">)],</span><span class="default">1</span><span class="keyword">),<br>&nbsp; </span><span class="string">'type_octal'</span><span class="keyword">=&gt;</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%07o"</span><span class="keyword">, </span><span class="default">octdec</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">)),<br>&nbsp; </span><span class="string">'is_file'</span><span class="keyword">=&gt;@</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'is_dir'</span><span class="keyword">=&gt;@</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'is_link'</span><span class="keyword">=&gt;@</span><span class="default">is_link</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'is_readable'</span><span class="keyword">=&gt; @</span><span class="default">is_readable</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">),<br>&nbsp; </span><span class="string">'is_writable'</span><span class="keyword">=&gt; @</span><span class="default">is_writable</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)<br>&nbsp; ),<br>&nbsp; <br> </span><span class="string">'device'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'device'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'dev'</span><span class="keyword">], </span><span class="comment">//Device<br>&nbsp; </span><span class="string">'device_number'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'rdev'</span><span class="keyword">], </span><span class="comment">//Device number, if device.<br>&nbsp; </span><span class="string">'inode'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'ino'</span><span class="keyword">], </span><span class="comment">//File serial number<br>&nbsp; </span><span class="string">'link_count'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'nlink'</span><span class="keyword">], </span><span class="comment">//link count<br>&nbsp; </span><span class="string">'link_to'</span><span class="keyword">=&gt;(</span><span class="default">$s</span><span class="keyword">[</span><span class="string">'type'</span><span class="keyword">]==</span><span class="string">'link'</span><span class="keyword">) ? @</span><span class="default">readlink</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) : </span><span class="string">''<br>&nbsp; </span><span class="keyword">),<br> <br> </span><span class="string">'size'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'size'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">], </span><span class="comment">//Size of file, in bytes.<br>&nbsp; </span><span class="string">'blocks'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'blocks'</span><span class="keyword">], </span><span class="comment">//Number 512-byte blocks allocated<br>&nbsp; </span><span class="string">'block_size'</span><span class="keyword">=&gt; </span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'blksize'</span><span class="keyword">] </span><span class="comment">//Optimal block size for I/O.<br>&nbsp; </span><span class="keyword">), <br> <br> </span><span class="string">'time'</span><span class="keyword">=&gt;array(<br>&nbsp; </span><span class="string">'mtime'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mtime'</span><span class="keyword">], </span><span class="comment">//Time of last modification<br>&nbsp; </span><span class="string">'atime'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'atime'</span><span class="keyword">], </span><span class="comment">//Time of last access.<br>&nbsp; </span><span class="string">'ctime'</span><span class="keyword">=&gt;</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'ctime'</span><span class="keyword">], </span><span class="comment">//Time of last status change<br>&nbsp; </span><span class="string">'accessed'</span><span class="keyword">=&gt;@</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y M D H:i:s'</span><span class="keyword">,</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'atime'</span><span class="keyword">]),<br>&nbsp; </span><span class="string">'modified'</span><span class="keyword">=&gt;@</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y M D H:i:s'</span><span class="keyword">,</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'mtime'</span><span class="keyword">]),<br>&nbsp; </span><span class="string">'created'</span><span class="keyword">=&gt;@</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y M D H:i:s'</span><span class="keyword">,</span><span class="default">$ss</span><span class="keyword">[</span><span class="string">'ctime'</span><span class="keyword">])<br>&nbsp; ),<br> );<br> <br> </span><span class="default">clearstatcache</span><span class="keyword">();<br> return </span><span class="default">$s</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;<br></span><br>|=---------[ Example Output ]<br><br>Array(<br>[perms] =&gt; Array<br>&nbsp; (<br>&nbsp; [umask] =&gt; 0022<br>&nbsp; [human] =&gt; -rw-r--r--<br>&nbsp; [octal1] =&gt; 644<br>&nbsp; [octal2] =&gt; 0644<br>&nbsp; [decimal] =&gt; 100644<br>&nbsp; [fileperms] =&gt; 33188<br>&nbsp; [mode1] =&gt; 33188<br>&nbsp; [mode2] =&gt; 33188<br>&nbsp; )<br> <br>[filetype] =&gt; Array<br>&nbsp; (<br>&nbsp; [type] =&gt; file<br>&nbsp; [type_octal] =&gt; 0100000<br>&nbsp; [is_file] =&gt; 1<br>&nbsp; [is_dir] =&gt;<br>&nbsp; [is_link] =&gt;<br>&nbsp; [is_readable] =&gt; 1<br>&nbsp; [is_writable] =&gt; 1<br>&nbsp; )<br> <br>[owner] =&gt; Array<br>&nbsp; (<br>&nbsp; [fileowner] =&gt; 035483<br>&nbsp; [filegroup] =&gt; 23472<br>&nbsp; [owner_name] =&gt; askapache<br>&nbsp; [group_name] =&gt; grp22558<br>&nbsp; )<br> <br>[file] =&gt; Array<br>&nbsp; (<br>&nbsp; [filename] =&gt; /home/askapache/askapache-stat/htdocs/ok/g.php<br>&nbsp; [realpath] =&gt;<br>&nbsp; [dirname] =&gt; /home/askapache/askapache-stat/htdocs/ok<br>&nbsp; [basename] =&gt; g.php<br>&nbsp; )<br> <br>[device] =&gt; Array<br>&nbsp; (<br>&nbsp; [device] =&gt; 25<br>&nbsp; [device_number] =&gt; 0<br>&nbsp; [inode] =&gt; 92455020<br>&nbsp; [link_count] =&gt; 1<br>&nbsp; [link_to] =&gt;<br>&nbsp; )<br> <br>[size] =&gt; Array<br>&nbsp; (<br>&nbsp; [size] =&gt; 2652<br>&nbsp; [blocks] =&gt; 8<br>&nbsp; [block_size] =&gt; 8192<br>&nbsp; )<br> <br>[time] =&gt; Array<br>&nbsp; (<br>&nbsp; [mtime] =&gt; 1227685253<br>&nbsp; [atime] =&gt; 1227685138<br>&nbsp; [ctime] =&gt; 1227685253<br>&nbsp; [accessed] =&gt; 2008 Nov Tue 23:38:58<br>&nbsp; [modified] =&gt; 2008 Nov Tue 23:40:53<br>&nbsp; [created] =&gt; 2008 Nov Tue 23:40:53<br>&nbsp; )<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82759">  
  <a class="name">
  <strong class="user"><em>mail4rico at gmail dot com</em></strong></a><div class="date" title="2008-04-24 11:19"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82759">
<div class="phpcode"><code><span class="html">
In response to the note whose first line is:<br>Re note posted by "admin at smitelli dot com"<br><br>I believe you have the conversion backwards. You should add an hour to filemtime if the system is in DST and the file is not. Conversely, you should subtract an hour if the file time is DST and the current OS time is not.<br><br>Here's a simplified, corrected version:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">getmodtime</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) { </span><span class="comment">//returns the time a file was modified.<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mtime </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//date('I') returns 1 if DST is on and 0 if off.<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$diff </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">)-</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">, </span><span class="default">$mtime</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//diff =&nbsp; 0 if file-time and os-time are both in the same DST setting<br>&nbsp; &nbsp; &nbsp; &nbsp; //diff =&nbsp; 1 if os is DST and file is not<br>&nbsp; &nbsp; &nbsp; &nbsp; //diff = -1 if file is DST and os is not<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$mtime </span><span class="keyword">+ </span><span class="default">$diff</span><span class="keyword">*</span><span class="default">3600</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span>Here's a test:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="comment">//create two dummy files:<br>&nbsp; &nbsp; </span><span class="default">$file0 </span><span class="keyword">= </span><span class="string">'file1.txt'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$file1 </span><span class="keyword">= </span><span class="string">'file2.txt'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="default">$file0</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$time0</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'Jan 1 2008 10:00'</span><span class="keyword">); echo </span><span class="string">'Date0 (ST): ' </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="default">DATE_COOKIE</span><span class="keyword">, </span><span class="default">$time0</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$time1</span><span class="keyword">=</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'Aug 1 2008 10:00'</span><span class="keyword">); echo </span><span class="string">'Date1 (DT): ' </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="default">DATE_COOKIE</span><span class="keyword">, </span><span class="default">$time1</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$file0</span><span class="keyword">, </span><span class="default">$time0</span><span class="keyword">); </span><span class="comment">//set file0 to Winter (Non-DST)<br>&nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">, </span><span class="default">$time1</span><span class="keyword">); </span><span class="comment">//set file1 to Summer (DST)<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$ftime0 </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file0</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$ftime1 </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">);<br>&nbsp; &nbsp; echo </span><span class="string">"\nUncorrected: \n"</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">'File 0: ' </span><span class="keyword">. (</span><span class="default">$ftime0</span><span class="keyword">-</span><span class="default">$time0</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">'File 1: ' </span><span class="keyword">. (</span><span class="default">$ftime1</span><span class="keyword">-</span><span class="default">$time1</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">//if your system adjusts for DST, then _one_ of the above should be 3600 or -3600, depending on the time of year<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$ftime0 </span><span class="keyword">= </span><span class="default">getmodtime</span><span class="keyword">(</span><span class="default">$file0</span><span class="keyword">); </span><span class="comment">//use filemtime correction<br>&nbsp; &nbsp; </span><span class="default">$ftime1 </span><span class="keyword">= </span><span class="default">getmodtime</span><span class="keyword">(</span><span class="default">$file1</span><span class="keyword">); </span><span class="comment">//use filemtime correction<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">"\nCorrected: \n"</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">'File 0: ' </span><span class="keyword">. (</span><span class="default">$ftime0</span><span class="keyword">-</span><span class="default">$time0</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; echo </span><span class="string">'File 1: ' </span><span class="keyword">. (</span><span class="default">$ftime1</span><span class="keyword">-</span><span class="default">$time1</span><span class="keyword">) .</span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">//both of the corrected values output should be 0.<br></span><span class="default">?&gt;<br></span><br>Output:<br>------------------------------<br>(when run in summer)<br>------------------------------<br>Date0 (ST): Tuesday, 01-Jan-08 10:00:00 EST<br>Date1 (DT): Friday, 01-Aug-08 10:00:00 EDT<br><br>Uncorrected: <br>File 0: -3600<br>File 1: 0<br><br>Corrected: <br>File 0: 0<br>File 1: 0<br>------------------------------<br>(when run in winter--dates omitted)<br>------------------------------<br>Uncorrected: <br>File 0: 0<br>File 1: 3600<br><br>Corrected: <br>File 0: 0<br>File 1: 0<br><br>In response to Re note posted by "admin at smitelli dot com",&nbsp; your version below gives the following output when substituted into my test:<br>------------------------------<br>(when run in summer--dates omitted)<br>------------------------------<br>Uncorrected: <br>File 0: -3600<br>File 1: 0<br><br>Corrected: <br>File 0: -7200<br>File 1: 0<br>------------------------------<br>You can see that the operation is the opposite of what it should be.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87603">  
  <a class="name">
  <strong class="user"><em>digitalaudiorock at hotmail dot com</em></strong></a><div class="date" title="2008-12-12 08:23"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87603">
<div class="phpcode"><code><span class="html">
Regarding the stat() on files larger than 2GB on 32 bit systems not working, note that the behavior appears to differ between Linux and Windows.&nbsp; Under Windows there's so way to know whether or not this failed.<br><br>It's been my experience that under Linux, performing a stat() on files that are too large for the integer size generates a warning and returns false.&nbsp; However under Windows it silently truncates the high order bits of the size resulting in an incorrect number.&nbsp; The only way you'd ever know it failed is in the event that the truncation happened to leave the sign bit on resulting in a negative size.&nbsp; That is, there is _no_ reliable way to know it failed.<br><br>This is true of filesize() as well.<br><br>Tom</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72725">  
  <a class="name">
  <strong class="user"><em>JulieC</em></strong></a><div class="date" title="2007-01-30 07:21"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72725">
<div class="phpcode"><code><span class="html">
The dir_size function provided by "marting.dc AT gmail.com" works great, except the $mas variable is not initialized.&nbsp; Add:<br><br>&nbsp;&nbsp; $mas = 0;<br><br>before the while() loop.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58404">  
  <a class="name">
  <strong class="user"><em>admin at smitelli dot com</em></strong></a><div class="date" title="2005-11-02 11:27"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58404">
<div class="phpcode"><code><span class="html">
There's an important (yet little-known) problem with file dates on Windows and Daylight Savings. This affects the 'atime' and 'mtime' elements returned by stat(), and it also affects other filesystem-related functions such as fileatime() and filemtime().<br><br>During the winter months (when Daylight Savings isn't in effect), Windows will report a certain timestamp for a given file. However, when summer comes and Daylight Savings starts, Windows will report a DIFFERENT timestamp! Even if the file hasn't been altered at all, Windows will shift every timestamp it reads forward one full hour during Daylight Savings.<br><br>This all stems from the fact that M$ decided to use a hackneyed method of tracking file dates to make sure there are no ambiguous times during the "repeated hour" when DST ends in October, maintain compatibility with older FAT partitions, etc. An excellent description of what/why this is can be found at <a rel="nofollow" target="_blank">http://www.codeproject.com/datetime/dstbugs.asp</a><br><br>This is noteworthy because *nix platforms don't have this problem. This could introduce some hard-to-track bugs if you're trying to move scripts that track file timestamps between platforms.<br><br>I spent a fair amount of time trying to debug one of my own scripts that was suffering from this problem. I was storing file modification times in a MySQL table, then using that information to see which files had been altered since the last run of the script. After each Daylight Savings change, every single file the script saw was considered "changed" since the last run, since all the timestamps were off by +/- 3600 seconds.<br><br>This one-liner is probably one of the most incorrect fixes that could ever be devised, but it's worked flawlessly in production-grade environments... Assuming $file_date is a Unix timestamp you've just read from a file:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) </span><span class="default">$file_date </span><span class="keyword">-= </span><span class="default">3600</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>That will ensure that the timestamp you're working with is always consistently reported, regardless of whether the machine is in Daylight Savings or not.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53614">  
  <a class="name">
  <strong class="user"><em>mao at nospam dot com</em></strong></a><div class="date" title="2005-06-07 05:53"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53614">
<div class="phpcode"><code><span class="html">
If you have ftp (and the related sftp) protocols disabled on your remote server, it can be hard figuring out how to 'stat' a remote file. The following works for me:<br><br><span class="default">&lt;?php&nbsp; <br><br>$conn </span><span class="keyword">= </span><span class="default">ssh2_connect</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">22</span><span class="keyword">);<br></span><span class="default">ssh2_auth_password</span><span class="keyword">(</span><span class="default">$conn</span><span class="keyword">, </span><span class="default">$user</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">);<br></span><span class="default">$stream </span><span class="keyword">= </span><span class="default">ssh2_exec</span><span class="keyword">(</span><span class="default">$conn</span><span class="keyword">, </span><span class="string">"stat </span><span class="default">$fileName</span><span class="string"> &gt; </span><span class="default">$remotedest</span><span class="string">"</span><span class="keyword">);<br></span><span class="default">ssh2_scp_recv</span><span class="keyword">(</span><span class="default">$conn</span><span class="keyword">, </span><span class="default">$remotedest</span><span class="keyword">, </span><span class="default">$localdest</span><span class="keyword">);<br></span><span class="default">$farray </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="default">$localdest</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$farray</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46406">  
  <a class="name">
  <strong class="user"><em>svend at svendtofte dot com</em></strong></a><div class="date" title="2004-10-09 04:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46406">
<div class="phpcode"><code><span class="html">
To the note of how you can figure out if a file is a folder or not, there is also the handy "is_dir" function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84596">  
  <a class="name">
  <strong class="user"><em>antonixyz at gmx dot net</em></strong></a><div class="date" title="2008-07-21 02:19"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84596">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br>$stat </span><span class="keyword">= </span><span class="default">stat</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">);
<br></span><span class="default">$mode </span><span class="keyword">= </span><span class="default">$stat</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">];
<br></span><span class="default">?&gt;
<br></span>is identical to:
<br><span class="default">&lt;?php $mode </span><span class="keyword">= </span><span class="default">fileperms</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>at least on my linux box.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81534">  
  <a class="name">
  <strong class="user"><em>Hellhound</em></strong></a><div class="date" title="2008-03-03 02:16"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81534">
<div class="phpcode"><code><span class="html">
To ignore index number or name specifics.. use:<br><br>list($dev, $ino, $mode, $nlink, $uid, $gid, $rdev, $size, $atime, $mtime, $ctime, $blksize, $blocks)<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; = lstat($directory_element);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66175">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-05-16 10:10"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66175">
<div class="phpcode"><code><span class="html">
Re note posted by "admin at smitelli dot com"<br><br>I'm not sure how that can work all year round since you have to modify both opposing inside and outside DST based on the actual files themselves, as well as the current DST setting for the system.<br><br>e.g. using filemtime, same thing for stat.<br><br><span class="default">&lt;?php<br><br>$mtime </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br><br>if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// Win DST is enabled, adjust standard time <br>&nbsp; &nbsp; // files back to 'real' file UTC.<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">, </span><span class="default">$mtime</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mtime </span><span class="keyword">-= </span><span class="default">3600</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>} else {<br>&nbsp; &nbsp; </span><span class="comment">// Win DST is disabled, adjust daylight time <br>&nbsp; &nbsp; // files forward to 'real' file UTC.<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">'I'</span><span class="keyword">, </span><span class="default">$mtime</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mtime </span><span class="keyword">+= </span><span class="default">3600</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br>echo </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">$mtime</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Just another example of why 'not' to use windows in a server room.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54999">  
  <a class="name">
  <strong class="user"><em>com dot gmail at algofoogle</em></strong></a><div class="date" title="2005-07-21 06:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54999">
<div class="phpcode"><code><span class="html">
Re note posted by "salisbm at hotmail dot com":<br><br>S_IFDIR is not a single-bit flag. It is a constant that relies on the "S_IFMT" bitmask. This bitmask should be applied to the "mode" parameter before comparing with any of the other "S_IF..." constants, as indicated by stat.h:<br><br>#define S_ISDIR(m)&nbsp; (((m) &amp; S_IFMT) == S_IFDIR)<br><br>That is, this approach is incorrect:<br><br><span class="default">&lt;?php<br>define</span><span class="keyword">(</span><span class="string">'S_IFDIR'</span><span class="keyword">,</span><span class="default">040000</span><span class="keyword">);<br>if (</span><span class="default">$mode </span><span class="keyword">&amp; </span><span class="default">S_IFDIR</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="comment">/*<br>&nbsp; &nbsp; incorrect!<br>&nbsp; &nbsp; format could be S_IFDIR, but also<br>&nbsp; &nbsp; S_IFBLK, S_IFSOCK, or S_IFWHT.<br>&nbsp; */<br></span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>...and should instead be:<br><br><span class="default">&lt;?php<br>define</span><span class="keyword">(</span><span class="string">'S_IFMT'</span><span class="keyword">,</span><span class="default">0170000</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">'S_IFDIR'</span><span class="keyword">,</span><span class="default">040000</span><span class="keyword">);<br>if (</span><span class="default">S_IFDIR </span><span class="keyword">== (</span><span class="default">$mode </span><span class="keyword">&amp; </span><span class="default">S_IFMT</span><span class="keyword">)) {&nbsp; </span><span class="comment">/* ... */&nbsp; </span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>As pointed out by "svend at svendtofte dot com", however, there is also the "is_dir" function for this purpose, along with "is_file" and "is_link" to cover the most common format types...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47320">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2004-11-10 07:41"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47320">
<div class="phpcode"><code><span class="html">
If the 2GB limit is driving you crazy, you can use this complete hack.&nbsp; use in place of filesize()<br><br>function file_size($file) {<br>&nbsp; $size = filesize($file);<br>&nbsp; if ( $size == 0)<br>&nbsp; &nbsp; $size = exec("ls -l $file | awk '{print $5}'");<br>&nbsp; return $size;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="1213">  
  <a class="name">
  <strong class="user"><em>ian at eiloart dot com</em></strong></a><div class="date" title="1999-07-23 08:52"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom1213">
<div class="phpcode"><code><span class="html">
Here's what the UNIX man page on stat has to say about the difference between a file change and&nbsp; a file modification:
<br>
<br>st_mtime&nbsp; Time when data was last modified.&nbsp; Changed by&nbsp; the following&nbsp; functions:&nbsp;&nbsp; creat(),&nbsp; mknod(), pipe(), utime(), and write(2).
<br>
<br>st_ctime&nbsp; Time when file status was last&nbsp; changed.&nbsp;&nbsp; Changed by&nbsp; the&nbsp; following&nbsp; functions: chmod(), chown(), creat(), link(2), mknod(), pipe(), unlink(2), utime(), and write().
<br>
<br>So a modification is a change in the data, whereas a change also happens if you modify file permissions and so on.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.stat.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:07:13 GMT -->


</body></html>