<html><!-- Mirrored from php.net/manual/en/function.xml-parser-create.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:04:35 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>xml_parser_create</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.xml-parser-create.html">
 <link rel="shorturl" href="http://php.net/xml-parser-create">
 <link rel="alternate" href="http://php.net/xml-parser-create" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.xml.html">
 <link rel="prev" href="function.xml-parser-create-ns.html">
 <link rel="next" href="function.xml-parser-free.html">

 <link rel="alternate" href="function.xml-parser-create.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.xml-parser-create.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.xml-parser-create.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.xml-parser-create.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.xml-parser-create.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.xml-parser-create.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.xml-parser-create.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.xml-parser-create.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.xml-parser-create.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.xml-parser-create.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.xml-parser-create.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.xml.html">XML Manipulation</a></li>      <li><a href="book.xml.html">XML Parser</a></li>      <li><a href="ref.xml.html">XML Parser Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.xml-parser-create" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">xml_parser_create</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">xml_parser_create</span> â€” <span class="dc-title">Create an XML parser</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.xml-parser-create-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>xml_parser_create</strong></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$encoding</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>xml_parser_create()</strong></span> creates a new XML parser
   and returns a resource handle referencing it to be used by the
   other XML functions.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.xml-parser-create-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">encoding</code></dt>

     <dd>

      <p class="para">
       The optional <code class="parameter">encoding</code> specifies the character
       encoding for the input/output in PHP 4. Starting from PHP 5, the input
       encoding is automatically detected, so that the
       <code class="parameter">encoding</code> parameter specifies only the output
       encoding. In PHP 4, the default output encoding is the same as the
       input charset. If empty string is passed, the parser attempts to identify
       which encoding the document is encoded in by looking at the heading 3 or
       4 bytes. In PHP 5.0.0 and 5.0.1, the default output charset is
       ISO-8859-1, while in PHP 5.0.2 and upper is UTF-8. The supported
       encodings are <em>ISO-8859-1</em>, <em>UTF-8</em> and
       <em>US-ASCII</em>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.xml-parser-create-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a resource handle for the new XML parser.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.xml-parser-create-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.xml-parser-create-ns.html" class="function" rel="rdfs-seeAlso">xml_parser_create_ns()</a> - Create an XML parser with namespace support</span></li>
    <li class="member"><span class="function"><a href="function.xml-parser-free.html" class="function" rel="rdfs-seeAlso">xml_parser_free()</a> - Free an XML parser</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="100099">  
  <a class="name">
  <strong class="user"><em>marek995 at seznam dot cz</em></strong></a><div class="date" title="2010-09-24 11:46"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100099">
<div class="phpcode"><code><span class="html">
I created a function, which combines xml_paresr_create and all functions around.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">html_parse</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)<br>&nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$temp</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; switch(</span><span class="default">$temp</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">"&lt;"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">between</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">"&gt;"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$end </span><span class="keyword">== </span><span class="default">true</span><span class="keyword">) {</span><span class="default">end_tag</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {</span><span class="default">start_tag</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case </span><span class="string">"/"</span><span class="keyword">:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$count </span><span class="keyword">== </span><span class="default">true</span><span class="keyword">) {</span><span class="default">$end </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {</span><span class="default">$text </span><span class="keyword">= </span><span class="default">$text </span><span class="keyword">. </span><span class="string">"/"</span><span class="keyword">;}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">$text </span><span class="keyword">. </span><span class="default">$temp</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp;&nbsp; }<br></span><span class="default">?&gt;<br></span>The input value is a string.<br>It calls functions start_tag() , between() and end_tag() just like the original xml parser.<br><br>But it has a few differences:<br>&nbsp; - It does NOT check the code. Just resends values to that three functions, no matter, if they are right<br>&nbsp; - It works with parameters. For example: from tag &lt;sth b="42"&gt; sends sth b="42"<br>&nbsp; - It works wit diacritics. The original parser sometimes wrapped the text before the first diacritics appearance.<br>&nbsp; - Works with all encoding. If the input is UTF-8, the output will be UTF-8 too<br>&nbsp; - It works with strings. Not with file pointers.<br>&nbsp; - No "Reserved XML name" error<br>&nbsp; - No doctype needed<br>&nbsp; - It does not work with commentaries, notes, programming instructions etc. Just the tags<br><br>definition of the handling functions is:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">between</span><span class="keyword">(</span><span class="default">$stuff</span><span class="keyword">) {}<br></span><span class="default">?&gt;<br></span><br>No other attributes</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50182">  
  <a class="name">
  <strong class="user"><em>php at stock-consulting dot com</em></strong></a><div class="date" title="2005-02-21 02:47"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50182">
<div class="phpcode"><code><span class="html">
Even though I passed "UTF-8" as encoding type PHP (Version 4.3.3) did *not* treat the input file as UTF-8. The input file was missing the BOM header bytes (which may indeed be omitted, according to RFC3629...but things are a bit unclear there. The RFC seems to make mere recommendations concering the BOM header). If you want to sure that PHP treats an UTF-8 encoded file correctly, make sure that it begins with the corresponding 3 byte BOM header (0xEF 0xBB 0xBF)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41235">  
  <a class="name">
  <strong class="user"><em>jcalvert at gmx dot net</em></strong></a><div class="date" title="2004-04-03 10:39"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41235">
<div class="phpcode"><code><span class="html">
To maintain compatibility between PHP4 and PHP5 you should always pass a string argument to this function. PHP4 autodetects the format of the input if you leave it out whereas PHP5 will assume the format to be ISO-8859-1 (and choke on the byte order marker of UTF-8 files).<br><br>Calling the function as <span class="default">&lt;?php $res </span><span class="keyword">= </span><span class="default">xml_parser_create</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">) </span><span class="default">?&gt;</span> will cause both versions of PHP to autodetect the format.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64663">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-04-19 07:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64663">
<div class="phpcode"><code><span class="html">
I'd also recommend adding the option below <br>xml_parser_set_option($parser,XML_OPTION_SKIP_WHITE,1);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53188">  
  <a class="name">
  <strong class="user"><em>Tobbe</em></strong></a><div class="date" title="2005-05-25 06:01"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53188">
<div class="phpcode"><code><span class="html">
The above "XML to array" code does not work properly if you have several tags on the same level and with the same name, example:<br><br>&lt;currenterrors&gt;<br>&lt;error&gt;<br>&lt;description&gt;This is a real error...&lt;/description&gt;<br>&lt;/error&gt;<br>&lt;error&gt;<br>&lt;description&gt;This is a second error...&lt;/description&gt;<br>&lt;/error&gt;<br>&lt;error&gt;<br>&lt;description&gt;Lots of errors today...&lt;/description&gt;<br>&lt;/error&gt;<br>&lt;error&gt;<br>&lt;description&gt;This is the last error...&lt;/description&gt;<br>&lt;/error&gt;<br>&lt;/currenterrors&gt;<br><br>It will then only display the first &lt;error&gt;-tag.<br>In this case you will need to number the tags automatically or maybe have several arrays for each new element.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79621">  
  <a class="name">
  <strong class="user"><em>juanhdv at NOSPAM dot divvol dot org</em></strong></a><div class="date" title="2007-12-05 12:08"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79621">
<div class="phpcode"><code><span class="html">
In PHP 5, when including in your xml file the definition '&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;',&nbsp;&nbsp; I'd also recommend adding the option below:<br> <br>xml_parser_set_option($xml_parser,XML_OPTION_TARGET_ENCODING, "ISO-8859-1").<br><br>It works fine!<br><br>If your enconding is 'UTF-8', just replace 'ISO-8859-1'.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.xml-parser-create.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:04:36 GMT -->


</body></html>