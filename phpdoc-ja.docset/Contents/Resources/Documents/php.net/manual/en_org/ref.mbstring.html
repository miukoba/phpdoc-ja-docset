<html><!-- Mirrored from php.net/manual/en/ref.mbstring.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:47:20 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Multibyte String Functions</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="ref.mbstring.html">
 <link rel="shorturl" href="http://php.net/mbstring">
 <link rel="alternate" href="http://php.net/mbstring" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.mbstring.html">
 <link rel="prev" href="mbstring.php4.req.html">
 <link rel="next" href="function.mb-check-encoding.html">

 <link rel="alternate" href="ref.mbstring.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/ref.mbstring.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/ref.mbstring.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/ref.mbstring.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/ref.mbstring.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/ref.mbstring.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/ref.mbstring.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/ref.mbstring.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/ref.mbstring.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/ref.mbstring.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/ref.mbstring.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.international.html">Human Language and Character Encoding Support</a></li>      <li><a href="book.mbstring.html">Multibyte String</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="ref.mbstring" class="reference">
  <h1 class="title">Multibyte String Functions</h1> 

  <div class="partintro">
    <h1 class="title">References</h1>
    <p class="para">
     Multibyte character encoding schemes and their related issues are
     fairly complicated, and are beyond the scope of this documentation.
     Please refer to the following URLs and other resources for further
     information regarding these topics.
     </p><ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Unicode materials
       </p>
       <p class="para">
        <a href="http://www.unicode.org/" class="link external">»&nbsp;http://www.unicode.org/</a>
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Japanese/Korean/Chinese character information
       </p>
       <p class="para">
        <a href="http://examples.oreilly.com/cjkvinfo/doc/cjk.inf" class="link external">»&nbsp;http://examples.oreilly.com/cjkvinfo/doc/cjk.inf</a>
       </p>
      </li>
     </ul>
    <p></p>
  </div>

 























































































































































































 



























































































































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.mb-check-encoding.html">mb_check_encoding</a> — Check if the string is valid for the specified encoding</li><li><a href="function.mb-convert-case.html">mb_convert_case</a> — Perform case folding on a string</li><li><a href="function.mb-convert-encoding.html">mb_convert_encoding</a> — Convert character encoding</li><li><a href="function.mb-convert-kana.html">mb_convert_kana</a> — Convert "kana" one from another ("zen-kaku", "han-kaku" and more)</li><li><a href="function.mb-convert-variables.html">mb_convert_variables</a> — Convert character code in variable(s)</li><li><a href="function.mb-decode-mimeheader.html">mb_decode_mimeheader</a> — Decode string in MIME header field</li><li><a href="function.mb-decode-numericentity.html">mb_decode_numericentity</a> — Decode HTML numeric string reference to character</li><li><a href="function.mb-detect-encoding.html">mb_detect_encoding</a> — Detect character encoding</li><li><a href="function.mb-detect-order.html">mb_detect_order</a> — Set/Get character encoding detection order</li><li><a href="function.mb-encode-mimeheader.html">mb_encode_mimeheader</a> — Encode string for MIME header</li><li><a href="function.mb-encode-numericentity.html">mb_encode_numericentity</a> — Encode character to HTML numeric string reference</li><li><a href="function.mb-encoding-aliases.html">mb_encoding_aliases</a> — Get aliases of a known encoding type</li><li><a href="function.mb-ereg-match.html">mb_ereg_match</a> — Regular expression match for multibyte string</li><li><a href="function.mb-ereg-replace-callback.html">mb_ereg_replace_callback</a> — Perform a regular expresssion seach and replace with multibyte support using a callback</li><li><a href="function.mb-ereg-replace.html">mb_ereg_replace</a> — Replace regular expression with multibyte support</li><li><a href="function.mb-ereg-search-getpos.html">mb_ereg_search_getpos</a> — Returns start point for next regular expression match</li><li><a href="function.mb-ereg-search-getregs.html">mb_ereg_search_getregs</a> — Retrieve the result from the last multibyte regular expression match</li><li><a href="function.mb-ereg-search-init.html">mb_ereg_search_init</a> — Setup string and regular expression for a multibyte regular expression match</li><li><a href="function.mb-ereg-search-pos.html">mb_ereg_search_pos</a> — Returns position and length of a matched part of the multibyte regular expression for a predefined multibyte string</li><li><a href="function.mb-ereg-search-regs.html">mb_ereg_search_regs</a> — Returns the matched part of a multibyte regular expression</li><li><a href="function.mb-ereg-search-setpos.html">mb_ereg_search_setpos</a> — Set start point of next regular expression match</li><li><a href="function.mb-ereg-search.html">mb_ereg_search</a> — Multibyte regular expression match for predefined multibyte string</li><li><a href="function.mb-ereg.html">mb_ereg</a> — Regular expression match with multibyte support</li><li><a href="function.mb-eregi-replace.html">mb_eregi_replace</a> — Replace regular expression with multibyte support ignoring case</li><li><a href="function.mb-eregi.html">mb_eregi</a> — Regular expression match ignoring case with multibyte support</li><li><a href="function.mb-get-info.html">mb_get_info</a> — Get internal settings of mbstring</li><li><a href="function.mb-http-input.html">mb_http_input</a> — Detect HTTP input character encoding</li><li><a href="function.mb-http-output.html">mb_http_output</a> — Set/Get HTTP output character encoding</li><li><a href="function.mb-internal-encoding.html">mb_internal_encoding</a> — Set/Get internal character encoding</li><li><a href="function.mb-language.html">mb_language</a> — Set/Get current language</li><li><a href="function.mb-list-encodings.html">mb_list_encodings</a> — Returns an array of all supported encodings</li><li><a href="function.mb-output-handler.html">mb_output_handler</a> — Callback function converts character encoding in output buffer</li><li><a href="function.mb-parse-str.html">mb_parse_str</a> — Parse GET/POST/COOKIE data and set global variable</li><li><a href="function.mb-preferred-mime-name.html">mb_preferred_mime_name</a> — Get MIME charset string</li><li><a href="function.mb-regex-encoding.html">mb_regex_encoding</a> — Set/Get character encoding for multibyte regex</li><li><a href="function.mb-regex-set-options.html">mb_regex_set_options</a> — Set/Get the default options for mbregex functions</li><li><a href="function.mb-send-mail.html">mb_send_mail</a> — Send encoded mail</li><li><a href="function.mb-split.html">mb_split</a> — Split multibyte string using regular expression</li><li><a href="function.mb-strcut.html">mb_strcut</a> — Get part of string</li><li><a href="function.mb-strimwidth.html">mb_strimwidth</a> — Get truncated string with specified width</li><li><a href="function.mb-stripos.html">mb_stripos</a> — Finds position of first occurrence of a string within another, case insensitive</li><li><a href="function.mb-stristr.html">mb_stristr</a> — Finds first occurrence of a string within another, case insensitive</li><li><a href="function.mb-strlen.html">mb_strlen</a> — Get string length</li><li><a href="function.mb-strpos.html">mb_strpos</a> — Find position of first occurrence of string in a string</li><li><a href="function.mb-strrchr.html">mb_strrchr</a> — Finds the last occurrence of a character in a string within another</li><li><a href="function.mb-strrichr.html">mb_strrichr</a> — Finds the last occurrence of a character in a string within another, case insensitive</li><li><a href="function.mb-strripos.html">mb_strripos</a> — Finds position of last occurrence of a string within another, case insensitive</li><li><a href="function.mb-strrpos.html">mb_strrpos</a> — Find position of last occurrence of a string in a string</li><li><a href="function.mb-strstr.html">mb_strstr</a> — Finds first occurrence of a string within another</li><li><a href="function.mb-strtolower.html">mb_strtolower</a> — Make a string lowercase</li><li><a href="function.mb-strtoupper.html">mb_strtoupper</a> — Make a string uppercase</li><li><a href="function.mb-strwidth.html">mb_strwidth</a> — Return width of string</li><li><a href="function.mb-substitute-character.html">mb_substitute_character</a> — Set/Get substitution character</li><li><a href="function.mb-substr-count.html">mb_substr_count</a> — Count the number of substring occurrences</li><li><a href="function.mb-substr.html">mb_substr</a> — Get part of string</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="109937">  
  <a class="name">
  <strong class="user"><em>deceze at gmail dot com</em></strong></a><div class="date" title="2012-09-04 10:32"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom109937">
<div class="phpcode"><code><span class="html">
Please note that all the discussion about mb_str_replace in the comments is pretty pointless. str_replace works just fine with multibyte strings:<br><br><span class="default">&lt;?php<br><br>$string&nbsp; </span><span class="keyword">= </span><span class="string">'漢字はユニコード'</span><span class="keyword">;<br></span><span class="default">$needle&nbsp; </span><span class="keyword">= </span><span class="string">'は'</span><span class="keyword">;<br></span><span class="default">$replace </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br><br>echo </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br></span><span class="comment">// outputs: 漢字Fooユニコード<br><br></span><span class="default">?&gt;<br></span><br>The usual problem is that the string is evaluated as binary string, meaning PHP is not aware of encodings at all. Problems arise if you are getting a value "from outside" somewhere (database, POST request) and the encoding of the needle and the haystack is not the same. That typically means the source code is not saved in the same encoding as you are receiving "from outside". Therefore the binary representations don't match and nothing happens.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105328">  
  <a class="name">
  <strong class="user"><em>rawsrc at gmail dot com</em></strong></a><div class="date" title="2011-08-09 02:36"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105328">
<div class="phpcode"><code><span class="html">
Hi,<br><br>For those who are looking for mb_str_replace, here's a simple function :<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">mb_str_replace</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br>&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">, </span><span class="default">mb_split</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;<br></span>I haven't found a simpliest way to proceed :-)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86120">  
  <a class="name">
  <strong class="user"><em>marc at ermshaus dot org</em></strong></a><div class="date" title="2008-10-03 03:05"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86120">
<div class="phpcode"><code><span class="html">
A small correction to patrick at hexane dot org's mb_str_replace function. The original function does not work as intended in case $replacement contains $needle.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">mb_str_replace</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$needle_len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$replacement_len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$replacement</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br>&nbsp; &nbsp; while (</span><span class="default">$pos </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$haystack </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">) . </span><span class="default">$replacement<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">. </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">$needle_len</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">$replacement_len</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$haystack</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68349">  
  <a class="name">
  <strong class="user"><em>daniel at softel dot jp</em></strong></a><div class="date" title="2006-07-24 04:41"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68349">
<div class="phpcode"><code><span class="html">
Note that although "multi-byte" hints at total internationalization, the mb_ API was designed by a Japanese person to support the Japanese language.<br><br>Some of the functions, for example mb_convert_kana(), make absolutely no sense outside of a Japanese language environment.<br><br>It should perhaps be considered "lucky" if the functions work with non-Japanese multi-byte languages.<br><br>I don't mean any disrespect to the mb_ API because I'm using it everyday and I appreciate its usefulness, but maybe a better name would be the jp_ API.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50298">  
  <a class="name">
  <strong class="user"><em>Eugene Murai</em></strong></a><div class="date" title="2005-02-23 10:20"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50298">
<div class="phpcode"><code><span class="html">
PHP can input and output Unicode, but a little different from what Microsoft means: when Microsoft says "Unicode", it unexplicitly means little-endian UTF-16 with BOM(FF FE = chr(255).chr(254)), whereas PHP's "UTF-16" means big-endian with BOM. For this reason, PHP does not seem to be able to output Unicode CSV file for Microsoft Excel. Solving this problem is quite simple: just put BOM infront of UTF-16LE string.<br><br>Example:<br><br>$unicode_str_for_Excel = chr(255).chr(254).mb_convert_encoding( $utf8_str, 'UTF-16LE', 'UTF-8');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113245">  
  <a class="name">
  <strong class="user"><em>Daniel Rhodes</em></strong></a><div class="date" title="2013-09-17 01:24"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113245">
<div class="phpcode"><code><span class="html">
Here's a cheap and cheeky function to remove leading and trailing *punctuation* (or more specifically "non-word characters") from a UTF-8 string in whatever language. (At least it works well enough for Japanese and English.)<br><br>/**<br> * Trim singlebyte and multibyte punctuation from the start and end of a string<br> * <br> * @author Daniel Rhodes<br> * @note we want the first non-word grabbing to be greedy but then<br> * @note we want the dot-star grabbing (before the last non-word grabbing)<br> * @note to be ungreedy<br> * <br> * @param string $string input string in UTF-8<br> * @return string as $string but with leading and trailing punctuation removed<br> */<br>function mb_punctuation_trim($string)<br>{<br>&nbsp; &nbsp; preg_match('/^[^\w]{0,}(.*?)[^\w]{0,}$/iu', $string, $matches); //case-'i'nsensitive and 'u'ngreedy<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if(count($matches) &lt; 2)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; //some strange error so just return the original input<br>&nbsp; &nbsp; &nbsp; &nbsp; return $string;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return $matches[1];<br>}<br><br>Hope you like it!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113238">  
  <a class="name">
  <strong class="user"><em>Daniel Rhodes</em></strong></a><div class="date" title="2013-09-16 02:55"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113238">
<div class="phpcode"><code><span class="html">
Here's a cheap and cheeky function to remove leading and trailing *punctuation* (or more specifically "non-word characters") from a UTF-8 string in whatever language. (At least it works well enough for Japanese and English.)<br><br>/**<br> * Trim singlebyte and multibyte punctuation from the start and end of a string<br> * <br> * @author Daniel Rhodes<br> * @note we want the first non-word grabbing to be greedy but then<br> * @note we want the dot-star grabbing (before the last non-word grabbing)<br> * @note to be ungreedy<br> * <br> * @param string $string input string in UTF-8<br> * @return string as $string but with leading and trailing punctuation removed<br> */<br>function mb_punctuation_trim($string)<br>{<br>&nbsp; &nbsp; preg_match('/^[^\w]{0,}(.*?)[^\w]{0,}$/iu', $string, $matches); //case-'i'nsensitive and 'u'ngreedy<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if(count($matches) &lt; 2)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; //some strange error so just return the original input<br>&nbsp; &nbsp; &nbsp; &nbsp; return $string;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return $matches[1];<br>}<br><br>Hope you like it!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113235">  
  <a class="name">
  <strong class="user"><em>Daniel Rhodes</em></strong></a><div class="date" title="2013-09-16 12:11"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113235">
<div class="phpcode"><code><span class="html">
Here's a cheap and cheeky function to remove leading and trailing *punctuation* (or more specifically "non-word characters") from a UTF-8 string in whatever language. (At least it works well enough for Japanese and English.)<br><br>/**<br> * Trim singlebyte and multibyte punctuation from the start and end of a string<br> * <br> * @author Daniel Rhodes<br> * @note we want the first non-word grabbing to be greedy but then<br> * @note we want the dot-star grabbing (before the last non-word grabbing)<br> * @note to be ungreedy<br> * <br> * @param string $string input string in UTF-8<br> * @return string as $string but with leading and trailing punctuation removed<br> */<br>function mb_punctuation_trim($string)<br>{<br>&nbsp; &nbsp; preg_match('/^[^\w]{0,}(.*?)[^\w]{0,}$/iu', $string, $matches); //case-'i'nsensitive and 'u'ngreedy<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if(count($matches) &lt; 2)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; //some strange error so just return the original input<br>&nbsp; &nbsp; &nbsp; &nbsp; return $string;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return $matches[1];<br>}<br><br>Hope you like it!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100459">  
  <a class="name">
  <strong class="user"><em>johannesponader at dontspamme dot googlemail dot co</em></strong></a><div class="date" title="2010-10-17 09:46"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100459">
<div class="phpcode"><code><span class="html">
Please note that when migrating code to handle UTF-8 encoding, not only the functions mentioned here are useful, but also the function htmlentities() has to be changed to htmlentities($var, ENT_COMPAT, "UTF-8") or similar. I didn't scan the manual for it, but there could be some more functions that need adjustments like this.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94220">  
  <a class="name">
  <strong class="user"><em>roydukkey at roydukkey dot com</em></strong></a><div class="date" title="2009-10-22 09:31"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94220">
<div class="phpcode"><code><span class="html">
This would be one way to create a multibyte substr_replace function
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">mb_substr_replace</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$posOpen</span><span class="keyword">, </span><span class="default">$posClose</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$posOpen</span><span class="keyword">).</span><span class="default">$replace</span><span class="keyword">.</span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$posClose</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74722">  
  <a class="name">
  <strong class="user"><em>chris at maedata dot com</em></strong></a><div class="date" title="2007-04-24 09:50"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74722">
<div class="phpcode"><code><span class="html">
The opposite of what Eugene Murai wrote in a previous comment is true when importing/uploading a file. For instance, if you export an Excel spreadsheet using the Save As Unicode Text option, you can use the following to convert it to UTF-8 after uploading:<br><br>//Convert file to UTF-8 in case Windows mucked it up<br>$file = explode( "\n", mb_convert_encoding( trim( file_get_contents( $_FILES['file']['tmp_name'] ) ), 'UTF-8', 'UTF-16' ) );</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73889">  
  <a class="name">
  <strong class="user"><em>mdoocy at u dot washington dot edu</em></strong></a><div class="date" title="2007-03-14 10:30"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom73889">
<div class="phpcode"><code><span class="html">
Note that some of the multi-byte functions run in O(n) time, rather than constant time as is the case for their single-byte equivalents. This includes any functionality requiring access at a specific index, since random access is not possible in a string whose number of bytes will not necessarily match the number of characters. Affected functions include: mb_substr(), mb_strstr(), mb_strcut(), mb_strpos(), etc.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115080">  
  <a class="name">
  <strong class="user"><em>treilor at gmail dot com</em></strong></a><div class="date" title="2014-05-23 08:43"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115080">
<div class="phpcode"><code><span class="html">
A small note for those who will follow rawsrc at gmail dot com's advice: mb_split uses regular expressions, in which case it may make sense to use built-in function mb_ereg_replace.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115050">  
  <a class="name">
  <strong class="user"><em>mattr at telebody dot com</em></strong></a><div class="date" title="2014-05-19 07:29"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115050">
<div class="phpcode"><code><span class="html">
A brief note on Daniel Rhodes' mb_punctuation_trim().<br>The regular expression modifier u does not mean ungreedy, rather it means the pattern is in UTF-8 encoding. Instead the U modifier should be used to get ungreedy behavior. (I have not otherwise tested his code.)<br>See <a rel="nofollow" target="_blank">http://php.net/manual/en/reference.pcre.pattern.modifiers.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="113569">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2013-10-30 11:16"><strong>9 months ago</strong></div>
  <div class="text" id="Hcom113569">
<div class="phpcode"><code><span class="html">
Yet another single-line mb_trim() function<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">mb_trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$trim_chars </span><span class="keyword">= </span><span class="string">'\s'</span><span class="keyword">){<br>&nbsp; &nbsp; return </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/^['</span><span class="keyword">.</span><span class="default">$trim_chars</span><span class="keyword">.</span><span class="string">']*(?U)(.*)['</span><span class="keyword">.</span><span class="default">$trim_chars</span><span class="keyword">.</span><span class="string">']*$/u'</span><span class="keyword">, </span><span class="string">'\\1'</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br>}<br></span><span class="default">$string </span><span class="keyword">= </span><span class="string">'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "some text."&nbsp; &nbsp; &nbsp; '</span><span class="keyword">;<br>echo </span><span class="default">mb_trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">'\s".'</span><span class="keyword">);<br></span><span class="comment">//some text<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102141">  
  <a class="name">
  <strong class="user"><em>efesar</em></strong></a><div class="date" title="2011-01-28 02:21"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom102141">
<div class="phpcode"><code><span class="html">
This small mb_trim function works for me. 
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">mb_trim</span><span class="keyword">( </span><span class="default">$string </span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">( </span><span class="string">"/(^\s+)|(\s+$)/us"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$string </span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91810">  
  <a class="name">
  <strong class="user"><em>sakai at d4k dot net</em></strong></a><div class="date" title="2009-06-26 05:46"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91810">
<div class="phpcode"><code><span class="html">
I hope this mb_str_replace will work for arrays.&nbsp; Please use mb_internal_encoding() beforehand, if you need to change the encoding.<br><br>Thanks to marc at ermshaus dot org for the original.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'mb_str_replace'</span><span class="keyword">)) {<br><br>&nbsp; &nbsp; function </span><span class="default">mb_str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$subject</span><span class="keyword">) {<br><br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$subject </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">mb_str_replace</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; foreach((array) </span><span class="default">$search </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$s</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$s </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$replace</span><span class="keyword">) ? </span><span class="default">$replace </span><span class="keyword">: (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$replace</span><span class="keyword">) ? </span><span class="default">$replace</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] : </span><span class="string">''</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">$pos </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$subject </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">) . </span><span class="default">$r </span><span class="keyword">. </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$subject</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$subject</span><span class="keyword">;<br><br>&nbsp; &nbsp; }<br><br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87047">  
  <a class="name">
  <strong class="user"><em>Ben XO</em></strong></a><div class="date" title="2008-11-16 05:14"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87047">
<div class="phpcode"><code><span class="html">
PHP5 has no mb_trim(), so here's one I made. It work just as trim(), but with the added bonus of PCRE character classes (including, of course, all the useful Unicode ones such as \pZ).
<br>
<br>Unlike other approaches that I've seen to this problem, I wanted to emulate the full functionality of trim() - in particular, the ability to customise the character list.
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="comment">/**
<br>&nbsp; &nbsp;&nbsp; * Trim characters from either (or both) ends of a string in a way that is
<br>&nbsp; &nbsp;&nbsp; * multibyte-friendly.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * Mostly, this behaves exactly like trim() would: for example supplying 'abc' as
<br>&nbsp; &nbsp;&nbsp; * the charlist will trim all 'a', 'b' and 'c' chars from the string, with, of
<br>&nbsp; &nbsp;&nbsp; * course, the added bonus that you can put unicode characters in the charlist.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * We are using a PCRE character-class to do the trimming in a unicode-aware
<br>&nbsp; &nbsp;&nbsp; * way, so we must escape ^, \, - and ] which have special meanings here.
<br>&nbsp; &nbsp;&nbsp; * As you would expect, a single \ in the charlist is interpretted as
<br>&nbsp; &nbsp;&nbsp; * "trim backslashes" (and duly escaped into a double-\ ). Under most circumstances
<br>&nbsp; &nbsp;&nbsp; * you can ignore this detail.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * As a bonus, however, we also allow PCRE special character-classes (such as '\s')
<br>&nbsp; &nbsp;&nbsp; * because they can be extremely useful when dealing with UCS. '\pZ', for example,
<br>&nbsp; &nbsp;&nbsp; * matches every 'separator' character defined in Unicode, including non-breaking
<br>&nbsp; &nbsp;&nbsp; * and zero-width spaces.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * It doesn't make sense to have two or more of the same character in a character
<br>&nbsp; &nbsp;&nbsp; * class, therefore we interpret a double \ in the character list to mean a
<br>&nbsp; &nbsp;&nbsp; * single \ in the regex, allowing you to safely mix normal characters with PCRE
<br>&nbsp; &nbsp;&nbsp; * special classes.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * *Be careful* when using this bonus feature, as PHP also interprets backslashes
<br>&nbsp; &nbsp;&nbsp; * as escape characters before they are even seen by the regex. Therefore, to
<br>&nbsp; &nbsp;&nbsp; * specify '\\s' in the regex (which will be converted to the special character
<br>&nbsp; &nbsp;&nbsp; * class '\s' for trimming), you will usually have to put *4* backslashes in the
<br>&nbsp; &nbsp;&nbsp; * PHP code - as you can see from the default value of $charlist.
<br>&nbsp; &nbsp;&nbsp; *
<br>&nbsp; &nbsp;&nbsp; * @param string 
<br>&nbsp; &nbsp;&nbsp; * @param charlist list of characters to remove from the ends of this string.
<br>&nbsp; &nbsp;&nbsp; * @param boolean trim the left?
<br>&nbsp; &nbsp;&nbsp; * @param boolean trim the right?
<br>&nbsp; &nbsp;&nbsp; * @return String
<br>&nbsp; &nbsp;&nbsp; */
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">mb_trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$charlist</span><span class="keyword">=</span><span class="string">'\\\\s'</span><span class="keyword">, </span><span class="default">$ltrim</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">, </span><span class="default">$rtrim</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$both_ends </span><span class="keyword">= </span><span class="default">$ltrim </span><span class="keyword">&amp;&amp; </span><span class="default">$rtrim</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$char_class_inner </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( </span><span class="string">'/[\^\-\]\\\]/S'</span><span class="keyword">, </span><span class="string">'/\\\{4}/S' </span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array( </span><span class="string">'\\\\\\0'</span><span class="keyword">, </span><span class="string">'\\' </span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$charlist
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$work_horse </span><span class="keyword">= </span><span class="string">'[' </span><span class="keyword">. </span><span class="default">$char_class_inner </span><span class="keyword">. </span><span class="string">']+'</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ltrim </span><span class="keyword">&amp;&amp; </span><span class="default">$left_pattern </span><span class="keyword">= </span><span class="string">'^' </span><span class="keyword">. </span><span class="default">$work_horse</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rtrim </span><span class="keyword">&amp;&amp; </span><span class="default">$right_pattern </span><span class="keyword">= </span><span class="default">$work_horse </span><span class="keyword">. </span><span class="string">'$'</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$both_ends</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pattern_middle </span><span class="keyword">= </span><span class="default">$left_pattern </span><span class="keyword">. </span><span class="string">'|' </span><span class="keyword">. </span><span class="default">$right_pattern</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif(</span><span class="default">$ltrim</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pattern_middle </span><span class="keyword">= </span><span class="default">$left_pattern</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pattern_middle </span><span class="keyword">= </span><span class="default">$right_pattern</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/</span><span class="default">$pattern_middle</span><span class="string">/usSD"</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">) );
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84099">  
  <a class="name">
  <strong class="user"><em>patrick at hexane dot org</em></strong></a><div class="date" title="2008-06-27 08:18"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84099">
<div class="phpcode"><code><span class="html">
I wonder why there isn't a mb_str_replace().&nbsp; Here's one for now:<br><br>function mb_str_replace( $needle, $replacement, $haystack ) {<br>&nbsp; $needle_len = mb_strlen($needle);<br>&nbsp; $pos = mb_strpos( $haystack, $needle);<br>&nbsp; while (!($pos ===false)) {<br>&nbsp; &nbsp; $front = mb_substr( $haystack, 0, $pos );<br>&nbsp; &nbsp; $back&nbsp; = mb_substr( $haystack, $pos + $needle_len);<br>&nbsp; &nbsp; $haystack = $front.$replacement.$back;<br>&nbsp; &nbsp; $pos = mb_strpos( $haystack, $needle);<br>&nbsp; }<br>&nbsp; return $haystack;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="72472">  
  <a class="name">
  <strong class="user"><em>motin at demomusic dot nu</em></strong></a><div class="date" title="2007-01-19 05:12"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72472">
<div class="phpcode"><code><span class="html">
As peter dot albertsson at spray dot se already pointed out, overloading strlen may break code that handles binary data and relies upon strlen for bytelengths. <br><br>The problem occurs when a file is filled with a string using fwrite in the following manner:<br><br>$len = strlen($data);<br>fwrite($fp, $data, $len);<br><br>fwrite takes amount of bytes as the third parameter, but mb_strlen returns the amount of characters in the string. Since multibyte characters are possibly more than one byte in length each - this will result in that the last characters of $data never gets written to the file. <br><br>After hours of investigating why PEAR::Cache_Lite didn't work - the above is what I found. <br><br>I made an attempt at using single byte functions, but it doesn't work. Posting here anyway in case it helps someone else:<br><br>/**<br>* PHP Singe byte functions simulation (non successful)<br>* <br>* Usage: sb_string(functionname, arg1, arg2, etc);<br>* Example: sb_string("strlen", "tuöéä"); returns 8 (should...)<br>*/<br>function sb_string() {<br><br>&nbsp; $arguments = func_get_args(); <br><br>&nbsp; $func_overloading = ini_get("mbstring.func_overload");<br><br>&nbsp; ini_set("mbstring.func_overload", 0);<br><br>&nbsp; $ret = call_user_func_array(array_shift($arguments), $arguments);<br><br>&nbsp; ini_set("mbstring.func_overload", $func_overloading);<br><br>&nbsp; return $ret;<br><br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68976">  
  <a class="name">
  <strong class="user"><em>hayk at mail dot ru</em></strong></a><div class="date" title="2006-08-17 12:36"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68976">
<div class="phpcode"><code><span class="html">
Since PHP 5.1.0 and PHP 4.4.2 there is an Armenian ArmSCII-8 (ArmSCII-8, ArmSCII8, ARMSCII-8, ARMSCII8) encoding avaliable.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63113">  
  <a class="name">
  <strong class="user"><em>Aardvark</em></strong></a><div class="date" title="2006-03-13 11:37"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63113">
<div class="phpcode"><code><span class="html">
Since not all hosted servces currently support the multi-byte function set, it may still be necessary to process Unicode strings using standard single byte functions.&nbsp; The function at the following link - <a rel="nofollow" target="_blank">http://www.kanolife.com/escape/2006/03/php-unicode-processing.html</a> - shows by example how to do this.&nbsp; While this only covers UTF-8, the standard PHP function "iconv" allows conversion into and out of UTF-8 if strings need to be input or output in other encodings.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62787">  
  <a class="name">
  <strong class="user"><em>peter kehl</em></strong></a><div class="date" title="2006-03-09 08:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62787">
<div class="phpcode"><code><span class="html">
UTF-16LE solution for CSV for Excel by Eugene Murai works well:<br>$unicode_str_for_Excel = chr(255).chr(254).mb_convert_encoding( $utf8_str, 'UTF-16LE', 'UTF-8');<br><br>However, then Excel on Mac OS X doesn't identify columns properly and its puts each whole row in its own cell. In order to fix that, use TAB "\\t" character as CSV delimiter rather than comma or colon.<br><br>You may also want to use HTTP encoding header, such as<br>header( "Content-type: application/vnd.ms-excel; charset=UTF-16LE" );</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55832">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-08-14 07:24"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55832">
<div class="phpcode"><code><span class="html">
get the string octet-size, when mbstring.func_overload is set to 2 :<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">str_sizeof</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">"`.`"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">)) - </span><span class="default">1 </span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>answering to peter albertsson, once you got your data octet-size, you can access each octet with something<br>$string[0] ... $string[$size-1], since the [ operator doesn't complies with multibytes strings.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53032">  
  <a class="name">
  <strong class="user"><em>peter dot albertsson at spray dot se</em></strong></a><div class="date" title="2005-05-21 03:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53032">
<div class="phpcode"><code><span class="html">
Setting mbstring.func_overload = 2 may break your applications that deal with binary data.<br><br>After having set mbstring.func_overload = 2 and&nbsp; mbstring.internal_encoding = UTF-8 I can't even read a binary file and print/echo it to output without corrupting it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94356">  
  <a class="name">
  <strong class="user"><em>peter AT(no spam) dezzignz dot com</em></strong></a><div class="date" title="2009-10-29 04:26"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom94356">
<div class="phpcode"><code><span class="html">
The function trim() has not failed me so far in my multibyte applications, but in case one needs a truly multibyte function, here it is. The nice thing is that the character to remove can be whitespace or any other specified character, even a multibyte character.<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// multibyte string split<br><br></span><span class="keyword">function </span><span class="default">mbStringToArray </span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">) {<br>&nbsp; &nbsp; if (empty(</span><span class="default">$str</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= array();<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br></span><span class="comment">// removes $rem at both ends<br><br></span><span class="keyword">function </span><span class="default">mb_trim </span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$rem </span><span class="keyword">= </span><span class="string">' '</span><span class="keyword">) {<br>&nbsp; &nbsp; if (empty(</span><span class="default">$str</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">// convert to array<br>&nbsp; &nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">mbStringToArray</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">// left side<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] === </span><span class="default">$rem</span><span class="keyword">) </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; else break;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="comment">// right side<br>&nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$len</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] === </span><span class="default">$rem</span><span class="keyword">) </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; else break;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="comment">// convert to string<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">implode </span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90611">  
  <a class="name">
  <strong class="user"><em>mitgath at gmail dot com</em></strong></a><div class="date" title="2009-04-30 06:26"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90611">
<div class="phpcode"><code><span class="html">
according to:
<br><a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=21317</a>
<br>here's missing function
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">mb_str_pad </span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$pad_length</span><span class="keyword">, </span><span class="default">$pad_string</span><span class="keyword">, </span><span class="default">$pad_style</span><span class="keyword">, </span><span class="default">$encoding</span><span class="keyword">=</span><span class="string">"UTF-8"</span><span class="keyword">) {
<br>&nbsp;&nbsp; return </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,
<br></span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)-</span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">,</span><span class="default">$encoding</span><span class="keyword">)+</span><span class="default">$pad_length</span><span class="keyword">, </span><span class="default">$pad_string</span><span class="keyword">, </span><span class="default">$pad_style</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70294">  
  <a class="name">
  <strong class="user"><em>pdezwart .at. snocap</em></strong></a><div class="date" title="2006-10-10 11:28"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70294">
<div class="phpcode"><code><span class="html">
If you are trying to emulate the UnicodeEncoding.Unicode.GetBytes() function in .NET, the encoding you want to use is: UCS-2LE</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51887">  
  <a class="name">
  <strong class="user"><em>nzkiwi at NOSPAMmte dot biglobe dot ne dot jp</em></strong></a><div class="date" title="2005-04-13 04:37"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51887">
<div class="phpcode"><code><span class="html">
A friend has pointed out that the entry <br>"mbstring.http_input PHP_INI_ALL" in Table 1 on the mbstring page appears to be wrong: above Example 4 it says that "There is no way to control HTTP input character conversion from PHP script. To disable HTTP input character conversion, it has to be done in php.ini". <br>Also the table shows the old-PHP-version defaults: <br>;; Disable HTTP Input conversion <br>mbstring.http_input = pass&nbsp; *BUT* (for PHP 4.3.0 or higher) <br>;; Disable HTTP Input conversion <br>mbstring.encoding_translation = Off</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99482">  
  <a class="name">
  <strong class="user"><em>phpnet at rcpt dot at</em></strong></a><div class="date" title="2010-08-19 07:46"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99482">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">/**<br>* Multibyte safe version of trim()<br>* Always strips whitespace characters (those equal to \s)<br>*<br>* @author Peter Johnson<br>* @email phpnet@rcpt.at<br>* @param $string The string to trim<br>* @param $chars Optional list of chars to remove from the string ( as per trim() )<br>* @param $chars_array Optional array of preg_quote'd chars to be removed<br>* @return string<br>*/<br></span><span class="keyword">public static function </span><span class="default">mb_trim</span><span class="keyword">( </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$chars </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">, </span><span class="default">$chars_array </span><span class="keyword">= array() )<br>{<br>&nbsp; &nbsp; for( </span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">iconv_strlen</span><span class="keyword">( </span><span class="default">$chars </span><span class="keyword">); </span><span class="default">$x</span><span class="keyword">++ ) </span><span class="default">$chars_array</span><span class="keyword">[] = </span><span class="default">preg_quote</span><span class="keyword">( </span><span class="default">iconv_substr</span><span class="keyword">( </span><span class="default">$chars</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">1 </span><span class="keyword">) );<br>&nbsp; &nbsp; </span><span class="default">$encoded_char_list </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">( </span><span class="string">"|"</span><span class="keyword">, </span><span class="default">array_merge</span><span class="keyword">( array( </span><span class="string">"\s"</span><span class="keyword">,</span><span class="string">"\t"</span><span class="keyword">,</span><span class="string">"\n"</span><span class="keyword">,</span><span class="string">"\r"</span><span class="keyword">, </span><span class="string">"\0"</span><span class="keyword">, </span><span class="string">"\x0B" </span><span class="keyword">), </span><span class="default">$chars_array </span><span class="keyword">) );<br><br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">mb_ereg_replace</span><span class="keyword">( </span><span class="string">"^(</span><span class="default">$encoded_char_list</span><span class="string">)*"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$string </span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">mb_ereg_replace</span><span class="keyword">( </span><span class="string">"(</span><span class="default">$encoded_char_list</span><span class="string">)*$"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$string </span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95192">  
  <a class="name">
  <strong class="user"><em>mt at mediamedics dot nl</em></strong></a><div class="date" title="2009-12-17 05:52"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95192">
<div class="phpcode"><code><span class="html">
A multibyte one-to-one alternative for the str_split function (<a rel="nofollow" target="_blank">http://php.net/manual/en/function.str-split.php</a>):<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">mb_str_split</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$split_length </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mb_internal_encoding</span><span class="keyword">(</span><span class="string">'UTF-8'</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">mb_regex_encoding</span><span class="keyword">(</span><span class="string">'UTF-8'</span><span class="keyword">);&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$split_length </span><span class="keyword">= (</span><span class="default">$split_length </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">$split_length</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$mb_strlen </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="string">'utf-8'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$mb_strlen</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$split_length</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$split_length</span><span class="keyword">); <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/ref.mbstring.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:47:20 GMT -->


</body></html>