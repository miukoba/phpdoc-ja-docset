<html><!-- Mirrored from php.net/manual/en/function.get-browser.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:56 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>get_browser</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.get-browser.html">
 <link rel="shorturl" href="http://php.net/get-browser">
 <link rel="alternate" href="http://php.net/get-browser" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.misc.html">
 <link rel="prev" href="function.exit.html">
 <link rel="next" href="function.halt-compiler.html">

 <link rel="alternate" href="function.get-browser.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.get-browser.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.get-browser.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.get-browser.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.get-browser.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.get-browser.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.get-browser.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.get-browser.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.get-browser.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.get-browser.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.get-browser.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.other.html">Other Basic Extensions</a></li>      <li><a href="book.misc.html">Misc.</a></li>      <li><a href="ref.misc.html">Misc. Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.get-browser" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_browser</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">get_browser</span> — <span class="dc-title">Tells what the user's browser is capable of</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.get-browser-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>get_browser</strong></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$user_agent</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$return_array</code><span class="initializer"> = false</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Attempts to determine the capabilities of the user's browser, by looking
   up the browser's information in the <var class="filename">browscap.ini</var>
   file.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.get-browser-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">user_agent</code></dt>

     <dd>

      <p class="para">
       The User Agent to be analyzed. By default, the value of HTTP
       User-Agent header is used; however, you can alter this (i.e., look up
       another browser's info) by passing this parameter.
      </p>
      <p class="para">
       You can bypass this parameter with a <strong><code>NULL</code></strong> value.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">return_array</code></dt>

     <dd>

      <p class="para">
       If set to <strong><code>TRUE</code></strong>, this function will return an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>
       instead of an <span class="type"><a href="language.types.object.html" class="type object">object</a></span>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.get-browser-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The information is returned in an object or an array which will contain
   various data elements representing, for instance, the browser's major and
   minor version numbers and ID string; <strong><code>TRUE</code></strong>/<strong><code>FALSE</code></strong> values for features
   such as frames, JavaScript, and cookies; and so forth.
  </p>
  <p class="para">
   The <em>cookies</em> value simply means that the browser
   itself is capable of accepting cookies and does not mean the user has
   enabled the browser to accept cookies or not. The only way to test if
   cookies are accepted is to set one with <span class="function"><a href="function.setcookie.html" class="function">setcookie()</a></span>,
   reload, and check for the value.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.get-browser-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3902">
    <p><strong>Example #1 Listing all information about the users browser</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$browser&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_browser</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$browser</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040803 Firefox/0.9.3

Array
(
    [browser_name_regex] =&gt; ^mozilla/5\.0 (windows; .; windows nt 5\.1; .*rv:.*) gecko/.* firefox/0\.9.*$
    [browser_name_pattern] =&gt; Mozilla/5.0 (Windows; ?; Windows NT 5.1; *rv:*) Gecko/* Firefox/0.9*
    [parent] =&gt; Firefox 0.9
    [platform] =&gt; WinXP
    [browser] =&gt; Firefox
    [version] =&gt; 0.9
    [majorver] =&gt; 0
    [minorver] =&gt; 9
    [cssversion] =&gt; 2
    [frames] =&gt; 1
    [iframes] =&gt; 1
    [tables] =&gt; 1
    [cookies] =&gt; 1
    [backgroundsounds] =&gt;
    [vbscript] =&gt;
    [javascript] =&gt; 1
    [javaapplets] =&gt; 1
    [activexcontrols] =&gt;
    [cdf] =&gt;
    [aol] =&gt;
    [beta] =&gt; 1
    [win16] =&gt;
    [crawler] =&gt;
    [stripper] =&gt;
    [wap] =&gt;
    [netclr] =&gt;
)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.get-browser-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    In order for this to work, your <a href="misc.configuration.html#ini.browscap" class="link">browscap</a> configuration setting in 
    <var class="filename">php.ini</var> must point to the correct location of the
    <var class="filename">browscap.ini</var> file on your system.
   </p>
   <p class="para">
    <var class="filename">browscap.ini</var> is not bundled with PHP, but you may
    find an up-to-date <a href="http://browscap.org/" class="link external">»&nbsp;php_browscap.ini</a> file here.
   </p>
   <p class="para">
    While <var class="filename">browscap.ini</var> contains information on
    many browsers, it relies on user updates to keep the database
    current. The format of the file is fairly self-explanatory.
   </p>
  <p></p></blockquote>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="101125">  
  <a class="name">
  <strong class="user"><em>ruudrp at live dot nl</em></strong></a><div class="date" title="2010-11-28 03:31"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101125">
<div class="phpcode"><code><span class="html">
To my surprise I found that none of the get_browser alternatives output the correct name / version combination that I was looking for using Opera or Chrome. They either give the wrong name eg Safari when in fact it should be Chrome and if the ua string includes a version number as with the latest versions of Chrome and Opera the wrong number is reported. So I took bits and pieces from the various examples and combined them and added a check for version. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getBrowser</span><span class="keyword">() <br>{ <br>&nbsp; &nbsp; </span><span class="default">$u_agent </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]; <br>&nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Unknown'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">'Unknown'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$version</span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="comment">//First get the platform?<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/linux/i'</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">'linux'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/macintosh|mac os x/i'</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">'mac'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/windows|win32/i'</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">'windows'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Next get the name of the useragent yes seperately and for good reason<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/MSIE/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">) &amp;&amp; !</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Opera/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Internet Explorer'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"MSIE"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Firefox/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Mozilla Firefox'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"Firefox"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Chrome/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Google Chrome'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"Chrome"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Safari/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Apple Safari'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"Safari"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Opera/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Opera'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"Opera"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Netscape/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">'Netscape'</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"Netscape"</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// finally get the correct version number<br>&nbsp; &nbsp; </span><span class="default">$known </span><span class="keyword">= array(</span><span class="string">'Version'</span><span class="keyword">, </span><span class="default">$ub</span><span class="keyword">, </span><span class="string">'other'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">'#(?&lt;browser&gt;' </span><span class="keyword">. </span><span class="default">join</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$known</span><span class="keyword">) .<br>&nbsp; &nbsp; </span><span class="string">')[/ ]+(?&lt;version&gt;[0-9.|a-zA-Z.]*)#'</span><span class="keyword">;<br>&nbsp; &nbsp; if (!</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// we have no matching number just continue<br>&nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// see how many we have<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'browser'</span><span class="keyword">]);<br>&nbsp; &nbsp; if (</span><span class="default">$i </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//we will have two since we are not using 'other' argument yet<br>&nbsp; &nbsp; &nbsp; &nbsp; //see if version is before or after the name<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">strripos</span><span class="keyword">(</span><span class="default">$u_agent</span><span class="keyword">,</span><span class="string">"Version"</span><span class="keyword">) &lt; </span><span class="default">strripos</span><span class="keyword">(</span><span class="default">$u_agent</span><span class="keyword">,</span><span class="default">$ub</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// check if we have a number<br>&nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$version</span><span class="keyword">==</span><span class="default">null </span><span class="keyword">|| </span><span class="default">$version</span><span class="keyword">==</span><span class="string">""</span><span class="keyword">) {</span><span class="default">$version</span><span class="keyword">=</span><span class="string">"?"</span><span class="keyword">;}<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'userAgent' </span><span class="keyword">=&gt; </span><span class="default">$u_agent</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'name'&nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$bname</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'version'&nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">$version</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'platform'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">$platform</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'pattern'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$pattern<br>&nbsp; &nbsp; </span><span class="keyword">);<br>} <br><br></span><span class="comment">// now try it<br></span><span class="default">$ua</span><span class="keyword">=</span><span class="default">getBrowser</span><span class="keyword">();<br></span><span class="default">$yourbrowser</span><span class="keyword">= </span><span class="string">"Your browser: " </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">] . </span><span class="string">" " </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">] . </span><span class="string">" on " </span><span class="keyword">.</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'platform'</span><span class="keyword">] . </span><span class="string">" reports: &lt;br &gt;" </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'userAgent'</span><span class="keyword">];<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$yourbrowser</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="34743">  
  <a class="name">
  <strong class="user"><em>bishop</em></strong></a><div class="date" title="2003-08-05 11:46"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom34743">
<div class="phpcode"><code><span class="html">
PHP is sensitive to characters outside the range [ A-Za-z0-9_] as values in .ini files.&nbsp; For example<br><br>browser=Opera (Bork Version)<br><br>causes PHP to complain, as it doesn't like the parentheses.<br><br>If you place quotation marks around the values for all keys in the browscap.ini file, you'll save yourself parsing problems.&nbsp; Do this in eg vi with %s/=\(.*\)/="\1"/g<br><br>You could of course use PHP itself to fixup the file.&nbsp; Exercise left to the reader.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92310">  
  <a class="name">
  <strong class="user"><em>robert at broofa dot com</em></strong></a><div class="date" title="2009-07-18 01:33"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92310">
<div class="phpcode"><code><span class="html">
If you're just finding this API, note that you may want to use a lighter-weight<br>browser detection script.&nbsp; get_browser() requires the "browscap.ini" file,<br>which is 300KB+.&nbsp; Loading and processing this file will likely impact script<br>performance.&nbsp; Although it surely provides excellent detection results, in most<br>cases a much simpler method can be just as effective.&nbsp; This is why so many<br>previous commenters have provided alternate implementations.<br><br>Here's the solution I ended up using, which I've tested on the agents listed at<br><a rel="nofollow" target="_blank">http://whatsmyuseragent.com/CommonUserAgents.asp</a> It has the advantage of being<br>compact and reasonably easy to extend (just add entries to the $known array<br>defined at the top).&nbsp; It should be fairly performant as well, since it doesn't<br>do any iteratoin or recursion.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">browser_info</span><span class="keyword">(</span><span class="default">$agent</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {<br>&nbsp; </span><span class="comment">// Declare known browsers to look for<br>&nbsp; </span><span class="default">$known </span><span class="keyword">= array(</span><span class="string">'msie'</span><span class="keyword">, </span><span class="string">'firefox'</span><span class="keyword">, </span><span class="string">'safari'</span><span class="keyword">, </span><span class="string">'webkit'</span><span class="keyword">, </span><span class="string">'opera'</span><span class="keyword">, </span><span class="string">'netscape'</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'konqueror'</span><span class="keyword">, </span><span class="string">'gecko'</span><span class="keyword">);<br><br>&nbsp; </span><span class="comment">// Clean up agent and build regex that matches phrases for known browsers<br>&nbsp; // (e.g. "Firefox/2.0" or "MSIE 6.0" (This only matches the major and minor<br>&nbsp; // version numbers.&nbsp; E.g. "2.0.0.6" is parsed as simply "2.0"<br>&nbsp; </span><span class="default">$agent </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$agent </span><span class="keyword">? </span><span class="default">$agent </span><span class="keyword">: </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]);<br>&nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">'#(?&lt;browser&gt;' </span><span class="keyword">. </span><span class="default">join</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$known</span><span class="keyword">) .<br>&nbsp; &nbsp; </span><span class="string">')[/ ]+(?&lt;version&gt;[0-9]+(?:\.[0-9]+)?)#'</span><span class="keyword">;<br><br>&nbsp; </span><span class="comment">// Find all phrases (or return empty array if none found)<br>&nbsp; </span><span class="keyword">if (!</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$agent</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) return array();<br><br>&nbsp; </span><span class="comment">// Since some UAs have more than one phrase (e.g Firefox has a Gecko phrase,<br>&nbsp; // Opera 7,8 have a MSIE phrase), use the last one found (the right-most one<br>&nbsp; // in the UA).&nbsp; That's usually the most correct.<br>&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'browser'</span><span class="keyword">])-</span><span class="default">1</span><span class="keyword">;<br>&nbsp; return array(</span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'browser'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] =&gt; </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]);<br>}<br></span><span class="default">?&gt;<br></span>This returns an array with the detected browser as the key, and the version as<br>the value, and also sets 'browser' and 'version' keys.&nbsp; For example on Firefox<br>3.5:<br><span class="default">&lt;?php<br>$ua </span><span class="keyword">= </span><span class="default">browser_info</span><span class="keyword">();<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$ua</span><span class="keyword">);<br></span><span class="comment">/* Yields ...<br>Array<br>(<br>&nbsp; &nbsp; [firefox] =&gt; 3.5<br>&nbsp; &nbsp; [browser] =&gt; firefox<br>&nbsp; &nbsp; [version] =&gt; 3.5<br>)<br>*/<br><br>// Various browser tests you can do with the returned array ...<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'firefox'</span><span class="keyword">]) ... </span><span class="comment">// true<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'firefox'</span><span class="keyword">] &gt; </span><span class="default">3</span><span class="keyword">) ... </span><span class="comment">// true<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'firefox'</span><span class="keyword">] &gt; </span><span class="default">4</span><span class="keyword">) ... </span><span class="comment">// false<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'browser'</span><span class="keyword">] == </span><span class="string">'firefox'</span><span class="keyword">) ... </span><span class="comment">// true<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'version'</span><span class="keyword">] &gt; </span><span class="default">3.5</span><span class="keyword">) ... </span><span class="comment">// true<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'msie'</span><span class="keyword">]) ... </span><span class="comment">// false ('msie' key not defined)<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'opera'</span><span class="keyword">] &gt; </span><span class="default">3</span><span class="keyword">) ... </span><span class="comment">// false ('opera' key not defined)<br></span><span class="keyword">if (</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">'safari'</span><span class="keyword">] &lt; </span><span class="default">3</span><span class="keyword">) ... </span><span class="comment">// false also ('safari' key not defined)<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104848">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2011-07-11 06:52"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104848">
<div class="phpcode"><code><span class="html">
For those of you using this function to target MSIE, a better idea maybe to use MSIE specific conditional comments. More info: &lt;<a rel="nofollow" target="_blank">http://msdn.microsoft.com/en-us/library/ms537512%28VS.85%29.aspx&gt;.</a> 
<br>
<br>For example to indicate your disregard for users of MSIE 6 or earlier:
<br>
<br>&lt;!--[if lt IE 7]&gt;It appears that you are using a &lt;em&gt;very&lt;/em&gt; old version of MS Internet Explorer (MSIE). If you seriously want to continue to use MSIE, at least &lt;a href="<a rel="nofollow" target="_blank">http://www.microsoft.com/windows/internet-explorer/</a>"&gt;upgrade&lt;/a&gt;.&lt;![endif]--&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79282">  
  <a class="name">
  <strong class="user"><em>jesdisciple [at] gmail -dawt- com</em></strong></a><div class="date" title="2007-11-19 08:13"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79282">
<div class="phpcode"><code><span class="html">
Use this to ensure that the costly call in its standard form never needs to be repeated:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getBrowser</span><span class="keyword">(){<br>&nbsp; &nbsp; static </span><span class="default">$browser</span><span class="keyword">;</span><span class="comment">//No accident can arise from depending on an unset variable.<br>&nbsp; &nbsp; </span><span class="keyword">if(!isset(</span><span class="default">$browser</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$browser </span><span class="keyword">= </span><span class="default">get_browser</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$browser</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115036">  
  <a class="name">
  <strong class="user"><em>ibi at tlr dot de</em></strong></a><div class="date" title="2014-05-15 03:17"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115036">
<div class="phpcode"><code><span class="html">
@ruudrp:<br>you might want to distinguish the OS even further:<br>(at least for windows that is)<br><br>&nbsp; &nbsp; elseif (preg_match('/windows|win32/i', $u_agent)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; $platform = 'Windows';<br>&nbsp; &nbsp; &nbsp; &nbsp; if (preg_match('/NT 6.2/i', $u_agent)) { $platform .= ' 8'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (preg_match('/NT 6.3/i', $u_agent)) { $platform .= ' 8.1'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (preg_match('/NT 6.1/i', $u_agent)) { $platform .= ' 7'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (preg_match('/NT 6.0/i', $u_agent)) { $platform .= ' Vista'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (preg_match('/NT 5.1/i', $u_agent)) { $platform .= ' XP'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (preg_match('/NT 5.0/i', $u_agent)) { $platform .= ' 2000'; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if (preg_match('/WOW64/i', $u_agent) || preg_match('/x64/i', $u_agent)) { $platform .= ' (x64)'; }<br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114275">  
  <a class="name">
  <strong class="user"><em>cbonfrate at gmail dot com</em></strong></a><div class="date" title="2014-02-01 04:35"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom114275">
<div class="phpcode"><code><span class="html">
You could add this to the ruudrp's code, to recognize MSIE 11<br><br>if(preg_match('/Trident/i', $u_agent) &amp;&amp; !preg_match('/Opera/i',$u_agent))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $bname = 'Internet Explorer';<br>&nbsp; &nbsp; &nbsp; &nbsp; $ub = "Trident";<br>&nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97127">  
  <a class="name">
  <strong class="user"><em>Brinley Ang</em></strong></a><div class="date" title="2010-04-02 07:38"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97127">
<div class="phpcode"><code><span class="html">
This is the latest format of the array returned from this call<br><br>Array<br>{<br>&nbsp; &nbsp; [browser_name_regex] =&gt; ^mozilla/5\.0 (x11; .*; .*linux.*; .*; rv:1\.9\..*) gecko/.* firefox/3\.5.*$<br>&nbsp; &nbsp; [browser_name_pattern] =&gt; Mozilla/5.0 (X11; *; *Linux*; *; rv:1.9.*) Gecko/* Firefox/3.5*<br>&nbsp; &nbsp; [parent] =&gt; Firefox 3.5<br>&nbsp; &nbsp; [platform] =&gt; Linux<br>&nbsp; &nbsp; [browser] =&gt; Firefox<br>&nbsp; &nbsp; [version] =&gt; 3.5<br>&nbsp; &nbsp; [majorver] =&gt; 3<br>&nbsp; &nbsp; [minorver] =&gt; 5<br>&nbsp; &nbsp; [frames] =&gt; 1<br>&nbsp; &nbsp; [iframes] =&gt; 1<br>&nbsp; &nbsp; [tables] =&gt; 1<br>&nbsp; &nbsp; [cookies] =&gt; 1<br>&nbsp; &nbsp; [javaapplets] =&gt; 1<br>&nbsp; &nbsp; [javascript] =&gt; 1<br>&nbsp; &nbsp; [cssversion] =&gt; 3<br>&nbsp; &nbsp; [supportscss] =&gt; 1<br>&nbsp; &nbsp; [alpha] =&gt; <br>&nbsp; &nbsp; [beta] =&gt; <br>&nbsp; &nbsp; [win16] =&gt; <br>&nbsp; &nbsp; [win32] =&gt; <br>&nbsp; &nbsp; [win64] =&gt; <br>&nbsp; &nbsp; [backgroundsounds] =&gt; <br>&nbsp; &nbsp; [cdf] =&gt; <br>&nbsp; &nbsp; [vbscript] =&gt; <br>&nbsp; &nbsp; [activexcontrols] =&gt; <br>&nbsp; &nbsp; [isbanned] =&gt; <br>&nbsp; &nbsp; [ismobiledevice] =&gt; <br>&nbsp; &nbsp; [issyndicationreader] =&gt; <br>&nbsp; &nbsp; [crawler] =&gt; <br>&nbsp; &nbsp; [aol] =&gt; <br>&nbsp; &nbsp; [aolversion] =&gt; 0<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70641">  
  <a class="name">
  <strong class="user"><em>sam</em></strong></a><div class="date" title="2006-10-22 03:09"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70641">
<div class="phpcode"><code><span class="html">
I thought this function might be useful to those without access to the php.ini file (such as those on a shared hosting system):
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">php_get_browser</span><span class="keyword">(</span><span class="default">$agent </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">){
<br></span><span class="default">$agent</span><span class="keyword">=</span><span class="default">$agent</span><span class="keyword">?</span><span class="default">$agent</span><span class="keyword">:</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">];
<br></span><span class="default">$yu</span><span class="keyword">=array();
<br></span><span class="default">$q_s</span><span class="keyword">=array(</span><span class="string">"#\.#"</span><span class="keyword">,</span><span class="string">"#\*#"</span><span class="keyword">,</span><span class="string">"#\?#"</span><span class="keyword">);
<br></span><span class="default">$q_r</span><span class="keyword">=array(</span><span class="string">"\."</span><span class="keyword">,</span><span class="string">".*"</span><span class="keyword">,</span><span class="string">".?"</span><span class="keyword">);
<br></span><span class="default">$brows</span><span class="keyword">=</span><span class="default">parse_ini_file</span><span class="keyword">(</span><span class="string">"php_browscap.ini"</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);
<br>foreach(</span><span class="default">$brows </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$t</span><span class="keyword">){
<br>&nbsp; if(</span><span class="default">fnmatch</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">,</span><span class="default">$agent</span><span class="keyword">)){
<br>&nbsp; </span><span class="default">$yu</span><span class="keyword">[</span><span class="string">'browser_name_pattern'</span><span class="keyword">]=</span><span class="default">$k</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$pat</span><span class="keyword">=</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="default">$q_s</span><span class="keyword">,</span><span class="default">$q_r</span><span class="keyword">,</span><span class="default">$k</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$yu</span><span class="keyword">[</span><span class="string">'browser_name_regex'</span><span class="keyword">]=</span><span class="default">strtolower</span><span class="keyword">(</span><span class="string">"^</span><span class="default">$pat</span><span class="string">$"</span><span class="keyword">);
<br>&nbsp; &nbsp; foreach(</span><span class="default">$brows </span><span class="keyword">as </span><span class="default">$g</span><span class="keyword">=&gt;</span><span class="default">$r</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; if(</span><span class="default">$t</span><span class="keyword">[</span><span class="string">'Parent'</span><span class="keyword">]==</span><span class="default">$g</span><span class="keyword">){ 
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$brows </span><span class="keyword">as </span><span class="default">$a</span><span class="keyword">=&gt;</span><span class="default">$b</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$r</span><span class="keyword">[</span><span class="string">'Parent'</span><span class="keyword">]==</span><span class="default">$a</span><span class="keyword">){ 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$yu</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$yu</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$yu </span><span class="keyword">as </span><span class="default">$d</span><span class="keyword">=&gt;</span><span class="default">$z</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$l</span><span class="keyword">=</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$hu</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">]=</span><span class="default">$z</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; break;
<br>&nbsp; }
<br>}
<br>return </span><span class="default">$hu</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>define the location of php_browscap.ini wherever you want
<br>always returns an array, same functionality as get_browser(NULL,true) 
<br>Hope someone finds it useful!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13347">  
  <a class="name">
  <strong class="user"><em>nick at category4 dot com</em></strong></a><div class="date" title="2001-06-12 04:21"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13347">
<div class="phpcode"><code><span class="html">
Here's a quick way to test for a Netscape browser.&nbsp; IE and Konqueror and several others call themselves "Mozilla", but they always qualify it with the word "compatible."
<br>
<br>$isns = stristr($HTTP_USER_AGENT, "Mozilla") &amp;&amp; (!(stristr($HTTP_USER_AGENT, "compatible")));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7265">  
  <a class="name">
  <strong class="user"><em>triad at df dot lth dot se</em></strong></a><div class="date" title="2000-07-30 04:17"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7265">
<div class="phpcode"><code><span class="html">
The only way browscap examines the target browser is through the HTTP_USER_AGENT so there is no way you can determine installed plug-ins. The only way to do that is through client-side JavaScripts.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115068">  
  <a class="name">
  <strong class="user"><em>haci at muratyaman dot co dot uk</em></strong></a><div class="date" title="2014-05-21 09:52"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115068">
<div class="phpcode"><code><span class="html">
I've just lost a day because of this stupid browser_name_regex property:<br><br>e.g. "§^mozilla/5\.0 \(.*windows nt 6\.1.*wow64.*\) gecko/.* firefox/29\.0.*$§"<br><br>To replicate the issue and work around bloody '§' character, please below. Whose idea was it to use that character?!<br><br><span class="default">&lt;?php<br>$ua </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">];<br>echo </span><span class="string">'$_SERVER[\'HTTP_USER_AGENT\'] =&gt; "' </span><span class="keyword">. </span><span class="default">$ua </span><span class="keyword">. </span><span class="string">'"&lt;br /&gt;'</span><span class="keyword">;<br><br></span><span class="default">$browser </span><span class="keyword">= </span><span class="default">get_browser</span><span class="keyword">(</span><span class="default">$ua</span><span class="keyword">);<br>echo </span><span class="string">'get_browser($ua) =&gt; &lt;pre&gt;'</span><span class="keyword">;<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$browser</span><span class="keyword">);<br>echo </span><span class="string">'&lt;/pre&gt;&lt;br /&gt;'</span><span class="keyword">;<br><br></span><span class="default">$json </span><span class="keyword">= </span><span class="default">json_encode</span><span class="keyword">(</span><span class="default">$browser</span><span class="keyword">, </span><span class="default">JSON_PRETTY_PRINT</span><span class="keyword">);<br>echo </span><span class="string">'json_encode($browser) =&gt; &lt;pre&gt;'</span><span class="keyword">;<br>echo </span><span class="default">$json</span><span class="keyword">;<br>echo </span><span class="string">'&lt;/pre&gt;&lt;br /&gt;'</span><span class="keyword">;<br><br>echo </span><span class="string">'json_last_error() =&gt; "' </span><span class="keyword">. </span><span class="default">json_last_error</span><span class="keyword">() . </span><span class="string">'"&lt;br /&gt;'</span><span class="keyword">;<br><br></span><span class="comment">//echo 'unsetting $browser-&gt;browser_name_regex &lt;br /&gt;';<br>//unset($browser-&gt;browser_name_regex);<br>//or<br></span><span class="keyword">echo </span><span class="string">'$browser-&gt;browser_name_regex = utf8_encode($browser-&gt;browser_name_regex);&lt;br /&gt;'</span><span class="keyword">;<br></span><span class="default">$browser</span><span class="keyword">-&gt;</span><span class="default">browser_name_regex </span><span class="keyword">= </span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">$browser</span><span class="keyword">-&gt;</span><span class="default">browser_name_regex</span><span class="keyword">);<br><br></span><span class="default">$json </span><span class="keyword">= </span><span class="default">json_encode</span><span class="keyword">(</span><span class="default">$browser</span><span class="keyword">, </span><span class="default">JSON_PRETTY_PRINT</span><span class="keyword">);<br>echo </span><span class="string">'json_encode($browser) =&gt; &lt;pre&gt;'</span><span class="keyword">;<br>echo </span><span class="default">$json</span><span class="keyword">;<br>echo </span><span class="string">'&lt;/pre&gt;&lt;br /&gt;'</span><span class="keyword">;<br><br>echo </span><span class="string">'json_last_error() =&gt; "' </span><span class="keyword">. </span><span class="default">json_last_error</span><span class="keyword">() . </span><span class="string">'"&lt;br /&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113861">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2013-12-10 06:53"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113861">
<div class="phpcode"><code><span class="html">
Warning! <br>For All Users there is a new website about new <br>"Browser Capabilities Project" <br>browscap.org<br><br>look here : goo.gl/gOPxHp<br>this is a question about one of the problems have been fixed in the new version.<br><br>تحذير!<br>لكل المستخدمين انه هناك موقع جديد عن مشروع قدرات المتصفح<br>"Browser Capabilities Project" <br>browscap.org<br><br>انظر هنا : goo.gl/gOPxHp<br>هذا هو سؤال عن احد المشاكل التى تم اصلاحُها فى الاصدار الجديد</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107005">  
  <a class="name">
  <strong class="user"><em>meduza</em></strong></a><div class="date" title="2011-12-27 01:48"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107005">
<div class="phpcode"><code><span class="html">
I stopped trying to detect the browser name and the browser's version, due to the non standard user-agents, is impossible to cover all the possible browsers, and cover only the most used ones is not good.<br>I only detect the platform, the engine and the version, that cover a lot of possible browsers and let me code based on that, for example, the engine gecko, covers firefox, seamonkey and all the gecko based browsers.<br><br>this is a example piece of code taken from my own, is maybe incomplete but as example is good, to detect the engines.<br><br><span class="default">&lt;?php<br></span><span class="comment">/****** browser engine detection **************/<br>//browsers<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"UNKNOWN"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"TRIDENT"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"GECKO"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"PRESTO"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"WEBKIT"</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"VALIDATOR"</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">);<br></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ROBOTS"</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);<br><br>if(!isset(</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">])) {<br>&nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">UNKNOWN</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">] = </span><span class="default">UNKNOWN</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'platform'</span><span class="keyword">] = </span><span class="string">'Unknown'</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$navigator_user_agent </span><span class="keyword">= </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]);<br><br>&nbsp; &nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">'linux'</span><span class="keyword">)) :<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'platform'</span><span class="keyword">] = </span><span class="string">'Linux'</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">'mac'</span><span class="keyword">)) :<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'platform'</span><span class="keyword">] = </span><span class="string">'Mac'</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">'win'</span><span class="keyword">)) :<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'platform'</span><span class="keyword">] = </span><span class="string">'Windows'</span><span class="keyword">;<br>&nbsp; &nbsp; endif;<br><br>&nbsp; &nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"trident"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">TRIDENT</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">] = </span><span class="default">floatval</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"trident/"</span><span class="keyword">) + </span><span class="default">8</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"webkit"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">WEBKIT</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">] = </span><span class="default">floatval</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"webkit/"</span><span class="keyword">) + </span><span class="default">7</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"presto"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">PRESTO</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">] = </span><span class="default">floatval</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"presto/"</span><span class="keyword">) + </span><span class="default">6</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"gecko"</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">GECKO</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">] = </span><span class="default">floatval</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"gecko/"</span><span class="keyword">) + </span><span class="default">6</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"robot"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">ROBOTS</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"spider"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">ROBOTS</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"bot"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">ROBOTS</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"crawl"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">ROBOTS</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"search"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">ROBOTS</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"w3c_validator"</span><span class="keyword">)) <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">VALIDATOR</span><span class="keyword">;<br>&nbsp; &nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$navigator_user_agent</span><span class="keyword">, </span><span class="string">"jigsaw"</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">] = </span><span class="default">VALIDATOR</span><span class="keyword">;<br><br>echo </span><span class="string">"&lt;pre&gt;\n\nEngine detected: "</span><span class="keyword">.</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">];<br>switch(</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'engine'</span><span class="keyword">]) {<br>&nbsp; &nbsp; case </span><span class="default">UNKNOWN</span><span class="keyword">: echo </span><span class="string">" (unknown)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">TRIDENT</span><span class="keyword">: echo </span><span class="string">" (trident)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">GECKO</span><span class="keyword">: echo </span><span class="string">" (gecko)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">PRESTO</span><span class="keyword">: echo </span><span class="string">" (presto)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">WEBKIT</span><span class="keyword">: echo </span><span class="string">" (Webkit)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">VALIDATOR</span><span class="keyword">: echo </span><span class="string">" (validator)"</span><span class="keyword">;<br>&nbsp; &nbsp; break;<br>&nbsp; &nbsp; case </span><span class="default">ROBOTS</span><span class="keyword">: echo </span><span class="string">" (robot)"</span><span class="keyword">;<br>}<br>echo </span><span class="string">"\nEngine version: "</span><span class="keyword">.</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'version'</span><span class="keyword">];<br>echo </span><span class="string">"\nPlataform detected: "</span><span class="keyword">.</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"info"</span><span class="keyword">][</span><span class="string">'browser'</span><span class="keyword">][</span><span class="string">'platform'</span><span class="keyword">];<br>echo </span><span class="string">" \n\n&lt;/pre&gt;"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>PD: you can add more engines and use an array, I just removed that and put the most popular engines as example, and used elseif instead, this code maybe have errors because is just an example.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115073">  
  <a class="name">
  <strong class="user"><em>tim at digicol dot de</em></strong></a><div class="date" title="2014-05-22 01:01"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom115073">
<div class="phpcode"><code><span class="html">
Be aware that loading php_browscap.ini via the browscap php.ini setting may consume a non-trivial amount of memory. Current versions are several MB in size (even the “lite” one) and can eat tens of MB of RAM in each PHP process. This happens even if you never call get_browser() since php_browscap.ini is loaded when PHP is starting up.<br><br>Make sure to leave the browscap php.ini setting empty if you don’t use get_browser() – maybe you only call it only from PHP Web pages, but not from PHP CLI code.<br><br>I’d recommend comparing your processes’ memory consumption with and without php_browscap.ini being loaded. If necesseray, consider creating your own stripped-down copy of php_browscap.ini with just the browsers that are important to you.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99408">  
  <a class="name">
  <strong class="user"><em>henda dot exe at gmail dot com</em></strong></a><div class="date" title="2010-08-15 09:27"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99408">
<div class="phpcode"><code><span class="html">
Just a warning to anybody using the preg_match function to determine what browser the viewer is using. I found with google chrome the array contains the following entries;<br>(Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4 (KHTML, like Gecko) Chrome/5.0.375.126 Safari/533.4<br><br>As I was using preg_match('/Chrome/i',$u_agent)) and preg_match('/Safari/i',$u_agent)) i found my script was reporting browsers as safari when infact the browser in use was google chrome.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97154">  
  <a class="name">
  <strong class="user"><em>Becheru Petru-Ioan</em></strong></a><div class="date" title="2010-04-04 03:39"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97154">
<div class="phpcode"><code><span class="html">
IE has a nasty bug called the Peekaboo bug that affected my website. I found that printing a '_' before the html tag of the webpage gets rid of this nasty bug. Using code inspirated by comment bellow here is the&nbsp; code that detects if a visitor is using internet explorer:
<br>
<br><span class="default">&lt;?php
<br>$known </span><span class="keyword">= array(</span><span class="string">'msie'</span><span class="keyword">, </span><span class="string">'firefox'</span><span class="keyword">, </span><span class="string">'safari'</span><span class="keyword">, </span><span class="string">'webkit'</span><span class="keyword">, </span><span class="string">'opera'</span><span class="keyword">, </span><span class="string">'netscape'</span><span class="keyword">, </span><span class="string">'konqueror'</span><span class="keyword">, </span><span class="string">'gecko'</span><span class="keyword">);
<br></span><span class="default">preg_match_all</span><span class="keyword">( </span><span class="string">'#(?&lt;browser&gt;' </span><span class="keyword">. </span><span class="default">join</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">$known</span><span class="keyword">) .
<br>&nbsp; &nbsp; </span><span class="string">')[/ ]+(?&lt;version&gt;[0-9]+(?:\.[0-9]+)?)#'</span><span class="keyword">, </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$_SERVER</span><span class="keyword">[ </span><span class="string">'HTTP_USER_AGENT ' </span><span class="keyword">]), </span><span class="default">$browser </span><span class="keyword">);
<br>if(</span><span class="default">$browser</span><span class="keyword">[</span><span class="string">'browser'</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]==</span><span class="string">'msie'</span><span class="keyword">) print(</span><span class="string">'_'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91655">  
  <a class="name">
  <strong class="user"><em>Steve Perkins</em></strong></a><div class="date" title="2009-06-21 04:11"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91655">
<div class="phpcode"><code><span class="html">
This is a simple class to detect the client browser and version using regular expressions. 
<br>
<br><span class="default">&lt;?PHP
<br></span><span class="keyword">class </span><span class="default">Browser
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; private </span><span class="default">$props&nbsp; &nbsp; </span><span class="keyword">= array(</span><span class="string">"Version" </span><span class="keyword">=&gt; </span><span class="string">"0.0.0"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"Name" </span><span class="keyword">=&gt; </span><span class="string">"unknown"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"Agent" </span><span class="keyword">=&gt; </span><span class="string">"unknown"</span><span class="keyword">) ;
<br>
<br>&nbsp; &nbsp; public function </span><span class="default">__Construct</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$browsers </span><span class="keyword">= array(</span><span class="string">"firefox"</span><span class="keyword">, </span><span class="string">"msie"</span><span class="keyword">, </span><span class="string">"opera"</span><span class="keyword">, </span><span class="string">"chrome"</span><span class="keyword">, </span><span class="string">"safari"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"mozilla"</span><span class="keyword">, </span><span class="string">"seamonkey"</span><span class="keyword">,&nbsp; &nbsp; </span><span class="string">"konqueror"</span><span class="keyword">, </span><span class="string">"netscape"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"gecko"</span><span class="keyword">, </span><span class="string">"navigator"</span><span class="keyword">, </span><span class="string">"mosaic"</span><span class="keyword">, </span><span class="string">"lynx"</span><span class="keyword">, </span><span class="string">"amaya"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"omniweb"</span><span class="keyword">, </span><span class="string">"avant"</span><span class="keyword">, </span><span class="string">"camino"</span><span class="keyword">, </span><span class="string">"flock"</span><span class="keyword">, </span><span class="string">"aol"</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Agent </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$browsers </span><span class="keyword">as </span><span class="default">$browser</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"#(</span><span class="default">$browser</span><span class="string">)[/ ]?([0-9.]*)#"</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Agent</span><span class="keyword">, </span><span class="default">$match</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Name </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] ;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Version </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] ;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break ;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; public function </span><span class="default">__Get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die </span><span class="string">"No such property or function </span><span class="default">$name</span><span class="string">)" </span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] ;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; public function </span><span class="default">__Set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">SimpleError</span><span class="keyword">(</span><span class="string">"No such property or function."</span><span class="keyword">, </span><span class="string">"Failed to set </span><span class="default">$name</span><span class="string">"</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">) ;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die ;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$val </span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>}
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>example code
<br><span class="default">&lt;?PHP
<br>$browser </span><span class="keyword">= new </span><span class="default">Browser </span><span class="keyword">;
<br>echo </span><span class="string">"</span><span class="default">$Browser</span><span class="keyword">-&gt;</span><span class="default">Name</span><span class="string"> </span><span class="default">$Browser</span><span class="keyword">-&gt;</span><span class="default">Version</span><span class="string">" </span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>result when client using Firefox 3.0.11
<br>firefox 3.0.11
<br>
<br>result when client using unknown browser
<br>unknown 0.0.0
<br> 
<br>etc etc</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78322">  
  <a class="name">
  <strong class="user"><em>digibrisk at gmail dot NOSPAM dot SPAMNO dot com</em></strong></a><div class="date" title="2007-10-06 05:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78322">
<div class="phpcode"><code><span class="html">
If the "browscap" directive isn't set in your server's php.ini, then an error warning is shown. Just in case, you could make a call to ini_get() to check if the browscap directive is set before using browser_get().<br><br><span class="default">&lt;?php<br></span><span class="keyword">if(</span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">"browscap"</span><span class="keyword">)) {<br>&nbsp; &nbsp; </span><span class="default">$browser </span><span class="keyword">= </span><span class="default">get_browse</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br>} <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113524">  
  <a class="name">
  <strong class="user"><em>wind_born at yahoo dot com</em></strong></a><div class="date" title="2013-10-24 07:07"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113524">
<div class="phpcode"><code><span class="html">
Your system may have problems parsing browscap.ini if the value fields are not quoted (see bishop's note). This is often true even for the PHP specific version of the published browscap.ini. The sed command below adds quotations to the values:<br><br>sed '/^[a-zA-Z0-9].*=[a-zA-Z0-9]/s/=\(.*\)/="\1"/' $inFile &gt; $fixedFile<br><br>If you're using a script to fetch the latest browscap.ini, consider adding this operation to the script.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74059">  
  <a class="name">
  <strong class="user"><em>ansar dot ahmed at impelsys dot com</em></strong></a><div class="date" title="2007-03-22 02:01"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74059">
<div class="phpcode"><code><span class="html">
We are using get_browser() function for useragent Mozilla/4.0 (compatible; MSIE 4.01; Windows NT) the get_browser function is returning as Default Browser and Platform = unknown.<br><br>So i added this to my browscap.ini manually:<br><br>[Mozilla/4.0 (compatible; MSIE 4.01; Windows NT)]<br>Parent=IE 4.01<br>Platform=WinNT</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56443">  
  <a class="name">
  <strong class="user"><em>adspeed.com</em></strong></a><div class="date" title="2005-09-02 10:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56443">
<div class="phpcode"><code><span class="html">
Here is what we do to fix the parsing error messages for php_browscap.ini downloaded from Gary's website.<br><br><span class="default">&lt;?php<br></span><span class="comment">// fix the browsecap.ini for php<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">'php_browscap.ini'</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/\r/"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/="(.*)"/i'</span><span class="keyword">,</span><span class="string">'=\\1'</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/platform=(.*)/i"</span><span class="keyword">,</span><span class="string">"platform=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/parent=(.*)/i"</span><span class="keyword">,</span><span class="string">"parent=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/minorver=(.*)/i"</span><span class="keyword">,</span><span class="string">"minorver=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/majorver=(.*)/i"</span><span class="keyword">,</span><span class="string">"majorver=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/version=(.*)/i"</span><span class="keyword">,</span><span class="string">"version=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/browser=(.*)/i"</span><span class="keyword">,</span><span class="string">"browser=\"\\1\""</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">$v</span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"[*]"</span><span class="keyword">,</span><span class="string">"*"</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">'browscap.ini'</span><span class="keyword">,</span><span class="default">$v</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="41008">  
  <a class="name">
  <strong class="user"><em>max at phpexpert dot de</em></strong></a><div class="date" title="2004-03-26 07:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom41008">
<div class="phpcode"><code><span class="html">
Be aware of the fact that this function shows what a specific browser might be able to show, but NOT what the user has turned on/off.<br><br>So maybe this function tells you that the browser is abel to to javascript even when javascript is turned off by the user.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27506">  
  <a class="name">
  <strong class="user"><em>verx at implix dot com</em></strong></a><div class="date" title="2002-12-09 02:57"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27506">
<div class="phpcode"><code><span class="html">
Please keep in mind that you should somehow (for example in session) cache the required results of get_browser() because it really slows thinks down. <br><br>We have experienced that without querying for browser data our scripts would run 120-130% faster. the explanation is that over 200kb long file (browscap.ini) has to be loaded and parsed everytime someone access any page (we need browser results on all pages).<br><br>So keep results in session and expect a performance boost.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90562">  
  <a class="name">
  <strong class="user"><em>Mattkun Koder</em></strong></a><div class="date" title="2009-04-28 07:00"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90562">
<div class="phpcode"><code><span class="html">
If you want to use: ceo /a/ mmg5 /./ com 's improved version and STILL detect Google Chrome you need to move CHROME earlier on the list Before Safari otherwise it will be detected as safari.<br><br>&nbsp; &nbsp; $browser_list = 'msie firefox chrome konqueror safari netscape navigator opera mosaic lynx amaya omniweb avant camino flock seamonkey aol mozilla gecko';</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101314">  
  <a class="name">
  <strong class="user"><em>Simeon</em></strong></a><div class="date" title="2010-12-09 05:27"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101314">
<div class="phpcode"><code><span class="html">
This code is for placing a box in the corner of IE user's page warning of the disregard the web-designer has for the website's appearance in IE.&nbsp; Call the box with ie_box(). Style and position the box how you want using the iebox css class. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">using_ie</span><span class="keyword">() <br>{ <br>&nbsp; &nbsp; </span><span class="default">$u_agent </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]; <br>&nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="default">False</span><span class="keyword">; <br>&nbsp; &nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/MSIE/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&nbsp; &nbsp; { <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="default">True</span><span class="keyword">; <br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$ub</span><span class="keyword">; <br>} <br><br>function </span><span class="default">ie_box</span><span class="keyword">() {<br>&nbsp; &nbsp; if (</span><span class="default">using_ie</span><span class="keyword">()) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">?&gt;<br></span>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class="iebox"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This page is not designed for Intenet Explorer.&nbsp; If you want to see this webpage as intended, please use a standards compliant browser, such as &lt;a href="<a rel="nofollow" target="_blank">http://www.google.com/chrome</a>"&gt;Google Chrome&lt;/a&gt;.<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">return;<br>&nbsp; &nbsp; }<br>} <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91648">  
  <a class="name">
  <strong class="user"><em>Steve Perkins</em></strong></a><div class="date" title="2009-06-21 09:42"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91648">
<div class="phpcode"><code><span class="html">
This is a simple class to detect the client browser and version using regular expressions. <br><br><span class="default">&lt;?PHP<br></span><span class="keyword">class </span><span class="default">Browser </span><span class="keyword">extends </span><span class="default">BaseObjects_PropertyArray<br></span><span class="keyword">{<br>&nbsp; &nbsp; private </span><span class="default">$props&nbsp; &nbsp; </span><span class="keyword">= array(</span><span class="string">"Version" </span><span class="keyword">=&gt; </span><span class="string">"0.0.0"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"Name" </span><span class="keyword">=&gt; </span><span class="string">"unknown"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"Agent" </span><span class="keyword">=&gt; </span><span class="string">"unknown"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"AllowsHeaderRedirect" </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">) ;<br><br>&nbsp; &nbsp; public function </span><span class="default">__Construct</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$browsers </span><span class="keyword">= array(</span><span class="string">"firefox"</span><span class="keyword">, </span><span class="string">"msie"</span><span class="keyword">, </span><span class="string">"opera"</span><span class="keyword">, </span><span class="string">"chrome"</span><span class="keyword">, </span><span class="string">"safari"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"mozilla"</span><span class="keyword">, </span><span class="string">"seamonkey"</span><span class="keyword">,&nbsp; &nbsp; </span><span class="string">"konqueror"</span><span class="keyword">, </span><span class="string">"netscape"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"gecko"</span><span class="keyword">, </span><span class="string">"navigator"</span><span class="keyword">, </span><span class="string">"mosaic"</span><span class="keyword">, </span><span class="string">"lynx"</span><span class="keyword">, </span><span class="string">"amaya"</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"omniweb"</span><span class="keyword">, </span><span class="string">"avant"</span><span class="keyword">, </span><span class="string">"camino"</span><span class="keyword">, </span><span class="string">"flock"</span><span class="keyword">, </span><span class="string">"aol"</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Agent </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$browsers </span><span class="keyword">as </span><span class="default">$browser</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"#(</span><span class="default">$browser</span><span class="string">)[/ ]?([0-9.]*)#"</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Agent</span><span class="keyword">, </span><span class="default">$match</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Name </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] ;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Version </span><span class="keyword">= </span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] ;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break ;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">AllowsHeaderRedirect </span><span class="keyword">= !(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Name </span><span class="keyword">== </span><span class="string">"msie" </span><span class="keyword">&amp;&amp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Version </span><span class="keyword">&lt; </span><span class="default">7</span><span class="keyword">) ;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public function </span><span class="default">__Get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; die </span><span class="string">"No such property or function </span><span class="default">$name</span><span class="string">)" </span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">props</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] ;<br>&nbsp; &nbsp; }<br><br>}<br><br></span><span class="default">?&gt;<br></span><br>example code<br><span class="default">&lt;?PHP<br>$browser </span><span class="keyword">= new </span><span class="default">Browser </span><span class="keyword">;<br>echo </span><span class="string">"</span><span class="default">$Browser</span><span class="keyword">-&gt;</span><span class="default">Name</span><span class="string"> </span><span class="default">$Browser</span><span class="keyword">-&gt;</span><span class="default">Version</span><span class="string">" </span><span class="keyword">;<br></span><span class="default">?&gt;<br></span>result when client using Firefox 3.0.11<br>firefox 3.0.11<br><br>result when client using unknown browser<br>unknown 0.0.0<br> <br>etc etc</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76614">  
  <a class="name">
  <strong class="user"><em>mike at mike-griffiths dot co dot uk</em></strong></a><div class="date" title="2007-07-23 02:41"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76614">
<div class="phpcode"><code><span class="html">
You should not rely on just this for cross-browser compatibility issues.&nbsp; Good practice would be to include HTML if-statements for IE stylesheets as well as dynamically checking the browser type.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78613">  
  <a class="name">
  <strong class="user"><em>Steffen</em></strong></a><div class="date" title="2007-10-19 03:59"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78613">
<div class="phpcode"><code><span class="html">
Keep in mind that get_browser(); really slows down your application.&nbsp; It takes about 22 ms to execute on an idle server with Ubuntu Linux, Apache 2, PHP 5.1.3.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88923">  
  <a class="name">
  <strong class="user"><em>assadvirgo at gmail dot com</em></strong></a><div class="date" title="2009-02-13 04:40"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88923">
<div class="phpcode"><code><span class="html">
This is a very useful function to get user browser. A great utility function for those are fed up of get_browser() issues :)
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">get_user_browser</span><span class="keyword">()
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$u_agent </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/MSIE/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"ie"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Firefox/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"firefox"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Safari/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"safari"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Chrome/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"chrome"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Flock/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"flock"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/Opera/i'</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">"opera"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$ub</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="15261">  
  <a class="name">
  <strong class="user"><em>les at hazlewood dot com</em></strong></a><div class="date" title="2001-09-03 06:57"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom15261">
<div class="phpcode"><code><span class="html">
phpSniff (noted in a few places above) is absolutely fantastic.&nbsp; I just installed it, and it is a godsend!&nbsp; It now handles all of my session information needed to go in my database.&nbsp; Thanks for you folks who posted that great Sourceforge resource!&nbsp; <a rel="nofollow" target="_blank">http://phpsniff.sourceforge.net/</a></span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.get-browser.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:06:57 GMT -->


</body></html>