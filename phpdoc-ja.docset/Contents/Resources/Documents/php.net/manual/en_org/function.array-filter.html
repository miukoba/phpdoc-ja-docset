<html><!-- Mirrored from php.net/manual/en/function.array-filter.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:35 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>array_filter</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.array-filter.html">
 <link rel="shorturl" href="http://php.net/array-filter">
 <link rel="alternate" href="http://php.net/array-filter" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.array.html">
 <link rel="prev" href="function.array-fill.html">
 <link rel="next" href="function.array-flip.html">

 <link rel="alternate" href="function.array-filter.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.array-filter.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.array-filter.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.array-filter.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.array-filter.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.array-filter.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.array-filter.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.array-filter.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.array-filter.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.array-filter.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.array-filter.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.array.html">Arrays</a></li>      <li><a href="ref.array.html">Array Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.array-filter" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_filter</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5)</p><p class="refpurpose"><span class="refname">array_filter</span> â€” <span class="dc-title">Filters elements of an array using a callback function</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.array-filter-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_filter</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   Iterates over each value in the <code class="parameter">array</code>
   passing them to the <code class="parameter">callback</code> function.
   If the <code class="parameter">callback</code> function returns true, the
   current value from <code class="parameter">array</code> is returned into
   the result array. Array keys are preserved.
  </p>
</div>


 <div class="refsect1 parameters" id="refsect1-function.array-filter-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>


    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       The array to iterate over
      </p>
     </dd>

    

    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       The callback function to use
      </p>
      <p class="para">
       If no <code class="parameter">callback</code> is supplied, all entries of
       <code class="parameter">array</code> equal to <strong><code>FALSE</code></strong> (see
       <a href="language.types.boolean.html#language.types.boolean.casting" class="link">converting to
        boolean</a>) will be removed.
      </p>
     </dd>

    

   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-filter-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the filtered array.
  </p>
 </div>




 <div class="refsect1 examples" id="refsect1-function.array-filter-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5063">
    <p><strong>Example #1 <span class="function"><strong>array_filter()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">odd</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;whether&nbsp;the&nbsp;input&nbsp;integer&nbsp;is&nbsp;odd<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return(</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}<br><br>function&nbsp;</span><span style="color: #0000BB">even</span><span style="color: #007700">(</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;whether&nbsp;the&nbsp;input&nbsp;integer&nbsp;is&nbsp;even<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return(!(</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">&amp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br>}<br><br></span><span style="color: #0000BB">$array1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"e"</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">6</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">);<br><br>echo&nbsp;</span><span style="color: #DD0000">"Odd&nbsp;:\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"odd"</span><span style="color: #007700">));<br>echo&nbsp;</span><span style="color: #DD0000">"Even:\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$array2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"even"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Odd :
Array
(
    [a] =&gt; 1
    [c] =&gt; 3
    [e] =&gt; 5
)
Even:
Array
(
    [0] =&gt; 6
    [2] =&gt; 8
    [4] =&gt; 10
    [6] =&gt; 12
)
</pre></div>
    </div>
   </div>
   <div class="example" id="example-5064">
    <p><strong>Example #2 <span class="function"><strong>array_filter()</strong></span> without
    <code class="parameter">callback</code></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$entry&nbsp;</span><span style="color: #007700">=&nbsp;array(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">''<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$entry</span><span style="color: #007700">));<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [0] =&gt; foo
    [2] =&gt; -1
)
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-filter-notes">
  <h3 class="title">Notes</h3>
  <div class="caution"><strong class="caution">Caution</strong>
   <p class="para">
    If the array is changed from the callback function (e.g. element
    added, deleted or unset) the behavior of this function is undefined.
   </p>
  </div>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.array-filter-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-map.html" class="function" rel="rdfs-seeAlso">array_map()</a> - Applies the callback to the elements of the given arrays</span></li>
    <li class="member"><span class="function"><a href="function.array-reduce.html" class="function" rel="rdfs-seeAlso">array_reduce()</a> - Iteratively reduce the array to a single value using a callback function</span></li>
    <li class="member"><span class="function"><a href="function.array-walk.html" class="function" rel="rdfs-seeAlso">array_walk()</a> - Apply a user function to every member of an array</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="111091">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2013-01-13 05:52"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111091">
<div class="phpcode"><code><span class="html">
If you want a quick way to remove NULL, FALSE and Empty Strings (""), but leave values of 0 (zero), you can use the standard php function strlen as the callback function:<br>eg:<br><span class="default">&lt;?php<br><br></span><span class="comment">// removes all NULL, FALSE and Empty Strings but leaves 0 (zero) values<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="string">'strlen' </span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87581">  
  <a class="name">
  <strong class="user"><em>romain dot lamarche at gmail dot com</em></strong></a><div class="date" title="2008-12-11 06:39"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87581">
<div class="phpcode"><code><span class="html">
This function filters an array and remove all null values recursively.
<br>
<br><span class="default">&lt;?php
<br>&nbsp; </span><span class="keyword">function </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)
<br>&nbsp; {
<br>&nbsp; &nbsp; foreach (</span><span class="default">$input </span><span class="keyword">as &amp;</span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);
<br>&nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>Or with callback parameter (not tested) :
<br>
<br><span class="default">&lt;?php
<br>&nbsp; </span><span class="keyword">function </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)
<br>&nbsp; {
<br>&nbsp; &nbsp; foreach (</span><span class="default">$input </span><span class="keyword">as &amp;</span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);
<br>&nbsp; }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87912">  
  <a class="name">
  <strong class="user"><em>niehztog</em></strong></a><div class="date" title="2008-12-30 01:27"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87912">
<div class="phpcode"><code><span class="html">
In case you are interested (like me) in filtering out elements with certain key-names, array_filter won't help you. Instead you can use the following:<br><br><span class="default">&lt;?php<br>$arr </span><span class="keyword">= array( </span><span class="string">'element1' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'element2' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'element3' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'element4' </span><span class="keyword">=&gt; </span><span class="default">4 </span><span class="keyword">);<br></span><span class="default">$filterOutKeys </span><span class="keyword">= array( </span><span class="string">'element1'</span><span class="keyword">, </span><span class="string">'element4' </span><span class="keyword">);<br><br></span><span class="default">$filteredArr </span><span class="keyword">= </span><span class="default">array_diff_key</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">$filterOutKeys </span><span class="keyword">) )<br></span><span class="default">?&gt;<br></span><br>Result will be something like this:<br>['element2'] =&gt; 2<br>['element3'] =&gt; 3</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43822">  
  <a class="name">
  <strong class="user"><em>marc dot vanwoerkom at fernuni-hagen dot de</em></strong></a><div class="date" title="2004-07-05 08:09"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43822">
<div class="phpcode"><code><span class="html">
Some of PHP's array functions play a prominent role in so called functional programming languages, where they show up under a slightly different name:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; array_filter</span><span class="keyword">() -&gt; </span><span class="default">filter</span><span class="keyword">(), 
<br>&nbsp; </span><span class="default">array_map</span><span class="keyword">() -&gt; </span><span class="default">map</span><span class="keyword">(), 
<br>&nbsp; </span><span class="default">array_reduce</span><span class="keyword">() -&gt; </span><span class="default">foldl</span><span class="keyword">() (</span><span class="string">"fold left"</span><span class="keyword">)
<br></span><span class="default">?&gt;
<br></span>
<br>Functional programming is a paradigm which centers around the side-effect free evaluation of functions. A program execution is a call of a function, which in turn might be defined by many other functions. One idea is to use functions to create special purpose functions from other functions.
<br>
<br>The array functions mentioned above allow you compose new functions on arrays. 
<br>
<br>E.g. array_sum = array_map("sum", $arr).
<br>
<br>This leads to a style of programming that looks much like algebra, e.g. the Bird/Meertens formalism.
<br>
<br>E.g. a mathematician might state
<br>
<br>&nbsp; map(f o g) = map(f) o map(g)
<br>
<br>the so called "loop fusion" law.
<br>
<br>Many functions on arrays can be created by the use of the foldr() function (which works like foldl, but eating up array elements from the right).
<br>
<br>I can't get into detail here, I just wanted to provide a hint about where this stuff also shows up and the theory behind it.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108176">  
  <a class="name">
  <strong class="user"><em>John Erck: erck0006 at junkyo dot gmail dot com</em></strong></a><div class="date" title="2012-04-04 08:09"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108176">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">// ARRAY FILTER RECURSIVE USING CLASS, STATIC METHOD, AND ANONYMOUS CALLBACK FUNCTION<br>// NOTE THAT THE CALLBACK HAS ACCESS TO BOTH THE KEY AND VALUE<br><br>// THE CLASS (FOR YOU TO COPY)<br></span><span class="keyword">class </span><span class="default">ArrayUtil<br></span><span class="keyword">{<br>&nbsp; &nbsp; public static function </span><span class="default">FilterRecursive</span><span class="keyword">(Array </span><span class="default">$source</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$source </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">self</span><span class="keyword">::</span><span class="default">FilterRecursive</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$fn</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">// KEEP<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="comment">// EXAMPLE ANONYMOUS CALLBACK FUNCTION<br></span><span class="default">$fn </span><span class="keyword">= function (</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="string">'drop'</span><span class="keyword">) !== </span><span class="default">FALSE</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">; </span><span class="comment">// DROP<br>&nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; return </span><span class="default">TRUE</span><span class="keyword">; </span><span class="comment">// KEEP<br></span><span class="keyword">};<br><br></span><span class="comment">// EXAMPLE PRE FILTER TEST DATA<br></span><span class="default">$preFilter </span><span class="keyword">= array(<br>&nbsp; &nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'one'</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'b' </span><span class="keyword">=&gt; array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'example_drop' </span><span class="keyword">=&gt; </span><span class="string">'filter me out'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'example_keep' </span><span class="keyword">=&gt; </span><span class="string">'keep me'</span><span class="keyword">,<br>&nbsp; &nbsp; ),<br>&nbsp; &nbsp; </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,<br>);<br><br></span><span class="comment">// EXAMPLE USAGE CODE<br></span><span class="keyword">echo </span><span class="string">'// print_r($preFilter);' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$preFilter</span><span class="keyword">);<br></span><span class="default">$postFilter </span><span class="keyword">= </span><span class="default">ArrayUtil</span><span class="keyword">::</span><span class="default">FilterRecursive</span><span class="keyword">(</span><span class="default">$preFilter</span><span class="keyword">, </span><span class="default">$fn</span><span class="keyword">);<br>echo </span><span class="string">"\n"</span><span class="keyword">;<br>echo </span><span class="string">'// print_r($postFilter);' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$postFilter</span><span class="keyword">);<br><br></span><span class="comment">/* OUTPUT OPEN<br>// print_r($preFilter);<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; one<br>&nbsp; &nbsp; [b] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [example_drop] =&gt; filter me out<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [example_keep] =&gt; keep me<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [c] =&gt; three<br>)<br><br>// print_r($postFilter);<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; one<br>&nbsp; &nbsp; [b] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [example_keep] =&gt; keep me<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [c] =&gt; three<br>)<br>OUTPUT CLOSE */</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105012">  
  <a class="name">
  <strong class="user"><em>lisachenko dot it at HUMAN dot gmail dot com</em></strong></a><div class="date" title="2011-07-22 12:54"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105012">
<div class="phpcode"><code><span class="html">
You can access the current key of array by passing a reference to array into callback function and call key() and next() method in the callback function:<br><span class="default">&lt;?php<br>$data </span><span class="keyword">= array(</span><span class="string">'first' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'second' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'third' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">);<br></span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, function (</span><span class="default">$item</span><span class="keyword">) use (&amp;</span><span class="default">$data</span><span class="keyword">) {<br>&nbsp; &nbsp; echo </span><span class="string">"Filtering key "</span><span class="keyword">, </span><span class="default">key</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">), </span><span class="string">'&lt;br&gt;'</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>});<br></span><span class="default">?&gt;<br></span><br>However be careful with array internal pointer or use reset() method before calling array_filter().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111760">  
  <a class="name">
  <strong class="user"><em>tx at tshwarelo-leaka dot co dot za</em></strong></a><div class="date" title="2013-03-26 09:26"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111760">
<div class="phpcode"><code><span class="html">
To get rid of all white space in an array without looping.<br><span class="default">&lt;?php<br>&nbsp;&nbsp; $array </span><span class="keyword">= array(</span><span class="default">5</span><span class="keyword">, </span><span class="string">"&nbsp;&nbsp; "</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">13</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$a'</span><span class="keyword">,</span><span class="string">'return preg_match("#\S#", $a);'</span><span class="keyword">));&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; 5<br>&nbsp; &nbsp; [1] =&gt;&nbsp; &nbsp; <br>&nbsp; &nbsp; [2] =&gt; 2<br>&nbsp; &nbsp; [3] =&gt; <br>&nbsp; &nbsp; [4] =&gt; 13<br>&nbsp; &nbsp; [5] =&gt; <br>&nbsp; &nbsp; [6] =&gt; 7<br>&nbsp; &nbsp; [7] =&gt; <br><br>&nbsp; &nbsp; [8] =&gt; 4<br>&nbsp; &nbsp; [9] =&gt;&nbsp; &nbsp;&nbsp; <br>)<br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; 5<br>&nbsp; &nbsp; [2] =&gt; 2<br>&nbsp; &nbsp; [4] =&gt; 13<br>&nbsp; &nbsp; [6] =&gt; 7<br>&nbsp; &nbsp; [8] =&gt; 4<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93965">  
  <a class="name">
  <strong class="user"><em>webdesign at blackbyrd dot biz</em></strong></a><div class="date" title="2009-10-08 01:00"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93965">
<div class="phpcode"><code><span class="html">
Here's a function that will filter a multi-demensional array. This filter will return only those items that match the $value given
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; </span><span class="comment">/*
<br>&nbsp; &nbsp;&nbsp; * filtering an array
<br>&nbsp; &nbsp;&nbsp; */
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">filter_by_value </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">){ 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) as </span><span class="default">$key</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$index</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] == </span><span class="default">$value</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newarray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; return </span><span class="default">$newarray</span><span class="keyword">; 
<br>&nbsp; &nbsp; } 
<br></span><span class="default">?&gt;
<br></span>
<br>Example:
<br>
<br><span class="default">&lt;?php
<br>$results </span><span class="keyword">= array(
<br>&nbsp;&nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array(</span><span class="string">'key1' </span><span class="keyword">=&gt; </span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'key3' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">),
<br>&nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(</span><span class="string">'key1' </span><span class="keyword">=&gt; </span><span class="string">'12'</span><span class="keyword">, </span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="default">22</span><span class="keyword">, </span><span class="string">'key3' </span><span class="keyword">=&gt; </span><span class="default">32</span><span class="keyword">) 
<br>);
<br>
<br></span><span class="default">$nResults </span><span class="keyword">= </span><span class="default">filter_by_value</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="string">'key2'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Output :
<br>
<br>array(
<br>&nbsp; &nbsp; 0 =&gt; array('key1' =&gt; '1', 'key2' =&gt; 2, 'key3' =&gt; 3)
<br>);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112155">  
  <a class="name">
  <strong class="user"><em>Alix Axel</em></strong></a><div class="date" title="2013-05-10 12:56"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112155">
<div class="phpcode"><code><span class="html">
If you need this function to return falsy results (like "0"), yet discard truly empty ones (that have a 0 string length, like null, false, ''), you can use strlen() as the callback:
<br>
<br><span class="default">&lt;?php
<br>array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'strlen'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100813">  
  <a class="name">
  <strong class="user"><em>rolf at example dot com</em></strong></a><div class="date" title="2010-11-08 11:06"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100813">
<div class="phpcode"><code><span class="html">
Here is how you could easily delete a specific value from an array with array_filter:
<br>
<br><span class="default">&lt;?php
<br>$array </span><span class="keyword">= array (</span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);
<br></span><span class="default">$my_value </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;
<br></span><span class="default">$filtered_array </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, function (</span><span class="default">$element</span><span class="keyword">) use (</span><span class="default">$my_value</span><span class="keyword">) { return (</span><span class="default">$element </span><span class="keyword">!= </span><span class="default">$my_value</span><span class="keyword">); } );
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$filtered_array</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>output:
<br>
<br>Array
<br>(
<br>&nbsp; &nbsp; [0] =&gt; 1
<br>&nbsp; &nbsp; [3] =&gt; 5
<br>&nbsp; &nbsp; [4] =&gt; 6
<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99358">  
  <a class="name">
  <strong class="user"><em>Peter Robinett</em></strong></a><div class="date" title="2010-08-12 08:09"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99358">
<div class="phpcode"><code><span class="html">
Because array_filter() preserves keys, you should consider the resulting array to be an associative array even if the original array had integer keys for there may be holes in your sequence of keys. This means that, for example, json_encode() will convert your result array into an object instead of an array. Call array_values() on the result array to guarantee json_encode() gives you an array.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77442">  
  <a class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><div class="date" title="2007-08-29 03:49"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77442">
<div class="phpcode"><code><span class="html">
Just a simplification of my function from last month.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">partition</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if(</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$callback</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$true </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$true </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="default">$false </span><span class="keyword">= </span><span class="default">array_diff_key</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$true</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75293">  
  <a class="name">
  <strong class="user"><em>leon at darkk dot net dot ru</em></strong></a><div class="date" title="2007-05-22 12:15"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75293">
<div class="phpcode"><code><span class="html">
Here is a way to get customizable filter<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">blablabla</span><span class="keyword">() {<br>&nbsp; &nbsp; ....<br>&nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">= </span><span class="default">getNewUidls</span><span class="keyword">();<br>&nbsp; &nbsp; class </span><span class="default">UidlFilter </span><span class="keyword">{<br>&nbsp; &nbsp; &nbsp; &nbsp; function </span><span class="default">UidlFilter</span><span class="keyword">(</span><span class="default">$uidls</span><span class="keyword">) { </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">uidls </span><span class="keyword">= </span><span class="default">$uidls</span><span class="keyword">; }<br>&nbsp; &nbsp; &nbsp; &nbsp; function </span><span class="default">filter</span><span class="keyword">(</span><span class="default">$metamsg</span><span class="keyword">) { return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$metamsg</span><span class="keyword">[</span><span class="string">'uidl'</span><span class="keyword">], </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">uidls</span><span class="keyword">); }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$msglist </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$msglist</span><span class="keyword">, array(new </span><span class="default">UidlFilter</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">), </span><span class="string">'filter'</span><span class="keyword">);<br>&nbsp; &nbsp; ....<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90617">  
  <a class="name">
  <strong class="user"><em>chrisstocktonaz at gmail dot com</em></strong></a><div class="date" title="2009-04-30 09:34"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90617">
<div class="phpcode"><code><span class="html">
I use the following to see if a array consist of scalar values or null, but of course you could mix it up using any of the is_ functions.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) !== </span><span class="default">count</span><span class="keyword">(</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'is_scalar'</span><span class="keyword">) + </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'is_null'</span><span class="keyword">))) {
<br>&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Array did not consist of scalar and null values'</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112956">  
  <a class="name">
  <strong class="user"><em>keksnicoh at googlemail dot com</em></strong></a><div class="date" title="2013-08-12 11:01"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112956">
<div class="phpcode"><code><span class="html">
Usefull invertation of array_filter<br><span class="default">&lt;?php<br>$data </span><span class="keyword">= array(...)<br></span><span class="default">$noArrayData </span><span class="keyword">= </span><span class="default">array_filter_inverse</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'is_array'</span><span class="keyword">);<br><br></span><span class="comment">/**<br> * Inverts the result of the filter callback.<br> * @param array $data<br> * @param callable $f<br> * @return array<br> */<br></span><span class="keyword">function </span><span class="default">array_filter_inverse</span><span class="keyword">(array </span><span class="default">$data</span><span class="keyword">, callable </span><span class="default">$f</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, function() use(&amp;</span><span class="default">$f</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return ! </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">());<br>&nbsp; &nbsp; });<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113603">  
  <a class="name">
  <strong class="user"><em>avl</em></strong></a><div class="date" title="2013-11-04 12:25"><strong>9 months ago</strong></div>
  <div class="text" id="Hcom113603">
<div class="phpcode"><code><span class="html">
nice trick:<br><br>$array_out = array_filter($array_in, function($var) use($array_other) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return in_array($var, $array_other) ? true : false;<br>});</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113307">  
  <a class="name">
  <strong class="user"><em>tomasz at trejderowski dot pl</em></strong></a><div class="date" title="2013-09-24 08:16"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113307">
<div class="phpcode"><code><span class="html">
Read "callback" parameter note with understanding (as well as "converting to boolean" chapter). Keep in midn, that 0, both:<br><br>* integer: 0 and<br>* float: 0.00<br><br>evaluates to boolean FALSE! And therefore all array nodes, that have such value WILL ALSO BE FILTERED by array_filter(), with default call back. Unless you provide your own callback function, that will (for example) filter only empty strings and NULLs, but leave "zeros" untouched.<br><br>Some people (including me) might be surprised to find this out.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112808">  
  <a class="name">
  <strong class="user"><em>pavian at gmail dot com</em></strong></a><div class="date" title="2013-07-25 10:04"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112808">
<div class="phpcode"><code><span class="html">
Regarding to strlen() related notes, if you want to filter NULL, FALSE and empty strings from the array, just omit callback function, it does the same trick (but easier).<br><span class="default">&lt;?php <br><br>&nbsp; $clean </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="110247">  
  <a class="name">
  <strong class="user"><em>jtreminio at gmail dot com</em></strong></a><div class="date" title="2012-10-04 07:11"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom110247">
<div class="phpcode"><code><span class="html">
You can use array_filter from within a class to access a protected method from that same class:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">class </span><span class="default">Bar </span><span class="keyword">{
<br>&nbsp; &nbsp; public function </span><span class="default">foo</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array1 </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">, </span><span class="string">"d"</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">, </span><span class="string">"e"</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'naz'</span><span class="keyword">)));
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; protected function </span><span class="default">baz</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">$var </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>}
<br>
<br></span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">();
<br></span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">();
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114931">  
  <a class="name">
  <strong class="user"><em>marc dot gray at gmail dot com</em></strong></a><div class="date" title="2014-04-29 10:44"><strong>3 months ago</strong></div>
  <div class="text" id="Hcom114931">
<div class="phpcode"><code><span class="html">
My favourite use of this function is converting a string to an array, trimming each line and removing empty lines:<br><br><span class="default">&lt;?php<br>$array </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'trim'</span><span class="keyword">, </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">)), </span><span class="string">'strlen'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Although it states clearly that array keys are preserved, it's important to note this includes numerically indexed arrays. You can't use a for loop on $array above without processing it through array_values() first.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114760">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2014-04-02 10:26"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114760">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">arrayFilter</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br>&nbsp; &nbsp; foreach(</span><span class="default">$input </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">arrayFilter</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((bool)</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) unset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((bool)(</span><span class="default">$callback </span><span class="keyword">? </span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) : </span><span class="default">$value</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) unset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((bool)(</span><span class="default">$callback </span><span class="keyword">? </span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) : </span><span class="default">$value</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) unset(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113369">  
  <a class="name">
  <strong class="user"><em>qeremy [atta] gmail [dotta] com</em></strong></a><div class="date" title="2013-10-02 03:12"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113369">
<div class="phpcode"><code><span class="html">
Here is key-passed array_filter function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">arrayfilter</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">, callable </span><span class="default">$callback </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br>&nbsp; &nbsp; if (</span><span class="default">$callback </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$callback </span><span class="keyword">= function(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (bool) </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br>&nbsp; &nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;<br>}<br><br></span><span class="default">$test_array </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'the a'</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="string">'the b'</span><span class="keyword">, </span><span class="default">11 </span><span class="keyword">=&gt; </span><span class="default">1101</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br><br></span><span class="default">$array </span><span class="keyword">= </span><span class="default">arrayfilter</span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">, function(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp;&nbsp; return </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);<br>});<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br></span><span class="comment">/*<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; the a<br>&nbsp; &nbsp; [b] =&gt; the b<br>)<br>*/<br><br></span><span class="default">$array </span><span class="keyword">= </span><span class="default">arrayfilter</span><span class="keyword">(</span><span class="default">$test_array</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br></span><span class="comment">/*<br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; foo<br>&nbsp; &nbsp; [a] =&gt; the a<br>&nbsp; &nbsp; [b] =&gt; the b<br>&nbsp; &nbsp; [11] =&gt; 1101<br>)<br>*/<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106589">  
  <a class="name">
  <strong class="user"><em>spam dot 2011 at rebell dot at</em></strong></a><div class="date" title="2011-11-21 02:28"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106589">
<div class="phpcode"><code><span class="html">
If you have not noticed already - array_filter() can be used to remove empty elements, since an empty string considered "false", if you not specify a callback<br><br>Keep in mind, that this will remove also some other values - so if you want a quick "remove empty elements from array" this function will be fine, as long as you dont have anything to keep, which casts to "false"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101422">  
  <a class="name">
  <strong class="user"><em>breich at reich-consulting dot net</em></strong></a><div class="date" title="2010-12-15 11:19"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom101422">
<div class="phpcode"><code><span class="html">
I built the following array_remove_keys() function to
<br>remove one or more keys from an array.
<br>
<br><span class="default">&lt;?php
<br> 
<br></span><span class="keyword">function </span><span class="default">array_remove_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$keys </span><span class="keyword">= array()) {
<br> 
<br>&nbsp; &nbsp; </span><span class="comment">// If array is empty or not an array at all, don't bother
<br>&nbsp; &nbsp; // doing anything else.
<br>&nbsp; &nbsp; </span><span class="keyword">if(empty(</span><span class="default">$array</span><span class="keyword">) || (! </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br> 
<br>&nbsp; &nbsp; </span><span class="comment">// If $keys is a comma-separated list, convert to an array.
<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$keys</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br> 
<br>&nbsp; &nbsp; </span><span class="comment">// At this point if $keys is not an array, we can't do anything with it.
<br>&nbsp; &nbsp; </span><span class="keyword">if(! </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br> 
<br>&nbsp; &nbsp; </span><span class="comment">// array_diff_key() expected an associative array.
<br>&nbsp; &nbsp; </span><span class="default">$assocKeys </span><span class="keyword">= array();
<br>&nbsp; &nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$assocKeys</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br> 
<br>&nbsp; &nbsp; return </span><span class="default">array_diff_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$assocKeys</span><span class="keyword">);
<br>}
<br> 
<br></span><span class="comment">// Example:
<br></span><span class="default">$data </span><span class="keyword">= array(
<br>&nbsp; &nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Brian'</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="string">'address1' </span><span class="keyword">=&gt; </span><span class="string">'98 Market St.'</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="string">'address2' </span><span class="keyword">=&gt; </span><span class="string">'N/A'
<br></span><span class="keyword">);
<br> 
<br></span><span class="comment">// Output before array_remove_keys()
<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);
<br> 
<br></span><span class="comment">// Remove address2 key.
<br></span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_remove_keys</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'address2'</span><span class="keyword">);
<br> 
<br></span><span class="comment">// Output after array_remove_keys()
<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);
<br> 
<br></span><span class="comment">/* Output:
<br> 
<br>array(3) {
<br>&nbsp; ["name"]=&gt;
<br>&nbsp; string(5) "Brian"
<br>&nbsp; ["address1"]=&gt;
<br>&nbsp; string(13) "98 Market St."
<br>&nbsp; ["address2"]=&gt;
<br>&nbsp; string(3) "N/A"
<br>}
<br>array(2) {
<br>&nbsp; ["name"]=&gt;
<br>&nbsp; string(5) "Brian"
<br>&nbsp; ["address1"]=&gt;
<br>&nbsp; string(13) "98 Market St."
<br>}
<br>*/
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99073">  
  <a class="name">
  <strong class="user"><em>acid24 at gmail dot com</em></strong></a><div class="date" title="2010-07-26 05:58"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99073">
<div class="phpcode"><code><span class="html">
A function that allows filtering an array by keys:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_filter_key</span><span class="keyword">( </span><span class="default">$input</span><span class="keyword">, </span><span class="default">$callback </span><span class="keyword">) {<br>&nbsp; &nbsp; if ( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$input </span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">( </span><span class="string">'array_filter_key() expects parameter 1 to be array, ' </span><span class="keyword">. </span><span class="default">gettype</span><span class="keyword">( </span><span class="default">$input </span><span class="keyword">) . </span><span class="string">' given'</span><span class="keyword">, </span><span class="default">E_USER_WARNING </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">null</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if ( empty( </span><span class="default">$input </span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$filteredKeys </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">( </span><span class="default">array_keys</span><span class="keyword">( </span><span class="default">$input </span><span class="keyword">), </span><span class="default">$callback </span><span class="keyword">);<br>&nbsp; &nbsp; if ( empty( </span><span class="default">$filteredKeys </span><span class="keyword">) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return array();<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">array_intersect_key</span><span class="keyword">( </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">$filteredKeys </span><span class="keyword">), </span><span class="default">$input </span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$input</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;<br></span><br>Example:<br><br><span class="default">&lt;?php<br>$input </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">range</span><span class="keyword">( </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'z' </span><span class="keyword">) );<br><br></span><span class="default">$consonants </span><span class="keyword">= </span><span class="default">array_filter_key</span><span class="keyword">( </span><span class="default">$arr</span><span class="keyword">, function( </span><span class="default">$elem </span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$vowels </span><span class="keyword">= </span><span class="string">"aeiou"</span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$vowels</span><span class="keyword">, </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">$elem </span><span class="keyword">) ) === </span><span class="default">false</span><span class="keyword">;<br>} );<br></span><span class="default">?&gt;<br></span><br>Outputs:<br><br>array(21) {<br>&nbsp; ["b"]=&gt;<br>&nbsp; int(1)<br>&nbsp; ["c"]=&gt;<br>&nbsp; int(2)<br>&nbsp; ["d"]=&gt;<br>&nbsp; int(3)<br>&nbsp; ["f"]=&gt;<br>&nbsp; int(5)<br>&nbsp; ["g"]=&gt;<br>&nbsp; int(6)<br>&nbsp; ["h"]=&gt;<br>&nbsp; int(7)<br>&nbsp; ["j"]=&gt;<br>&nbsp; int(9)<br>&nbsp; ["k"]=&gt;<br>&nbsp; int(10)<br>&nbsp; ["l"]=&gt;<br>&nbsp; int(11)<br>&nbsp; ["m"]=&gt;<br>&nbsp; int(12)<br>&nbsp; ["n"]=&gt;<br>&nbsp; int(13)<br>&nbsp; ["p"]=&gt;<br>&nbsp; int(15)<br>&nbsp; ["q"]=&gt;<br>&nbsp; int(16)<br>&nbsp; ["r"]=&gt;<br>&nbsp; int(17)<br>&nbsp; ["s"]=&gt;<br>&nbsp; int(18)<br>&nbsp; ["t"]=&gt;<br>&nbsp; int(19)<br>&nbsp; ["v"]=&gt;<br>&nbsp; int(21)<br>&nbsp; ["w"]=&gt;<br>&nbsp; int(22)<br>&nbsp; ["x"]=&gt;<br>&nbsp; int(23)<br>&nbsp; ["y"]=&gt;<br>&nbsp; int(24)<br>&nbsp; ["z"]=&gt;<br>&nbsp; int(25)<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96740">  
  <a class="name">
  <strong class="user"><em>Ant P.</em></strong></a><div class="date" title="2010-03-13 08:58"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96740">
<div class="phpcode"><code><span class="html">
If you're using filter_input_array, the values will be null on failure and anything else on success. Because array_filter by default removes false, 0 and "" you need to do extra work like this:<br><span class="default">&lt;?php<br>$input_array </span><span class="keyword">= </span><span class="default">filter_input_array</span><span class="keyword">(</span><span class="default">INPUT_GET</span><span class="keyword">, array(<br>&nbsp; </span><span class="string">'var1' </span><span class="keyword">=&gt; </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">,<br>&nbsp; </span><span class="string">'var2' </span><span class="keyword">=&gt; </span><span class="default">FILTER_VALIDATE_INT<br></span><span class="keyword">));<br><br></span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input_array</span><span class="keyword">, function(</span><span class="default">$a</span><span class="keyword">) { return !</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) });<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111764">  
  <a class="name">
  <strong class="user"><em>g dot kuizinas at anuary dot com</em></strong></a><div class="date" title="2013-03-26 11:10"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111764">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_filter_recursive </span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$original </span><span class="keyword">= </span><span class="default">$data</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function (</span><span class="default">$e</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) ? </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">) : </span><span class="default">$e</span><span class="keyword">;<br>&nbsp; &nbsp; }, </span><span class="default">$data</span><span class="keyword">);<br><br>&nbsp; &nbsp; return </span><span class="default">$original </span><span class="keyword">=== </span><span class="default">$data </span><span class="keyword">? </span><span class="default">$data </span><span class="keyword">: </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br>}<br><br></span><span class="default">$data </span><span class="keyword">= [</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; [], </span><span class="string">'c' </span><span class="keyword">=&gt; [[]], </span><span class="string">'d' </span><span class="keyword">=&gt; [[[[]]]], </span><span class="string">'e' </span><span class="keyword">=&gt; </span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'f' </span><span class="keyword">=&gt; [[[</span><span class="string">'a'</span><span class="keyword">]]], [</span><span class="default">true</span><span class="keyword">], [[],[</span><span class="string">'a'</span><span class="keyword">], [</span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">]]];<br><br></span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_filter_recursive</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="93528">  
  <a class="name">
  <strong class="user"><em>mewsterus at yahoo dot com</em></strong></a><div class="date" title="2009-09-14 10:13"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom93528">
<div class="phpcode"><code><span class="html">
Here's an easy way to get a combination of keys and values, such that if you don't specify a key you will get the value, and if you do specify a key you will get the key:<br><br><span class="default">&lt;?php<br>$array </span><span class="keyword">= array(</span><span class="string">'One' </span><span class="keyword">=&gt; </span><span class="string">'First'</span><span class="keyword">, </span><span class="string">'Second'</span><span class="keyword">, </span><span class="string">'Third'</span><span class="keyword">, </span><span class="string">'Four' </span><span class="keyword">=&gt; </span><span class="string">'Fourth'</span><span class="keyword">, </span><span class="string">'Fifth'</span><span class="keyword">);<br><br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br><br></span><span class="default">$names </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="string">'is_string'</span><span class="keyword">) + </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br></span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br><br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$names</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Outputs:<br><br>array(5) {<br>&nbsp; [0]=&gt;string(3) "One"<br>&nbsp; [1]=&gt;int(0)<br>&nbsp; [2]=&gt;int(1)<br>&nbsp; [3]=&gt;string(4) "Four"<br>&nbsp; [4]=&gt;int(2)<br>}<br>array(5) {<br>&nbsp; [0]=&gt;string(3) "One"<br>&nbsp; [1]=&gt;string(6) "Second"<br>&nbsp; [2]=&gt;string(5) "Third"<br>&nbsp; [3]=&gt;string(4) "Four"<br>&nbsp; [4]=&gt;string(5) "Fifth"<br>}<br><br>Without using ksort, the keys appear before the fallback values, instead of inline and appearing like they replace them, however the keys are intact (which is why ksort works) so it's only execution order.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="92761">  
  <a class="name">
  <strong class="user"><em>mchargue at usc dot edu</em></strong></a><div class="date" title="2009-08-07 02:34"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom92761">
<div class="phpcode"><code><span class="html">
Wanting to pass an additional to parameter to the callback function?&nbsp; This worked for me, there's probably another way to accomplish this task but just so you see how it can be done.&nbsp; (I actually used this technique to strip old dates out of an array) :
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//define in global scope so functions can access
<br></span><span class="default">$var_to_pass </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;
<br>
<br>function </span><span class="default">myfilter</span><span class="keyword">(</span><span class="default">$input_var_outer</span><span class="keyword">,</span><span class="default">$param</span><span class="keyword">) {
<br>
<br>&nbsp; &nbsp; global </span><span class="default">$var_to_pass</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$var_to_pass </span><span class="keyword">= </span><span class="default">$param</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; function </span><span class="default">mycallback</span><span class="keyword">(</span><span class="default">$input_var_inner</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; global </span><span class="default">$var_to_pass</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; return (</span><span class="default">$input_var_inner</span><span class="keyword">&gt;</span><span class="default">$var_to_pass</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="default">$return_arr </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$input_var_outer</span><span class="keyword">,</span><span class="string">'mycallback'</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="comment">//re-key if you want
<br>&nbsp; &nbsp; </span><span class="default">$return_arr </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(array(),</span><span class="default">$return_arr</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">$return_arr</span><span class="keyword">;
<br>
<br>}
<br>
<br></span><span class="default">$min </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;
<br></span><span class="default">$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);
<br>
<br></span><span class="comment">//remove elements from array that are not greater than $min
<br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">myfilter</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$min</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);
<br>echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>--
<br>
<br>Output:
<br>Array
<br>(
<br>&nbsp; &nbsp; [0] =&gt; 7
<br>&nbsp; &nbsp; [1] =&gt; 9
<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77573">  
  <a class="name">
  <strong class="user"><em>Martin</em></strong></a><div class="date" title="2007-09-04 10:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77573">
<div class="phpcode"><code><span class="html">
This function trims empty strings from the beginning and end of an array.
<br>It's useful when outputing plaintext files on a page and you want to skip empty lines at the beginning and end, but not within the text.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_trim</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br>&nbsp; &nbsp; while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>You might want to trim each element too.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86228">  
  <a class="name">
  <strong class="user"><em>darren at dazwin dot com</em></strong></a><div class="date" title="2008-10-08 11:44"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86228">
<div class="phpcode"><code><span class="html">
Regarding comment about trimming empty strings, the code posted will get into an infinite loop if the array is reduced to zero elements. The following might be better:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_trim</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br>&nbsp; &nbsp; while (!empty(</span><span class="default">$array</span><span class="keyword">) and </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; while (!empty(</span><span class="default">$array</span><span class="keyword">) and </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) === </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86124">  
  <a class="name">
  <strong class="user"><em>sami</em></strong></a><div class="date" title="2008-10-03 11:11"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86124">
<div class="phpcode"><code><span class="html">
Yes, it may remove NULLS, but it also removes anything that factors to a FALSE as well; like FALSE and ZERO. :/</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85360">  
  <a class="name">
  <strong class="user"><em>quecoder at gmail</em></strong></a><div class="date" title="2008-08-27 03:00"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85360">
<div class="phpcode"><code><span class="html">
// my implementation for array_filter&nbsp; <br><br>function my_array_filter($array,$function,$preserve=true)<br>&nbsp; &nbsp; &nbsp; &nbsp; {&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $return = array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($array as $k=&gt;$v)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($function($v)==true) $return[$k]=$v;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($preserve) return $return;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else return array_values($return);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>function odd($value)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ($value &amp; 1);<br>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; <br>$oddonly = array (1,2,3,4,5,6,7,8,9);<br>print_r(my_array_filter($oddonly,'odd',1));&nbsp; &nbsp; <br><br>//output&nbsp; &nbsp;&nbsp; <br>//Array ( [0] =&gt; 1 [2] =&gt; 3 [4] =&gt; 5 [6] =&gt; 7 [8] =&gt; 9 ) <br><br>//Khaled Mohammed</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70636">  
  <a class="name">
  <strong class="user"><em>Fladnag - bahatest at ifrance dot com</em></strong></a><div class="date" title="2006-10-22 09:19"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70636">
<div class="phpcode"><code><span class="html">
If you have a form with multiple checkbox having ID element as value for selection in a list, you probably have a SQL request like :<br>$req="SELECT ... WHERE ID IN (".implode(',', array_keys($choices)).")";<br>without quote before and after choices keys because they are numeric values... but in fact, they can be string values, and a SQL injection problem.<br><br>with array_filter, you can easily filter bad values :<br><span class="default">&lt;?php<br>&nbsp; &nbsp; $choices</span><span class="keyword">=array(</span><span class="string">'A'</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">, </span><span class="string">"1)or 1=1--"</span><span class="keyword">=&gt;</span><span class="string">'on'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$choices</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$choices</span><span class="keyword">=</span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$choices</span><span class="keyword">), </span><span class="string">'is_numeric'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$choices</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>will print :<br><span class="default">&lt;?php<br></span><span class="keyword">Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">A</span><span class="keyword">] =&gt; </span><span class="default">on<br>&nbsp; &nbsp; </span><span class="keyword">[-</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">on<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="default">on<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">on<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">12</span><span class="keyword">] =&gt; </span><span class="default">on<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">)or </span><span class="default">1</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">--] =&gt; </span><span class="default">on<br></span><span class="keyword">)<br>Array<br>(<br>&nbsp; &nbsp; [</span><span class="default">1</span><span class="keyword">] =&gt; -</span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =&gt; </span><span class="default">0<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =&gt; </span><span class="default">1<br>&nbsp; &nbsp; </span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =&gt; </span><span class="default">12<br></span><span class="keyword">)<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84768">  
  <a class="name">
  <strong class="user"><em>WASD</em></strong></a><div class="date" title="2008-07-29 04:53"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84768">
<div class="phpcode"><code><span class="html">
You can easily delete all NULL elements from array with following statement:
<br>
<br><span class="default">&lt;?php
<br>$arr </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60822">  
  <a class="name">
  <strong class="user"><em>ydotzhangatwriwindberdotorg</em></strong></a><div class="date" title="2006-01-17 01:57"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60822">
<div class="phpcode"><code><span class="html">
I have written a function that will filter an array by the frequency of 
<br>element value in the array.&nbsp; This may be useful to some people. 
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/////////////////////////////////////////////////////////////////
<br>//&nbsp; &nbsp; Filter an array by value freguebcy
<br>//&nbsp; &nbsp; Input: $array
<br>//&nbsp; &nbsp; cut-off: $frequency (&gt;=1)
<br>//&nbsp; &nbsp; result option option: 1=$frequency and higher
<br>//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0=$frequency only
<br>//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -1=$frequency and lower
<br>/////////////////////////////////////////////////////////////////
<br></span><span class="keyword">function </span><span class="default">filter_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$frequency </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">, </span><span class="default">$include </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$freg </span><span class="keyword">= </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">$frequency</span><span class="keyword">&lt;</span><span class="default">1</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"** frequency cut-off should be &gt;= 1! **\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; foreach(</span><span class="default">$freg </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$include </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$frequency </span><span class="keyword">!= </span><span class="default">$v</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$freg</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }elseif(</span><span class="default">$include </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$frequency </span><span class="keyword">&gt; </span><span class="default">$v</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$freg</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }else{
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$frequency </span><span class="keyword">&lt; </span><span class="default">$v</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$freg</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$filtered </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$freg</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$values </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$filtered</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">array_intersect</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$values</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38597">  
  <a class="name">
  <strong class="user"><em>Jeremy</em></strong></a><div class="date" title="2003-12-29 01:31"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38597">
<div class="phpcode"><code><span class="html">
Here is a nice little function which will apply a callback function recursively over a multidimensional array. If the callback function returns false, then it replaces the value of the array with $filtered_ouput. This function gracefully handles objects inside of arrays (and objects within objects within arrays, etc). It is specifically designed for your callback function to process on the array key's (unlike normal array_filter which filters on the values), but it could work on the array values depending on your test criteria (YMMV).<br><br><span class="default">&lt;?PHP<br><br></span><span class="keyword">function </span><span class="default">array_key_filter_multi</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">, </span><span class="default">$filtered_output </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">)<br>{<br>&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br>&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_key_filter_multi</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">, </span><span class="default">$filtered_output</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_key_filter_multi</span><span class="keyword">(</span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">), </span><span class="default">$callback</span><span class="keyword">, </span><span class="default">$filtered_output</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$filtered_output</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp;&nbsp; }<br>&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;<br></span><br>We use this to filter redundant data from debugging output. An example usage is:<br><br>&lt;?<br><br>$callback_func = create_function('$key, $value', 'return ($key == "db" || $key == "smarty") ? false : true;');<br>echo "&lt;PRE&gt;" . print_r(array_key_filter_multi($_SESSION, $callback_func, "**filtered by function**"), true) . "&lt;/PRE&gt;";<br><br>?&gt;<br><br>Which filters all keys with "db" or "smarty" as their name (including objects which have a reference to those variables). The output of the above in a test case I did is the following:<br><br>Array<br>(<br>&nbsp; &nbsp; [userdata] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [sid] =&gt; a130e675d380e0e9fe47897922d719ac<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [not_in_db] =&gt; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [user_id] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [session_id] =&gt; 154<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [permissions] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [username] =&gt; tester<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>&nbsp; &nbsp; [systemobjects] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [db] =&gt; **filtered by function**<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [smarty] =&gt; **filtered by function**<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33517">  
  <a class="name">
  <strong class="user"><em>redshift at pandora dot be</em></strong></a><div class="date" title="2003-06-28 12:01"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33517">
<div class="phpcode"><code><span class="html">
Hi all,
<br>Here's a function that will look trough an array, and removes the array member when the search string is found.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_clean </span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$delete </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$caseSensitive </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; while(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$delete</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$caseSensitive</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] ,</span><span class="default">$delete</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$delete</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!empty(</span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[] = </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br></span><span class="default">?&gt;
<br></span>
<br>array array_clean(array input [, string needle [, boolean case sensitive]])
<br>
<br>if needle is left empty, the function will delete the array members that have no value (this means if it's empty).
<br>NOTE: It rebuilds the array from scratch, so keys begin with 0, like you would create a new array.
<br>
<br>Example:
<br>$array = array("John", "Doe", "Macy");
<br>$array = array_clean($array, "doe", false);
<br>
<br>print_r($array);
<br>would return:
<br>array
<br>(
<br>&nbsp; &nbsp; [0] =&gt; John
<br>&nbsp; &nbsp; [1] =&gt; Macy
<br>)
<br>
<br>Hopes this helps someone :-)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32051">  
  <a class="name">
  <strong class="user"><em>skd2 at ece dot msstate dot edu</em></strong></a><div class="date" title="2003-05-14 03:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32051">
<div class="phpcode"><code><span class="html">
The following function modifies the supplied array recursively so that filtering is performed on multidimentional arrays as well, while preserving keys.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_cleanse</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">){
<br>
<br></span><span class="default">$temp </span><span class="keyword">= array();
<br></span><span class="default">reset</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br>if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">) return </span><span class="string">""</span><span class="keyword">;
<br>
<br>foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">):
<br>
<br> (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))? </span><span class="default">array_cleanse</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) : </span><span class="default">NULL</span><span class="keyword">;
<br> (</span><span class="default">$val</span><span class="keyword">)? </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val </span><span class="keyword">: </span><span class="default">NULL</span><span class="keyword">;
<br>
<br>endforeach;
<br>
<br></span><span class="default">$arr </span><span class="keyword">= </span><span class="default">$temp</span><span class="keyword">;
<br></span><span class="default">reset</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>$arr1 = array('a'=&gt;20,'b'=&gt;array(''),'c'=&gt;array(1,0,2),'d'=&gt;0);
<br>array_cleanse($arr1);
<br>$arr1 will be array('a'=&gt;20,'c'=&gt;array(1,2))
<br>
<br>array_filter may not be used as it does not modify the array within itself.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="25559">  
  <a class="name">
  <strong class="user"><em>ajohnson at speakeasy dot org</em></strong></a><div class="date" title="2002-09-27 12:42"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom25559">
<div class="phpcode"><code><span class="html">
be careful with the above function "array_delete"'s use of the stristr function, it could be slightly misleading. consider the following:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterforsubstring</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterforsubstring</span><span class="keyword">)===</span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br>}
<br>
<br>function </span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterforstring</span><span class="keyword">, </span><span class="default">$removeblanksflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterforstring</span><span class="keyword">) &amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filterforstring</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;&amp; !(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$removeblanksflag</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br>}
<br>
<br>function </span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">, </span><span class="default">$substringflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$removeblanksflag</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">) 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;&amp; (</span><span class="default">$substringflag </span><span class="keyword">|| </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filterfor</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;&amp; !(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)==</span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$removeblanksflag</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$array1 </span><span class="keyword">= array (</span><span class="string">'the OtHeR thang'</span><span class="keyword">,</span><span class="string">'this'</span><span class="keyword">, </span><span class="string">'that'</span><span class="keyword">, </span><span class="string">'OtHer'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">101</span><span class="keyword">, </span><span class="string">'fifty'</span><span class="keyword">, </span><span class="string">' oTher'</span><span class="keyword">, </span><span class="string">'otHer '</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'other'</span><span class="keyword">,</span><span class="string">'Other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">'other blank things'</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"&lt;pre&gt;array :\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"array_delete(\$array1, \"Other\"):\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"array_delete2(\$array1, \"Other\"):\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"array_delete2(\$array1, \"Other\",1):\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"array_delete3(\$array1, \"Other\",1):\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete3</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"array_delete3(\$array1, \"Other\",0,1):\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br> </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42298">  
  <a class="name">
  <strong class="user"><em>Maxwel Leite</em></strong></a><div class="date" title="2004-05-11 08:17"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42298">
<div class="phpcode"><code><span class="html">
For any type of array. Basead in redshift code.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_clean </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$todelete </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$caseSensitive </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_clean</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$todelete</span><span class="keyword">, </span><span class="default">$caseSensitive</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$todelete</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$caseSensitive</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">,</span><span class="default">$todelete</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$todelete</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elseif (empty(</span><span class="default">$value</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111862">  
  <a class="name">
  <strong class="user"><em>espertalhao04 at hotmail dot com</em></strong></a><div class="date" title="2013-04-05 11:58"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111862">
<div class="phpcode"><code><span class="html">
breich at reich-consulting dot net&nbsp; made an awesome function, but it has a poor performance, and is bloated.<br><br>here is a shorter version:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_remove_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$keys </span><span class="keyword">= array(), </span><span class="default">$callback</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) { <br>&nbsp; &nbsp; if(empty(</span><span class="default">$array</span><span class="keyword">) || (! </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))) { <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">; <br>&nbsp; &nbsp; } <br><br>&nbsp; &nbsp; if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">,</span><span class="default">$keys</span><span class="keyword">)))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$keys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$key</span><span class="keyword">=</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">,</span><span class="string">' '</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">$callback </span><span class="keyword">|| !</span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">],</span><span class="default">$key</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br>&nbsp; &nbsp; } <br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">; <br>}<br></span><span class="default">?&gt;<br></span><br>i decided to let here stay 2 conditions, even though they can be rewritten to 1.<br><br>unsetting is faster than array_diff_keys.<br><br>sometimes, people separate strings like 'a, b, c' or 'a , b , c'...<br><br>i added support for those, since they are essentially the same list.<br><br>i also added a callback option, which you specify a function and it will give the value and the key to it.<br><br>p.s.: php uses short-circuit evaluation. example:<br>!$callback || !$callback($array[$key],$key)<br><br>if $callback is empty, it doesn't try to run $callback().<br>why?<br>because !$callback || !$callback($array[$key],$key) will be true, no matter the value of !$callback().<br>so, to save resources and time, php jumps if !$callback is true</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24477">  
  <a class="name">
  <strong class="user"><em>ajohnson at speakeasy dot org</em></strong></a><div class="date" title="2002-08-17 01:04"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24477">
<div class="phpcode"><code><span class="html">
I was looking for a function to delete values from an array and thought I had found it in array_filter(), however, I *didn't* want the keys to be preserved *and* I needed blank values cleaned out of the array as well. I came up with the following (with help from many of the above examples):
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">){
<br>&nbsp; </span><span class="default">$thisarray </span><span class="keyword">= array ();
<br>&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; if(</span><span class="default">stristr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$filterfor</span><span class="keyword">)===</span><span class="default">false </span><span class="keyword">&amp;&amp; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$thisarray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;
<br>&nbsp; return </span><span class="default">$thisarray</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$array1 </span><span class="keyword">= array (</span><span class="string">'OtHeR'</span><span class="keyword">,</span><span class="string">'this'</span><span class="keyword">, </span><span class="string">'that'</span><span class="keyword">, </span><span class="string">'Other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">101</span><span class="keyword">, </span><span class="string">'fifty'</span><span class="keyword">, </span><span class="string">'other'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"&lt;pre&gt;array :\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);
<br>
<br></span><span class="default">$array2</span><span class="keyword">=</span><span class="default">array_delete</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="string">"Other"</span><span class="keyword">);
<br>
<br>echo </span><span class="string">"filtered:\n"</span><span class="keyword">;
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52256">  
  <a class="name">
  <strong class="user"><em>xert</em></strong></a><div class="date" title="2005-04-26 05:14"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52256">
<div class="phpcode"><code><span class="html">
According to a simple test with array_filter($array) and array_diff($array, array('')) is array_filter 2.5 times faster than array_diff when deleting empty entries.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.array-filter.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:36 GMT -->


</body></html>