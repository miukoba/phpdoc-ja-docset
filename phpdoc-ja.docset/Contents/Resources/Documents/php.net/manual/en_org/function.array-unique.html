<html><!-- Mirrored from php.net/manual/en/function.array-unique.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:56 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>array_unique</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.array-unique.html">
 <link rel="shorturl" href="http://php.net/array-unique">
 <link rel="alternate" href="http://php.net/array-unique" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.array.html">
 <link rel="prev" href="function.array-uintersect.html">
 <link rel="next" href="function.array-unshift.html">

 <link rel="alternate" href="function.array-unique.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.array-unique.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.array-unique.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.array-unique.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.array-unique.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.array-unique.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.array-unique.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.array-unique.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.array-unique.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.array-unique.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.array-unique.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></li>      <li><a href="book.array.html">Arrays</a></li>      <li><a href="ref.array.html">Array Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.array-unique" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_unique</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5)</p><p class="refpurpose"><span class="refname">array_unique</span> â€” <span class="dc-title">Removes duplicate values from an array</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.array-unique-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>array_unique</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$sort_flags</code><span class="initializer"> = SORT_STRING</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Takes an input <code class="parameter">array</code> and returns a new array
   without duplicate values.
  </p>
  <p class="para">
   Note that keys are preserved. <span class="function"><strong>array_unique()</strong></span> sorts
   the values treated as string at first, then will keep the first key
   encountered for every value, and ignore all following keys. It does not
   mean that the key of the first related value from the unsorted
   <code class="parameter">array</code> will be kept.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Two elements are considered equal if and only if
    <em>(string) $elem1 === (string) $elem2</em> i.e. 
    when the string representation is the same, the first element will be used.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-unique-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       The input array.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">sort_flags</code></dt>

     <dd>

      <p class="para">
       The optional second parameter <code class="parameter">sort_flags</code>
       may be used to modify the sorting behavior using these values:
      </p>
      <p class="para">
       Sorting type flags:
       </p><ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_REGULAR</code></strong> - compare items normally
         (don't change types)</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_NUMERIC</code></strong> - compare items numerically</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_STRING</code></strong> - compare items as strings</span>
        </li>
        <li class="listitem">
         <span class="simpara"><strong><code>SORT_LOCALE_STRING</code></strong> - compare items as
          strings, based on the current locale.
         </span>
        </li>
       </ul>
      <p></p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-unique-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the filtered array.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.array-unique-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.10</td>
       <td>
        Changed the default value of <code class="parameter">sort_flags</code> back to
        <strong><code>SORT_STRING</code></strong>.
       </td>
      </tr>

      <tr>
       <td>5.2.9</td>
       <td>
        Added the optional <code class="parameter">sort_flags</code> defaulting
        to <strong><code>SORT_REGULAR</code></strong>. Prior to 5.2.9, this function used to sort
        the array with <strong><code>SORT_STRING</code></strong> internally.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-unique-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-5111">
    <p><strong>Example #1 <span class="function"><strong>array_unique()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"blue"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Array
(
    [a] =&gt; green
    [0] =&gt; red
    [1] =&gt; blue
)
</pre></div>
    </div>
   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-5112">
    <p><strong>Example #2 <span class="function"><strong>array_unique()</strong></span> and types</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$input&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"4"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"3"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"3"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>array(2) {
  [0] =&gt; int(4)
  [2] =&gt; string(1) "3"
}
</pre></div>
    </div>
   </div>
  <p></p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.array-unique-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-count-values.html" class="function" rel="rdfs-seeAlso">array_count_values()</a> - Counts all the values of an array</span></li>
   </ul>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-unique-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Note that <span class="function"><strong>array_unique()</strong></span> is not intended to 
    work on multi dimensional arrays.
   </span>
  </p></blockquote>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="98453">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2010-06-16 05:46"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98453">
<div class="phpcode"><code><span class="html">
It's often faster to use a foreache and array_keys than array_unique:
<br>
<br>&nbsp; &nbsp; <span class="default">&lt;?php
<br>
<br>&nbsp; &nbsp; $max </span><span class="keyword">= </span><span class="default">1000000</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$arr2 </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">$arr2</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= -</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$res1 </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">+= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; echo </span><span class="string">"deduped to "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$res1</span><span class="keyword">).</span><span class="string">" in "</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="comment">// deduped to 666667 in 32.300781965256
<br>
<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= -</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$res2 </span><span class="keyword">= array();
<br>&nbsp; &nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">) {&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res2</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$res2 </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$res2</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">+= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);
<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;br /&gt;deduped to "</span><span class="keyword">.</span><span class="default">count</span><span class="keyword">(</span><span class="default">$res2</span><span class="keyword">).</span><span class="string">" in "</span><span class="keyword">.</span><span class="default">$time</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="comment">// deduped to 666667 in 0.84372591972351
<br>
<br>&nbsp; &nbsp; </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78801">  
  <a class="name">
  <strong class="user"><em>mnbayazit</em></strong></a><div class="date" title="2007-10-28 02:18"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78801">
<div class="phpcode"><code><span class="html">
case insensitive<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="default">array_intersect_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">array_unique</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)));<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70786">  
  <a class="name">
  <strong class="user"><em>Ome_Henk</em></strong></a><div class="date" title="2006-10-27 12:16"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70786">
<div class="phpcode"><code><span class="html">
For people looking at the flip flip method for getting unique values in a simple array. This is the absolute fastest method:
<br>
<br><span class="default">&lt;?php
<br>$unique </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>It's marginally faster as:
<br><span class="default">&lt;?php
<br>$unique </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));
<br></span><span class="default">?&gt;
<br></span>
<br>And it's marginally slower as:
<br><span class="default">&lt;?php
<br>$unique array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)); </span><span class="comment">// leaves gaps
<br></span><span class="default">?&gt;
<br></span>
<br>It's still about twice as fast or fast as array_unique.
<br>
<br>This tested on several different machines with 100000 random arrays. All machines used a version of PHP5.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97285">  
  <a class="name">
  <strong class="user"><em>regeda at inbox dot ru</em></strong></a><div class="date" title="2010-04-12 08:11"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97285">
<div class="phpcode"><code><span class="html">
recursive array unique for multiarrays<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">super_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">"unserialize"</span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">"serialize"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)));<br><br>&nbsp; foreach (</span><span class="default">$result </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br>&nbsp; {<br>&nbsp; &nbsp; if ( </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) )<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">super_unique</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; }<br><br>&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106480">  
  <a class="name">
  <strong class="user"><em>gma (at) qoob (dot) gr</em></strong></a><div class="date" title="2011-11-12 10:07"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom106480">
<div class="phpcode"><code><span class="html">
Lets say that you want to capture unique values from multidimensional arrays and flatten them in 0 depth. 
<br>
<br>i.e. 
<br><span class="default">&lt;?php
<br>$tmp </span><span class="keyword">= array( </span><span class="string">'a' </span><span class="keyword">=&gt; array( </span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4 </span><span class="keyword">), </span><span class="string">'b' </span><span class="keyword">=&gt; array( </span><span class="string">'c' </span><span class="keyword">=&gt; array( </span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7 </span><span class="keyword">) ) );
<br></span><span class="default">?&gt;
<br></span>
<br>will return with array_flat( $tmp ) --&gt; array( 1,2,3,4,5,6,7 );
<br>
<br>I hope that the function will help someone
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * @params&nbsp; &nbsp; &nbsp; : $a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the recursion array
<br> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $s&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; storage array 
<br> *&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : $l&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; integer&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the depth level
<br> *
<br> */
<br></span><span class="keyword">if( !</span><span class="default">function_exists</span><span class="keyword">( </span><span class="string">'array_flat' </span><span class="keyword">) )
<br>{
<br>&nbsp; &nbsp; function </span><span class="default">array_flat</span><span class="keyword">( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$s </span><span class="keyword">= array( ), </span><span class="default">$l </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># check if this is an array
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">) )&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$s</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># go through the array values
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach( </span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v </span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># check if the contained values are arrays
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$v </span><span class="keyword">) )
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># store the value
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s</span><span class="keyword">[ ]&nbsp; &nbsp; &nbsp;&nbsp; = </span><span class="default">$v</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># move to the next node
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">continue;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># increment depth level
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$l</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># replace the content of stored values
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">array_flat</span><span class="keyword">( </span><span class="default">$v</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># decrement depth level
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$l</span><span class="keyword">--;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># get only unique values
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if( </span><span class="default">$l </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) </span><span class="default">$s </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">( </span><span class="default">array_unique</span><span class="keyword">( </span><span class="default">$s </span><span class="keyword">) );
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment"># return stored values
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$s</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; } </span><span class="comment"># end of function array_flat( ...
<br>&nbsp; &nbsp; 
<br></span><span class="keyword">}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95203">  
  <a class="name">
  <strong class="user"><em>amri [ at t] dhstudio dot eu</em></strong></a><div class="date" title="2009-12-18 02:36"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95203">
<div class="phpcode"><code><span class="html">
I searched how to show only the duplicate elements from array, but failed. 
<br>Here is my solution:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">arrayDuplicate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)
<br>{
<br>return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_diff_assoc</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">,</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">)));
<br>};
<br></span><span class="default">?&gt;
<br></span>
<br>Example:
<br><span class="default">&lt;?php
<br>$arr1 </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,
<br></span><span class="string">'baz'</span><span class="keyword">, </span><span class="string">'bat'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'plugh'</span><span class="keyword">,
<br></span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'foobar'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'plonk'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,
<br></span><span class="string">'apples'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'oranges'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">,
<br></span><span class="string">'pears'</span><span class="keyword">,</span><span class="string">'foobar'</span><span class="keyword">);
<br>
<br></span><span class="default">$result</span><span class="keyword">=</span><span class="default">arrayDuplicate</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">);
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);exit;
<br></span><span class="default">?&gt;
<br></span>
<br>Output:
<br>
<br>Array
<br>(
<br>[4] =&gt; xyzzy
<br>[12] =&gt; |
<br>[16] =&gt; &amp;
<br>[21] =&gt; foobar
<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81513">  
  <a class="name">
  <strong class="user"><em>Ray dot Paseur at SometimesUsesGmail dot com</em></strong></a><div class="date" title="2008-03-01 07:46"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81513">
<div class="phpcode"><code><span class="html">
I needed to identify email addresses in a data table that were replicated, so I wrote the array_not_unique() function:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">array_not_unique</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$dupes </span><span class="keyword">= array();<br>&nbsp; &nbsp; </span><span class="default">natcasesort</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">reset </span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="default">$old_key&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$old_value&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; foreach (</span><span class="default">$raw_array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$value </span><span class="keyword">=== </span><span class="default">NULL</span><span class="keyword">) { continue; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$old_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">$old_key</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$old_value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]&nbsp; &nbsp; &nbsp; &nbsp; = </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$old_value&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$old_key&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>return </span><span class="default">$dupes</span><span class="keyword">;<br>}<br><br></span><span class="default">$raw_array&nbsp; &nbsp;&nbsp; </span><span class="keyword">= array();<br></span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'abc@xyz.com'</span><span class="keyword">;<br></span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'def@xyz.com'</span><span class="keyword">;<br></span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'ghi@xyz.com'</span><span class="keyword">;<br></span><span class="default">$raw_array</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="string">'abc@xyz.com'</span><span class="keyword">; </span><span class="comment">// Duplicate<br><br></span><span class="default">$common_stuff&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">array_not_unique</span><span class="keyword">(</span><span class="default">$raw_array</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$common_stuff</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90405">  
  <a class="name">
  <strong class="user"><em>Ultimater at gmail dot com</em></strong></a><div class="date" title="2009-04-20 06:26"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90405">
<div class="phpcode"><code><span class="html">
Let's say you have
<br><span class="default">&lt;?php
<br>$v</span><span class="keyword">=array(</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">);
<br>if(</span><span class="default">$v</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] &amp;&amp; </span><span class="default">$v</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] &amp;&amp; </span><span class="default">$v</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]==</span><span class="default">$v</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])
<br>echo </span><span class="string">"Y"</span><span class="keyword">; else echo </span><span class="string">"N"</span><span class="keyword">;</span><span class="comment">//Y
<br></span><span class="default">?&gt;
<br></span>
<br>It works but the if-statement gets a bit messy if the number of array elements gets massive.
<br>I find it is easier to use array_unique like so:
<br><span class="default">&lt;?php
<br>$v</span><span class="keyword">=array(</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">);
<br>echo </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">))==</span><span class="default">1</span><span class="keyword">?</span><span class="string">"Y"</span><span class="keyword">:</span><span class="string">"N"</span><span class="keyword">;</span><span class="comment">//Y
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105169">  
  <a class="name">
  <strong class="user"><em>Friendly Code</em></strong></a><div class="date" title="2011-08-01 03:48"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom105169">
<div class="phpcode"><code><span class="html">
I required a function that removed a specific duplicate entry from an array and ignoring all others so came up with this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">specified_array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$array_key </span><span class="keyword">=&gt; </span><span class="default">$array_value</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) &amp;&amp; (</span><span class="default">$array_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) )
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$array_key</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$array_value </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">) </span><span class="default">$count</span><span class="keyword">++;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">array_filter</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95173">  
  <a class="name">
  <strong class="user"><em>Youssef Omar</em></strong></a><div class="date" title="2009-12-16 11:09"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom95173">
<div class="phpcode"><code><span class="html">
This is how to merge 2 comma separated lists with unique value only.<br><br><span class="default">&lt;?php<br>&nbsp; $list1 </span><span class="keyword">= </span><span class="string">"4444, 5555, 6666"</span><span class="keyword">;<br>&nbsp; </span><span class="default">$list2 </span><span class="keyword">= </span><span class="string">"4444, 5555, 7777"</span><span class="keyword">;<br><br>&nbsp; </span><span class="comment">// combine both lists with unique values only<br>&nbsp; </span><span class="default">$list3 </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"," </span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">,</span><span class="default">$list1</span><span class="keyword">),</span><span class="default">explode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$list2</span><span class="keyword">))));<br><br>&nbsp; echo </span><span class="default">$list3</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>The result is: 4444,5555,6666,7777</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113889">  
  <a class="name">
  <strong class="user"><em>mostafatalebi at rocketmail dot com</em></strong></a><div class="date" title="2013-12-13 02:38"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113889">
<div class="phpcode"><code><span class="html">
if you fine the need to get a sorted array without it preserving the keys, use this code which has worked for me:<br><br>$array = array("hello", "fine", "good", "fine", "hello", "bye");<br><br>$get_sorted_unique_array = array_values(array_unique($array));<br><br>// the above code returns an array which is both unique and sorted from zero.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89519">  
  <a class="name">
  <strong class="user"><em>inithello at gmail dot com</em></strong></a><div class="date" title="2009-03-11 11:47"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89519">
<div class="phpcode"><code><span class="html">
I noticed there was no way to tell array_unique() to ignore certain duplicated keys, so I wrote the following. I imagine there's half a dozen more efficient ways to do this, but here goes:<br><br><span class="default">&lt;?php<br>$array </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'baz'</span><span class="keyword">, </span><span class="string">'bat'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'plugh'</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'foobar'</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'plonk'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'apples'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, </span><span class="string">'oranges'</span><span class="keyword">, </span><span class="string">'xyzzy'</span><span class="keyword">, <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'pears'</span><span class="keyword">);<br><br></span><span class="default">$ignore_values </span><span class="keyword">= array(</span><span class="string">'|'</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">);<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">make_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$ignore_values</span><span class="keyword">));<br><br>function </span><span class="default">make_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$ignore</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; while(</span><span class="default">$values </span><span class="keyword">= </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$ignore</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$dupes </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$dupes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$dupes </span><span class="keyword">as </span><span class="default">$rmv</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$rmv</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>OUTPUT:<br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; foo<br>&nbsp; &nbsp; [1] =&gt; bar<br>&nbsp; &nbsp; [2] =&gt; xyzzy<br>&nbsp; &nbsp; [3] =&gt; &amp;<br>&nbsp; &nbsp; [5] =&gt; baz<br>&nbsp; &nbsp; [6] =&gt; bat<br>&nbsp; &nbsp; [7] =&gt; |<br>&nbsp; &nbsp; [9] =&gt; plugh<br>&nbsp; &nbsp; [11] =&gt; foobar<br>&nbsp; &nbsp; [12] =&gt; |<br>&nbsp; &nbsp; [13] =&gt; plonk<br>&nbsp; &nbsp; [15] =&gt; apples<br>&nbsp; &nbsp; [16] =&gt; &amp;<br>&nbsp; &nbsp; [18] =&gt; oranges<br>&nbsp; &nbsp; [20] =&gt; pears<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77743">  
  <a class="name">
  <strong class="user"><em>xjazey at hotmail dot com</em></strong></a><div class="date" title="2007-09-11 11:50"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77743">
<div class="phpcode"><code><span class="html">
This is a solution to remove duplicate values from an array<br><br><span class="default">&lt;?php<br><br>$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br></span><span class="default">$array</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"Green"</span><span class="keyword">;<br></span><span class="default">$array</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br></span><span class="default">$array</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"Blue"</span><span class="keyword">;<br></span><span class="default">$array</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="string">"Yellow"</span><span class="keyword">;<br><br></span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br><br></span><span class="comment">//$array will output Yellow Green Blue<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="63819">  
  <a class="name">
  <strong class="user"><em>agarcia at rsn dot com dot co</em></strong></a><div class="date" title="2006-03-31 12:41"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom63819">
<div class="phpcode"><code><span class="html">
This is a script for multi_dimensional arrays
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">remove_dup</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$aux_ini</span><span class="keyword">=array();
<br>&nbsp; &nbsp; </span><span class="default">$entrega</span><span class="keyword">=array();
<br>&nbsp; &nbsp; for(</span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">);</span><span class="default">$n</span><span class="keyword">++)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$aux_ini</span><span class="keyword">[]=</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$mat</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$aux_ini</span><span class="keyword">);
<br>&nbsp; &nbsp; for(</span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$matriz</span><span class="keyword">);</span><span class="default">$n</span><span class="keyword">++)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$entrega</span><span class="keyword">[]=</span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$entrega</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79920">  
  <a class="name">
  <strong class="user"><em>php_array_unique [at] peterwarnock.com</em></strong></a><div class="date" title="2007-12-19 11:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom79920">
<div class="phpcode"><code><span class="html">
To clarify the note above Example #1, the function appears to cast the elements to strings for comparison and then return the type of the first unique element encountered.&nbsp; <br><br><span class="default">&lt;?php<br>$input </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">"9"</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">);<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>array(4) {<br>&nbsp; [0]=&gt;<br>&nbsp; int(0)<br>&nbsp; [1]=&gt;<br>&nbsp; int(2)<br>&nbsp; [3]=&gt;<br>&nbsp; int(3)<br>&nbsp; [4]=&gt;<br>&nbsp; string(1) "9"<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85320">  
  <a class="name">
  <strong class="user"><em>quecoder at gmail</em></strong></a><div class="date" title="2008-08-25 10:30"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85320">
<div class="phpcode"><code><span class="html">
another method to get unique values is :
<br>
<br><span class="default">&lt;?php
<br>$alpha</span><span class="keyword">=array(</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">,</span><span class="string">'c'</span><span class="keyword">,</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">,</span><span class="string">'d'</span><span class="keyword">,</span><span class="string">'e'</span><span class="keyword">,</span><span class="string">'f'</span><span class="keyword">,</span><span class="string">'f'</span><span class="keyword">);
<br>
<br></span><span class="default">$alpha</span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">));
<br>
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$alpha</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Output:
<br>Array ( [0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d [4] =&gt; e [5] =&gt; f )</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76769">  
  <a class="name">
  <strong class="user"><em>webmaster at jukkis dot net</em></strong></a><div class="date" title="2007-07-30 04:08"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76769">
<div class="phpcode"><code><span class="html">
Another way to 'unique column' an array, in this case an array of objects: <br>Keep the desired unique column values in a static array inside the callback function for array_filter.<br><br>Example:<br><span class="default">&lt;?php<br></span><span class="comment">/* example object */<br></span><span class="keyword">class </span><span class="default">myObj </span><span class="keyword">{<br>&nbsp; public </span><span class="default">$id</span><span class="keyword">;<br>&nbsp; public </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; function </span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$id</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$id</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br>&nbsp; }<br>}<br><br></span><span class="comment">/* callback function */<br></span><span class="keyword">function </span><span class="default">uniquecol</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">) {<br>&nbsp; static </span><span class="default">$idlist </span><span class="keyword">= array();<br><br>&nbsp; if ( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">id</span><span class="keyword">, </span><span class="default">$idlist </span><span class="keyword">) )<br>&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br><br>&nbsp; </span><span class="default">$idlist</span><span class="keyword">[] = </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">id</span><span class="keyword">;<br>&nbsp; return </span><span class="default">true</span><span class="keyword">;&nbsp; &nbsp; <br>}<br><br></span><span class="comment">/* a couple of arrays with second array having an element with same id as the first */<br></span><span class="default">$list&nbsp; </span><span class="keyword">= array( new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">1&nbsp; </span><span class="keyword">), new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">2</span><span class="keyword">, </span><span class="default">100 </span><span class="keyword">) );<br></span><span class="default">$list2 </span><span class="keyword">= array( new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">1</span><span class="keyword">, </span><span class="default">10 </span><span class="keyword">), new </span><span class="default">myObj</span><span class="keyword">( </span><span class="default">3</span><span class="keyword">, </span><span class="default">100 </span><span class="keyword">) );<br></span><span class="default">$list3 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">( </span><span class="default">$list</span><span class="keyword">, </span><span class="default">$list2 </span><span class="keyword">);<br><br></span><span class="default">$unique </span><span class="keyword">= </span><span class="default">array_filter</span><span class="keyword">( </span><span class="default">$list3</span><span class="keyword">, </span><span class="string">'uniquecol' </span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$list3 </span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$unique </span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>In addition, use array_merge( $unique ) to reindex.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43114">  
  <a class="name">
  <strong class="user"><em>csaba at alum dot mit dot edu</em></strong></a><div class="date" title="2004-06-09 07:17"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43114">
<div class="phpcode"><code><span class="html">
The following is an efficient, adaptable implementation of array_unique which always retains the first key having a given value:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_unique2</span><span class="keyword">(&amp;</span><span class="default">$aray</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$aHash </span><span class="keyword">= array();
<br>&nbsp; &nbsp; foreach (</span><span class="default">$aray </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$val</span><span class="keyword">) if (@</span><span class="default">$aHash</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">]++) unset (</span><span class="default">$aray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>It is also adaptable to multi dimensional arrays.&nbsp; For example, if your array is a sequence of (multidimensional) points, then in place of @$aHash[$val]++ you could use @$aHash[implode("X",$val)]++
<br>If you want to not have holes in your array, you can do an array_merge($aray) at the end.
<br>
<br>Csaba Gabor</span>
</code></div>
  </div>
 </div>
  <div class="note" id="16802">  
  <a class="name">
  <strong class="user"><em>spunk at dasspunk dot NOSPAM dot com</em></strong></a><div class="date" title="2001-11-14 04:52"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom16802">
<div class="phpcode"><code><span class="html">
I needed a way of retaining the original array's keys in the new, unique array. I came up with this. It works for my purposes but may need refinement.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">my_array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">); 
<br>&nbsp; &nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$currentarrayvar </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">); 
<br>&nbsp; &nbsp; foreach (</span><span class="default">$somearray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$var</span><span class="keyword">) 
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">next</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">) != </span><span class="default">$currentarrayvar</span><span class="keyword">) 
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$uniquearray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$currentarrayvar</span><span class="keyword">; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$currentarrayvar </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; } 
<br>&nbsp; &nbsp; } 
<br>&nbsp; &nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$uniquearray</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">$uniquearray</span><span class="keyword">; 
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115334">  
  <a class="name">
  <strong class="user"><em>Carlos Acedo</em></strong></a><div class="date" title="2014-07-07 09:43"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom115334">
<div class="phpcode"><code><span class="html">
I have been testing and I found that <span class="default">&lt;?php array_keys</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)); </span><span class="default">?&gt;</span> is quite faster than <span class="default">&lt;?php array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113870">  
  <a class="name">
  <strong class="user"><em>Felipe CWB</em></strong></a><div class="date" title="2013-12-11 04:48"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113870">
<div class="phpcode"><code><span class="html">
array_unique only compares with the string,<br>But to compare with various types of variables I used like this:<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br>* master ArrayUnique<br>* now compare all types<br>* @param array $array<br>* @return array<br>*/<br></span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k2 </span><span class="keyword">=&gt; </span><span class="default">$v2</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((</span><span class="default">$v2 </span><span class="keyword">== </span><span class="default">$v</span><span class="keyword">) &amp;&amp; (</span><span class="default">$k </span><span class="keyword">!= </span><span class="default">$k2</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br>}<br><br></span><span class="default">$a </span><span class="keyword">= [];<br><br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Bob'</span><span class="keyword">];<br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Peter'</span><span class="keyword">];<br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Jhon'</span><span class="keyword">];<br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'James'</span><span class="keyword">];<br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'David'</span><span class="keyword">];<br></span><span class="default">$a</span><span class="keyword">[] = (object)[</span><span class="string">'nome' </span><span class="keyword">=&gt; </span><span class="string">'Bob'</span><span class="keyword">]; </span><span class="comment">// repeated<br><br></span><span class="keyword">if (</span><span class="default">$a</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] == </span><span class="default">$a</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">]) { </span><span class="comment">// true<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">'yes'</span><span class="keyword">;<br>} else {<br>&nbsp; &nbsp; echo </span><span class="string">'not'</span><span class="keyword">;<br>}<br><br>echo </span><span class="string">"\n\n"</span><span class="keyword">;<br><br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111814">  
  <a class="name">
  <strong class="user"><em>yosef_cool_ha at hotmail dot com</em></strong></a><div class="date" title="2013-03-31 09:45"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom111814">
<div class="phpcode"><code><span class="html">
if you wish to unique the arrays recusively(multi dimensional) no matter how deep hope this function can help you:<br><br>function array_unique_recusive($arr){<br>foreach($arr as $key=&gt;$value)<br>if(gettype($value)=='array')<br>&nbsp; &nbsp; $arr[$key]=array_unique_recusive($value);<br>return array_unique($arr,SORT_REGULAR);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108421">  
  <a class="name">
  <strong class="user"><em>sashasimkin at gmail dot com</em></strong></a><div class="date" title="2012-04-25 01:26"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108421">
<div class="phpcode"><code><span class="html">
My object unique function:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">object_unique</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$objArray </span><span class="keyword">= (array) </span><span class="default">$obj</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$objArray </span><span class="keyword">= </span><span class="default">array_intersect_assoc</span><span class="keyword">( </span><span class="default">array_unique</span><span class="keyword">( </span><span class="default">$objArray </span><span class="keyword">), </span><span class="default">$objArray </span><span class="keyword">);<br><br>&nbsp; &nbsp; foreach( </span><span class="default">$obj </span><span class="keyword">as </span><span class="default">$n </span><span class="keyword">=&gt; </span><span class="default">$f </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if( !</span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="default">$n</span><span class="keyword">, </span><span class="default">$objArray </span><span class="keyword">) ) unset( </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">$n </span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; return </span><span class="default">$obj</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>And these code:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">Test</span><span class="keyword">{<br>&nbsp; &nbsp; public </span><span class="default">$pr0 </span><span class="keyword">= </span><span class="string">'string'</span><span class="keyword">;<br>&nbsp; &nbsp; public </span><span class="default">$pr1 </span><span class="keyword">= </span><span class="string">'string1'</span><span class="keyword">;<br>&nbsp; &nbsp; public </span><span class="default">$pr2 </span><span class="keyword">= </span><span class="string">'string'</span><span class="keyword">;<br>&nbsp; &nbsp; public </span><span class="default">$pr3 </span><span class="keyword">= </span><span class="string">'string2'</span><span class="keyword">;<br>}<br><br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">;<br><br></span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">object_unique</span><span class="keyword">( </span><span class="default">$obj </span><span class="keyword">) );<br></span><span class="default">?&gt;<br></span><br>returns:<br>object(Test)[1]<br>&nbsp; public 'pr0' =&gt; string 'string' (length=6)<br>&nbsp; public 'pr1' =&gt; string 'string1' (length=7)<br>&nbsp; public 'pr3' =&gt; string 'string2' (length=7)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98501">  
  <a class="name">
  <strong class="user"><em>michiel ed thalent nl</em></strong></a><div class="date" title="2010-06-18 05:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98501">
<div class="phpcode"><code><span class="html">
If you use SORT_NUMERIC on this kind of filtering it will be significantly faster.
<br>However the array_flip method still is twice as fast.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96396">  
  <a class="name">
  <strong class="user"><em>brendel at krumedia dot de</em></strong></a><div class="date" title="2010-02-24 11:47"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom96396">
<div class="phpcode"><code><span class="html">
Prior to 5.2.9 you may create a list of unique objects this way:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">for (; ; ) {
<br>&nbsp; </span><span class="comment">// ...
<br>&nbsp; </span><span class="default">$uniqueObjectList</span><span class="keyword">[</span><span class="default">spl_object_hash</span><span class="keyword">(</span><span class="default">$myObject</span><span class="keyword">)] = </span><span class="default">$myObject</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90614">  
  <a class="name">
  <strong class="user"><em>dirk dot avery a t gmail</em></strong></a><div class="date" title="2009-04-30 08:45"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom90614">
<div class="phpcode"><code><span class="html">
Although array_unique is not intended to work with multi-dimensional arrays, it does on 5.2.9.&nbsp; However, it does not for 5.2.5.&nbsp; Beware.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88769">  
  <a class="name">
  <strong class="user"><em>serg dot podtynnyi at gmail dot com</em></strong></a><div class="date" title="2009-02-06 11:21"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88769">
<div class="phpcode"><code><span class="html">
//Remove duplicates from a text files and dump result in one file for example: emails list, links list etc
<br>
<br><span class="default">&lt;?php
<br>
<br>$data1 </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="string">"data1.txt"</span><span class="keyword">);
<br></span><span class="default">$data2 </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="string">"data2.txt"</span><span class="keyword">);
<br>
<br></span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">'unique.txt'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$data1</span><span class="keyword">,</span><span class="default">$data2</span><span class="keyword">))));
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86848">  
  <a class="name">
  <strong class="user"><em>jusvalceanu - SPAM at SPAM - yahoo dot com</em></strong></a><div class="date" title="2008-11-06 02:23"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86848">
<div class="phpcode"><code><span class="html">
so .... my problem was multidimensional sort.
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; &nbsp; $new </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$exclude </span><span class="keyword">= array(</span><span class="string">""</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]) ,</span><span class="default">$exclude</span><span class="keyword">)) { </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; </span><span class="default">$exclude</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]); }
<br>&nbsp; &nbsp; &nbsp; }
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Array $attribs is an array contaning arrays. Each array in the $attrib array consists in multiple fields (ex: name, lenght, price, etc.) to be more simpler in speech think that $attrib is the array resulted by a search sql query done by a visitator on your online shoopping website ... (so ... each array in the $attrib is a product :P) if you want to sort only the uniq results use the above or use this:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; 
<br>&nbsp;&nbsp; </span><span class="comment">/* Our Array of products */
<br>&nbsp;&nbsp; </span><span class="default">$attribs</span><span class="keyword">[] = array(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"name"&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Test Product 1"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"length"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"42 cm"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"weight"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"0,5 kg"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"price"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"10 $"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"stock"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"100"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );
<br>
<br>&nbsp;&nbsp; </span><span class="default">$attribs</span><span class="keyword">[] = array(
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"name"&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Test Product 2"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"length"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"42 cm"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"weight"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"1,5 kg"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"price"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"10 $"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"stock"&nbsp; &nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"200"</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );
<br>
<br>&nbsp; &nbsp; </span><span class="comment">/* The nice stuff */
<br>
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$new </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$exclude </span><span class="keyword">= array(</span><span class="string">""</span><span class="keyword">); 
<br>&nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]) ,</span><span class="default">$exclude</span><span class="keyword">)) { </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]; </span><span class="default">$exclude</span><span class="keyword">[] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">"price"</span><span class="keyword">]); }
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">); </span><span class="comment">// $new is our sorted array
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>Have fun tweaking this ;)) i know you will ;))
<br>
<br>From Romania With Love</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112398">  
  <a class="name">
  <strong class="user"><em>bx16soupapes at gmail dot com</em></strong></a><div class="date" title="2013-06-11 07:55"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112398">
<div class="phpcode"><code><span class="html">
Another form to make an array unique (manual):<br><br>This is my array<br><br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 40665<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [1] =&gt; 40665<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [2] =&gt; 40665<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [3] =&gt; 40665<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [4] =&gt; 40666<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [5] =&gt; 40666<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [6] =&gt; 40666<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [7] =&gt; 40666<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [8] =&gt; 40667<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [9] =&gt; 40667<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [10] =&gt; 40667<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [11] =&gt; 40667<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [12] =&gt; 40667<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [13] =&gt; 40668<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14] =&gt; 40668<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [15] =&gt; 40668<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [16] =&gt; 40668<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [17] =&gt; 40668<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [18] =&gt; 40669<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [19] =&gt; 40669<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [20] =&gt; 40670<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [21] =&gt; 40670<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [22] =&gt; 40670<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [23] =&gt; 40670<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [24] =&gt; 40671<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [25] =&gt; 40671<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [26] =&gt; 40671<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [27] =&gt; 40671<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [28] =&gt; 40671<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [1] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 40672<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [1] =&gt; 40672<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [2] =&gt; 40672<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [3] =&gt; 40672<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>)<br><br>this is my script:<br><br>&nbsp; &nbsp; $anterior = 0;<br>&nbsp; &nbsp; foreach($item as $array_key =&gt; $array_value)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;li&gt;$array_key";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;ul&gt;";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($array_value as $xarray_key =&gt; $xarray_value){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if($xarray_value != $anterior) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;li&gt;$xarray_key =&gt; $xarray_value";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $item_nuevo[$array_key][] = $xarray_value;&nbsp; &nbsp; // or to use the same key number $item_nuevo[$array_key][$xarray_key] = $xarray_value;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $anterior = $xarray_value;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;/ul&gt;";&nbsp; &nbsp; <br>&nbsp; &nbsp; }&nbsp; &nbsp;&nbsp; <br><br>result:<br><br>0<br>&nbsp; &nbsp; 0 =&gt; 40665<br>&nbsp; &nbsp; 4 =&gt; 40666<br>&nbsp; &nbsp; 8 =&gt; 40667<br>&nbsp; &nbsp; 13 =&gt; 40668<br>&nbsp; &nbsp; 18 =&gt; 40669<br>&nbsp; &nbsp; 20 =&gt; 40670<br>&nbsp; &nbsp; 24 =&gt; 40671<br><br>1<br>&nbsp; &nbsp; 0 =&gt; 40672<br><br>saludos desde chile.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68157">  
  <a class="name">
  <strong class="user"><em>uditsawhney at yahoo dot com</em></strong></a><div class="date" title="2006-07-15 12:14"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68157">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br><br></span><span class="comment">//Fn for array_unique column-wise for multi-dimensioanl array without losing keys | Start<br></span><span class="keyword">function </span><span class="default">array_uniquecolumn</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$rows&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$columns </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$columnkeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>&nbsp; &nbsp; <br><br>&nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$columns</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$rows</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$k </span><span class="keyword">= </span><span class="default">$j</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">&lt;</span><span class="default">$rows</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] == </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]])<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">$columnkeys</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] = </span><span class="string">""</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; }<br><br>return (</span><span class="default">$arr</span><span class="keyword">);<br><br>}<br></span><span class="comment">//Fn for array_unique column-wise for multi-dimensioanl array without losing keys | Stop<br><br></span><span class="default">$arrUGCourse</span><span class="keyword">[]= array(&nbsp; </span><span class="string">"CTR" </span><span class="keyword">=&gt; </span><span class="string">"1"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"UGCOURSE"</span><span class="keyword">=&gt;</span><span class="string">"ABC"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"TSINITIATE"</span><span class="keyword">=&gt;</span><span class="string">"540"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"COUNT"</span><span class="keyword">=&gt;</span><span class="string">"34"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"ENTRY_DT"</span><span class="keyword">=&gt;</span><span class="string">"2006-05-01"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"CUMULATIVE"</span><span class="keyword">=&gt; </span><span class="default">44</span><span class="keyword">);<br><br> <br><br></span><span class="default">$arrUGCourse</span><span class="keyword">[]= array(&nbsp; </span><span class="string">"CTR" </span><span class="keyword">=&gt; </span><span class="string">"2"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"UGCOURSE"</span><span class="keyword">=&gt;</span><span class="string">"ABC"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"TSINITIATE"</span><span class="keyword">=&gt;</span><span class="string">"5401"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"COUNT"</span><span class="keyword">=&gt;</span><span class="string">"341"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"ENTRY_DT"</span><span class="keyword">=&gt;</span><span class="string">"2006-05-11"</span><span class="keyword">,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">"CUMULATIVE"</span><span class="keyword">=&gt; </span><span class="default">44</span><span class="keyword">);<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_uniquecolumn</span><span class="keyword">(</span><span class="default">$arrUGCourse</span><span class="keyword">));<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="61179">  
  <a class="name">
  <strong class="user"><em>mcmeijer at yahoo dot com</em></strong></a><div class="date" title="2006-01-27 05:18"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61179">
<div class="phpcode"><code><span class="html">
This is a recursive arrayUnique function for arrays of any dimension. (tested with 4-dimensional array)<br>The line '$newArray=deleteEmpty($newArray);' is optional and removes empty keys and values<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; </span><span class="default">$newArray </span><span class="keyword">= Array();<br>&nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$myArray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$val2 </span><span class="keyword">= </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$val2 </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newArray</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newArray</span><span class="keyword">=</span><span class="default">deleteEmpty</span><span class="keyword">(</span><span class="default">$newArray</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!empty(</span><span class="default">$val2</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val2</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; return (</span><span class="default">$newArray</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>function </span><span class="default">deleteEmpty</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; </span><span class="default">$retArray</span><span class="keyword">= Array();<br>&nbsp; &nbsp; foreach(</span><span class="default">$myArray </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if ((</span><span class="default">$key</span><span class="keyword">&lt;&gt;</span><span class="string">""</span><span class="keyword">) &amp;&amp; (</span><span class="default">$val</span><span class="keyword">&lt;&gt;</span><span class="string">""</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$retArray</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60323">  
  <a class="name">
  <strong class="user"><em>memandeemail at gmail dot com</em></strong></a><div class="date" title="2006-01-03 10:47"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60323">
<div class="phpcode"><code><span class="html">
Problem:
<br>I have loaded an array with the results of a database
<br>query.&nbsp; The Fields are 'FirstName' and 'LastName'.
<br>
<br>I would like to find a way to contactenate the two
<br>fields, and then return only unique values for the
<br>array.&nbsp; For example, if the database query returns
<br>three instances of a record with the FirstName John
<br>and the LastName Smith in two distinct fields, I would
<br>like to build a new array that would contain all the
<br>original fields, but with John Smith in it only once.
<br>Thanks for: Colin Campbell
<br>
<br>Solution:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * The same thing than implode function, but return the keys so
<br> *
<br> * &lt;code&gt;
<br> * $_GET = array('id' =&gt; '4587','with' =&gt; 'key');
<br> * ...
<br> * echo shared::implode_with_key('&amp;',$_GET,'='); // Resultado: id=4587&amp;with=key
<br> * ...
<br> * &lt;/code&gt;
<br> *
<br> * @param string $glue Oque colocar entre as chave =&gt; valor
<br> * @param array $pieces Valores
<br> * @param string $hifen Separar chave da array do valor
<br> * @return string
<br> * @author memandeemail at gmail dot com
<br> */
<br></span><span class="keyword">function </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$glue </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">, </span><span class="default">$hifen </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;
<br>&nbsp; foreach (</span><span class="default">$pieces </span><span class="keyword">as </span><span class="default">$tk </span><span class="keyword">=&gt; </span><span class="default">$tv</span><span class="keyword">) </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$glue</span><span class="keyword">.</span><span class="default">$tk</span><span class="keyword">.</span><span class="default">$hifen</span><span class="keyword">.</span><span class="default">$tv</span><span class="keyword">;
<br>&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);
<br>}
<br>
<br></span><span class="comment">/**
<br> * Return unique values from a tree of values
<br> *
<br> * @param array $array_tree
<br> * @return array
<br> * @author memandeemail at gmail dot com
<br> */
<br></span><span class="keyword">function </span><span class="default">array_unique_tree</span><span class="keyword">(</span><span class="default">$array_tree</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">$will_return </span><span class="keyword">= array(); </span><span class="default">$vtemp </span><span class="keyword">= array();
<br>&nbsp; foreach (</span><span class="default">$array_tree </span><span class="keyword">as </span><span class="default">$tkey </span><span class="keyword">=&gt; </span><span class="default">$tvalue</span><span class="keyword">) </span><span class="default">$vtemp</span><span class="keyword">[</span><span class="default">$tkey</span><span class="keyword">] = </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="string">'&amp;'</span><span class="keyword">,</span><span class="default">$tvalue</span><span class="keyword">,</span><span class="string">'='</span><span class="keyword">);
<br>&nbsp; foreach (</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$vtemp</span><span class="keyword">)) as </span><span class="default">$tvalue</span><span class="keyword">) </span><span class="default">$will_return</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">] = </span><span class="default">$array_tree</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">];
<br>&nbsp; return </span><span class="default">$will_return</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">$problem </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,
<br>array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'John'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'Smith'</span><span class="keyword">)
<br>);
<br>
<br></span><span class="default">$problem</span><span class="keyword">[] = array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'Davi'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'S. Mesquita'</span><span class="keyword">);
<br></span><span class="default">$problem</span><span class="keyword">[] = array(</span><span class="string">'FirstName' </span><span class="keyword">=&gt; </span><span class="string">'John'</span><span class="keyword">, </span><span class="string">'LastName' </span><span class="keyword">=&gt; </span><span class="string">'Tom'</span><span class="keyword">);
<br>
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$problem</span><span class="keyword">);
<br>
<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_unique_tree</span><span class="keyword">(</span><span class="default">$problem</span><span class="keyword">));
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49627">  
  <a class="name">
  <strong class="user"><em>trigger at e-mail dot ru</em></strong></a><div class="date" title="2005-02-03 02:53"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49627">
<div class="phpcode"><code><span class="html">
Just a simple implementation for JavaScript:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">thearray</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">thearray</span><span class="keyword">.</span><span class="default">sort</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="comment">//reset($thearray);
<br>&nbsp; &nbsp; </span><span class="default">newarray </span><span class="keyword">= new Array();
<br>&nbsp; &nbsp; for (</span><span class="default">n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">n</span><span class="keyword">&lt;</span><span class="default">thearray</span><span class="keyword">.</span><span class="default">length</span><span class="keyword">;</span><span class="default">n</span><span class="keyword">++)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">unique</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="comment">//by default
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">for(</span><span class="default">nn</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">nn</span><span class="keyword">&lt;</span><span class="default">newarray</span><span class="keyword">.</span><span class="default">length</span><span class="keyword">;</span><span class="default">nn</span><span class="keyword">++)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">thearray</span><span class="keyword">[</span><span class="default">n</span><span class="keyword">] == </span><span class="default">newarray</span><span class="keyword">[</span><span class="default">nn</span><span class="keyword">])
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">unique</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="comment">//already exists
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">unique</span><span class="keyword">)</span><span class="comment">//dont exists
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">newarray</span><span class="keyword">.</span><span class="default">push</span><span class="keyword">(</span><span class="default">thearray</span><span class="keyword">[</span><span class="default">n</span><span class="keyword">]);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">newarray</span><span class="keyword">;
<br> }
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43272">  
  <a class="name">
  <strong class="user"><em>wernerlistas at terra dot com dot br</em></strong></a><div class="date" title="2004-06-16 08:50"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43272">
<div class="phpcode"><code><span class="html">
Following the code copies of a little function I've wrote that actually works with multidimensional arrays.
<br>It also resets the array indexes.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if ( !</span><span class="default">function_exists</span><span class="keyword">( </span><span class="string">"arrayUnique" </span><span class="keyword">) ){
<br>&nbsp; &nbsp; function </span><span class="default">arrayUnique </span><span class="keyword">( </span><span class="default">$rArray </span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rReturn </span><span class="keyword">= array ();
<br>&nbsp; &nbsp; &nbsp; &nbsp; while ( list( </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val </span><span class="keyword">) = </span><span class="default">each </span><span class="keyword">( </span><span class="default">$rArray </span><span class="keyword">) ){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !</span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$val</span><span class="keyword">, </span><span class="default">$rReturn </span><span class="keyword">) )
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">( </span><span class="default">$rReturn</span><span class="keyword">, </span><span class="default">$val </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$rReturn</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="25428">  
  <a class="name">
  <strong class="user"><em>deigo at swirve dot NOSPAM dot com</em></strong></a><div class="date" title="2002-09-23 10:04"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom25428">
<div class="phpcode"><code><span class="html">
Before I found the mysql distinct I had to make a nicer array from the keys/values that I got from array_unique so.
<br>
<br><span class="default">&lt;?php
<br>$groups</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);
<br></span><span class="default">$newgroup</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);
<br>for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);</span><span class="default">$x</span><span class="keyword">++)
<br>{
<br>&nbsp; </span><span class="default">$newgroup</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]=</span><span class="default">next</span><span class="keyword">(</span><span class="default">$groups</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86210">  
  <a class="name">
  <strong class="user"><em>florian at box dot net</em></strong></a><div class="date" title="2008-10-08 01:29"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom86210">
<div class="phpcode"><code><span class="html">
I came across one limitation of array_unique: it doesn't work properly if you have arrays inside your main array.<br><br>The reason is that to compare two values, the function tests if (string) $value1 == (string) $value2. So if $value1 and $value2 are both arrays, the function will evaluate the test to 'Array' == 'Array', and decide that the $values are repeated even if the arrays are different.<br><br>So a work around is to find a better conversion of an array to a string, which can be done with json:<br><br><span class="default">&lt;?php<br></span><span class="keyword">print </span><span class="string">"define an array with repeated scalar '1' and repeated 'array(1)':"</span><span class="keyword">;<br></span><span class="default">$a_not_unique </span><span class="keyword">= array(<br>&nbsp; &nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'d' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">),<br>&nbsp; &nbsp; </span><span class="string">'e' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">),<br>&nbsp; &nbsp; </span><span class="string">'f' </span><span class="keyword">=&gt; array(</span><span class="default">2</span><span class="keyword">),<br>);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_not_unique</span><span class="keyword">);<br><br>print </span><span class="string">"try to use simply array_unique, which will not work since it exludes 'array(2)':"</span><span class="keyword">;<br></span><span class="default">$a_unique_wrong </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$a_not_unique</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_unique_wrong</span><span class="keyword">);<br><br>print </span><span class="string">"convert to json before applying array_unique, and convert back to array, which will successfully keep 'array(2)':"</span><span class="keyword">;<br></span><span class="default">$a_unique_right </span><span class="keyword">= </span><span class="default">$a_not_unique</span><span class="keyword">;<br></span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'&amp;$value,$key'</span><span class="keyword">, </span><span class="string">'$value = json_encode($value);'</span><span class="keyword">));<br></span><span class="default">$a_unique_right </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">);<br></span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">, </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'&amp;$value,$key'</span><span class="keyword">, </span><span class="string">'$value = json_decode($value, true);'</span><span class="keyword">));<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a_unique_right</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Results:<br>define an array with repeated scalar '1' and repeated 'array(1)':<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [b] =&gt; 1<br>&nbsp; &nbsp; [c] =&gt; 2<br>&nbsp; &nbsp; [d] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [e] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [f] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 2<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>)<br><br>try to use simply array_unique, which will not work since it exludes 'array(2)':<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [c] =&gt; 2<br>&nbsp; &nbsp; [d] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>)<br><br>convert to json before applying array_unique, and convert back to array, which will successfully keep 'array(2)':<br>Array<br>(<br>&nbsp; &nbsp; [a] =&gt; 1<br>&nbsp; &nbsp; [c] =&gt; 2<br>&nbsp; &nbsp; [d] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 1<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [f] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 2<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24831">  
  <a class="name">
  <strong class="user"><em>php at hp-site dot dk</em></strong></a><div class="date" title="2002-08-29 11:15"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom24831">
<div class="phpcode"><code><span class="html">
Try this:<br>array_flip(array_flip($array));<br><br>It gives the same result as the old array_unique()</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24818">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2002-08-29 02:39"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom24818">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br>$truc </span><span class="keyword">= array(</span><span class="string">"l810u00"</span><span class="keyword">,</span><span class="string">"l810u00"</span><span class="keyword">,</span><span class="string">"l810q00"</span><span class="keyword">); 
<br></span><span class="default">$machin </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$truc</span><span class="keyword">); 
<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$machin</span><span class="keyword">) ; </span><span class="default">$i</span><span class="keyword">++){ 
<br>print </span><span class="default">$machin</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"
<br>"</span><span class="keyword">; 
<br>} 
<br></span><span class="default">?&gt;</span> 
<br>result : 
<br>l810u00 
<br>
<br>This is not strange: $machin (as returned by array unique), contains "l810u00" either in key[0] or key[1] but not both (the key depends on the ersion of PHP), and "l810q00" in key[2].
<br>The returned array has TWO elements so count($machin)==2.
<br>The returned array has a hole in it, and you're not displaying its full content. You could verify it by using this display loop instead:
<br>foreach($machine as $key=&gt;$value){ 
<br>print '[' . $key . '] =&gt; ' . $value . '
<br>"; 
<br>} 
<br>result:
<br>[0] =&gt; l810q00
<br>[2] =&gt; l810u00
<br>(the first line may display [1] instead of [0] for PHP 4.0.1p3, but you'll get the same order of values and two lines, as expected). When calling array_values() on the result, you're building a new array with the same values in the same order, but with renumbered keys (without holes in numeric keys).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85109">  
  <a class="name">
  <strong class="user"><em>soapergem at gmail dot com</em></strong></a><div class="date" title="2008-08-14 02:39"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom85109">
<div class="phpcode"><code><span class="html">
Here's another solution for returning an array that only includes repeated values. There is one given below but it only works on numerically indexed arrays; this one is more comprehensive since I used the foreach iterator. Also, this one preserves keys--in that the returned result contains a distinct list of repeats (storing only the first instance it encounters of each duplicate value).
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">function </span><span class="default">array_repeated</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if ( !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$duplicates </span><span class="keyword">= array();
<br>&nbsp; &nbsp; foreach ( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; while ( </span><span class="default">$k </span><span class="keyword">!== </span><span class="default">$key </span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$v </span><span class="keyword">=== </span><span class="default">$val </span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$duplicates</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$duplicates</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84750">  
  <a class="name">
  <strong class="user"><em>Dorphalsig</em></strong></a><div class="date" title="2008-07-28 09:47"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84750">
<div class="phpcode"><code><span class="html">
I had a problem with array_unique and multidimensional arrays ... Maybe there's a better way to do this, but this will work for any dimensional arrays.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">arrayUnique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$myArray</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; foreach (</span><span class="default">$myArray </span><span class="keyword">as &amp;</span><span class="default">$myvalue</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$myvalue</span><span class="keyword">=</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$myvalue</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; </span><span class="default">$myArray</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; foreach (</span><span class="default">$myArray </span><span class="keyword">as &amp;</span><span class="default">$myvalue</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$myvalue</span><span class="keyword">=</span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$myvalue</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; return </span><span class="default">$myArray</span><span class="keyword">;
<br>
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83927">  
  <a class="name">
  <strong class="user"><em>ali at zkurd dot org</em></strong></a><div class="date" title="2008-06-19 01:41"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83927">
<div class="phpcode"><code><span class="html">
a lot of people create functions just to fix a notice error about an undefined index and removes blank array value.<br><br>why not using foreach instead of the for loop?<br><br>example:<br><span class="default">&lt;?php<br></span><span class="keyword">foreach (</span><span class="default">$arrayname </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">//do what you want with $value withaout index stress<br></span><span class="keyword">}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82508">  
  <a class="name">
  <strong class="user"><em>PHP Expert</em></strong></a><div class="date" title="2008-04-14 05:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82508">
<div class="phpcode"><code><span class="html">
case insensitive for PHP v4.x and up.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">in_iarray</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">){<br>foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">){<br>if(</span><span class="default">strcasecmp</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">){return </span><span class="default">true</span><span class="keyword">;}<br>}<br>return </span><span class="default">false</span><span class="keyword">;<br>}<br><br>function </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">){<br></span><span class="default">$n </span><span class="keyword">= array();<br>foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">){<br>if(!</span><span class="default">in_iarray</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">)){</span><span class="default">$n</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]=</span><span class="default">$v</span><span class="keyword">;}<br>}<br>return </span><span class="default">$n</span><span class="keyword">;<br>}<br><br></span><span class="default">$input </span><span class="keyword">= array(</span><span class="string">"aAa"</span><span class="keyword">,</span><span class="string">"bBb"</span><span class="keyword">,</span><span class="string">"cCc"</span><span class="keyword">,</span><span class="string">"AaA"</span><span class="keyword">,</span><span class="string">"ccC"</span><span class="keyword">,</span><span class="string">"ccc"</span><span class="keyword">,</span><span class="string">"CCC"</span><span class="keyword">,</span><span class="string">"bBB"</span><span class="keyword">,</span><span class="string">"AAA"</span><span class="keyword">,</span><span class="string">"XXX"</span><span class="keyword">);<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_iunique</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br><br></span><span class="comment">/*<br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; aAa<br>&nbsp; &nbsp; [1] =&gt; bBb<br>&nbsp; &nbsp; [2] =&gt; cCc<br>&nbsp; &nbsp; [9] =&gt; XXX<br>)<br>*/<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112473">  
  <a class="name">
  <strong class="user"><em>Tim S.</em></strong></a><div class="date" title="2013-06-20 07:14"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112473">
<div class="phpcode"><code><span class="html">
I had to write a bunch of results to an array with a high probability of duplicates.<br>The array was written to the file in chunks, using a for loop. It occurred to me that I often had blank lines in my file.<br><br>Because this function preserve keys, I had gaps in my numeric keys. If you don't want to preserve keys, like me, you can use the following function.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_unique_ignore_keys</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$sort_flags </span><span class="keyword">= </span><span class="default">SORT_STRING</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$sort_flags</span><span class="keyword">));<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8717">  
  <a class="name">
  <strong class="user"><em>jllamas at bal dot com dot mx</em></strong></a><div class="date" title="2000-09-25 09:25"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8717">
<div class="phpcode"><code><span class="html">
It seems that array_unique creates an exact copy of the original array and then elimitates duplicate values. It does NOT change the "internal references" of the array. For example:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; $test_alfa </span><span class="keyword">= array();
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] = </span><span class="string">"aa"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = </span><span class="string">"cc"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$test_alfa</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] = </span><span class="string">"bb"</span><span class="keyword">;
<br>&nbsp;&nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$test_beta</span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$test_alfa</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$numValues </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$test_beta</span><span class="keyword">);
<br>&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">7 </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>&nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"test_beta[</span><span class="default">$i</span><span class="string">] = </span><span class="default">$test_beta</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]</span><span class="string"> &lt;br&gt;"</span><span class="keyword">);
<br>&nbsp; &nbsp; echo (</span><span class="string">"Number of elements in test_beta = </span><span class="default">$numValues</span><span class="string"> "</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>will give you the following output:
<br>
<br>test_beta[0] = 
<br>test_beta[1] = aa 
<br>test_beta[2] = 
<br>test_beta[3] = 
<br>test_beta[4] = 
<br>test_beta[5] = bb 
<br>test_beta[6] = cc 
<br>test_beta[7] = 
<br>Number of elements in test_beta = 3 
<br>
<br>The point is that you won't get the output you'd expect if you think that the values of the non duplicate elements are located in the first three array locations.
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; $numValues </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$test_beta</span><span class="keyword">);
<br>&nbsp; &nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$numValues</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)
<br>&nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"test_beta[</span><span class="default">$i</span><span class="string">] = </span><span class="default">$test_beta</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]</span><span class="string"> &lt;br&gt;"</span><span class="keyword">);
<br>&nbsp; &nbsp; echo (</span><span class="string">"Number of elements in test_beta = </span><span class="default">$numValues</span><span class="string"> "</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>will give you:
<br>
<br>test_beta[0] = 
<br>test_beta[1] = aa 
<br>test_beta[2] = 
<br>Number of elements in test_beta = 3 
<br>
<br>Hope that saves u some debugging time!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70869">  
  <a class="name">
  <strong class="user"><em>arr1</em></strong></a><div class="date" title="2006-11-01 08:59"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70869">
<div class="phpcode"><code><span class="html">
Just to note that array_unique, treats null values as none unique values. So if your using array_unique to detect duplicate values it will also detect multiple null values.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70273">  
  <a class="name">
  <strong class="user"><em>geuis dot teses at gmail dot com</em></strong></a><div class="date" title="2006-10-09 10:27"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70273">
<div class="phpcode"><code><span class="html">
Here's the shortest line of code I could find/create to remove all duplicate entries from an array and then reindex the keys.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">// Fruits, vegetables, and other food:
<br></span><span class="default">$var </span><span class="keyword">= array(</span><span class="string">'apple'</span><span class="keyword">,</span><span class="string">'banana'</span><span class="keyword">,</span><span class="string">'carrot'</span><span class="keyword">,</span><span class="string">'cat'</span><span class="keyword">,</span><span class="string">'dog'</span><span class="keyword">,</span><span class="string">'egg'</span><span class="keyword">,</span><span class="string">'eggplant'</span><span class="keyword">,</span><span class="string">'fish'</span><span class="keyword">);
<br>
<br></span><span class="default">$var </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">));
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70034">  
  <a class="name">
  <strong class="user"><em>keneks at gmail dot com</em></strong></a><div class="date" title="2006-09-30 07:01"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70034">
<div class="phpcode"><code><span class="html">
Taking the advantage of array_unique, here is a simple function to check if an array has duplicate values.
<br>
<br>It simply compares the number of elements between the original array and the array_uniqued array.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">array_search_dups</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; </span><span class="default">$dup_array </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$dup_array </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$dup_array</span><span class="keyword">);
<br>&nbsp; &nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$dup_array</span><span class="keyword">) != </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">TRUE</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; else
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55923">  
  <a class="name">
  <strong class="user"><em>muddmonkey@harveyMcoldotedu</em></strong></a><div class="date" title="2005-08-17 01:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom55923">
<div class="phpcode"><code><span class="html">
If you're doing numeric arrays etc. I found flip-flip to work much better than array_unique:<br><br><span class="default">&lt;?PHP<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">microtime_float</span><span class="keyword">(){ </span><span class="comment">//timing<br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">list(</span><span class="default">$usec</span><span class="keyword">, </span><span class="default">$sec</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">microtime</span><span class="keyword">());<br>&nbsp; &nbsp; &nbsp;&nbsp; return ((float)</span><span class="default">$usec </span><span class="keyword">+ (float)</span><span class="default">$sec</span><span class="keyword">);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">//make an arry and fill it up<br>&nbsp; &nbsp; </span><span class="default">$final</span><span class="keyword">=array(); <br>&nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">50000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$final</span><span class="keyword">[]=</span><span class="default">$i</span><span class="keyword">%</span><span class="default">13</span><span class="keyword">; </span><span class="comment">//make sure there are some dupes<br>&nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; </span><span class="comment">//try array unique<br>&nbsp; &nbsp; </span><span class="default">$start1 </span><span class="keyword">= </span><span class="default">microtime_float</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$stop1</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br>&nbsp; &nbsp; echo(</span><span class="default">$stop1</span><span class="keyword">-</span><span class="default">$start1</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="comment">//try my flip-flip<br>&nbsp; &nbsp; </span><span class="default">$start2</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$final</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$stop2</span><span class="keyword">=</span><span class="default">microtime_float</span><span class="keyword">();<br>&nbsp; &nbsp; echo(</span><span class="default">$stop2</span><span class="keyword">-</span><span class="default">$start2</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Running this with only ints in the array (as above) I get runtimes such as: <br>1.6195669174194 (using unique)<br>0.017037868499756 (using flip flip)<br>which is two orders of magnitude faster!<br><br>Appending a string:<br>($final[]='test'.$i%13;)<br>gives:<br>0.42909598350525 (using unique)<br>0.023258924484253 (using flip-flip)<br>Which is not AS great, but still 20x faster than unique. <br><br>In both cases the flip-flip seems to use less memory than the unique.<br><br>Granted the flip-flip doesn't work for all cases, but if you're doing simple stuff like this, the flip-flip will give you better run times.<br><br>~JF</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51941">  
  <a class="name">
  <strong class="user"><em>memandeemail at gmail dot com</em></strong></a><div class="date" title="2005-04-15 01:46"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51941">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">/**
<br> * Removes duplicate keys from an array
<br> *
<br> * @param array $array
<br> * @return array
<br> */
<br></span><span class="keyword">function </span><span class="default">array_unique_key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">= array();
<br>&nbsp; &nbsp; foreach (</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) as </span><span class="default">$tvalue</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$tvalue</span><span class="keyword">];
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51607">  
  <a class="name">
  <strong class="user"><em>Ric</em></strong></a><div class="date" title="2005-04-05 09:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51607">
<div class="phpcode"><code><span class="html">
A very simple way of getting rid of duplicate entries and re-indexing with key starting at 0:
<br>
<br><span class="default">&lt;?php
<br>&nbsp; &nbsp; $temp</span><span class="keyword">=</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$main</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$main</span><span class="keyword">=</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46871">  
  <a class="name">
  <strong class="user"><em>lucas.bickel AT purplehaze DOT ch</em></strong></a><div class="date" title="2004-10-26 08:39"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom46871">
<div class="phpcode"><code><span class="html">
I quite like the following code for making multidimensional arrays unique:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">foreach (</span><span class="default">$arrAddressList </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$arrAddress</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$arrAddressList</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$arrAddress</span><span class="keyword">);
<br>}
<br></span><span class="default">$arrAddressList </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$arrAdressList</span><span class="keyword">);
<br>foreach (</span><span class="default">$arrAddressList </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$strAddress</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$arrAddressList</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$strAddress</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>This gets me a unique array while not minding wether the the original array contains arrays or just strings (or whatever...).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40685">  
  <a class="name">
  <strong class="user"><em>patrikG at home dot net</em></strong></a><div class="date" title="2004-03-11 07:05"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom40685">
<div class="phpcode"><code><span class="html">
If you need to have the keys of the duplicates in an array returned, you may find this function useful:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">unique_events</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">){ 
<br>&nbsp; &nbsp; </span><span class="comment">//checks $array for duplicate values and returns an 
<br>&nbsp; &nbsp; &nbsp; &nbsp; //array containing the keys of duplicates
<br>&nbsp; &nbsp; </span><span class="default">$count</span><span class="keyword">= </span><span class="default">array_intersect_assoc</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));
<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,</span><span class="default">$count</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$value</span><span class="keyword">][]=</span><span class="default">$key</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$return</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Example:
<br>
<br>Input:
<br>Array
<br>(
<br>&nbsp; &nbsp; [0] =&gt; 44
<br>&nbsp; &nbsp; [1] =&gt; 23
<br>&nbsp; &nbsp; [2] =&gt; 23
<br>&nbsp; &nbsp; [3] =&gt; 23
<br>&nbsp; &nbsp; [4] =&gt; 9
<br>&nbsp; &nbsp; [5] =&gt; 9
<br>&nbsp; &nbsp; [6] =&gt; 9
<br>&nbsp; &nbsp; [7] =&gt; 9
<br>&nbsp; &nbsp; [8] =&gt; 9
<br>&nbsp; &nbsp; [9] =&gt; 9
<br>&nbsp; &nbsp; [10] =&gt; 9
<br>&nbsp; &nbsp; [11] =&gt; 9
<br>)
<br>
<br>Function returns:
<br>Array
<br>(
<br>&nbsp; &nbsp; [23] =&gt; Array
<br>&nbsp; &nbsp; &nbsp; &nbsp; (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 1
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [1] =&gt; 2
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [2] =&gt; 3
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>&nbsp; &nbsp; [9] =&gt; Array
<br>&nbsp; &nbsp; &nbsp; &nbsp; (
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0] =&gt; 4
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [1] =&gt; 5
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [2] =&gt; 6
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [3] =&gt; 7
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [4] =&gt; 8
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [5] =&gt; 9
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [6] =&gt; 10
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [7] =&gt; 11
<br>&nbsp; &nbsp; &nbsp; &nbsp; )
<br>
<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32344">  
  <a class="name">
  <strong class="user"><em>kay_rules at yahoo dot com</em></strong></a><div class="date" title="2003-05-24 02:28"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32344">
<div class="phpcode"><code><span class="html">
this function will return an array with unique value and proper key increment start from 0.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">/*******************************/
<br></span><span class="keyword">function </span><span class="default">my_array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">$tmparr </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$somearray</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; foreach (</span><span class="default">$tmparr </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) { 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newarr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$newarr</span><span class="keyword">;
<br>}
<br></span><span class="comment">/********************************/
<br></span><span class="default">?&gt;
<br></span>
<br>eg:
<br>
<br><span class="default">&lt;?php
<br>$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">'bb'
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =</span><span class="string">'aa'
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =</span><span class="string">'dd'
<br></span><span class="default">?&gt;
<br></span>
<br>normal array_unique will return:
<br>
<br><span class="default">&lt;?php
<br>$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">''</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =</span><span class="string">''</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =</span><span class="string">'dd'
<br></span><span class="default">?&gt;
<br></span>
<br>my_array_unique will return:
<br>
<br><span class="default">&lt;?php
<br>$foo_arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =</span><span class="string">'aa'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =</span><span class="string">'bb'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =</span><span class="string">'cc'</span><span class="keyword">;
<br></span><span class="default">$foo_arr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =</span><span class="string">'dd'
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="91134">  
  <a class="name">
  <strong class="user"><em>steve at visual77 dot com</em></strong></a><div class="date" title="2009-05-26 04:41"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom91134">
<div class="phpcode"><code><span class="html">
One way to use array_unique() to handle the multidimensional array issue is to use an md5 hash of the serialized array as the key. I've seen some solutions listed here that stored the serialized string, but that requires unserialization, and moving data back and forth between two states for little reason is just a bad idea. Instead, you could try this method:
<br>
<br><span class="default">&lt;?php
<br>$values </span><span class="keyword">= array();
<br>
<br>foreach(</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$d</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$values</span><span class="keyword">[</span><span class="default">md5</span><span class="keyword">(</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">))] = </span><span class="default">$d</span><span class="keyword">;
<br>}
<br>
<br></span><span class="default">sort</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>This will serialize and hash the value, and store the value with the hash as they key. This will ensure that each piece is only stored once, as the second attempt to store will just overwrite the first attempt with identical data.
<br>
<br>The sort() at the end is a bit unnecessary, but I had to use it on my project, because the function I was passing the array to couldn't handle keys that weren't valid XML node names (and some md5 hash strings will start with numbers, which is invalid for XML).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13927">  
  <a class="name">
  <strong class="user"><em>az at top-webdesign dot de</em></strong></a><div class="date" title="2001-07-10 01:00"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13927">
<div class="phpcode"><code><span class="html">
Attention!
<br>If you use array_unique be aware of data-types! (I spent hours of debugging because of that ...).
<br>
<br>For example, if you've got an array containing a '3' as number and another '3' as string it won't be eliminated by array_unique.
<br>
<br>An Example where this can happen, without really thinking about it:
<br>
<br>I've got an article-list with product-numbers where the third and fourth digit is the code for the producer. So I read in the file an process it line by line and put each producer-code into an array:
<br>------------------------------
<br><span class="default">&lt;?php
<br>$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>while(</span><span class="default">$line </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">, </span><span class="default">10000</span><span class="keyword">) {
<br></span><span class="comment">// splitting the line, product_no is the first part:
<br>
<br></span><span class="default">$data </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">";"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);
<br>
<br></span><span class="comment">// putting the producer_code into an array:
<br>
<br></span><span class="default">$producer_id</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));
<br>
<br></span><span class="comment">// make a special exception:
<br>
<br></span><span class="keyword">if(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)) == </span><span class="default">40</span><span class="keyword">) {
<br></span><span class="default">$producer_id</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="string">'30'</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">// in the above line if you leave the 30 without the ''
<br>// array_unique won't work!
<br>
<br></span><span class="default">$i</span><span class="keyword">++;
<br>}
<br>
<br></span><span class="default">$producer_ids </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$producer_id</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>-------------------------------
<br>Result is to have all producer-ID's in an array without dupes.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104102">  
  <a class="name">
  <strong class="user"><em>0cool.f</em></strong></a><div class="date" title="2011-05-23 03:54"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom104102">
<div class="phpcode"><code><span class="html">
Hope this can help...<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">array_unique_key_group</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br>&nbsp; &nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="default">$temp</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!empty(</span><span class="default">$i</span><span class="keyword">) &amp;&amp; </span><span class="default">$key </span><span class="keyword">!= </span><span class="default">$i</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">.</span><span class="string">','</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$temp</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>this function return an array that is unique, but preserve every key for the element...<br>sorry for bad english I'm italian...<br><br>$array['asd'] = 'value';<br>$array['lol'] = 'value';<br>$array['foo'] = 'val';<br>$array['bar'] = 'val';<br><br>var_dump(array_unique_key_group($array));<br>// will be output<br>array(2) { ["asd,lol"]=&gt; string(5) "value" ["foo,bar"]=&gt; string(3) "val" }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64454">  
  <a class="name">
  <strong class="user"><em>MoD</em></strong></a><div class="date" title="2006-04-14 09:02"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64454">
<div class="phpcode"><code><span class="html">
The shortest way i found to remove duplicate array from a column,<br>For example if you parse Multiple XML sources, you can remove duplicate items that contain the same link.<br><br><span class="default">&lt;?PHP<br></span><span class="keyword">function&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">remove_duplicate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">)<br>{<br>&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$sub</span><span class="keyword">)<br>&nbsp; &nbsp; </span><span class="default">$cmp</span><span class="keyword">[] = </span><span class="default">$sub</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">];<br>&nbsp; </span><span class="default">$unique </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$cmp</span><span class="keyword">);<br>&nbsp; foreach (</span><span class="default">$unique </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$rien</span><span class="keyword">)<br>&nbsp; &nbsp; </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br>&nbsp; return </span><span class="default">$new</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="28892">  
  <a class="name">
  <strong class="user"><em>martin at lucas-smith dot co dot uk</em></strong></a><div class="date" title="2003-01-27 05:12"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom28892">
<div class="phpcode"><code><span class="html">
To get a list of the duplicated values in an array, array_unique isn't much help. Instead, use array_filter in conjunction with a callback function, as below:
<br>
<br><span class="default">&lt;?php
<br>$checkKeysUniqueComparison </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$value'</span><span class="keyword">,</span><span class="string">'if ($value &gt; 1) return true;'</span><span class="keyword">);
<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_keys </span><span class="keyword">(</span><span class="default">array_filter </span><span class="keyword">(</span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$checkKeysUniqueComparison</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>These two lines therefore will create $result, an array of duplicated values in the array $array, once each. E.g. the array
<br>$array = array ("a", "b", "a", "b", "x", "y", "z", "x");
<br>gives the result
<br>Array([0] =&gt; a [1] =&gt; b [2] =&gt; x)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103195">  
  <a class="name">
  <strong class="user"><em>mykelscappin at gmail dot com</em></strong></a><div class="date" title="2011-03-30 05:18"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom103195">
<div class="phpcode"><code><span class="html">
I made an array_unique function to handle deep arrays:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$values</span><span class="keyword">=array();<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//ideally there would be some is_array() testing for $array here...<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$part</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">)) </span><span class="default">$values</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">,</span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else </span><span class="default">$values</span><span class="keyword">[]=</span><span class="default">$part</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$test</span><span class="keyword">=array(</span><span class="default">123</span><span class="keyword">,</span><span class="default">456</span><span class="keyword">,array(</span><span class="default">789</span><span class="keyword">,</span><span class="default">123</span><span class="keyword">,array(</span><span class="default">456</span><span class="keyword">),</span><span class="default">789</span><span class="keyword">),array(</span><span class="default">123</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_unique_deep</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">));<br>&nbsp; &nbsp; <br></span><span class="default">?&gt;<br></span><br>outputs<br><br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; 123<br>&nbsp; &nbsp; [1] =&gt; 456<br>&nbsp; &nbsp; [2] =&gt; 789<br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12566">  
  <a class="name">
  <strong class="user"><em>rein at velt dot net</em></strong></a><div class="date" title="2001-04-21 12:44"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12566">
<div class="phpcode"><code><span class="html">
Following code copies unique values from MyArray to TempArray.
<br>Then copies non-empty elements from TempArray to UniqueArray.
<br>
<br>Not the most elegant solution, but it works.
<br>
<br><span class="default">&lt;?php
<br>$TempArray </span><span class="keyword">= </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">$MyArray</span><span class="keyword">);
<br>while (list(</span><span class="default">$index</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$TempArray</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">isempty</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$UniqueArray</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">]=</span><span class="default">$data</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113775">  
  <a class="name">
  <strong class="user"><em>CertaiN</em></strong></a><div class="date" title="2013-11-29 02:58"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom113775">
<div class="phpcode"><code><span class="html">
Let's implement array_unique_callback() !<br><br>Function:<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">array_unique_callback</span><span class="keyword">(array </span><span class="default">$arr</span><span class="keyword">, callable </span><span class="default">$callback</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; return </span><span class="default">array_filter</span><span class="keyword">(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$arr</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; function (</span><span class="default">$item</span><span class="keyword">) use (</span><span class="default">$strict</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; static </span><span class="default">$haystack </span><span class="keyword">= array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$needle </span><span class="keyword">= </span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$haystack</span><span class="keyword">[] = </span><span class="default">$needle</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; );<br>}<br><br></span><span class="default">?&gt;<br></span><br>Usage:<br><span class="default">&lt;?php<br><br>$companies </span><span class="keyword">= array(<br>&nbsp; &nbsp; </span><span class="default">0 </span><span class="keyword">=&gt; array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Foo - Ltd.'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'XXX-YYY-ZZZ'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'supplyment'</span><span class="keyword">,<br>&nbsp; &nbsp; ),<br>&nbsp; &nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Bar - Ltd.'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'xxx-yyy-zzz'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'supplyment'</span><span class="keyword">,<br>&nbsp; &nbsp; ),<br>&nbsp; &nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Baz - Ltd.'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'phone' </span><span class="keyword">=&gt; </span><span class="string">'AAA-BBB-CCC'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'category' </span><span class="keyword">=&gt; </span><span class="string">'alcohol'</span><span class="keyword">,<br>&nbsp; &nbsp; ),<br>);<br><br></span><span class="default">$companies </span><span class="keyword">= </span><span class="default">array_unique_callback</span><span class="keyword">(<br>&nbsp; &nbsp; </span><span class="default">$companies</span><span class="keyword">,<br>&nbsp; &nbsp; function (</span><span class="default">$company</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$company</span><span class="keyword">[</span><span class="string">'category'</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>);<br><br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$companies</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Result:<br><br>Array<br>(<br>&nbsp; &nbsp; [0] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [name] =&gt; Foo - Ltd.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [phone] =&gt; XXX-YYY-ZZZ<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [category] =&gt; supplyment<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>&nbsp; &nbsp; [2] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [name] =&gt; Baz - Ltd.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [phone] =&gt; AAA-BBB-CCC<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [category] =&gt; alcohol<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="57006">  
  <a class="name">
  <strong class="user"><em>passtschu AT freenet DOT de</em></strong></a><div class="date" title="2005-09-21 07:20"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom57006">
<div class="phpcode"><code><span class="html">
array_unique for multidimensional arrays. similar to the DISTINCT in SQL function.<br>the function can group, sum and count keys<br><br><span class="default">&lt;?PHP<br></span><span class="comment">/*<br>$array - nothing to say<br>$group_keys - columns which have to be grouped - can be STRING or ARRAY (STRING, STRING[, ...])<br>$sum_keys - columns which have to be summed - can be STRING or ARRAY (STRING, STRING[, ...])<br>$count_key - must be STRING - count the grouped keys<br>*/<br></span><span class="keyword">function </span><span class="default">array_distinct </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$group_keys</span><span class="keyword">, </span><span class="default">$sum_keys </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$count_key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">){<br>&nbsp; if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$group_keys</span><span class="keyword">)) </span><span class="default">$group_keys </span><span class="keyword">= array (</span><span class="default">$group_keys</span><span class="keyword">);<br>&nbsp; if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$sum_keys</span><span class="keyword">)) </span><span class="default">$sum_keys </span><span class="keyword">= array (</span><span class="default">$sum_keys</span><span class="keyword">);<br><br>&nbsp; </span><span class="default">$existing_sub_keys </span><span class="keyword">= array ();<br>&nbsp; </span><span class="default">$output </span><span class="keyword">= array ();<br><br>&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$sub_array</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">#group keys<br>&nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$group_keys </span><span class="keyword">as </span><span class="default">$group_key</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$puffer </span><span class="keyword">.= </span><span class="default">$sub_array</span><span class="keyword">[</span><span class="default">$group_key</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">serialize </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">);<br>&nbsp; &nbsp; if (!</span><span class="default">in_array </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">, </span><span class="default">$existing_sub_keys</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$existing_sub_keys</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$puffer</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$sub_array</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; else{<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$puffer </span><span class="keyword">= </span><span class="default">array_search </span><span class="keyword">(</span><span class="default">$puffer</span><span class="keyword">, </span><span class="default">$existing_sub_keys</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; </span><span class="comment">#sum keys<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">foreach (</span><span class="default">$sum_keys </span><span class="keyword">as </span><span class="default">$sum_key</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">is_string </span><span class="keyword">(</span><span class="default">$sum_key</span><span class="keyword">)) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$sum_key</span><span class="keyword">] += </span><span class="default">$sub_array</span><span class="keyword">[</span><span class="default">$sum_key</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; </span><span class="comment">#count grouped keys<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">if (!</span><span class="default">array_key_exists </span><span class="keyword">(</span><span class="default">$count_key</span><span class="keyword">, </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">])) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$count_key</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">is_string </span><span class="keyword">(</span><span class="default">$count_key</span><span class="keyword">)) </span><span class="default">$output</span><span class="keyword">[</span><span class="default">$puffer</span><span class="keyword">][</span><span class="default">$count_key</span><span class="keyword">]++;<br>&nbsp; &nbsp; }<br>&nbsp; }<br>&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.array-unique.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:05:57 GMT -->


</body></html>