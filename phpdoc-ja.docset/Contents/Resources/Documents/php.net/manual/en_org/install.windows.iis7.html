<html><!-- Mirrored from php.net/manual/en/install.windows.iis7.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:07 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Microsoft IIS 7.0 and later</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="install.windows.iis7.html">
 <link rel="shorturl" href="install.windows.iis7.html">
 <link rel="alternate" href="install.windows.iis7.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="install.windows.html">
 <link rel="prev" href="install.windows.iis6.html">
 <link rel="next" href="install.windows.apache1.html">

 <link rel="alternate" href="install.windows.iis7.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/install.windows.iis7.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/install.windows.iis7.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/install.windows.iis7.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/install.windows.iis7.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/install.windows.iis7.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/install.windows.iis7.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/install.windows.iis7.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/install.windows.iis7.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/install.windows.iis7.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/install.windows.iis7.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="install.html">Installation and Configuration</a></li>      <li><a href="install.windows.html">Installation on Windows systems</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="install.windows.iis7" class="sect1">
 <h2 class="title">Microsoft IIS 7.0 and later</h2>
 <p class="para">
  This section contains instructions for manually setting up Internet Information 
  Services (IIS) 7.0 and later to work with PHP on Microsoft Windows Vista SP1, 
  Windows 7, Windows Server 2008 and Windows Server 2008 R2. For instructions 
  on setting up IIS 5.1 and IIS 6.0 on Windows XP and Windows Server 2003 refer to 
  <a href="install.windows.iis6.html" class="link">Microsoft IIS 5.1 and IIS 6.0</a>.
 </p>
 <div class="sect2" id="install.windows.iis7.fastcgi.enable">
  <h3 class="title">Enabling FastCGI support in IIS</h3>
  <p class="para">
   FastCGI module is disabled in default installation of IIS. The steps to enable it differ 
   based on the version of Windows being used.
  </p>
  <p class="para">
   To enable FastCGI support on Windows Vista SP1 and Windows 7:
   </p><div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      In the Windows Start Menu choose "Run:", type "optionalfeatures.exe" 
      and click "Ok";
     </p>
    </li>
    <li>
     <p class="simpara">
      In the "Windows Features" dialog expand "Internet Information 
      Services", "World Wide Web Services", "Application Development 
      Features" and then enable the "CGI" checkbox;
     </p>
    </li>
    <li>
     <p class="simpara">
      Click OK and wait until the installation is complete.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7vistacgi.png" alt="Enabling FastCGI support for IIS7 on Windows Vista SP1 and Windows 7" width="429" height="375">
    </div>
   </div>
  <p></p>
  <p class="para">
   To enable FastCGI support on Windows Server 2008 and Windows Server 2008 R2:
   </p><div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      In the Windows Start Menu choose "Run:", type "CompMgmtLauncher" 
      and click "Ok";
     </p>
    </li>
    <li>
     <p class="simpara">
      If the "Web Server (IIS)" role is not present under the "Roles" 
      node, then add it by clicking "Add Roles";
     </p>
    </li>
    <li>
     <p class="simpara">
      If the "Web Server (IIS)" role is present, then click "Add Role Services" 
      and then enable the "CGI" checkbox under "Application Development" group;
     </p>
    </li>
    <li>
     <p class="simpara">
      Click "Next" and then "Install" and wait for the installation to complete.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7w2k8cgi.png" alt="Enabling FastCGI support on Windows Server 2008 and Windows Server 2008 R2" width="546" height="411">
    </div>
   </div>
  <p></p>
 </div>
 <div class="sect2" id="install.windows.iis7.fastcgi.conf">
  <h3 class="title">Configuring IIS to process PHP requests</h3>
  <p class="para">
   Download and install PHP in accordance to the instructions described in 
    <a href="install.windows.manual.html" class="link">manual installation steps</a>
    </p><blockquote class="note"><p><strong class="note">Note</strong>: 
     </p><p class="para">
      Non-thread-safe build of PHP is recommended when using IIS. The non-thread-safe 
      builds are available at <a href="http://windows.php.net/download/" class="link external">»&nbsp;PHP for Windows: 
      Binaries and Sources Releases.</a>
     </p>
    <p></p></blockquote>
  <p></p>
  <p class="para">
   Configure the CGI- and FastCGI-specific settings in <var class="filename">php.ini</var> file as shown below:
   </p><div class="example" id="example-55">
    <p><strong>Example #1 CGI and FastCGI settings in <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
fastcgi.logging = 0
cgi.fix_pathinfo=1
cgi.force_redirect = 0</pre>
</div>
    </div>

   </div>
  <p></p>
  <p class="para">
   Configure IIS handler mapping for PHP by using either IIS Manager user interface or a command line tool.
  </p>
  <div class="sect3" id="install.windows.iis7.fastcgi.conf.ui">
   <h4 class="title">Using IIS Manager user interface to create a handler mapping for PHP</h4>
    <p class="para">
     Follow these steps to create an IIS handler mapping for PHP in IIS Manager user interface:
     </p><div class="procedure">
      <ol type="1"><li>
       <p class="simpara">In the Windows Start Menu choose "Run:", type "inetmgr" and click "Ok";</p>
      </li>
      <li>
       <p class="simpara">In the IIS Manager user interface select the server node in the "Connections" tree view;</p>
      </li>
      <li>
       <p class="para">
        In the "Features View" page open the "Handler Mappings" feature;
        </p><div class="mediaobject">
         
         <div class="imageobject">
          <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlericon.png" alt="Create IIS handler mapping for PHP : Locate Handler Mappings" width="708" height="515">
         </div>
        </div>
       <p></p>
      </li>
      <li>
       <p class="simpara">In the "Actions" pane click "Add Module Mapping...";</p>
      </li>
      <li>
       <p class="para">
        In the "Add Module Mapping" dialog enter the following:
        </p><ul class="itemizedlist">
         <li class="listitem">
          <span class="simpara">Request path: *.php</span>
         </li>
         <li class="listitem">
          <span class="simpara">Module: FastCgiModule</span>
         </li>
         <li class="listitem">
          <span class="simpara">Executable: C:\[Path to PHP installation]\php-cgi.exe</span>
         </li>
         <li class="listitem">
          <span class="simpara">Name: PHP_via_FastCGI</span>
         </li>
        </ul>
       <p></p>
      </li>
      <li>
       <p class="simpara">
        Click "Request Restrictions" button and then configure the mapping to invoke handler 
        only if request is mapped to a file or a folder;
        </p>
      </li>
      <li>
       <p class="simpara">Click OK on all the dialogs to save the configuration.</p>
      </li>
     </ol></div>
     <div class="mediaobject">
      
      <div class="imageobject">
       <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlermap.png" alt="Create IIS handler mapping for PHP : Add Handler Mapping" width="705" height="512">
      </div>
     </div>
    <p></p>
  </div>
  <div class="sect3" id="install.windows.iis7.fastcgi.conf.cmd">
   <h4 class="title">Using command line tool to create a handler mapping for PHP</h4>
   <p class="para">
    Use the command shown below to create an IIS FastCGI process pool which will use <var class="filename">php-cgi.exe</var> 
    executable for processing PHP requests. Replace the value of the <var class="varname"><var class="varname">fullPath</var></var> parameter with the 
    absolute file path to the <var class="filename">php-cgi.exe</var> file.
    </p><div class="example" id="example-56">
     <p><strong>Example #2 Creating IIS FastCGI process pool</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd set config /section:system.webServer/fastCGI ^
/+[fullPath='c:\PHP\php-cgi.exe']
</pre></div>
     </div>

    </div>
   <p></p>
   <p class="para">
    Configure IIS to handle PHP specific requests by running the command shown below. Replace the value of the 
    <var class="varname"><var class="varname">scriptProcessor</var></var> parameter with the absolute file path to the <var class="filename">php-cgi.exe</var> file.
    </p><div class="example" id="example-57">
     <p><strong>Example #3 Creating handler mapping for PHP requests</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers ^
/+[name='PHP_via_FastCGI', path='*.php',verb='*',modules='FastCgiModule',^
scriptProcessor='c:\PHP\php-cgi.exe',resourceType='Either']
</pre></div>
     </div>

    </div>
   <p></p>
   <p class="para">
    This command creates an IIS handler mapping for *.php file extension, which will result in all URLs that 
    end with .php being handled by FastCGI module.
    </p><blockquote class="note"><p><strong class="note">Note</strong>: 
     </p><p class="para">
      At this point the required installation and configuration steps are completed. The remaining 
      instructions below are optional but highly recommended for achieving optimal functionality 
      and performance of PHP on IIS.
     </p>
    <p></p></blockquote>
   <p></p>
  </div>
 </div>
 <div class="sect2" id="install.windows.iis7.impersonation">
  <h3 class="title">Impersonation and file system access</h3>
  <p class="para">
   It is recommended to enable FastCGI impersonation in PHP when using IIS. This 
   is controlled by the <var class="varname"><var class="varname">fastcgi.impersonate</var></var> directive in <var class="filename">php.ini</var> 
   file. When impersonation is enabled, PHP will perform all the file system operations on behalf of 
   the user account that has been determined by IIS authentication. This ensures that even if the 
   same PHP process is shared across different IIS web sites, the PHP scripts in those web sites 
   will not be able to access each other's files as long as different user accounts are used 
   for IIS authentication on each web site.
  </p>
  <p class="para">
   For example IIS 7, in its default configuration, has anonymous authentication enabled with 
   built-in user account IUSR used as a default identity. This means that in order for IIS to 
   execute PHP scripts, it is necessary to grant IUSR account read permission on those scripts. 
   If PHP applications need to perform write operations on certain files or write files into some 
   folders then IUSR account should have write permission to those.
  </p>
  <p class="para">
   To determine what user account is used as an anonymous identity in IIS 7 use the following command. 
   Replace the "Default Web Site" with the name of IIS web site that you use. In the output 
   XML configuration element look for the <var class="varname"><var class="varname">userName</var></var> attribute.
   </p><div class="example" id="example-58">
    <p><strong>Example #4 Determining the account used as IIS anonymous identity</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd.exe list config "Default Web Site" ^
/section:anonymousAuthentication

&lt;system.webServer&gt;
  &lt;security&gt;
    &lt;authentication&gt;
      &lt;anonymousAuthentication enabled="true" userName="IUSR" /&gt;
    &lt;/authentication&gt;
   &lt;/security&gt;
&lt;/system.webServer&gt;
</pre></div>
    </div>

   </div>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     If <var class="varname"><var class="varname">userName</var></var> attribute is not present in the <var class="varname"><var class="varname">anonymousAuthentication</var></var> element, 
     or is set to an empty string, then it means that the application pool identity is used as an 
     anonymous identity for that web site.
    </p>
   <p></p></blockquote>
  <p></p>
  <p class="para">
   To modify the permissions settings on files and folders, use the Windows Explorer 
   user interface or <var class="varname"><var class="varname">icacls</var></var> command.
   </p><div class="example" id="example-59">
    <p><strong>Example #5 Configuring file access permissions</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
</pre></div>
    </div>

   </div>
  <p></p>
 </div>
 <div class="sect2" id="install.windows.iis7.defaultdoc">
  <h3 class="title">Set <var class="filename">index.php</var> as a default document in IIS</h3>
  <p class="para">
   The IIS default documents are used for HTTP requests that do not specify a 
   document name. With PHP applications, <var class="filename">index.php</var> usually 
   acts as a default document. To add <var class="filename">index.php</var> to the list 
   of IIS default documents, use this command:
   </p><div class="example" id="example-60">
    <p><strong>Example #6 Set <var class="filename">index.php</var> as a default document in IIS</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd.exe set config ^
-section:system.webServer/defaultDocument /+"files.[value='index.php']" ^
/commit:apphost
</pre></div>
    </div>

   </div>   
  <p></p>
 </div>
 <div class="sect2" id="install.windows.iis7.recycling">
  <h3 class="title">FastCGI and PHP Recycling configuration</h3>
  <p class="para">
   Configure IIS FastCGI settings for recycling of PHP processes by using the commands shown below. 
   The FastCGI setting <var class="varname"><var class="varname">instanceMaxRequests</var></var> controls how many requests will be 
   processed by a single <var class="filename">php-cgi.exe</var> process before IIS shuts it down. 
   The PHP environment variable <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var> controls how many 
   requests a single <var class="filename">php-cgi.exe</var> process will handle before it recycles 
   itself. Make sure that the value specified for FastCGI <var class="varname"><var class="varname">InstanceMaxRequests</var></var> 
   setting is less than or equal to the value specified for <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var>.
   </p><div class="example" id="example-61">
    <p><strong>Example #7 Configuring FastCGI and PHP recycling</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath='c:\php\php-cgi.exe'].instanceMaxRequests:10000

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/+"[fullPath='C:\{php_folder}\php-cgi.exe'].environmentVariables.^
[name='PHP_FCGI_MAX_REQUESTS',value='10000']"
</pre></div>
    </div>

   </div>
  <p></p>
 </div>
 <div class="sect2" id="install.windows.iis7.timeouts">
  <h3 class="title">FastCGI timeout settings</h3>
  <p class="para">
   Increase the timeout settings for FastCGI if it is expected to have long running PHP scripts.
   The two settings that control timeouts are <var class="varname"><var class="varname">activityTimeout</var></var> and 
   <var class="varname"><var class="varname">requestTimeout</var></var>. Use the commands below to change the timeout settings. 
   Make sure to replace the value in the <var class="varname"><var class="varname">fullPath</var></var> parameter to 
   contain the absolute path to the <var class="filename">php-cgi.exe</var> file.
   </p><div class="example" id="example-62">
    <p><strong>Example #8 Configuring FastCGI timeout settings</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath='C:\php\php-cgi.exe',arguments=''].activityTimeout:"90"  /commit:apphost

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath='C:\php\php-cgi.exe',arguments=''].requestTimeout:"90"  /commit:apphost
</pre></div>
    </div>

   </div>   
  <p></p>
 </div>
 <div class="sect2" id="install.windows.iis7.phpinilocation">
  <h3 class="title">Changing the Location of <var class="filename">php.ini</var> file</h3>
  <p class="para">
   PHP searches for <var class="filename">php.ini</var> file in 
   <a href="configuration.file.html" class="link">several locations</a> and it is 
   possible to change the default locations of <var class="filename">php.ini</var> 
   file by using <var class="varname"><var class="varname">PHPRC</var></var> environment variable. To instruct PHP 
   to load the configuration file from a custom location run the command shown below. 
   The absolute path to the directory with <var class="filename">php.ini</var> file should be 
   specified as a value of <var class="varname"><var class="varname">PHPRC</var></var> environment variable.
   </p><div class="example" id="example-63">
    <p><strong>Example #9 Changing the location of <var class="filename">php.ini</var> file</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>appcmd.exe set config  -section:system.webServer/fastCgi ^
/+"[fullPath='C:\php\php.exe',arguments=''].environmentVariables.^
[name='PHPRC',value='C:\Some\Directory\']" /commit:apphost
</pre></div>         
    </div>

   </div>   
  <p></p>
 </div>
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="113434">  
  <a class="name">
  <strong class="user"><em>Aditya</em></strong></a><div class="date" title="2013-10-09 08:21"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom113434">
<div class="phpcode"><code><span class="html">
To resolve the error "The FastCGI process exited unexpectedly" install the below package:<br><br>To fix it I had to install the Visual C++ Redistributable for Visual Studio 2012 Update 3<br><br><a rel="nofollow" target="_blank">http://www.microsoft.com/en-us/download/confirmation.aspx?id=30679</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="108945">  
  <a class="name">
  <strong class="user"><em>NG</em></strong></a><div class="date" title="2012-06-07 06:30"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108945">
<div class="phpcode"><code><span class="html">
Example #9 fails unless I change "php.exe" to "php-cgi.exe" as follows:<br><br>appcmd.exe set config&nbsp; -section:system.webServer/fastCgi ^<br>/+"[fullPath='C:\php\php-cgi.exe',arguments=''].environmentVariables.^<br>[name='PHPRC',value='C:\PHP\']" /commit:apphost</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112676">  
  <a class="name">
  <strong class="user"><em>m dot benett at gmail dot com</em></strong></a><div class="date" title="2013-07-11 03:57"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112676">
<div class="phpcode"><code><span class="html">
In CGI and FastCGI settings in php.ini exaple, add:<br>extension_dir = 'ext'</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113030">  
  <a class="name">
  <strong class="user"><em>Bradford Plummer</em></strong></a><div class="date" title="2013-08-21 12:24"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom113030">
<div class="phpcode"><code><span class="html">
If you get an error running the second command in Example 7 try this instead:<br><br>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi /+"[fullPath='C:\php\php-cgi.exe'].environmentVariables.[name='PHP_FCGI_MAX_REQUESTS',value='10000']"<br><br>Be sure to change the path to the php-cgi.exe file if it is not at C:\php\.<br><br>Good luck.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114534">  
  <a class="name">
  <strong class="user"><em>brrg58 at yahoo dot com</em></strong></a><div class="date" title="2014-03-04 03:58"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom114534">
<div class="phpcode"><code><span class="html">
Following the installation steps second line of Example #3 resulted in an error:<br><br>ERROR ( message:Cannot find SITE object with identifier "path='*.php',verb='*',modules='FastCgiModule',scriptProcessor='(path-to-PHP)\php-cgi.exe',resourceType='Either']". )<br><br>Apparently there is an extra space before the ,path='*.php' that must be removed.<br>Thanks</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114851">  
  <a class="name">
  <strong class="user"><em>daniel at kaliel dot net</em></strong></a><div class="date" title="2014-04-14 06:30"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114851">
<div class="phpcode"><code><span class="html">
I ran into the Error 500 with PHP 5.5 and Server 2008 R2 x64.&nbsp; The issue was that I installed the 64-bit version of Visual C++ Redistributable 2012 and not the 32-bit version.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108890">  
  <a class="name">
  <strong class="user"><em>mfuhrman at enetarch dot net</em></strong></a><div class="date" title="2012-06-01 03:19"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom108890">
<div class="phpcode"><code><span class="html">
When installing PHP in Windows 2008 Server R2, you might find that Windows IIS 7 returns error code 500 when executing scripts.&nbsp; To resolve this do two things:<br><br>1) browse to the folder that contains the script with the error using CMD.&nbsp; Yes, this is the command prompt.<br><br>Then execute the script using something like: "C:\Program Files\PHP\PHP5.4\php.exe" [script-filename].php<br><br>Note that the quotes ("") are needed for file paths with spaces.<br><br>This will return the results of the script and any errors you might have.<br><br>2) To have IIS 7 return the errors to your webbrowser, turn off error logging and turn on display errors. And to make sure that all the errors are display, set error reporting to ALL.<br><br>log_errors = Off<br>display_errors = On<br>error_reporting = E_ALL</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114795">  
  <a class="name">
  <strong class="user"><em>B-Edge (MS certified Trainer)</em></strong></a><div class="date" title="2014-04-07 09:36"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114795">
<div class="phpcode"><code><span class="html">
Excellent notes the last comment about adding the environment variables works as previously stated for both examples. I had to figure it out before reading these comments... <br><br>and yes the correct format would be <br><br>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/FastCGI&nbsp; ^ /+"[fullPath='c:\PHP\php-cgi.exe'].environmentVariables.[name='PHP_FCGI_MAX_REQUESTS',value='10000']"<br><br>and for the second one<br><br>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/FastCGI&nbsp; ^ /+"[fullPath='c:\PHP\php-cgi.exe'].environmentVariables.[name='PHPRC',value='c:\PHP\']"<br><br>hope this helped!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109754">  
  <a class="name">
  <strong class="user"><em>stpetersn at hotmail dot com</em></strong></a><div class="date" title="2012-08-17 02:21"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom109754">
<div class="phpcode"><code><span class="html">
For setting the time out above it took me forever to figure out the right combination for double and single quotes (and no quotes) given I had spaces in the absolute path to my php-cgi.exe file. Here is what worked in case you have/had the same problem:<br>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^<br>/[fullPath="'C:\Program Files (x86)\PHP\php-cgi.exe'"].activityTimeout:90 /commit:apphost<br><br>%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^<br>/[fullPath="'C:\Program Files (x86)\PHP\php-cgi.exe'"].requestTimeout:90&nbsp; /commit:apphost</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112162">  
  <a class="name">
  <strong class="user"><em>williamhong at 163 dot com</em></strong></a><div class="date" title="2013-05-11 04:41"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112162">
<div class="phpcode"><code><span class="html">
CgiModule may be better than FastCgiModule in development because CGI processes are not cached.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/install.windows.iis7.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:53:07 GMT -->


</body></html>