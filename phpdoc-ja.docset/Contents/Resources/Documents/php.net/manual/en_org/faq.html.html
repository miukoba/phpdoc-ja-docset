<html><!-- Mirrored from php.net/manual/en/faq.html.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:24:32 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>PHP and HTML</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="faq.html.html">
 <link rel="shorturl" href="http://php.net/html">
 <link rel="alternate" href="http://php.net/html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="faq.html">
 <link rel="prev" href="faq.passwords.html">
 <link rel="next" href="faq.com.html">

 <link rel="alternate" href="faq.html.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/faq.html.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/faq.html.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/faq.html.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/faq.html.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/faq.html.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/faq.html.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/faq.html.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/faq.html.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/faq.html.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/faq.html.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="faq.html">FAQ</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="faq.html" class="chapter">
  <h1>PHP and HTML</h1>

  

  <p class="para">
   PHP and HTML interact a lot: PHP can generate HTML, and HTML
   can pass information to PHP.  Before reading these faqs, it's
   important you learn how to retrieve <a href="language.variables.external.html" class="link">
   variables from external sources</a>.  The manual page on
   this topic includes many examples as well.  Pay close attention to
   what <em>register_globals</em> means to you too.
  </p>

  <div class="qandaset"><ol class="qandaset_questions"><li><a href="#faq.html.encoding">
     
      What encoding/decoding do I need when I pass a value through a form/URL?
     
    </a></li><li><a href="#faq.html.form-image">
     
      I'm trying to use an &lt;input type="image"&gt; tag, but 
      the $foo.x and $foo.y variables
      aren't available.  $_GET['foo.x'] isn't existing
      either.  Where are they?  
     
    </a></li><li><a href="#faq.html.arrays">
     How do I create arrays in a HTML &lt;form&gt;?
    </a></li><li><a href="#faq.html.select-multiple">
     
      How do I get all the results from a select multiple HTML tag?
     
    </a></li><li><a href="#faq.html.javascript-variable">
     
      How can I pass a variable from Javascript to PHP?
     
    </a></li></ol></div>
   <dl class="qandaentry" id="faq.html.encoding">
    <dt><strong>
     
      What encoding/decoding do I need when I pass a value through a form/URL?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      There are several stages for which encoding is important. Assuming that
      you have a <span class="type"><a href="language.types.string.html" class="type string">string</a></span> <var class="varname"><var class="varname">$data</var></var>, which contains
      the string you want to pass on in a non-encoded way, these are the
      relevant stages:
      </p><ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         HTML interpretation. In order to specify a random string, you
         <em class="emphasis">must</em> include it in double quotes, and 
         <span class="function"><a href="function.htmlspecialchars.html" class="function">htmlspecialchars()</a></span> the whole value.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         URL: A URL consists of several parts. If you want your data to be
         interpreted as one item, you <em class="emphasis">must</em> encode it with
         <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span>.
        </p>
       </li>
      </ul>
     <p></p>
     <p class="para">
      </p><div class="example" id="example-5689">
       <p><strong>Example #1 A hidden HTML form element</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;input&nbsp;type="hidden"&nbsp;value="'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'"&nbsp;/&gt;'</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

      </div>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        It is wrong to <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span>
        <var class="varname"><var class="varname">$data</var></var>, because it's the browsers responsibility to
        <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span> the data. All popular browsers do that
        correctly. Note that this will happen regardless of the method (i.e.,
        GET or POST). You'll only notice this in case of GET request though,
        because POST requests are usually hidden.
       </span>
      </p></blockquote>
      <div class="example" id="example-5690">
       <p><strong>Example #2 Data to be edited by the user</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"&lt;textarea&nbsp;name='mydata'&gt;\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/textarea&gt;"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

      </div>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        The data is shown in the browser as intended, because the browser will
        interpret the HTML escaped symbols.
       </span>
       <span class="simpara">
        Upon submitting, either via GET or POST, the data will be urlencoded
        by the browser for transferring, and directly urldecoded by PHP. So in
        the end, you don't need to do any urlencoding/urldecoding yourself,
        everything is handled automagically.
       </span>
      </p></blockquote>
      <div class="example" id="example-5691">
       <p><strong>Example #3 In a URL</strong></p>
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;a&nbsp;href="'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #DD0000">"/nextpage.php?stage=23&amp;data="&nbsp;</span><span style="color: #007700">.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">))&nbsp;.&nbsp;</span><span style="color: #DD0000">'"&gt;'</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

      </div>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        In fact you are faking a HTML GET request, therefore it's necessary to
        manually <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span> the data.
       </span>
      </p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        You need to <span class="function"><a href="function.htmlspecialchars.html" class="function">htmlspecialchars()</a></span> the whole URL, because the
        URL occurs as value of an HTML-attribute. In this case, the browser
        will first un-<span class="function"><a href="function.htmlspecialchars.html" class="function">htmlspecialchars()</a></span> the value, and then pass
        the URL on. PHP will understand the URL correctly, because you
        <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span>d the data.
       </span>
       <span class="simpara">
        You'll notice that the <em>&amp;</em> in the URL is replaced
        by <em>&amp;amp;</em>. Although most browsers will recover
        if you forget this, this isn't always possible. So even if your URL is
        not dynamic, you <em class="emphasis">need</em> to
        <span class="function"><a href="function.htmlspecialchars.html" class="function">htmlspecialchars()</a></span> the URL.
       </span>
      </p></blockquote>
     <p></p>
     
    </dd>
   </dl>

   <dl class="qandaentry" id="faq.html.form-image">
    <dt><strong>
     
      I'm trying to use an &lt;input type="image"&gt; tag, but 
      the <var class="varname"><var class="varname">$foo.x</var></var> and <var class="varname"><var class="varname">$foo.y</var></var> variables
      aren't available.  <var class="varname"><var class="varname"><a href="reserved.variables.get.html" class="classname">$_GET['foo.x']</a></var></var> isn't existing
      either.  Where are they?  
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      When submitting a form, it is possible to use an image instead of
      the standard submit button with a tag like:
      </p><div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;input type="image" src="image.gif" name="foo" /&gt;</pre>
</div>
      </div>

      When the user clicks somewhere on the image, the accompanying form
      will be transmitted to the server with two additional variables:
      <var class="varname"><var class="varname">foo.x</var></var> and <var class="varname"><var class="varname">foo.y</var></var>.
     <p></p>
     <p class="para">
      Because <var class="varname"><var class="varname">foo.x</var></var> and <var class="varname"><var class="varname">foo.y</var></var> would
      make invalid variable names in PHP, they are automagically converted to
      <var class="varname"><var class="varname">foo_x</var></var> and <var class="varname"><var class="varname">foo_y</var></var>. That is, the
      periods are replaced with underscores.  So, you'd access these variables
      like any other described within the section on retrieving 
      <a href="language.variables.external.html" class="link">variables from external 
      sources</a>.  For example, <var class="varname"><var class="varname"><a href="reserved.variables.get.html" class="classname">$_GET['foo_x']</a></var></var>.
      </p><blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
         Spaces in request variable names are converted to underscores.
       </p>
      <p></p></blockquote>
     <p></p>
    </dd>
   </dl>

   <dl class="qandaentry" id="faq.html.arrays">
    <dt><strong>
     How do I create arrays in a HTML &lt;form&gt;?
    </strong></dt>
    <dd class="answer">
     <p class="para">
      To get your &lt;form&gt; result sent as an 
      <a href="language.types.array.html" class="link">array</a> to your PHP script
      you name the &lt;input&gt;, &lt;select&gt; or &lt;textarea&gt;
      elements like this:
      </p><div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;input name="MyArray[]" /&gt;
&lt;input name="MyArray[]" /&gt;
&lt;input name="MyArray[]" /&gt;
&lt;input name="MyArray[]" /&gt;</pre>
</div>
      </div>

      Notice the square brackets after the variable name, that's what
      makes it an array. You can group the elements into different arrays
      by assigning the same name to different elements:
      <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;input name="MyArray[]" /&gt;
&lt;input name="MyArray[]" /&gt;
&lt;input name="MyOtherArray[]" /&gt;
&lt;input name="MyOtherArray[]" /&gt;</pre>
</div>
      </div>

      This produces two arrays, MyArray and MyOtherArray, that gets sent
      to the PHP script.  It's also possible to assign specific keys
      to your arrays:
      <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;input name="AnotherArray[]" /&gt;
&lt;input name="AnotherArray[]" /&gt;
&lt;input name="AnotherArray[email]" /&gt;
&lt;input name="AnotherArray[phone]" /&gt;</pre>
</div>
      </div>

      The AnotherArray array will now contain the keys 0, 1, email and phone.
      <p></p>
      <p class="para">
       </p><blockquote class="note"><p><strong class="note">Note</strong>: 
        </p><p class="para">
         Specifying an arrays key is optional in HTML.  If you do not specify
         the keys, the array gets filled in the order the elements appear in
         the form.  Our first example will contain keys 0, 1, 2 and 3.
        </p>
       <p></p></blockquote>
      <p></p>
      <p class="para">
      See also
      <a href="ref.array.html" class="link">Array Functions</a> and
      <a href="language.variables.external.html" class="link">Variables From External
      Sources</a>.
     </p>
    </dd>
   </dl>

   <dl class="qandaentry" id="faq.html.select-multiple">
    <dt><strong>
     
      How do I get all the results from a select multiple HTML tag?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      The select multiple tag in an HTML construct allows users to
      select multiple items from a list. These items are then passed
      to the action handler for the form. The problem is that they
      are all passed with the same widget name. I.e.
      </p><div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;select name="var" multiple="yes"&gt;</pre>
</div>
      </div>

      Each selected option will arrive at the action handler as:
      <div class="example-contents"><div class="cdata"><pre>var=option1
var=option2
var=option3
      </pre></div></div>

      Each option will overwrite the contents of the previous
      <var class="varname"><var class="varname">$var</var></var> variable. The solution is to use
      PHP's "array from form element" feature. The following
      should be used:
      <div class="example-contents">
<div class="htmlcode"><pre class="htmlcode">&lt;select name="var[]" multiple="yes"&gt;</pre>
</div>
      </div>

      This tells PHP to treat <var class="varname"><var class="varname">$var</var></var> as an array and
      each assignment of a value to var[] adds an item to the array.
      The first item becomes <var class="varname"><var class="varname">$var[0]</var></var>, the next
      <var class="varname"><var class="varname">$var[1]</var></var>, etc. The <span class="function"><a href="function.count.html" class="function">count()</a></span>
      function can be used to determine how many options were selected,
      and the <span class="function"><a href="function.sort.html" class="function">sort()</a></span> function can be used to sort
      the option array if necessary.
     <p></p>
     <p class="para">
      Note that if you are using JavaScript the <em>[]</em>
      on the element name might cause you problems when you try to
      refer to the element by name. Use it's numerical form element
      ID instead, or enclose the variable name in single quotes and
      use that as the index to the elements array, for example:
      </p><div class="example-contents"><div class="cdata"><pre>variable = documents.forms[0].elements['var[]'];
      </pre></div></div>

     <p></p>
    </dd>
   </dl>

   <dl class="qandaentry" id="faq.html.javascript-variable">
    <dt><strong>
     
      How can I pass a variable from Javascript to PHP?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      Since Javascript is (usually) a client-side technology, and
      PHP is (usually) a server-side technology, and since HTTP is a
      "stateless" protocol, the two languages cannot directly share
      variables.
     </p>
     <p class="para">
      It is, however, possible to pass variables between the two.
      One way of accomplishing this is to generate Javascript code
      with PHP, and have the browser refresh itself, passing specific
      variables back to the PHP script. The example below shows
      precisely how to do this -- it allows PHP code to capture screen
      height and width, something that is normally only possible on
      the client side.
     </p>
     <p class="para">
      </p><div class="example" id="example-5692">
       <p><strong>Example #4 Generating Javascript with PHP</strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'width'</span><span style="color: #007700">])&nbsp;AND&nbsp;isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'height'</span><span style="color: #007700">]))&nbsp;{<br>&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;output&nbsp;the&nbsp;geometry&nbsp;variables<br>&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Screen&nbsp;width&nbsp;is:&nbsp;"</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'width'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">"&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Screen&nbsp;height&nbsp;is:&nbsp;"</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'height'</span><span style="color: #007700">]&nbsp;.</span><span style="color: #DD0000">"&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br>}&nbsp;else&nbsp;{<br>&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;pass&nbsp;the&nbsp;geometry&nbsp;variables<br>&nbsp;&nbsp;//&nbsp;(preserve&nbsp;the&nbsp;original&nbsp;query&nbsp;string<br>&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;--&nbsp;post&nbsp;variables&nbsp;will&nbsp;need&nbsp;to&nbsp;handled&nbsp;differently)<br><br>&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"&lt;script&nbsp;language='javascript'&gt;\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;location.href=\"</span><span style="color: #007700">${</span><span style="color: #0000BB">_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_NAME'</span><span style="color: #007700">]}</span><span style="color: #DD0000">?</span><span style="color: #007700">${</span><span style="color: #0000BB">_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'QUERY_STRING'</span><span style="color: #007700">]}</span><span style="color: #DD0000">"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&amp;width=\"&nbsp;+&nbsp;screen.width&nbsp;+&nbsp;\"&amp;height=\"&nbsp;+&nbsp;screen.height;\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/script&gt;\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;exit();<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

      </div>
     <p></p>
    </dd>
   </dl>

  
 </div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="107551">  
  <a class="name">
  <strong class="user"><em>ciprian dot stingu at gmail dot com</em></strong></a><div class="date" title="2012-02-16 09:45"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom107551">
<div class="phpcode"><code><span class="html">
Using jquery is even easier to send (post) data between javascript and php
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//make an asynchronous request
<br></span><span class="keyword">$.</span><span class="default">post</span><span class="keyword">(</span><span class="string">"somefile.php"</span><span class="keyword">, {</span><span class="string">"Param1" </span><span class="keyword">: </span><span class="default">true</span><span class="keyword">, </span><span class="string">"Param2" </span><span class="keyword">: </span><span class="default">1</span><span class="keyword">, </span><span class="string">"Param3" </span><span class="keyword">: </span><span class="string">"some text"</span><span class="keyword">}, 
<br>&nbsp; &nbsp; function(</span><span class="default">received_data</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//do something with received data
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">$(</span><span class="string">"#some_element"</span><span class="keyword">).</span><span class="default">html</span><span class="keyword">(</span><span class="default">received_data</span><span class="keyword">);
<br>&nbsp; &nbsp; });
<br>
<br></span><span class="comment">//make a post request
<br></span><span class="keyword">$.</span><span class="default">ajax</span><span class="keyword">({
<br>&nbsp; &nbsp; </span><span class="default">type</span><span class="keyword">: </span><span class="string">"POST"</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="default">url</span><span class="keyword">: </span><span class="string">"somefile.php"</span><span class="keyword">,
<br>&nbsp; &nbsp; </span><span class="default">data</span><span class="keyword">: {</span><span class="string">"Param1" </span><span class="keyword">: </span><span class="default">true</span><span class="keyword">, </span><span class="string">"Param2" </span><span class="keyword">: </span><span class="default">1</span><span class="keyword">, </span><span class="string">"Param3" </span><span class="keyword">: </span><span class="string">"some text"</span><span class="keyword">},
<br>&nbsp; &nbsp; </span><span class="default">success</span><span class="keyword">: function(</span><span class="default">received_data</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {</span><span class="comment">//do something with received data},
<br>&nbsp; &nbsp; </span><span class="default">async</span><span class="keyword">: </span><span class="default">false
<br></span><span class="keyword">});
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30372">  
  <a class="name">
  <strong class="user"><em>martellare at hotmail dot com</em></strong></a><div class="date" title="2003-03-15 12:28"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30372">
<div class="phpcode"><code><span class="html">
I do not think you are right about not being able to specify something for the value attribute, but I can see where you would have thought it would fail:
<br>
<br>A fair warning about testing to see if a variable exists...
<br>when it comes to strings, the values '' and '0' are interpreted as false when tested this way...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (</span><span class="default">$string</span><span class="keyword">) { ... }&nbsp; </span><span class="comment">//false for $string == '' || $string == '0'
<br></span><span class="default">?&gt;
<br></span>
<br>The best practice for testing to see if you received a variable from the form (which in the case of a checkbox, only happens when it is checked) is to test using this...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if ( isSet(</span><span class="default">$string</span><span class="keyword">) ) { ... } </span><span class="comment">//true if and only if the variable is set
<br></span><span class="default">?&gt;
<br></span>
<br>The function tests to see if the variable has been set, regardless of its contents.
<br>
<br>By the way, if anyone's curious, when you do make a checkbox without specifying the value attribute, the value sent from the form for that checkbox becomes 'on'.&nbsp; (That's for HTML in general, not PHP-specific).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="27190">  
  <a class="name">
  <strong class="user"><em>martellare at hotmail dot com</em></strong></a><div class="date" title="2002-11-26 11:25"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom27190">
<div class="phpcode"><code><span class="html">
A JavaScript Note: Using element indexes to reference form elements can cause problems when you want to add new elements to your form; it can shift the indexes of the elements that are already there.<br><br>For example, You've got an array of checkboxes that exist at the beginning of a form:<br>===================<br><br>&lt;FORM&gt;<br>&nbsp; &nbsp; &lt;INPUT type="checkbox" name="fruits[]" value="apple"&gt;apple<br>&nbsp; &nbsp; &lt;INPUT type="checkbox" name="fruits[]" value="orange"&gt;orange<br>&nbsp; &nbsp; &lt;INPUT type="checkbox" name="fruits[]" value="banana"&gt;banana<br>&lt;/FORM&gt;<br><br>===================<br>... These elements could be referenced in JavaScript like so:<br>===================<br><br>&lt;SCRIPT language="JavaScript" type="text/javascript"&gt;<br>&lt;!--<br>&nbsp; &nbsp; var index = 0; //could be 1 or 2 as well<br>&nbsp; &nbsp; alert(document.forms[0].elements[index]);<br>//--&gt;<br>&lt;/SCRIPT&gt;<br><br>===================<br>However, if you added a new textbox before these elements, the checkboxes indexes become 1 - 3 instead of 0 - 2;&nbsp; That can mess up what ever code you create depending on those indexes.<br><br>Instead, try referencing your html arrays in JavaScript this way.&nbsp; I know it works in Netscape 4 &amp; IE 6, I hope it to some extent is universal...<br>===================<br><br>&lt;SCRIPT language="JavaScript" type="text/javascript"&gt;<br>&lt;!--<br>&nbsp; &nbsp; var message = "";<br>&nbsp; &nbsp; for (var i = 0; i &lt; document.forms[0].elements['fruits[]'].length; i++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; message += "events[" + i + "]: " + document.forms[0].elements['fruits[]'][i].value + "\n";<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; alert(message);<br>//--&gt;<br>&lt;/SCRIPT&gt;<br><br>===================</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114744">  
  <a class="name">
  <strong class="user"><em>Jay</em></strong></a><div class="date" title="2014-04-01 09:25"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom114744">
<div class="phpcode"><code><span class="html">
If you have a really large form, be sure to check your max_input_vars setting.&nbsp; Your array[] will get truncated if it exceeds this.&nbsp; <a rel="nofollow" target="_blank">http://www.php.net/manual/en/info.configuration.php#ini.max-input-vars</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="26086">  
  <a class="name">
  <strong class="user"><em>bas at cipherware dot nospam dot com</em></strong></a><div class="date" title="2002-10-17 09:52"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26086">
<div class="phpcode"><code><span class="html">
Ad 3. "How do I create arrays in a HTML &lt;form&gt;?":<br><br>You may have problems to access form elements, which have [] in their name, from JavaScript. The following syntax works in IE and Mozilla (Netscape).<br><br>index = 0;<br>theForm = document.forms[0];<br>theTextField = theForm['elementName[]'][index];</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38874">  
  <a class="name">
  <strong class="user"><em>davis at risingtiger dot net</em></strong></a><div class="date" title="2004-01-09 12:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38874">
<div class="phpcode"><code><span class="html">
I thought this might be useful to fellow PHP heads like myself out there.
<br>
<br>I recently came across a need to transfer full fledged mutli-dimensional arrays from PHP to JAVASCRIPT.
<br>
<br>So here it is and hopefuly good things come from it.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">phparray_jscript</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$jsarray</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; function </span><span class="default">loop_through</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$dimen</span><span class="keyword">,</span><span class="default">$localarray</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo (</span><span class="default">$localarray</span><span class="keyword">.</span><span class="default">$dimen</span><span class="keyword">.</span><span class="string">"[\"</span><span class="default">$key</span><span class="string">\"] = new Array();\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">loop_through</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">,(</span><span class="default">$dimen</span><span class="keyword">.</span><span class="string">"[\""</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">"\"]"</span><span class="keyword">),</span><span class="default">$localarray</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo (</span><span class="default">$localarray</span><span class="keyword">.</span><span class="default">$dimen</span><span class="keyword">.</span><span class="string">"[\"</span><span class="default">$key</span><span class="string">\"] = \"</span><span class="default">$value</span><span class="string">\";\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;script language=\"Javascript1.1\"&gt;\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; echo </span><span class="string">"var </span><span class="default">$jsarray</span><span class="string"> = new Array();\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">loop_through</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="default">$jsarray</span><span class="keyword">);
<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;/script&gt;"</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60227">  
  <a class="name">
  <strong class="user"><em>jetboy</em></strong></a><div class="date" title="2005-12-30 07:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60227">
<div class="phpcode"><code><span class="html">
While previous notes stating that square brackets in the name attribute are valid in HTML 4 are correct, according to this:<br><br><a rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/#C_8</a><br><br>the type of the name attribute has been changed in XHTML 1.0, meaning that square brackets in XHTML's name attribute are not valid.<br><br>Regardless, at the time of writing, the W3C's validator doesn't pick this up on a XHTML document.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42968">  
  <a class="name">
  <strong class="user"><em>vlad at vkelman dot com</em></strong></a><div class="date" title="2004-06-04 07:04"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom42968">
<div class="phpcode"><code><span class="html">
"4.&nbsp; How do I get all the results from a select multiple HTML tag?"<br><br>I think that behavior of PHP which forces to use [] after a name of 'select' control with multiple attribute specified is very unfortunate. I understand it comes from old times when registerglobals = on was commonly used. But it creates incompatibility between PHP and ASP or other server-side scripting languages. The same HTML page with 'select' control cannot post to PHP and ASP server pages, because ASP does not require [] and automatically recognize when arrays are posted.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56639">  
  <a class="name">
  <strong class="user"><em>dmsuperman at comcast dot net</em></strong></a><div class="date" title="2005-09-10 09:05"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56639">
<div class="phpcode"><code><span class="html">
Here's a great way to pass JavaScript to PHP without even leaving the page:<br><br>&lt;script type="text/javascript"&gt;<br>&lt;!--<br><br>function xmlreq(){<br>&nbsp; if(window.XMLHttpRequest){<br>&nbsp; &nbsp; req = new XMLHttpRequest();<br>&nbsp; }else if(window.ActiveXObject){<br>&nbsp; &nbsp; req = new ActiveXObject("Microsoft.XMLHTTP");<br>&nbsp; }<br>&nbsp; return(req);<br>}<br>function sendPhp(url){<br>&nbsp; var req = xmlreq();<br>&nbsp; req.onreadystatechange = stateHandler;<br>&nbsp; req.open("GET", url, true);<br>&nbsp; req.send(null);<br>}<br><br>sendPhp("updatedatabase.php?username=blah&amp;displayname=whatever");<br>//--&gt;<br>&lt;/script&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70990">  
  <a class="name">
  <strong class="user"><em>francesco</em></strong></a><div class="date" title="2006-11-07 06:41"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70990">
<div class="phpcode"><code><span class="html">
Another way to pass variables from JavaScript to PHP.<br><br>&lt;script type="text/javascript" language="JavaScript"&gt;<br>&lt;!--<br>function getScreenResolution()<br>{<br>&nbsp; &nbsp; return document.form.ScreenResolution.value = screen.width + "x" + screen.height;<br>}<br>//--&gt;<br>&lt;/script&gt;<br>&lt;form name="form" action="screen.php?show=ok" method="post" &gt;<br>&lt;input name="ScreenResolution" type="text" size="20" maxlength="9" /&gt;<br>&lt;input name="show" type="submit" value="Submit" onclick="getScreenResolution()" /&gt;<br>&lt;/form&gt;<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'ScreenResolution'</span><span class="keyword">];<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40754">  
  <a class="name">
  <strong class="user"><em>Kenn White kennwhite dot nospam at hotmail dot com</em></strong></a><div class="date" title="2004-03-13 08:18"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom40754">
<div class="phpcode"><code><span class="html">
Concerning XHTML Strict and array notation in forms, hopefully the information below will be useful:<br><br>If I have a form, name="f", and, say, an input text box, name="user_data[Password]", then in Javascript, to reference it I would do something like:<br>&nbsp; &nbsp; <br>var foo = f['user_data[Password]'].value;<br><br>Now, say that in making the switch to XHTML strict, I decide to fully embrace standards compliance, and change my form to id="f", and the input text box to id="user_data[Password]"<br><br>Because these have id instead of name, I discover, that all my javascript validation routines just broke.&nbsp; It seems that I have to now change all my js code to something like:<br><br>document.getElementById( 'user_data[Password]' ).focus();<br><br>I test this on all the major modern browsers, and it works well.&nbsp; I'm thinking, Great!&nbsp; Until I try to validate said page.&nbsp; It turns out that the bracket characters are invalid in id attributes.&nbsp; Ack!&nbsp; So I read this thread:<br><br><a rel="nofollow" target="_blank">http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=</a><br>UTF-8&amp;th=78dea36fd65d9bbe&amp;seekm=<br>pqx99.19%24006.13377%40news.ca.inter.net#link11<br>(link needs to be spliced, sorry)<br><br>What does this mean, I start asking myself?&nbsp; Do I have to abandon my goal to migrate to XHTML strict?&nbsp; Transitional seems so unsatisfying.&nbsp; And why bother with a technique that seems to work on most browsers, if it's broken.&nbsp; Alas, there is hope.<br><br>But then I read <a rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/#h-4.10</a> carefully.&nbsp; It says "name" is deprecated as a form attribute, but *NOT* specifically as an attribute in form *elements*.&nbsp; It seems my solution is to use "id" for the form itself, but I can legally use "name" for the individual form components, such as select and text input boxes.&nbsp; I get the impression that "name" as an attribute is eventually going away completely, but in extensive testing using the W3C validator, it passes "name" on form components, as long as "id" (or, strangely, nothing) is used to denote the form itself.<br><br>So for XHTML strict, the bottom line:<br> 1. form, use id, not name<br> 2. input, use id if you can, but if you need to use bracketed notation (for example, passing PHP arrays), i.e., foo[], you *MUST* use name for XHTML strict validation.<br> <br>-kenn<br><br>kennwhite.nospam@hotmail.com</span>
</code></div>
  </div>
 </div>
  <div class="note" id="48636">  
  <a class="name">
  <strong class="user"><em>dreptack at op dot pl</em></strong></a><div class="date" title="2005-01-02 12:37"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom48636">
<div class="phpcode"><code><span class="html">
I needed to post html form through image input element. But my problem was I had to use multiple image-buttons, each one for a single row of form table. Pressing the button was mention to tell script to delete this row from table and also (in the same request) save other data from the form table.<br>I wrote simple test-script to see what variable I should check for in a script:<br><br>I have a html document:<br><br>&lt;form action="test.php" method="post"&gt;<br>&lt;input type="image" name="varscalar" src="/images/no.gif" /&gt;<br>&lt;input type="image" name="vararray[12]" src="/images/no.gif" /&gt;<br>&lt;/form&gt;<br><br>And a php script:<br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">if (</span><span class="default">$_POST</span><span class="keyword">) {<br>&nbsp; &nbsp; echo </span><span class="string">"post: &lt;pre&gt;"</span><span class="keyword">; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">); echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br>&nbsp; }<br></span><span class="default">?&gt;<br></span><br>What I've discovered suprised me a lot!<br><br>After hitting on varscalar: <br><br>post: <br>Array<br>(<br>&nbsp; &nbsp; [varscalar_x] =&gt; 6<br>&nbsp; &nbsp; [varscalar_y] =&gt; 7<br>)<br><br>After hitting on upper right corner of vararray:<br><br>post: <br>Array<br>(<br>&nbsp; &nbsp; [vararray] =&gt; Array<br>&nbsp; &nbsp; &nbsp; &nbsp; (<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [12] =&gt; 2<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br><br>)<br><br>This mean when clicking on image-type input element, which name is an array, only y-part of a value is remembered.<br><br>The result is the same on: php 4.1.2 on Win98se, php 4.3.9-1 on linux</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68831">  
  <a class="name">
  <strong class="user"><em>tchibolecafe at freemail dot hu</em></strong></a><div class="date" title="2006-08-12 04:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68831">
<div class="phpcode"><code><span class="html">
Notes on question "1. What encoding/decoding do I need when I pass a value through a<br>form/URL?"<br><br>Doing an htmlspecialchars() when echoing a string as an HTML attribute value is not enough to make the string safe if you have accented (non-ASCII) characters in it. See <a rel="nofollow" target="_blank">http://www.w3.org/TR/REC-html40/appendix/notes.html#non-ascii-chars</a> <br><br>The referred document recommends the following method to be used:<br><br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">function </span><span class="default">fs_attr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$c</span><span class="keyword">=</span><span class="default">$path</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">};<br>&nbsp; &nbsp; &nbsp; if(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">)&lt;</span><span class="default">128</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">$c</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">);<br>&nbsp; }<br><br>&nbsp; </span><span class="default">$img_path</span><span class="keyword">=</span><span class="string">'.jpg'</span><span class="keyword">;<br>&nbsp; echo </span><span class="string">'&lt;img src="'</span><span class="keyword">.</span><span class="default">fs_attr</span><span class="keyword">(</span><span class="default">$img_path</span><span class="keyword">).</span><span class="string">'"&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>However, using utf8 encoding for path names is among others supported by Windows NT, above method fails when running for example on an Apache server on Linux.<br><br>A more fail safe way:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">fs_attr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c</span><span class="keyword">=</span><span class="default">$path</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">};<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">)&lt;</span><span class="default">128</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">$c</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">PHP_OS</span><span class="keyword">===</span><span class="string">'WINNT'</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$retval</span><span class="keyword">.=</span><span class="default">urlencode</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">$retval</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>There may be operating systems that want utf8 encoding, other than WINNT. Even this latter one won't work on those systems. I don't know about any possibility to determine immediately which encoding to be used on the file system of the server...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="53921">  
  <a class="name">
  <strong class="user"><em>levinb at cs dot rpi dot edu</em></strong></a><div class="date" title="2005-06-16 09:17"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom53921">
<div class="phpcode"><code><span class="html">
Well, I was working on this one project, on the assumption that I could get the values of all elements with the same name from an appropriately named array.&nbsp; Well, I was *very* disappointed when I couldn't, so I made it so I did anyway.<br><br>The following script should convert the raw post data to a $_POST variable, with form data from SELECT elements and their ilk being transformed into an array.&nbsp; It's heavily unoptimized, and I probably missed something, but it's relatively easy to read.&nbsp; I welcome corrections.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">if (</span><span class="default">$_POST</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$postdata </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">'php://input'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$uglybugger </span><span class="keyword">= </span><span class="string">'/(?&lt;=&amp;)([^&amp;=]+)(?:=([^&amp;]*))/'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$matches </span><span class="keyword">= array();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$uglybugger</span><span class="keyword">, </span><span class="default">$postdata</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_POST </span><span class="keyword">= array();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$match_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$match_count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]])) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]] = array();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]][] = </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$match_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$match_count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) == </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$_POST</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/faq.html.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:24:33 GMT -->


</body></html>