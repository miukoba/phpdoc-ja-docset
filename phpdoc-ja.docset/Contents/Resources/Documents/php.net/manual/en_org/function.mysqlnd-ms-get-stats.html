<html><!-- Mirrored from php.net/manual/en/function.mysqlnd-ms-get-stats.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:05:15 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>mysqlnd_ms_get_stats</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mysqlnd-ms-get-stats.html">
 <link rel="shorturl" href="http://php.net/mysqlnd-ms-get-stats">
 <link rel="alternate" href="http://php.net/mysqlnd-ms-get-stats" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.mysqlnd-ms.html">
 <link rel="prev" href="function.mysqlnd-ms-get-last-used-connection.html">
 <link rel="next" href="function.mysqlnd-ms-match-wild.html">

 <link rel="alternate" href="function.mysqlnd-ms-get-stats.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.mysqlnd-ms-get-stats.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.mysqlnd-ms-get-stats.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.mysqlnd-ms-get-stats.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.mysqlnd-ms-get-stats.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.mysqlnd-ms-get-stats.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.mysqlnd-ms-get-stats.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.mysqlnd-ms-get-stats.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.mysqlnd-ms-get-stats.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.mysqlnd-ms-get-stats.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.mysqlnd-ms-get-stats.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="set.mysqlinfo.html">MySQL</a></li>      <li><a href="book.mysqlnd-ms.html">mysqlnd_ms</a></li>      <li><a href="ref.mysqlnd-ms.html">Mysqlnd_ms Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.mysqlnd-ms-get-stats" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqlnd_ms_get_stats</h1>
  <p class="verinfo">(PECL mysqlnd_ms &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">mysqlnd_ms_get_stats</span> â€” <span class="dc-title">Returns query distribution and connection statistics</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mysqlnd-ms-get-stats-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> 
   <span class="methodname"><strong>mysqlnd_ms_get_stats</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">
   Returns an array of statistics collected by the replication
   and load balancing plugin.
  </p>
  <p class="para">
   The PHP configuration setting
   <em><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.collect-statistics" class="link">mysqlnd_ms.collect_statistics</a></em>
   controls the collection of statistics. The collection of statistics
   is disabled by default for performance reasons.
  </p>
  <p class="para">
   The scope of the statistics is the
   <em>PHP</em> process.
   Depending on your deployment model a
   <em>PHP</em> process may handle one or multiple requests.
  </p>
  <p class="para">
   Statistics are aggregated for all connections and all storage handler. It is not possible
   to tell how much queries originating from
   <em>mysqli</em>,
   <em>PDO_MySQL</em> or
   <em>mysql</em> API calls have
   contributed to the aggregated data values.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysqlnd-ms-get-stats-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">This function has no parameters.</p>
 </div>


<div class="refsect1 returnvalues" id="refsect1-function.mysqlnd-ms-get-stats-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>NULL</code></strong> if
   the PHP configuration directive
   <a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.enable" class="link"><em>mysqlnd_ms.enable</em></a>
   has disabled the plugin. Otherwise, returns array of statistics.
  </p>
  <p class="para">
   Array of statistics
  </p>
  <table class="doctable informaltable">
   
    <colgroup><col width="1*">
    <col width="7*">
    <col width="2*">
    </colgroup><thead>
     <tr>
      <th>Statistic</th>
      <th>Description</th>
      <th>Version</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>
       <em>use_slave</em>
      </td>
      <td>
       <p class="para">
         The semantics of this statistic has changed between 1.0.1 - 1.1.0.
       </p>
       <p class="para">
         The meaning for version 1.0.1 is as follows.
         Number of statements considered as read-only by the built-in query analyzer.
         Neither statements which begin with a SQL hint to force
         use of slave nor statements directed to a slave by an user-defined
         callback are included. The total number of statements sent to the slaves is
         <em>use_slave</em> + <em>use_slave_sql_hint</em> +
         <em>use_slave_callback</em>.
        </p>
        <p class="para">
         PECL/mysqlnd_ms 1.1.0 introduces a new concept of chained filters. The
         statistics is now set by the internal load balancing filter. With
         version 1.1.0 the load balancing filter is always the last in the
         filter chain, if used. In future versions a load balancing filter may be
         followed by other filters causing another change in the meaning of
         the statistic. If, in the future, a load balancing filter is followed
         by another filter it is no longer guaranteed that the statement, which
         increments <em>use_slave</em>, will be executed on the slaves.
        </p>
        <p class="para">
         The meaning for version 1.1.0 is as follows. Number of statements
         sent to the slaves. Statements directed to a slave by the user filter
         (an user-defined callback) are not included. The latter are counted by
         <em>use_slave_callback</em>.
        </p>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_master</em>
      </td>
      <td>
       <p class="para">
         The semantics of this statistic has changed between 1.0.1 - 1.1.0.
       </p>
       <p class="para">
        The meaning for version 1.0.1 is as follows.
        Number of statements not considered as read-only by the built-in query analyzer.
        Neither statements which begin with a SQL hint to force
        use of master nor statements directed to a master by an user-defined
        callback are included. The total number of statements sent to the master is
        <em>use_master</em> + <em>use_master_sql_hint</em> +
        <em>use_master_callback</em>.
       </p>
       <p class="para">
         PECL/mysqlnd_ms 1.1.0 introduces a new concept of chained filters. The
         statictics is now set by the internal load balancing filter. With
         version 1.1.0 the load balancing filter is always the last in the
         filter chain, if used. In future versions a load balancing filter may be
         followed by other filters causing another change in the meaning of
         the statistic. If, in the future, a load balancing filter is followed
         by another filter it is no longer guaranteed that the statement, which
         increments <em>use_master</em>, will be executed on the slaves.
        </p>
        <p class="para">
         The meaning for version 1.1.0 is as follows. Number of statements
         sent to the masters. Statements directed to a master by the user filter
         (an user-defined callback) are not included. The latter are counted by
         <em>use_master_callback</em>.
        </p>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_slave_guess</em>
      </td>
      <td>
       Number of statements the built-in query analyzer recommends sending to
       a slave because they contain no SQL hint to force use of a
       certain server. The recommendation may be overruled in the following.
       It is not guaranteed whether the statement will be executed on a slave
       or not. This is how often the internal <em>is_select</em>
       function has guessed that a slave shall be used. Please, see also the
       user space function <span class="function"><a href="function.mysqlnd-ms-query-is-select.html" class="function">mysqlnd_ms_query_is_select()</a></span>.
      </td>
      <td>Since 1.1.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_master_guess</em>
      </td>
      <td>
       Number of statements the built-in query analyzer recommends sending to
       a master because they contain no SQL hint to force use of a
       certain server. The recommendation may be overruled in the following.
       It is not guaranteed whether the statement will be executed on a slave
       or not. This is how often the internal <em>is_select</em>
       function has guessed that a master shall be used. Please, see also the
       user space function <span class="function"><a href="function.mysqlnd-ms-query-is-select.html" class="function">mysqlnd_ms_query_is_select()</a></span>.
      </td>
      <td>Since 1.1.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_slave_sql_hint</em>
      </td>
      <td>
       Number of statements sent to a slave because statement begins with
       the SQL hint to force use of slave.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_master_sql_hint</em>
      </td>
      <td>
       Number of statements sent to a master because statement begins with
       the SQL hint to force use of master.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_last_used_sql_hint</em>
      </td>
      <td>
       Number of statements sent to server which has run the previous statement,
       because statement begins with the SQL hint to force use of previously
       used server.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_slave_callback</em>
      </td>
      <td>
       Number of statements sent to a slave because an user-defined callback
       has chosen a slave server for statement execution.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>use_master_callback</em>
      </td>
      <td>
       Number of statements sent to a master because an user-defined callback
       has chosen a master server for statement execution.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>non_lazy_connections_slave_success</em>
      </td>
      <td>
       Number of successfully opened slave connections from
       configurations not using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
       The total number of successfully opened slave connections
       is <em>non_lazy_connections_slave_success</em> +
       <em>lazy_connections_slave_success</em>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>non_lazy_connections_slave_failure</em>
      </td>
      <td>
       Number of failed slave connection attempts from
       configurations not using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
       The total number of failed slave connection attempts
       is <em>non_lazy_connections_slave_failure</em> +
       <em>lazy_connections_slave_failure</em>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>non_lazy_connections_master_success</em>
      </td>
      <td>
       Number of successfully opened master connections from
       configurations not using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
       The total number of successfully opened master connections
       is <em>non_lazy_connections_master_success</em> +
       <em>lazy_connections_master_success</em>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>non_lazy_connections_master_failure</em>
      </td>
      <td>
       Number of failed master connection attempts from
       configurations not using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
       The total number of failed master connection attempts
       is <em>non_lazy_connections_master_failure</em> +
       <em>lazy_connections_master_failure</em>
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>lazy_connections_slave_success</em>
      </td>
      <td>
       Number of successfully opened slave connections from
       configurations using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>lazy_connections_slave_failure</em>
      </td>
      <td>
       Number of failed slave connection attempts from
       configurations using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>lazy_connections_master_success</em>
      </td>
      <td>
       Number of successfully opened master connections from
       configurations using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>lazy_connections_master_failure</em>
      </td>
      <td>
       Number of failed master connection attempts from
       configurations using
       <em><a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.lazy-connections" class="link">lazy connections</a></em>.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>trx_autocommit_on</em>
      </td>
      <td>
       Number of <em>autocommit</em> mode activations via API calls.
       This figure may be used to monitor activity related to the plugin configuration
       setting
       <a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.trx-stickiness" class="link"><em>trx_stickiness</em></a>.
       If, for example, you want to know if a certain API call invokes the
       <em>mysqlnd</em> library function <em>trx_autocommit()</em>,
       which is a requirement for
       <a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.trx-stickiness" class="link"><em>trx_stickiness</em></a>,
       you may call the user API function in question and check if the
       statistic has changed. The statistic is modified only by the
       plugins internal subclassed <em>trx_autocommit()</em>
       method.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>trx_autocommit_off</em>
      </td>
      <td>
       Number of <em>autocommit</em> mode deactivations via API calls.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>trx_master_forced</em>
      </td>
      <td>
       Number of statements redirected to the master while
       <a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.trx-stickiness" class="link"><em>trx_stickiness=master</em></a>
       and <em>autocommit</em> mode is disabled.
      </td>
      <td>Since 1.0.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_autocommit_injections_success</em>
      </td>
      <td>
       Number of successful SQL injections in autocommit mode as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_autocommit_injections_failure</em>
      </td>
      <td>
       Number of failed SQL injections in autocommit mode as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_commit_injections_success</em>
      </td>
      <td>
       Number of successful SQL injections in commit mode as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_commit_injections_failure</em>
      </td>
      <td>
       Number of failed SQL injections in commit mode as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_implicit_commit_injections_success</em>
      </td>
      <td>
       Number of successful SQL injections when implicit commit is detected as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
       Implicit commit happens, for example, when autocommit has been turned
       off, a query is executed and autocommit is enabled again. In that case,
       the statement will be committed by the server and SQL to maintain is
       injected before the autocommit is re-enabled. Another sequence
       causing an implicit commit is <em>begin()</em>,
       <em>query()</em>, <em>begin()</em>. The second call
       to <em>begin()</em> will implicitly commit the transaction
       started by the first call to <em>begin()</em>.
       <em>begin()</em> refers to internal library calls not actual
       PHP user API calls.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>gtid_implicit_commit_injections_failure</em>
      </td>
      <td>
       Number of failed SQL injections when implicit commit is detected as part
       of the plugins client-side
       <a href="mysqlnd-ms.gtid.html" class="link">global transaction id emulation</a>.
       Implicit commit happens, for example, when autocommit has been turned
       off, a query is executed and autocommit is enabled again. In that case,
       the statement will be committed by the server and SQL to maintain is
       injected before the autocommit is re-enabled.
      </td>
      <td>Since 1.2.0.</td>
     </tr>

     <tr>
      <td>
       <em>transient_error_retries</em>
      </td>
      <td>
       How often an operation has been retried when a transient error was
       detected. See also,
       <a href="mysqlnd-ms.plugin-ini-json.html#ini.mysqlnd-ms-plugin-config-v2.transient_error" class="link"><em>transient_error</em></a>
       plugin configuration file setting.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>fabric_sharding_lookup_servers_success</em>
      </td>
      <td>
       Number of successful <em>sharding.lookup_servers</em>
       remote procedure calls to MySQL Fabric.
       A call is considered successful if the plugin could reach MySQL
       Fabric and got any reply. The reply itself may or may not be
       understood by the plugin. Success refers to the network transport
       only. If the reply was not understood or indicates a valid error condition,
       <em>fabric_sharding_lookup_servers_xml_failure</em>
       gets incremented.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>fabric_sharding_lookup_servers_failure</em>
      </td>
      <td>
       Number of failed <em>sharding.lookup_servers</em>
       remote procedure calls to MySQL Fabric.
       A remote procedure call is considered failed if there was a
       network error in connecting to, writing to or reading from
       MySQL Fabric.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>fabric_sharding_lookup_servers_time_total</em>
      </td>
      <td>
       Time spent connecting to,writing to and reading from MySQL
       Fabrich during the <em>sharding.lookup_servers</em>
       remote procedure call. The value is aggregated for all calls. Time is
       measured in microseconds.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>fabric_sharding_lookup_servers_bytes_total</em>
      </td>
      <td>
       Total number of bytes received from MySQL Fabric in reply to
       <em>sharding.lookup_servers</em> calls.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>fabric_sharding_lookup_servers_xml_failure</em>
      </td>
      <td>
       How often a reply from MySQL Fabric to
       <em>sharding.lookup_servers</em> calls was not understood.
       Please note, the current experimental implementation does not
       distinguish between valid errors returned and malformed replies.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_begin</em>
      </td>
      <td>
       How many XA/distributed transactions have been started
       using <span class="function"><a href="function.mysqlnd-ms-xa-begin.html" class="function">mysqlnd_ms_xa_begin()</a></span>.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_commit_success</em>
      </td>
      <td>
       How many XA/distributed transactions have been successfully committed
       using <span class="function"><a href="function.mysqlnd-ms-xa-commit.html" class="function">mysqlnd_ms_xa_commit()</a></span>.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_commit_failure</em>
      </td>
      <td>
       How many XA/distributed transactions failed to commit
       during <span class="function"><a href="function.mysqlnd-ms-xa-commit.html" class="function">mysqlnd_ms_xa_commit()</a></span>.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_rollback_success</em>
      </td>
      <td>
       How many XA/distributed transactions have been successfully rolled back
       using <span class="function"><a href="function.mysqlnd-ms-xa-rollback.html" class="function">mysqlnd_ms_xa_rollback()</a></span>. The figure does
       not include implict rollbacks performed as a result of
       <span class="function"><a href="function.mysqlnd-ms-xa-commit.html" class="function">mysqlnd_ms_xa_commit()</a></span> failure.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_rollback_failure</em>
      </td>
      <td>
       How many XA/distributed transactions could not be rolled back.
       This includes failures of <span class="function"><a href="function.mysqlnd-ms-xa-rollback.html" class="function">mysqlnd_ms_xa_rollback()</a></span>
       but also failured during rollback when closing a connection, if
       <em>rollback_on_close</em> is set. Please, see also
       <em>xa_rollback_on_close</em> below.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_participants</em>
      </td>
      <td>
       Total number of participants in any XA transaction started with
       <span class="function"><a href="function.mysqlnd-ms-xa-begin.html" class="function">mysqlnd_ms_xa_begin()</a></span>.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>xa_rollback_on_close</em>
      </td>
      <td>
       How many XA transactions have been rolled back implicitly when
       a connection was close and <em>rollback_on_close</em> is set.
       Depending on your coding policies, this may hint a flaw in your code as
       you may prefer to explicitly clean up resources.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_masters_total</em>
      </td>
      <td>
       Number of master servers (connections) in the internal connection pool.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_slaves_total</em>
      </td>
      <td>
       Number of slave servers (connections) in the internal connection pool.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_masters_active</em>
      </td>
      <td>
       Number of master servers (connections) from the internal connection pool
       which are currently used for picking a connection.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_slaves_active</em>
      </td>
      <td>
       Number of slave servers (connections) from the internal connection pool
       which are currently used for picking a connection.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

       <tr>
      <td>
       <em>pool_updates</em>
      </td>
      <td>
       How often the active connection list has been replaced and a
       new set of master and slave servers had been installed.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_master_reactivated</em>
      </td>
      <td>
       How often a master connection has been reused after being
       flushed from the active list.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <em>pool_slave_reactivated</em>
      </td>
      <td>
       How often a slave connection has been reused after being
       flushed from the active list.
      </td>
      <td>Since 1.6.0.</td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.mysqlnd-ms-get-stats-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-1933">
    <p><strong>Example #1 <span class="function"><strong>mysqlnd_ms_get_stats()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"mysqlnd_ms.enable&nbsp;=&nbsp;%d\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"mysqlnd_ms.enable"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"mysqlnd_ms.collect_statistics&nbsp;=&nbsp;%d\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">"mysqlnd_ms.collect_statistics"</span><span style="color: #007700">));<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">mysqlnd_ms_get_stats</span><span style="color: #007700">());<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>mysqlnd_ms.enable = 1
mysqlnd_ms.collect_statistics = 1
array(26) {
  ["use_slave"]=&gt;
  string(1) "0"
  ["use_master"]=&gt;
  string(1) "0"
  ["use_slave_guess"]=&gt;
  string(1) "0"
  ["use_master_guess"]=&gt;
  string(1) "0"
  ["use_slave_sql_hint"]=&gt;
  string(1) "0"
  ["use_master_sql_hint"]=&gt;
  string(1) "0"
  ["use_last_used_sql_hint"]=&gt;
  string(1) "0"
  ["use_slave_callback"]=&gt;
  string(1) "0"
  ["use_master_callback"]=&gt;
  string(1) "0"
  ["non_lazy_connections_slave_success"]=&gt;
  string(1) "0"
  ["non_lazy_connections_slave_failure"]=&gt;
  string(1) "0"
  ["non_lazy_connections_master_success"]=&gt;
  string(1) "0"
  ["non_lazy_connections_master_failure"]=&gt;
  string(1) "0"
  ["lazy_connections_slave_success"]=&gt;
  string(1) "0"
  ["lazy_connections_slave_failure"]=&gt;
  string(1) "0"
  ["lazy_connections_master_success"]=&gt;
  string(1) "0"
  ["lazy_connections_master_failure"]=&gt;
  string(1) "0"
  ["trx_autocommit_on"]=&gt;
  string(1) "0"
  ["trx_autocommit_off"]=&gt;
  string(1) "0"
  ["trx_master_forced"]=&gt;
  string(1) "0"
  ["gtid_autocommit_injections_success"]=&gt;
  string(1) "0"
  ["gtid_autocommit_injections_failure"]=&gt;
  string(1) "0"
  ["gtid_commit_injections_success"]=&gt;
  string(1) "0"
  ["gtid_commit_injections_failure"]=&gt;
  string(1) "0"
  ["gtid_implicit_commit_injections_success"]=&gt;
  string(1) "0"
  ["gtid_implicit_commit_injections_failure"]=&gt;
  string(1) "0"
  ["transient_error_retries"]=&gt;
  string(1) "0"
}
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mysqlnd-ms-get-stats-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member">
     <a href="mysqlnd-ms.configuration.html" class="link">Runtime configuration</a>
    </li>
    <li class="member">
     <a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.collect-statistics" class="link">mysqlnd_ms.collect_statistics</a>
    </li>
    <li class="member">
     <a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.enable" class="link">mysqlnd_ms.enable</a>
    </li>
    <li class="member">
     <a href="mysqlnd-ms.plugin-ini-json.html#mysqlnd-ms.monitoring" class="link">Monitoring</a>
    </li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div>
 <div class="note">There are no user contributed notes for this page.</div></section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.mysqlnd-ms-get-stats.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 17:05:15 GMT -->


</body></html>