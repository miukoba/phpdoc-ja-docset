<html><!-- Mirrored from php.net/manual/en/function.require.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:27:47 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>require</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.require.html">
 <link rel="shorturl" href="http://php.net/require">
 <link rel="alternate" href="http://php.net/require" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="language.control-structures.html">
 <link rel="prev" href="function.return.html">
 <link rel="next" href="function.include.html">

 <link rel="alternate" href="function.require.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.require.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.require.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.require.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.require.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.require.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.require.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.require.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.require.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.require.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.require.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="langref.html">Language Reference</a></li>      <li><a href="language.control-structures.html">Control Structures</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.require" class="sect1">
 <h2 class="title">require</h2>
 <p class="verinfo">(PHP 4, PHP 5)</p>
 
 <p class="para">
  <em>require</em> is identical to <span class="function"><a href="function.include.html" class="function">include</a></span>
  except upon failure it will also produce a fatal <strong><code>E_COMPILE_ERROR</code></strong>
  level error. In other words, it will halt the script whereas
  <span class="function"><a href="function.include.html" class="function">include</a></span> only emits a warning 
  (<strong><code>E_WARNING</code></strong>) which allows the script to continue.
 </p>
 <p class="para">
  See the <span class="function"><a href="function.include.html" class="function">include</a></span> documentation for how this works.
 </p>
 
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="75875">  
  <a class="name">
  <strong class="user"><em>chris at chrisstockton dot org</em></strong></a><div class="date" title="2007-06-19 05:06"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75875">
<div class="phpcode"><code><span class="html">
Remember, when using require that it is a statement, not a function. It's not necessary to write:<br><span class="default">&lt;?php<br> </span><span class="keyword">require(</span><span class="string">'somefile.php'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>The following:<br><span class="default">&lt;?php<br></span><span class="keyword">require </span><span class="string">'somefile.php'</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>Is preferred, it will prevent your peers from giving you a hard time and a trivial conversation about what require really is.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83187">  
  <a class="name">
  <strong class="user"><em>ricardo dot ferro at gmail dot com</em></strong></a><div class="date" title="2008-05-14 11:15"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom83187">
<div class="phpcode"><code><span class="html">
Two functions to help:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">add_include_path </span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; foreach (</span><span class="default">func_get_args</span><span class="keyword">() AS </span><span class="default">$path</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) OR (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) &amp;&amp; </span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) !== </span><span class="string">'dir'</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Include path '</span><span class="keyword">{</span><span class="default">$path</span><span class="keyword">}</span><span class="string">' not exists"</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$paths </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">get_include_path</span><span class="keyword">());<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$paths</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">set_include_path</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>}<br><br>function </span><span class="default">remove_include_path </span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; foreach (</span><span class="default">func_get_args</span><span class="keyword">() AS </span><span class="default">$path</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$paths </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">get_include_path</span><span class="keyword">());<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if ((</span><span class="default">$k </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$paths</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br>&nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$paths</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Include path '</span><span class="keyword">{</span><span class="default">$path</span><span class="keyword">}</span><span class="string">' can not be removed because it is the only"</span><span class="keyword">, </span><span class="default">E_USER_NOTICE</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">set_include_path</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">PATH_SEPARATOR</span><span class="keyword">, </span><span class="default">$paths</span><span class="keyword">));<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="65990">  
  <a class="name">
  <strong class="user"><em>tjeerd</em></strong></a><div class="date" title="2006-05-11 06:41"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom65990">
<div class="phpcode"><code><span class="html">
When using symbolic links with PHP, specify a dotslash './page.php' path to ensure that PHP is looking in the right directory with nested requires:<br><br>E.g. when the required actual page1.php contains other require statements to, say page2.php, PHP will search the path that the symbolic link points to, instead of the path where the symbolic link lives. To let PHP find the other page2.php in the path of the symbolic link, a require('./page2.php'); statement will solve the puzzle.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87191">  
  <a class="name">
  <strong class="user"><em>duccio at getlocal dot it</em></strong></a><div class="date" title="2008-11-23 01:37"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87191">
<div class="phpcode"><code><span class="html">
In response to some dot user at notarealdomain dot com:<br><br>This is because require executes the code "as if" it was code written inside of the function, inheriting everything including the scope. But here there is something even more interesting:<br><br>&lt;requiredfile.php&gt;:<br><span class="default">&lt;?php<br><br>$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">.=</span><span class="string">" is visible also under a require\n"</span><span class="keyword">;<br></span><span class="default">$b</span><span class="keyword">=</span><span class="string">"While the variable b is a local variable of the function\n"</span><span class="keyword">;<br>function </span><span class="default">FunctionUnderRequire</span><span class="keyword">() {<br>&nbsp; &nbsp; echo </span><span class="string">"But the functions declared inside of a require called from a class function, just as when defined from inside any other function, are always global\n"</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>&lt;mainfile.php&gt;:<br><span class="default">&lt;?php<br><br>error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">|</span><span class="default">E_STRICT</span><span class="keyword">);<br><br>class </span><span class="default">UserClass </span><span class="keyword">{<br><br>&nbsp; &nbsp; protected </span><span class="default">$a</span><span class="keyword">;<br><br>&nbsp; &nbsp; public function </span><span class="default">UserFunction</span><span class="keyword">() {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">=</span><span class="string">'The class variable a'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; require </span><span class="string">'requiredfile.php'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">; </span><span class="comment">// "The class variable a&nbsp; is visible also under a require\n"<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">; </span><span class="comment">// Notice: Undefined property: UserClass::$b<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">; </span><span class="comment">// "While the variable b is a local variable of the function\n"<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">FunctionUnderRequire</span><span class="keyword">(); </span><span class="comment">//Fatal error!<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">FunctionUnderRequire</span><span class="keyword">(); </span><span class="comment">// "But the functions..."<br>&nbsp; &nbsp; </span><span class="keyword">}<br>}<br><br></span><span class="default">$UserClass</span><span class="keyword">=new </span><span class="default">UserClass</span><span class="keyword">;<br></span><span class="default">$UserClass</span><span class="keyword">-&gt;</span><span class="default">UserFunction</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span><br>I'm wondering if there is a method for declaring class public/private/protected functions from inside a require/include...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77656">  
  <a class="name">
  <strong class="user"><em>daniel at nohair dot com</em></strong></a><div class="date" title="2007-09-06 07:24"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77656">
<div class="phpcode"><code><span class="html">
I love php.&nbsp; But when file can't be included, 'require' or 'require_once' throw fatal error and halt the script, which is almost never desirable on a mission-critical production server.&nbsp; I think it may be better to use something like the following.&nbsp; <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">if (@include </span><span class="string">'plan_A.php'</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// Plan A;<br></span><span class="keyword">} elseif (@include </span><span class="string">'plan_B.php'</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// Plan B;<br></span><span class="keyword">} else {<br>&nbsp; &nbsp; </span><span class="comment">// Hope never happens.&nbsp; If does, then Email the webmaster;<br>&nbsp; &nbsp; // Call 911, Medic, Fire, Police, the president;<br>&nbsp; &nbsp; // Change hard drive, server, hosting service;<br></span><span class="keyword">}<br><br></span><span class="default">?&gt;<br></span><br>Or handle trouble first is you wish<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">if (!@include </span><span class="string">'plan_A.php'</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// Someone has kidnapped/corrupted Plan_A.php;<br>&nbsp; &nbsp; // Email the webmaster;<br>&nbsp; &nbsp; // Change hard drive, server, hosting service;<br></span><span class="keyword">} else {<br>&nbsp; &nbsp; </span><span class="comment">// Plan A;<br></span><span class="keyword">}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="68126">  
  <a class="name">
  <strong class="user"><em>gabe at websaviour dot com</em></strong></a><div class="date" title="2006-07-13 05:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom68126">
<div class="phpcode"><code><span class="html">
If you are experiencing a bug related to using relative paths with include or require, it may be related to a grandparent directory that is executable but not readable.&nbsp; It will cause __FILE__ to return a relative path instead of the full path which it is supposed to show.&nbsp; This manifests itself in interesting ways that can be seemingly unrelated.&nbsp; For instance, I discovered it using the Smarty {debug} command which failed to find its template due to this issue.&nbsp; Please see the following for more details:<br><br><a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=34552</a><br><a rel="nofollow" target="_blank">http://shiftmanager.net/~kurt/test/</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="72742">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2007-01-31 03:38"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom72742">
<div class="phpcode"><code><span class="html">
A note that drove me nuts for 2 days!<br><br>Be carfull if you have a newline or blank space befor your php tags in the included/required file it will read as html and outputed.<br><br>If your running your output through javascript string evaluations which would be sensitive to newlines/white spaces be carfull that the first chars in the file are the php tages eg &lt;?php</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52596">  
  <a class="name">
  <strong class="user"><em>Marc</em></strong></a><div class="date" title="2005-05-06 10:42"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom52596">
<div class="phpcode"><code><span class="html">
This will sound elementary, but for C++ native programmers, be sure NOT to put a '#' in front of your include statements! The parser will not give you an error, but also will not include the file, making for a tedious debugging process.<br><br>In short, USE:<br><span class="default">&lt;?php<br>&nbsp; &nbsp;&nbsp; </span><span class="keyword">include </span><span class="string">"yourfile.php"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>and DON'T use:<br><span class="default">&lt;?php<br>&nbsp; &nbsp;&nbsp; </span><span class="comment">#include "yourfile.php";<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78517">  
  <a class="name">
  <strong class="user"><em>Peter McDonald</em></strong></a><div class="date" title="2007-10-15 09:21"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78517">
<div class="phpcode"><code><span class="html">
re the comment by moazzamk at gmail dot com<br><br>As the manual states require and require_once as of PHP 4.02 no longer call the file if the line of code it is on should not be executed.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62327">  
  <a class="name">
  <strong class="user"><em>webmaster at netgeekz dot net</em></strong></a><div class="date" title="2006-02-24 09:34"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom62327">
<div class="phpcode"><code><span class="html">
I have learnt to manipulate this code into an effecitve and easy to use form. I use it with require_once, but it could be used for require.<br><br>require_once($_SERVER['DOCUMENT_ROOT'].'/includes/top.php');<br><br>This mainly jumps back to the servers document root and then begins to enter the directories defined until it finds the file. In this case it would go back to the root of the server, or whatever your document root is, and then enter includes. there it would search for the top.php file. Simple to use, yet effective...espcially for people like me who re-use code or move files to different directories. I don't have to fix the includes, because they all work the same way.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76348">  
  <a class="name">
  <strong class="user"><em>some dot user at notarealdomain dot com</em></strong></a><div class="date" title="2007-07-11 07:58"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76348">
<div class="phpcode"><code><span class="html">
Discovered a bit of weird behavior yesterday involving require() (using PHP 5.2.3).&nbsp; If you use require() inside a function, the "globals" in the file will be local to the function.&nbsp; An example of this:<br><br>test.php:<br><span class="default">&lt;?php<br>&nbsp; </span><span class="keyword">function </span><span class="default">TestFunc</span><span class="keyword">()<br>&nbsp; {<br>&nbsp; &nbsp; require(</span><span class="string">'test2.php'</span><span class="keyword">);<br>&nbsp; &nbsp; echo </span><span class="string">"&lt;pre&gt;" </span><span class="keyword">. </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$GLOBALS</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">) . </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br>&nbsp; }<br></span><span class="default">?&gt;<br></span><br>test2.php:<br><span class="default">&lt;?php<br>&nbsp; $MyTestGlobal </span><span class="keyword">= Array();<br></span><span class="default">?&gt;<br></span><br>This happens because require is a statement that _inlines_ the target code - not a function that gets called.<br><br>To fix this, use the $GLOBALS superglobal:<br><br>test2.php:<br><span class="default">&lt;?php<br>&nbsp; $GLOBALS</span><span class="keyword">[</span><span class="string">"MyTestGlobal"</span><span class="keyword">] = Array();<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70463">  
  <a class="name">
  <strong class="user"><em>bmessenger at 3servicesolution dot com</em></strong></a><div class="date" title="2006-10-17 01:06"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70463">
<div class="phpcode"><code><span class="html">
// Looks like I might have a fix for some on the<br>// relative path issue.<br><br>if (!function_exists('bugFixRequirePath'))<br>{<br>&nbsp; &nbsp; function bugFixRequirePath($newPath)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; $stringPath = dirname(__FILE__);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (strstr($stringPath,":")) $stringExplode = "\\";<br>&nbsp; &nbsp; &nbsp; &nbsp; else $stringExplode = "/";<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; $paths = explode($stringExplode,$stringPath);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; $newPaths = explode("/",$newPath);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if (count($newPaths) &gt; 0)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for($i=0;$i&lt;count($newPaths);$i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($newPaths[$i] == "..") array_pop($paths);&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for($i=0;$i&lt;count($newPaths);$i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($newPaths[$i] == "..") unset($newPaths[$i]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reset($newPaths);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $stringNewPath = implode($stringExplode,$paths).<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $stringExplode.implode($stringExplode,$newPaths);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $stringNewPath;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }&nbsp; &nbsp; <br>}<br><br>require_once(bugFixRequirePath("../config.php"));</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66892">  
  <a class="name">
  <strong class="user"><em>Inc</em></strong></a><div class="date" title="2006-05-31 08:35"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom66892">
<div class="phpcode"><code><span class="html">
I have found a problem when I try to access a php file via require($class_directory)<br><br>// # $class_directory contain a long full path and dot into the last folder.<br>// # $class_directory = "/var/.../app/system/plugintoto_1.0/class_plugintoto_1.0.php";<br><br>// dot ('.') and minus ('-') are not accepted in require !</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60987">  
  <a class="name">
  <strong class="user"><em>dave at davidhbrown dot us</em></strong></a><div class="date" title="2006-01-22 12:08"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60987">
<div class="phpcode"><code><span class="html">
re: danielm at unb dot br...<br><br>$_SERVER['DOCUMENT_ROOT'] is very useful, but it is not available with all web servers. Apache has it; IIS doesn't. <br><br>I use the following to make my PHP applications work in more situations:<br><span class="default">&lt;?php<br></span><span class="keyword">if (!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">"BASE_PATH"</span><span class="keyword">)) </span><span class="default">define</span><span class="keyword">(</span><span class="string">'BASE_PATH'</span><span class="keyword">, isset(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">]) ? </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">] : </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PATH_TRANSLATED'</span><span class="keyword">],</span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">*</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_NAME'</span><span class="keyword">])));<br></span><span class="default">?&gt;<br></span><br>...but even that gets tripped up by symlinks to different mount points, etc. You could substitute realpath($_SERVER['PATH_TRANSLATED']), but that function has been reported not to work on some (Windows) servers. One could use the PATH_TRANSLATED for both servers, but I figure if Apache is going to tell me exactly what I want to know, I should listen.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51699">  
  <a class="name">
  <strong class="user"><em>richardbrenner(-at- )gmx(-)at</em></strong></a><div class="date" title="2005-04-07 01:58"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51699">
<div class="phpcode"><code><span class="html">
If you use relativ paths in a php script (file A) that can be required by another php script (file B), be aware that the relativ paths in file A will be relativ to the directory, where file B is stored. <br>You can use the following syntax in file A, to be sure that the paths are relativ to the directory of file A:<br><br>&lt;?<br>require(dirname(__FILE__)."/path/relative/file_to_include.php");<br>?&gt;<br><br>Greetings,<br>Richard</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114328">  
  <a class="name">
  <strong class="user"><em>moreau dot marc dot web at gmail dot com</em></strong></a><div class="date" title="2014-02-07 10:10"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom114328">
<div class="phpcode"><code><span class="html">
Petit script pour résoudre le problème de l'inclusion dans l'inclusion.<br><br>A requiert B qui requiert C -&gt; l'on doit normalement faire correspondre le requiere de B en fonction de l'endroit ou se trouve A dans l'arborescence du site. Pas de souci, sauf si l'on est amené à requérir B depuis une autre page, impossible alors de faire appel au C -&gt; cela retourne une erreur "fichier non trouvé".<br><br>Voici une solution qui marche sur tout type de configuration:<br><br>Dans B:<br><br><span class="default">&lt;?php<br><br>chdir</span><span class="keyword">(</span><span class="default">__DIR__</span><span class="keyword">); </span><span class="comment">//Sert à indiquer à PHP le dossier de référence de travail<br><br></span><span class="default">$file_to_require</span><span class="keyword">=</span><span class="default">realpath</span><span class="keyword">(</span><span class="string">'./../../adresse_de_C_relative_par_raport_a_B.php'</span><span class="keyword">); </span><span class="comment">//Crée l'adresse absolue de C<br><br></span><span class="keyword">require(</span><span class="default">$file_to_require</span><span class="keyword">); unset(</span><span class="default">$file_to_require</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="49864">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2005-02-10 10:29"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom49864">
<div class="phpcode"><code><span class="html">
Note when calling any require or include function, that the call will block if the script given as the parameter is excecuting.<br>Because of this one should be careful when using blocking functions like sleep() in a script which is included by another.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77929">  
  <a class="name">
  <strong class="user"><em>scott</em></strong></a><div class="date" title="2007-09-20 01:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77929">
<div class="phpcode"><code><span class="html">
If you want to verify that a file can be included or required, the simplest solution I've found is just to check that the file exists.<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$pageContentInc</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; require_once </span><span class="default">$pageContentInc</span><span class="keyword">;<br>&nbsp; &nbsp; }else{<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pageContentInc </span><span class="keyword">= </span><span class="string">"common/content_404.inc"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; require_once </span><span class="default">$pageContentInc</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;<br></span><br>Does it really need to be any harder than that?</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113116">  
  <a class="name">
  <strong class="user"><em>hans at ratzinger dot com</em></strong></a><div class="date" title="2013-09-01 05:25"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom113116">
<div class="phpcode"><code><span class="html">
Thanks a lot for this information Brian! This drove me nuts for many hours! This is the first information I found in the web that a white page can be caused by a require -&gt; your script will die if the file is not found!!!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76480">  
  <a class="name">
  <strong class="user"><em>moazzamk at gmail dot com</em></strong></a><div class="date" title="2007-07-17 08:51"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76480">
<div class="phpcode"><code><span class="html">
require and include read the included files even if they are not executed in the code. You can use eval() to avoid this. <br><br>eval('require filename;');<br><br>I don't know if it's faster to have the files included the regular way or the eval way though (in other words, I haven't tested their efficiency). It will be great if someone can test which is better.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97819">  
  <a class="name">
  <strong class="user"><em>Wing</em></strong></a><div class="date" title="2010-05-10 05:04"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom97819">
<div class="phpcode"><code><span class="html">
if you want always include, require, open files using some 'root' folder based path you may may put file '.htroot' in 'root' folder and&nbsp; use this.<br><br>while(!file_exists(getcwd()."/.htroot")){chdir('..');}<br><br>This code change current dir to dir where '.htroot' file located and everywhere you can use relative to 'root' paths.<br><br>Please avoid absent of '.htroot' file.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47589">  
  <a class="name">
  <strong class="user"><em>danielm at unb dot br</em></strong></a><div class="date" title="2004-11-21 11:50"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47589">
<div class="phpcode"><code><span class="html">
if you want to include files with an absolut path reference, you can use:<br><br>require ($_SERVER["DOCUMENT_ROOT"]."/path/to/file.php");<br><br>this way you can organize your files in subdirectories trees.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87675">  
  <a class="name">
  <strong class="user"><em>pedro dot evangelista at gmail dot com</em></strong></a><div class="date" title="2008-12-16 06:23"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom87675">
<div class="phpcode"><code><span class="html">
Be careful when using symbolic links, because require will search the real path of the file and not the path relative to the symbolic link.<br><br>Imagine your script A.php resides on directory /a and you create a symbolic link for it on directory /b/c.<br>So for the code<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">realpath</span><span class="keyword">(</span><span class="string">"../"</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>you might expect the directory /b, but actually you get the root directory /.<br><br>If you need to include the file /b/B.php inside your A.php, you can't use the following<br><br><span class="default">&lt;?php<br></span><span class="keyword">require </span><span class="string">"../B.php"</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>because it will search the root directory, not the /b directory.<br><br>Regards.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.require.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:27:48 GMT -->


</body></html>