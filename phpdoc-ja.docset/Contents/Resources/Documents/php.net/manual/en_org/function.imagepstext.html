<html><!-- Mirrored from php.net/manual/en/function.imagepstext.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:57 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>imagepstext</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imagepstext.html">
 <link rel="shorturl" href="http://php.net/imagepstext">
 <link rel="alternate" href="http://php.net/imagepstext" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.image.html">
 <link rel="prev" href="function.imagepsslantfont.html">
 <link rel="next" href="function.imagerectangle.html">

 <link rel="alternate" href="function.imagepstext.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.imagepstext.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.imagepstext.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.imagepstext.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.imagepstext.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.imagepstext.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.imagepstext.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.imagepstext.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.imagepstext.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.imagepstext.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.imagepstext.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.utilspec.image.html">Image Processing and Generation</a></li>      <li><a href="book.image.html">GD</a></li>      <li><a href="ref.image.html">GD and Image Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.imagepstext" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagepstext</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imagepstext</span> â€” <span class="dc-title">Draws a text over an image using PostScript Type1 fonts</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagepstext-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>imagepstext</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$text</code></span>
   , <span class="methodparam"><span class="type">resource</span> <code class="parameter">$font_index</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$foreground</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$background</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$x</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$y</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$space</code><span class="initializer"> = 0</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$tightness</code><span class="initializer"> = 0</span></span>
   [, <span class="methodparam"><span class="type">float</span> <code class="parameter">$angle</code><span class="initializer"> = 0.0</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$antialias_steps</code><span class="initializer"> = 4</span></span>
  ]]]] )</div>

  <p class="para rdfs-comment">
   Draws a text on an image using PostScript Type1 fonts.
  </p>
  <p class="para">
   Refer to PostScript documentation about fonts and their measuring system
   if you have trouble understanding how this works.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagepstext-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    <dt>
<code class="parameter">
image</code></dt>
<dd>
<p class="para">An image resource, returned by one of the image creation functions,
such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">text</code></dt>

     <dd>

      <p class="para">
       The text to be written.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">font_index</code></dt>

     <dd>

      <p class="para">
       A font resource, returned by <span class="function"><a href="function.imagepsloadfont.html" class="function">imagepsloadfont()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">size</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">size</code> is expressed in pixels.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">foreground</code></dt>

     <dd>

      <p class="para">
       The color in which the text will be painted.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">background</code></dt>

     <dd>

      <p class="para">
       The color to which the text will try to fade in with antialiasing.
       No pixels with the color <code class="parameter">background</code> are 
       actually painted, so the background image does not need to be of solid
       color.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">x</code></dt>

     <dd>

      <p class="para">
       x-coordinate for the lower-left corner of the first character.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y</code></dt>

     <dd>

      <p class="para">
       y-coordinate for the lower-left corner of the first character.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">space</code></dt>

     <dd>

      <p class="para">
       Allows you to change the default value of a space in a font. This
       amount is added to the normal value and can also be negative.
       Expressed in character space units, where 1 unit is 1/1000th of an 
       em-square.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">tightness</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">tightness</code> allows you to control the amount
       of white space between characters. This amount is added to the
       normal character width and can also be negative.
       Expressed in character space units, where 1 unit is 1/1000th of an 
       em-square.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">angle</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">angle</code> is in degrees.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">antialias_steps</code></dt>

     <dd>

      <p class="para">
       Allows you to control the number of colours used for antialiasing 
       text. Allowed values are 4 and 16. The higher value is recommended
       for text sizes lower than 20, where the effect in text quality is
       quite visible.  With bigger sizes, use 4. It's less computationally
       intensive.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagepstext-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   This function returns an array containing the following elements:
   </p><table class="doctable informaltable">
    
     <tbody class="tbody">
      <tr>
       <td>0</td>
       <td>lower left x-coordinate</td>
      </tr>

      <tr>
       <td>1</td>
       <td>lower left y-coordinate</td>
      </tr>

      <tr>
       <td>2</td>
       <td>upper right x-coordinate</td>
      </tr>

      <tr>
       <td>3</td>
       <td>upper right y-coordinate</td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagepstext-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-3364">
   <p><strong>Example #1 <span class="function"><strong>imagepstext()</strong></span> usage</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Create&nbsp;image&nbsp;handle<br></span><span style="color: #0000BB">$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Allocate&nbsp;colors<br></span><span style="color: #0000BB">$black&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$white&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Load&nbsp;the&nbsp;PostScript&nbsp;Font<br></span><span style="color: #0000BB">$font&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagepsloadfont</span><span style="color: #007700">(</span><span style="color: #DD0000">'font.pfm'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Write&nbsp;the&nbsp;font&nbsp;to&nbsp;the&nbsp;image<br></span><span style="color: #0000BB">imagepstext</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Sample&nbsp;text&nbsp;is&nbsp;simple'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$font</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$black</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$white</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Output&nbsp;and&nbsp;free&nbsp;memory<br></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/png'</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imagepstext-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is only available
if PHP is compiled using <strong class="option configure">--with-t1lib[=DIR]</strong>
.
</span></p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imagepstext-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imagepsbbox.html" class="function" rel="rdfs-seeAlso">imagepsbbox()</a> - Give the bounding box of a text rectangle using PostScript Type1 fonts</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="26595">  
  <a class="name">
  <strong class="user"><em>johan (at) 1way2print.net</em></strong></a><div class="date" title="2002-11-06 02:17"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom26595">
<div class="phpcode"><code><span class="html">
If you use fonts with special chars, remeber to read in the encoded file *.enc with imagepsencodefont ... etc. for Danish, Swedish, German.....</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77915">  
  <a class="name">
  <strong class="user"><em>whitemarker dot blogspot dot com</em></strong></a><div class="date" title="2007-09-19 11:28"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom77915">
<div class="phpcode"><code><span class="html">
The documentation above is bad.&nbsp; It says $font:<br>"Can be 1, 2, 3, 4, 5 for built-in fonts in latin2 encoding (where higher numbers corresponding to larger fonts) or any of your own font identifiers registered with imageloadfont()."<br><br>But it can't.&nbsp; When I put in 1,2,3,4,5 I get<br>"Warning: imagepstext() expects parameter 3 to be resource, integer given"<br><br>I get the same thing when using imageloadfont() because imageloadfont() also returns an integer.&nbsp; The documentation should instead say: <br>"resource returned from imagepsloadfont()."</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76624">  
  <a class="name">
  <strong class="user"><em>chrislewis60 at hotmail dot com</em></strong></a><div class="date" title="2007-07-23 07:45"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76624">
<div class="phpcode"><code><span class="html">
imagepstext() appears to be quite memory intensive and we had a problem where about 50% of the time the script would error. You need to make sure PHP has enough memory assigned to it - we had to increase PHP's allocation from 8MB to 16MB for a simple "hello world" example to work smoothly. <br><br>If the png header was commented out it would sometimes error with a message like: <br><br>Warning: imagepstext() [function.imagepstext]: T1Lib Error 11 or 14<br><br>and if the png header was there it would sometimes say: <br><br>The image [...] cannot be displayed, because it contains errors.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="70703">  
  <a class="name">
  <strong class="user"><em>honza dot bartos at gmail dot com</em></strong></a><div class="date" title="2006-10-24 04:38"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom70703">
<div class="phpcode"><code><span class="html">
The coordinates given by x, y represent actually a starting point of the text baseline. They represent the lower left corner of the first character only in case that any part of the character doesn't lie below baseline (it works for "Hello" but for "Howdy" it does not - because of letter y). There may be some small differences according to the font and size chosen.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33895">  
  <a class="name">
  <strong class="user"><em>heckp at uni-trier.de</em></strong></a><div class="date" title="2003-07-10 05:11"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33895">
<div class="phpcode"><code><span class="html">
It is important so make shure that the "text" really is a string.<br><br>imagepstext ($im, $text, $font, $textsize, $black, $white, 10, 10);<br><br>won't work if $text is undefined, so PHP will quit with an error.<br><br>so always write it like this:<br><br>imagepstext ($im, "$text", $font, $textsize, $black, $white, 10, 10);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13055">  
  <a class="name">
  <strong class="user"><em>npdavis at hotmail dot com</em></strong></a><div class="date" title="2001-05-24 08:56"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13055">
<div class="phpcode"><code><span class="html">
One other thing... variables. It is important to convert variables to the proper type before they hit this function. In this respect, ImageTtfText is easier to work with. IE, if you pass a font size from one page to the next, via GPC, it becomes a string type. Sooo... use IntVal() to convert it to an integer type that ImagePsText can digest. In addition you must convert HTML special characters or use chr() to represent special characters. ImagePsFont will not decode &nbsp; to represent a space, use Chr(32) or a space:
<br>
<br><span class="default">&lt;?php
<br>$fontsize</span><span class="keyword">=</span><span class="default">IntVal</span><span class="keyword">(</span><span class="default">$fontsize</span><span class="keyword">);
<br></span><span class="default">$font</span><span class="keyword">=</span><span class="default">ImagePsLoadFont</span><span class="keyword">(</span><span class="string">"fonts/IntR.pfb"</span><span class="keyword">);
<br></span><span class="default">ImagePsText</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$textstring</span><span class="keyword">, </span><span class="default">$font</span><span class="keyword">, </span><span class="default">$fontsize</span><span class="keyword">, </span><span class="default">$textcolor</span><span class="keyword">, </span><span class="default">$background</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$fontsize</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">); </span><span class="comment">//note antialias is set
<br></span><span class="default">ImagePsFreeFont</span><span class="keyword">(</span><span class="default">$font</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>thx,
<br>Neil</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99402">  
  <a class="name">
  <strong class="user"><em>soletan at toxa dot de</em></strong></a><div class="date" title="2010-08-15 07:35"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom99402">
<div class="phpcode"><code><span class="html">
As of PHP 5.2.13 with bundled GD (2.0.34) antialiasing_steps mustn't be "4 to 16", but "4 or 16". Values from 5 to 15 result in a warning.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32680">  
  <a class="name">
  <strong class="user"><em>m.confalonieri(at)mclink.it</em></strong></a><div class="date" title="2003-06-04 06:00"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom32680">
<div class="phpcode"><code><span class="html">
I found a way to let imagepstext understand 32-bit colors (RGBA) by replacing in gd.c:PHP_FUNCTION(imagepstext)<br><br>int _fg, _bg, x, y, size, space = 0, aa_steps = 4, width = 0;<br><br>with<br><br>unsigned int _fg, _bg, x, y, size, space = 0, aa_steps = 4, width = 0;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="29237">  
  <a class="name">
  <strong class="user"><em>Jeroen dot Straahof at newego dot nl</em></strong></a><div class="date" title="2003-02-06 06:12"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom29237">
<div class="phpcode"><code><span class="html">
I made a function that makes it easy to align text to the right<br>of an image. Below you can find the code because for me it<br>works great. You can also use it to center text as well, if you <br>like to have that simply remove the -10 and split the result<br>of $imgwidth and $texwidth<br><br>function AlignRight($string, $font, $imgwidth, $fontsize) {<br>list($lx,$ly,$rx,$ry) = imagepsbbox($string,$font,$fontsize,0,0,0);<br>$textwidth = $rx - $lx;<br>$imw = ($imgwidth-10-$textwidth);<br>return $imw;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19155">  
  <a class="name">
  <strong class="user"><em>a at url dot de</em></strong></a><div class="date" title="2002-02-18 06:16"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom19155">
<div class="phpcode"><code><span class="html">
a note on kernnig:<br>t1lib tries to load a corresponding afm file in the directory of the font file.<br>it does this by replacing the extension (.PFB .pfb) with ".afm". note that this has to be a lowercase afm! usually windows-ps-fonts have file names in all-uppercase, so try renaming the *.AFM file to *.afm.<br><br>i also noticed that sometimes this gives an error -2. it seems like t1lib chokes on windows-linebreaks in the afm file.<br><br>try 'recode dos..lat1 fontfile.afm' and check again.<br><br>if it all works, combinations like "Ta" or "Te" should show the second letter slightly moved to the capital T (on normal fonts like Times anyway).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13057">  
  <a class="name">
  <strong class="user"><em>npdavis at hotmail dot com</em></strong></a><div class="date" title="2001-05-24 09:09"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13057">
<div class="phpcode"><code><span class="html">
If you have a programming error in your code, using ImagePsText, sometimes t1lib crashes with an unrecoverable error. Because of this, httpd needs to be restarted. 
<br>
<br>This problem only occurs if there is a programming error, but can drive you crazy when debugging, if you don't know about it. By killing the parent process(httpd) you "reset" t1lib. When debugging, if you get an error then make a code change, restart httpd before testing it again. This will save hours of frustration. Make it a habit to just restart httpd after every error, and you will be much happier.
<br>
<br>Also, to see debugging messages, (if you are rendering x's) comment the jpeg header, and the ImageJpeg statement. You will get beautiful error messages. When you get a blank page, your ImagePsText code is working correctly. Uncomment the Header() and ImageJpeg() and see what you have. You might be passing parameters that render a white image with no text, but the code is working!
<br>
<br>Numeric t1lib error messages can be decoded using the t1lib_doc.pdf file that comes with t1lib. PHP simply relays these errors from t1lib to the page. Please don't ask the PHP people about these errors... t1lib has beautiful documentation.... use it: )
<br>
<br>thx,
<br>Neil</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13023">  
  <a class="name">
  <strong class="user"><em>npdavis at hotmail dot com</em></strong></a><div class="date" title="2001-05-22 05:54"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13023">
<div class="phpcode"><code><span class="html">
with a font included in t1lib:
<br>
<br><span class="default">&lt;?PHP
<br>Header </span><span class="keyword">(</span><span class="string">"Content-type: image/jpeg"</span><span class="keyword">);
<br></span><span class="default">$im </span><span class="keyword">= </span><span class="default">ImageCreate </span><span class="keyword">(</span><span class="default">350</span><span class="keyword">, </span><span class="default">45</span><span class="keyword">);
<br></span><span class="default">$black </span><span class="keyword">= </span><span class="default">ImageColorAllocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);
<br></span><span class="default">$white </span><span class="keyword">= </span><span class="default">ImageColorAllocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);
<br></span><span class="default">$font</span><span class="keyword">=</span><span class="default">ImagePsLoadFont</span><span class="keyword">(</span><span class="string">"bchbi.pfb"</span><span class="keyword">);
<br></span><span class="default">ImagePsText</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="string">"Testing... It worked!"</span><span class="keyword">,
<br></span><span class="default">$font</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="default">$white</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">);
<br></span><span class="default">ImagePsFreeFont</span><span class="keyword">(</span><span class="default">$font</span><span class="keyword">); 
<br></span><span class="default">ImageJpeg</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">);</span><span class="comment">//for best quality... your mileage may vary
<br></span><span class="default">ImageDestroy </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Better than using freetype, but with freetype2, the difference is marginal. To flip backround and foreground colors, alternate the order of ImageColorAllocate statements.
<br> 
<br>If you get outlines (the antialiasing produces these) reverse the $black and $white color identifiers in the ImagePsText function.
<br>
<br>Happy PostScripting!
<br>
<br>thx,
<br>Neil</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.imagepstext.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:00:57 GMT -->


</body></html>