<html><!-- Mirrored from php.net/manual/en/function.ereg-replace.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:01 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>ereg_replace</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.ereg-replace.html">
 <link rel="shorturl" href="http://php.net/ereg-replace">
 <link rel="alternate" href="http://php.net/ereg-replace" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.regex.html">
 <link rel="prev" href="ref.regex.html">
 <link rel="next" href="function.ereg.html">

 <link rel="alternate" href="function.ereg-replace.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.ereg-replace.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.ereg-replace.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.ereg-replace.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.ereg-replace.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.ereg-replace.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.ereg-replace.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.ereg-replace.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.ereg-replace.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.ereg-replace.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.ereg-replace.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.regex.html">POSIX Regex</a></li>      <li><a href="ref.regex.html">POSIX Regex Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.ereg-replace" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ereg_replace</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">ereg_replace</span> â€” <span class="dc-title">Replace regular expression</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ereg-replace-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>ereg_replace</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$replacement</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>
   )</div>

  <p class="simpara">
   This function scans <code class="parameter">string</code> for matches to
   <code class="parameter">pattern</code>, then replaces the matched text
   with <code class="parameter">replacement</code>.
  </p>
  <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This function has been
<em class="emphasis">DEPRECATED</em> as of PHP 5.3.0. Relying on this feature is
highly discouraged.</p></div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ereg-replace-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">
       A POSIX extended regular expression.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">replacement</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">pattern</code> contains parenthesized substrings,
       <code class="parameter">replacement</code> may contain substrings of the form
       <em>\<span class="replaceable">digit</span></em>, which will be
       replaced by the text matching the digit'th parenthesized substring; 
       <em>\0</em> will produce the entire contents of string.
       Up to nine substrings may be used. Parentheses may be nested, in which
       case they are counted by the opening parenthesis.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       The input string.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ereg-replace-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The modified string is returned. If no matches are found in 
   <code class="parameter">string</code>, then it will be returned unchanged.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ereg-replace-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   For example, the following code snippet prints "This was a test"
   three times:
  </p>
  <p class="para">
   </p><div class="example" id="example-4923">
    <p><strong>Example #1 <span class="function"><strong>ereg_replace()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;a&nbsp;test"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"&nbsp;is"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"&nbsp;was"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"(&nbsp;)is"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\\1was"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"((&nbsp;)is)"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\\2was"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   One thing to take note of is that if you use an integer value as
   the <code class="parameter">replacement</code> parameter, you may not get
   the results you expect. This is because
   <span class="function"><strong>ereg_replace()</strong></span> will interpret the number as
   the ordinal value of a character, and apply that. For instance:
  </p>
  <p class="para">
   </p><div class="example" id="example-4924">
    <p><strong>Example #2 <span class="function"><strong>ereg_replace()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;This&nbsp;will&nbsp;not&nbsp;work&nbsp;as&nbsp;expected.&nbsp;*/<br></span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;string&nbsp;has&nbsp;four&nbsp;words."</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'four'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;Output:&nbsp;'This&nbsp;string&nbsp;has&nbsp;&nbsp;&nbsp;words.'&nbsp;*/<br><br>/*&nbsp;This&nbsp;will&nbsp;work.&nbsp;*/<br></span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'4'</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;string&nbsp;has&nbsp;four&nbsp;words."</span><span style="color: #007700">;<br></span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'four'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;Output:&nbsp;'This&nbsp;string&nbsp;has&nbsp;4&nbsp;words.'&nbsp;*/<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-4925">
    <p><strong>Example #3 Replace URLs with links</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ereg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"[[:alpha:]]+://[^&lt;&gt;[:space:]]+[[:alnum:]/]"</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&lt;a&nbsp;href="\\0"&gt;\\0&lt;/a&gt;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.ereg-replace-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">As of PHP 5.3.0, the
regex extension is deprecated in favor of the
<a href="book.pcre.html" class="link">PCRE extension</a>. Calling this function
will issue an <strong><code>E_DEPRECATED</code></strong> notice. See <a href="reference.pcre.pattern.posix.html" class="link">the list of
differences</a> for help on converting to PCRE.</p><p></p></blockquote>
  <div class="tip"><strong class="tip">Tip</strong>
   <p class="para">
    <span class="function"><strong>ereg_replace()</strong></span> is deprecated as of PHP 5.3.0. <span class="function"><a href="function.preg-replace.html" class="function">preg_replace()</a></span> 
    is the suggested alternative to this function.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ereg-replace-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ereg.html" class="function" rel="rdfs-seeAlso">ereg()</a> - Regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.eregi.html" class="function" rel="rdfs-seeAlso">eregi()</a> - Case insensitive regular expression match</span></li>
    <li class="member"><span class="function"><a href="function.eregi-replace.html" class="function" rel="rdfs-seeAlso">eregi_replace()</a> - Replace regular expression case insensitive</span></li>
    <li class="member"><span class="function"><a href="function.str-replace.html" class="function" rel="rdfs-seeAlso">str_replace()</a> - Replace all occurrences of the search string with the replacement string</span></li>
    <li class="member"><span class="function"><a href="function.preg-replace.html" class="function" rel="rdfs-seeAlso">preg_replace()</a> - Perform a regular expression search and replace</span></li>
    <li class="member"><span class="function"><a href="function.quotemeta.html" class="function" rel="rdfs-seeAlso">quotemeta()</a> - Quote meta characters</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="88622">  
  <a class="name">
  <strong class="user"><em>Real PHP Geek</em></strong></a><div class="date" title="2009-02-01 03:55"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom88622">
<div class="phpcode"><code><span class="html">
This function makes links unclickable, read the comments:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">strip_urls</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$repPat</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if(!</span><span class="default">$repPat</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$repPat </span><span class="keyword">= </span><span class="string">"text [url]"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$aimpstr </span><span class="keyword">= </span><span class="string">'PHP_STRIP_URLS_FUNCTION_BY_REAL-PHP-GEEK'</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="comment">//change $aimpstr to anything you want.<br>&nbsp; &nbsp; </span><span class="default">$impstr </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$aimpstr</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'&lt;/a&gt;'</span><span class="keyword">, </span><span class="string">'&lt;/a&gt;' </span><span class="keyword">. </span><span class="default">$impstr</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$impstr</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$texta </span><span class="keyword">= array();<br>&nbsp; &nbsp; </span><span class="default">$repPat </span><span class="keyword">= </span><span class="default">str_ireplace</span><span class="keyword">(array(</span><span class="string">'text'</span><span class="keyword">, </span><span class="string">'url'</span><span class="keyword">), array(</span><span class="string">'\\4'</span><span class="keyword">, </span><span class="string">'\\2'</span><span class="keyword">), </span><span class="default">$repPat</span><span class="keyword">);<br>&nbsp; &nbsp; foreach (</span><span class="default">$text </span><span class="keyword">as </span><span class="default">$text</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$texta</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">] = </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"&lt;a(.*)href=\"(.*)\"(.*)&gt;(.*)&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$repPat</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$n</span><span class="keyword">++;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">$textb </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$texta</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$textb</span><span class="keyword">;<br>}<br><br></span><span class="comment">//EXAMPLES:<br></span><span class="default">$string_of_text </span><span class="keyword">= </span><span class="string">'&lt;a href="<a rel="nofollow" target="_blank">http://www.php.net/</a>"&gt;PHP&lt;/a&gt; rocks. &lt;a href="<a rel="nofollow" target="_blank">http://www.apache.org/</a>"&gt;Apache&lt;/a&gt; also!'</span><span class="keyword">;<br>echo </span><span class="default">strip_urls</span><span class="keyword">(</span><span class="default">$string_of_text</span><span class="keyword">, </span><span class="string">"text"</span><span class="keyword">);<br>echo </span><span class="default">strip_urls</span><span class="keyword">(</span><span class="default">$string_of_text</span><span class="keyword">, </span><span class="string">"url"</span><span class="keyword">);<br>echo </span><span class="default">strip_urls</span><span class="keyword">(</span><span class="default">$string_of_text</span><span class="keyword">, </span><span class="string">"text [url]"</span><span class="keyword">);<br>echo </span><span class="default">strip_urls</span><span class="keyword">(</span><span class="default">$string_of_text</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="78145">  
  <a class="name">
  <strong class="user"><em>bjwarshaw2 at yahoo dot com</em></strong></a><div class="date" title="2007-09-29 06:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom78145">
<div class="phpcode"><code><span class="html">
It's worth mentioning for ultimate clarity that you're safest using double quotes when matching a pattern, since without them, metacharacters will be interpreted as a backslash plus another character. <br><br>Granted, this is part of the language syntax for the string type, but it might not be quite so obvious when dealing with patterns in this function, which is taking the pattern as a parameter.<br><br>So if you find that '[\n]' is taking the 'n' out of your string and leaving the new lines alone, switch to doubles before changing anything else.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="100463">  
  <a class="name">
  <strong class="user"><em>lvt</em></strong></a><div class="date" title="2010-10-17 07:11"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom100463">
<div class="phpcode"><code><span class="html">
Be careful, don't replace all ereg_replace() with str_replace() as many people will likely to recommend if there is regular expression stuffs, or your script will stop running !!!<br><br>Example : replace the (.) at the end of the text with (...)<br><br><span class="default">&lt;?php<br><br>$text </span><span class="keyword">= </span><span class="string">"This is a simple text."</span><span class="keyword">;<br><br>print( </span><span class="default">ereg_replace</span><span class="keyword">( </span><span class="string">"\.$"</span><span class="keyword">, </span><span class="string">"..."</span><span class="keyword">, </span><span class="default">$text </span><span class="keyword">) );<br><br></span><span class="default">?&gt;<br></span><br>Test with str_replace() you will find it's not working.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82970">  
  <a class="name">
  <strong class="user"><em>http://www.bbgames.co.nr</em></strong></a><div class="date" title="2008-05-04 07:57"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom82970">
<div class="phpcode"><code><span class="html">
In response to a post above, his coding was a bit wrong.&nbsp; The correct coding should be :<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">hyperlink</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="comment">// match protocol://address/path/<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[a-zA-Z]+://([.]?[a-zA-Z0-9_/-])*"</span><span class="keyword">, </span><span class="string">"&lt;a href=\"\\0\"&gt;\\0&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// match www.something<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"(^| )(www([.]?[a-zA-Z0-9_/-])*)"</span><span class="keyword">, </span><span class="string">"\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;\\2&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// return $text<br>&nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">$text</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>You can use this function like this:<br><span class="default">&lt;?php<br>$line </span><span class="keyword">= </span><span class="string">"Check the links: www.yahoo.com <a rel="nofollow" target="_blank">http://www.php.net</a>"</span><span class="keyword">;<br></span><span class="default">hyperlink</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br></span><span class="comment">// Now, all text that looks like a link becomes a link<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80526">  
  <a class="name">
  <strong class="user"><em>Renjith</em></strong></a><div class="date" title="2008-01-20 10:02"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom80526">
<div class="phpcode"><code><span class="html">
Code:<br><br><span class="default">&lt;?php<br><br>$s </span><span class="keyword">= </span><span class="string">"Coding PHP is fun."</span><span class="keyword">;<br><br></span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">"(.*)PHP(.*)"</span><span class="keyword">;<br></span><span class="default">$replacement </span><span class="keyword">= </span><span class="string">" They say \\1other languages\\2"</span><span class="keyword">;<br><br>print </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$replacement</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">);<br><br></span><span class="default">?&gt;<br></span><br>Output:<br>They say Coding other languages is fun.<br>Explanation:<br><br>"PHP" is replaced with "other languages", and the sentence is changed a little, using \1 and \2 to access the parts within parentheses.<br><a rel="nofollow" target="_blank">http://php-regex.blogspot.com/</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="77359">  
  <a class="name">
  <strong class="user"><em>jarfil at jarfil dot net</em></strong></a><div class="date" title="2007-08-26 02:42"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom77359">
<div class="phpcode"><code><span class="html">
For simple patterns like "[a-z]", preg_replace is up to 6 times faster than ereg_replace.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75448">  
  <a class="name">
  <strong class="user"><em>mephissto at gmail dot com</em></strong></a><div class="date" title="2007-05-30 06:40"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75448">
<div class="phpcode"><code><span class="html">
Your right but you just need to replace by :<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">hyperlink</span><span class="keyword">(&amp;</span><span class="default">$text</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="comment">// match protocol://address/path/<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[a-zA-Z]+://([.]?[a-zA-Z0-9_/-])*"</span><span class="keyword">, </span><span class="string">"&lt;a href=\"\\0\"&gt;\\0&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// match www.something<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"(^| |.)(www([.]?[a-zA-Z0-9_/-])*)"</span><span class="keyword">, </span><span class="string">"\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;\\2&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75167">  
  <a class="name">
  <strong class="user"><em>hoffaboffa (at) hotmail dott com</em></strong></a><div class="date" title="2007-05-15 06:03"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom75167">
<div class="phpcode"><code><span class="html">
cristiklein's hyperlink function is nice but works incorrect with a www-string like this<br><br>\r\nwww.google.se<br><br>then it does not become a hyperlink</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74347">  
  <a class="name">
  <strong class="user"><em>bmcswee at gmail dot com dot invalid</em></strong></a><div class="date" title="2007-04-06 09:33"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74347">
<div class="phpcode"><code><span class="html">
Function to strip an HTML tag out of a string. I use this in part for parsing XML documents.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">stripTags</span><span class="keyword">(</span><span class="default">$tag</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Regular expressions only work with strings if the regexp has been pre-concocted<br>&nbsp; &nbsp; </span><span class="default">$regExp </span><span class="keyword">= </span><span class="string">"&lt;" </span><span class="keyword">. </span><span class="string">"</span><span class="default">$tag</span><span class="string">" </span><span class="keyword">. </span><span class="string">"[^&gt;]*&gt;"</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"&lt;/</span><span class="default">$tag</span><span class="string">&gt;"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="default">$regExp</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$string</span><span class="keyword">;&nbsp; &nbsp; <br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="61818">  
  <a class="name">
  <strong class="user"><em>chrish at shield dot on dot ca</em></strong></a><div class="date" title="2006-02-12 05:43"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom61818">
<div class="phpcode"><code><span class="html">
I was having problems with Microsoft Outlook viewing forms within email.&nbsp; I was only able to see the first word of the text box after I used the following code.<br><br>If I entered words into the text box and used the enter key to give me a CRLF I could see in the returned data the %0D%0A string, so I assumed if I just used the ereg-replace as below it would just replace the %0D%0A with a single space... <br><br>function remove_extra_linebreaks($string) {<br>&nbsp;&nbsp; $new_string=ereg_replace("%0D%0A", " ", $string);<br>&nbsp; return $new_string;<br>}<br><br>But the form as displayed by Outlook only showed the text upto the first replaced string, then it was blank!<br>I could view the source of the email and it would show all of the text I expected.<br><br>The following will show the correct data in the form <br><br>function remove_extra_linebreaks($string) {<br>&nbsp;&nbsp; $new_string=ereg_replace("%0D%0A", '+', $string);<br>&nbsp; return $new_string;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60941">  
  <a class="name">
  <strong class="user"><em>Chris</em></strong></a><div class="date" title="2006-01-20 11:43"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom60941">
<div class="phpcode"><code><span class="html">
I've updated the function a little that was posted below.&nbsp; I use it to make database field names readable when making a header row.&nbsp; I needed it to quit putting a space in "GPA" and to put a space in between numbers and letters.<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br>*&nbsp; Converts "fieldcontainingGPAInMyDatabaseFrom2005"<br>*&nbsp; To&nbsp; &nbsp; &nbsp;&nbsp; "Field Containing GPA In My Database From 2005"<br>*/<br></span><span class="keyword">function </span><span class="default">innerCapsToReadableText</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"([A-Z]) "</span><span class="keyword">, </span><span class="string">"\\1"</span><span class="keyword">,</span><span class="default">ucwords</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[A-Z]"</span><span class="keyword">,</span><span class="string">" \\0"</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">))));<br>&nbsp; &nbsp; return </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"([A-Za-z])([0-9])"</span><span class="keyword">, </span><span class="string">"\\1 \\2"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59975">  
  <a class="name">
  <strong class="user"><em>codergeek42 at users dot sourceforge.net</em></strong></a><div class="date" title="2005-12-21 09:15"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59975">
<div class="phpcode"><code><span class="html">
In response to "php dot net at lenix dot de," a cleaner (easier to read) method would be to type-cast the integer as a string by quoting it. For example:<br><br><span class="default">&lt;?php<br>$foo </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">;<br>echo </span><span class="default">ereg_replace </span><span class="keyword">( </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"</span><span class="default">$foo</span><span class="string">" </span><span class="keyword">, </span><span class="string">"foobar" </span><span class="keyword">); </span><span class="comment">/* Would output "foo42". */<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56080">  
  <a class="name">
  <strong class="user"><em>benlanc at ster dot me dot uk</em></strong></a><div class="date" title="2005-08-22 03:49"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom56080">
<div class="phpcode"><code><span class="html">
Quite how I managed to get my previous post so wrong, I don't know. Correction follows:<br><span class="default">&lt;?php<br></span><span class="comment">/* function to turn InterCaps style strings (i.e. CSS Properties in Javascript) to human readable ones */<br></span><span class="keyword">function </span><span class="default">deInterCaps</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">){<br>&nbsp;&nbsp; return </span><span class="default">ucfirst</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[A-Z]"</span><span class="keyword">,</span><span class="string">" \\0"</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">)));<br>}<br><br></span><span class="default">$interCapsString </span><span class="keyword">= </span><span class="string">"aLoadOfNonsenseToDemonstrateTheFunction"</span><span class="keyword">;<br><br>echo </span><span class="default">deInterCaps</span><span class="keyword">(</span><span class="default">$interCapsString</span><span class="keyword">);<br><br></span><span class="comment">// output: A load of nonsense to demonstrate the function<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54539">  
  <a class="name">
  <strong class="user"><em>php dot net at lenix dot de</em></strong></a><div class="date" title="2005-07-07 03:26"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54539">
<div class="phpcode"><code><span class="html">
One thing to take note of is that if you use an integer value as the replacement parameter, you may not get the results you expect. This is because ereg_replace() will interpret the number as the ordinal value of a character, and apply that.<br><br>If you're ever having trouble with this one there's an easy workarround:<br><br>instead of <br><span class="default">&lt;?php <br>$foo </span><span class="keyword">= </span><span class="default">23</span><span class="keyword">;<br>echo </span><span class="default">ereg_replace </span><span class="keyword">( </span><span class="string">"bar"</span><span class="keyword">, </span><span class="default">$foo </span><span class="keyword">, </span><span class="string">"foobar" </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>just do<br><br><span class="default">&lt;?php <br>$foo </span><span class="keyword">= </span><span class="default">23</span><span class="keyword">;<br>echo </span><span class="default">ereg_replace </span><span class="keyword">( </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"" </span><span class="keyword">. </span><span class="default">$foo </span><span class="keyword">, </span><span class="string">"foobar" </span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>to replace "bar" inside "foobar" with the string "23".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54463">  
  <a class="name">
  <strong class="user"><em>zaczek at gmail dot com</em></strong></a><div class="date" title="2005-07-05 04:09"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54463">
<div class="phpcode"><code><span class="html">
If you want the function to process query strings, such as:<br><br><a rel="nofollow" target="_blank">http://www.php.net/index.php?id=10%32&amp;wp=test</a><br><br>modify the function as follows:<br><br>function hyperlink(&amp;$text)<br>{<br>&nbsp;&nbsp; // match protocol://address/path/<br>&nbsp;&nbsp; $text = ereg_replace("[a-zA-Z]+://([-]*[.]?[a-zA-Z0-9_/-?&amp;%])*", "&lt;a href=\"\\0\"&gt;\\0&lt;/a&gt;", $text);<br><br>&nbsp;&nbsp; // match www.something<br>&nbsp;&nbsp; $text = ereg_replace("(^| )(www([-]*[.]?[a-zA-Z0-9_/-?&amp;%])*)", "\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;\\2&lt;/a&gt;", $text);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51753">  
  <a class="name">
  <strong class="user"><em>cristiklein at yahoo dot com</em></strong></a><div class="date" title="2005-04-09 02:50"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom51753">
<div class="phpcode"><code><span class="html">
Sometimes, you would like to match both styles of URL links that are common in chat windows:<br><br><a rel="nofollow" target="_blank">http://www.yahoo.com</a><br>www.yahoo.com<br><br>You can do this by using the following code:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">hyperlink</span><span class="keyword">(&amp;</span><span class="default">$text</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="comment">// match protocol://address/path/<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"[a-zA-Z]+://([.]?[a-zA-Z0-9_/-])*"</span><span class="keyword">, </span><span class="string">"&lt;a href=\"\\0\"&gt;\\0&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="comment">// match www.something<br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"(^| )(www([.]?[a-zA-Z0-9_/-])*)"</span><span class="keyword">, </span><span class="string">"\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;\\2&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>You can use this function like this:<br><span class="default">&lt;?php<br>$line </span><span class="keyword">= </span><span class="string">"Check the links: www.yahoo.com <a rel="nofollow" target="_blank">http://www.php.net</a>"</span><span class="keyword">;<br></span><span class="default">hyperlink</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br></span><span class="comment">// Now, all text that looks like a link becomes a link<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50539">  
  <a class="name">
  <strong class="user"><em>bgoodman at osogrande dot com</em></strong></a><div class="date" title="2005-03-02 02:25"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50539">
<div class="phpcode"><code><span class="html">
When you are dealing with databases you can end up with quite a few \" to deal with.&nbsp; To ereg_replace all these with something else it requires you to \ the \ and \ the " so you end up with:<br><br>$var1 = '\"';<br>$var2 = ereg_replace('\\\"','1234',$var1);<br><br>print $var2;&nbsp; //this should print 1234</span>
</code></div>
  </div>
 </div>
  <div class="note" id="50413">  
  <a class="name">
  <strong class="user"><em>eerie at gmx dot net</em></strong></a><div class="date" title="2005-02-27 11:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom50413">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php $path </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"\\"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">); </span><span class="default">?&gt;<br></span>as posted from mmtach at yahoo dot com causes an error because you have to escape the backslash twice, once for the quotation marks and a second time due the posix syntax.<br><span class="default">&lt;?php $path </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"\\\\"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">); </span><span class="default">?&gt;<br></span>or<br><span class="default">&lt;?php $path </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">); </span><span class="default">?&gt;<br></span>should both work as expected. since you don't have to escape the backslash in brackets (posix syntax) his alternative works also.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84951">  
  <a class="name">
  <strong class="user"><em>computer_guru</em></strong></a><div class="date" title="2008-08-06 04:39"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84951">
<div class="phpcode"><code><span class="html">
Here is the code I use to make links clickable. The code only works on xxxx:// (i.e. <a rel="nofollow" target="_blank">ftp://,</a> <a rel="nofollow" target="_blank">http://,</a> etc...). It does not work on www. because that is how I want it. The reason my code has an if condition is that it ignores html links and only modifies non-html urls. (see below)
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">make_clickable</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">)
<br>{
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; if (</span><span class="default">ereg</span><span class="keyword">(</span><span class="string">"[\"|'][[:alpha:]]+://"</span><span class="keyword">,</span><span class="default">$text</span><span class="keyword">) == </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">'([[:alpha:]]+://[^&lt;&gt;[:space:]]+[[:alnum:]/])'</span><span class="keyword">, </span><span class="string">'&lt;a target=\"_new\" href="\\1"&gt;\\1&lt;/a&gt;'</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return(</span><span class="default">$text</span><span class="keyword">); 
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>My function ignores code like this:
<br>
<br>&lt;a href="<a rel="nofollow" target="_blank">http://php.net</a>"&gt; php.net &lt;/a&gt;
<br>
<br>But it would make this one click able:
<br>
<br><a rel="nofollow" target="_blank">http://php.net</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="84202">  
  <a class="name">
  <strong class="user"><em>jammin320</em></strong></a><div class="date" title="2008-07-03 12:52"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom84202">
<div class="phpcode"><code><span class="html">
Just a quick addition to the last post - <br><br>modifying the regular expression for the www clause to include a newline at the begining will allow it to catch URLs that are the first in a line but not the first in a string. The previous version would only catch them if a space preceded the value...<br><br>&nbsp; &nbsp; // match www.something<br>&nbsp; &nbsp; $text = ereg_replace("(^| |\n)(www([.]?[a-zA-Z0-9_/-])*)", "\\1&lt;a href=\"<a rel="nofollow" target="_blank">http://</a>\\2\"&gt;\\2&lt;/a&gt;", $text);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="81476">  
  <a class="name">
  <strong class="user"><em>tugla</em></strong></a><div class="date" title="2008-02-29 09:29"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom81476">
<div class="phpcode"><code><span class="html">
If you're not relying on regular expressions, str_replace() can be far faster.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98602">  
  <a class="name">
  <strong class="user"><em>Joe</em></strong></a><div class="date" title="2010-06-25 11:24"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98602">
<div class="phpcode"><code><span class="html">
Since ereg_replace is now deprecated, many users will be coming to this page, in an attempt to troubleshoot and fix broken scripts after a PHP upgrade.
<br>
<br>ereg_replace is essentially a search and replace function and it follows a pattern like this:
<br>
<br><span class="default">&lt;?php
<br>
<br>$input </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"find this"</span><span class="keyword">, </span><span class="string">"replace it with"</span><span class="keyword">, </span><span class="default">$output</span><span class="keyword">);
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>You start out by defining the input variable ($input), then the = ereg_replace portion tells php to do a search and replace action on the value of $input, then once the value has been modified with your 'find this' and 'replace with' section, the resulting value is defined as a variable $output which you can then use in other parts of your script or page.
<br>
<br>Lets take a real world example.
<br>
<br>There is a e-comm site - <a rel="nofollow" target="_blank">http://www.example.com</a> - that has millions of item records.&nbsp; Each item has a name, that is defined as a variable called $title.&nbsp; Each $title value has spaces, i.e. "Range Cookers" or "Bosch Dishwashers", but we want to convert these into a page url that does not contain spaces, but uses the plus character '+' instead of a space (you can use hyphens '-' or other characters).
<br>
<br>If using the deprecated ereg_replace function, it might look something like this:
<br>
<br><span class="default">&lt;?php
<br>
<br>$title</span><span class="keyword">=</span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="string">"+"</span><span class="keyword">, </span><span class="default">$itemurl</span><span class="keyword">);
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>But to avoid those deprecated errors, we change the function name to preg_replace and add a set of delimiters, in this case the 2 forward slashes / / where the contents inside that are matched as the 'find this' portion.
<br>
<br><span class="default">&lt;?php
<br>
<br>$title</span><span class="keyword">=</span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/ /"</span><span class="keyword">, </span><span class="string">"+"</span><span class="keyword">, </span><span class="default">$itemurl</span><span class="keyword">);
<br>
<br></span><span class="default">?&gt;
<br></span>
<br>It is not absolutely necessary to use / / as the delimiters, if you are modifying directory names which may naturally contain forward slashes, it could cause it to break because the slashes in the url or directory would be interpreted as the delimiter, so you could use other obscure characters i.e.&nbsp; ("# #", "+", $itemurl);&nbsp; instead.&nbsp; This would give an output like:
<br>
<br><a rel="nofollow" target="_blank">http://www.example.com/-Range+Cooker</a>
<br>
<br><a rel="nofollow" target="_blank">http://www.example.com/-Bosch+Dishwasher</a>
<br>
<br>This would strip out the spaces from the value of $title and give you a variable called $itemurl where all the spaces were replaced with the plus character, so you could potentially use it as a url like above.
<br>
<br>So to summarize:&nbsp; ereg_replace is a deprecated search and replace action where preg_replace can be used instead, and it follows a pattern as described earlier where it takes the input data, finds a match based on what you are looking for, replaces it with something else you define, and then gives you an output data variable that you can use in your script or page.&nbsp; Hopefully by understanding the process, the php code functions wont seem like voodoo and you could troubleshoot and fix many of the deprecated errors yourself.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89407">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2009-03-06 07:17"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom89407">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">// highlights the recognized patterns (a good tool for experiments)
<br>
<br></span><span class="default">$output </span><span class="keyword">= </span><span class="default">ereg_replace</span><span class="keyword">(</span><span class="string">"your regexp here"</span><span class="keyword">, </span><span class="string">"&lt;font color=red&gt;\\0&lt;/font&gt;"</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">)
<br>print </span><span class="default">$output</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.ereg-replace.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:51:02 GMT -->


</body></html>