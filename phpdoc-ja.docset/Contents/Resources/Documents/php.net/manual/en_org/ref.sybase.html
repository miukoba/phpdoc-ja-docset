<html><!-- Mirrored from php.net/manual/en/ref.sybase.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:57:45 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Sybase Functions</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="ref.sybase.html">
 <link rel="shorturl" href="http://php.net/sybase">
 <link rel="alternate" href="http://php.net/sybase" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="book.sybase.html">
 <link rel="prev" href="sybase.constants.html">
 <link rel="next" href="function.sybase-affected-rows.html">

 <link rel="alternate" href="ref.sybase.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/ref.sybase.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/ref.sybase.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/ref.sybase.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/ref.sybase.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/ref.sybase.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/ref.sybase.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/ref.sybase.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/ref.sybase.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/ref.sybase.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/ref.sybase.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      <li><a href="book.sybase.html">Sybase</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="ref.sybase" class="reference">
 <h1 class="title">Sybase Functions</h1>

  























































































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.sybase-affected-rows.html">sybase_affected_rows</a> — Gets number of affected rows in last query</li><li><a href="function.sybase-close.html">sybase_close</a> — Closes a Sybase connection</li><li><a href="function.sybase-connect.html">sybase_connect</a> — Opens a Sybase server connection</li><li><a href="function.sybase-data-seek.html">sybase_data_seek</a> — Moves internal row pointer</li><li><a href="function.sybase-deadlock-retry-count.html">sybase_deadlock_retry_count</a> — Sets the deadlock retry count</li><li><a href="function.sybase-fetch-array.html">sybase_fetch_array</a> — Fetch row as array</li><li><a href="function.sybase-fetch-assoc.html">sybase_fetch_assoc</a> — Fetch a result row as an associative array</li><li><a href="function.sybase-fetch-field.html">sybase_fetch_field</a> — Get field information from a result</li><li><a href="function.sybase-fetch-object.html">sybase_fetch_object</a> — Fetch a row as an object</li><li><a href="function.sybase-fetch-row.html">sybase_fetch_row</a> — Get a result row as an enumerated array</li><li><a href="function.sybase-field-seek.html">sybase_field_seek</a> — Sets field offset</li><li><a href="function.sybase-free-result.html">sybase_free_result</a> — Frees result memory</li><li><a href="function.sybase-get-last-message.html">sybase_get_last_message</a> — Returns the last message from the server</li><li><a href="function.sybase-min-client-severity.html">sybase_min_client_severity</a> — Sets minimum client severity</li><li><a href="function.sybase-min-error-severity.html">sybase_min_error_severity</a> — Sets minimum error severity</li><li><a href="function.sybase-min-message-severity.html">sybase_min_message_severity</a> — Sets minimum message severity</li><li><a href="function.sybase-min-server-severity.html">sybase_min_server_severity</a> — Sets minimum server severity</li><li><a href="function.sybase-num-fields.html">sybase_num_fields</a> — Gets the number of fields in a result set</li><li><a href="function.sybase-num-rows.html">sybase_num_rows</a> — Get number of rows in a result set</li><li><a href="function.sybase-pconnect.html">sybase_pconnect</a> — Open persistent Sybase connection</li><li><a href="function.sybase-query.html">sybase_query</a> — Sends a Sybase query</li><li><a href="function.sybase-result.html">sybase_result</a> — Get result data</li><li><a href="function.sybase-select-db.html">sybase_select_db</a> — Selects a Sybase database</li><li><a href="function.sybase-set-message-handler.html">sybase_set_message_handler</a> — Sets the handler called when a server message is raised</li><li><a href="function.sybase-unbuffered-query.html">sybase_unbuffered_query</a> — Send a Sybase query and do not block</li></ul>
</div>

<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="98974">  
  <a class="name">
  <strong class="user"><em>tgburrin</em></strong></a><div class="date" title="2010-07-19 12:41"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom98974">
<div class="phpcode"><code><span class="html">
For ASE 15 you can run $SYBASE/$SYBASE_OCS/scripts/lnsyblibs to create symlinks for the older library names.&nbsp; Using this instead of cp will presumably not break your installation should you apply something like an EBF.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56892">  
  <a class="name">
  <strong class="user"><em>zeldorblat at gmail dot com</em></strong></a><div class="date" title="2005-09-18 01:43"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom56892">
<div class="phpcode"><code><span class="html">
In response to the post by jon dot bertsch at ucop dot edu, it is possible to install both the FreeTDS libraries and the Sybase libraries.&nbsp; The problem is that the Sybase extension alias's its function names to the mssql_ functions.<br><br>Take a look in your PHP source directory under /ext/sybase_ct/php_sybase_ct.c near the top where the sybase_functions[] declaration is.&nbsp; You can comment out the part that alias's the function names, recompile with FreeTDS and Sybase, and you're all set!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76954">  
  <a class="name">
  <strong class="user"><em>jeffersonmfs at hotmail dot com</em></strong></a><div class="date" title="2007-08-07 05:52"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom76954">
<div class="phpcode"><code><span class="html">
PHP and Sybase 15<br><br># cat /opt/sybase/SYBASE.sh &gt;&gt; /etc/profile<br># exit<br>&nbsp;&nbsp; <br>Make new logon<br><br># vi /var/build/php-5.2.3/ext/sybase_ct/php_sybase_ct.h<br><br>change this line ...<br>#define CTLIB_VERSION CS_VERSION_100<br>...to...<br>#define CTLIB_VERSION CS_VERSION_150<br><br># ln -sd /opt/sybase /home/sybase<br><br># cp /opt/sybase/OCS-15_0/lib/libsybcomn.a&nbsp; &nbsp;&nbsp; /opt/sybase/OCS-15_0/lib/libcomn.a<br>&nbsp; &nbsp; &nbsp;&nbsp; <br># cp /opt/sybase/OCS-15_0/lib/libsybcs.a&nbsp; &nbsp;&nbsp; /opt/sybase/OCS-15_0/lib/libs.a<br><br># cp /opt/sybase/OCS-15_0/lib/libsybct.a&nbsp; &nbsp;&nbsp; /opt/sybase/OCS-15_0/lib/libct.a<br><br># cp /opt/sybase/OCS-15_0/lib/libsybintl.a&nbsp; &nbsp;&nbsp; /opt/sybase/OCS-15_0/lib/libintl.a<br><br>The new&nbsp; file&nbsp; /etc/ld.so.conf.d/sybase it must have the line <br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /opt/sybase/OCS-15_0/lib<br><br># ldconfig<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUILD PHP<br><br># ./configure --with-apxs2=/usr/sbin/apxs --with-config-file-path=/etc/ --with-sybase-ct=/opt/sybase/OCS-15_0<br><br># make<br><br># make install<br>&nbsp; &nbsp; &nbsp; &nbsp; <br># cp php.ini-dist&nbsp; /etc/php.ini<br><br>Change display_erros=On to display_erros=Off<br><br>Edit Apache's httpd.conf file to associate .php files with a MIME type:<br><br>#<br># PHP script support<br>#<br>AddType application/x-httpd-php .php</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58234">  
  <a class="name">
  <strong class="user"><em>sean dot healey at bayernlb dot co dot uk</em></strong></a><div class="date" title="2005-10-28 03:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom58234">
<div class="phpcode"><code><span class="html">
I've finally got PHP 5.0.5 running under Apache2 on Solaris 8 ... connecting to Sybase ASE servers 12.0 and 12.5 using CT-LIB 12.5.<br><br>The following was my build procedure -<br><br>Build Apache:<br><br>./configure \<br>&nbsp; --prefix=/usr/local/apache2 \<br>&nbsp; --enable-so<br><br>make<br>make install<br><br>Edit httpd.conf, adjusting directives to suit the local environment.<br><br>Following advice given above, update the Sybase version string in the PHP sybase_ct module header file:<br><br>vi /var/build/php-5.0.5/ext/sybase_ct/php_sybase_ct.h<br><br>change this line ...<br>#define CTLIB_VERSION CS_VERSION_100<br>...to...<br>#define CTLIB_VERSION CS_VERSION_125<br><br>Build PHP:<br><br>SYBASE=/..../..../sybase12_5&nbsp; &lt;&lt;-- path to your Sybase distribution root<br>SYBASE_OCS=OCS-12_5<br>LD_LIBRARY_PATH=$SYBASE/$SYBASE_OCS/lib<br><br>export SYBASE SYBASE_OCS PATH LD_LIBRARY_PATH<br><br>./configure \<br>&nbsp; --prefix=/usr/local/php \<br>&nbsp; --with-sybase-ct=$SYBASE/$SYBASE_OCS \<br>&nbsp; --enable-static=sybase-ct \<br>&nbsp; --with-apxs2=/usr/local/apache2/bin/apxs \<br>&nbsp; --enable-sysvmsg \<br>&nbsp; --enable-sysvsem \<br>&nbsp; --enable-sysvshm<br><br>make<br>make test<br><br>NOTE: 'make test' will almost certainly fail all of the Sybase functionality, unless you update the test include file to use valid connectivity details for your local server:<br><br>vi /var/build/php-5.0.5/ext/sybase_ct/tests/test.inc<br><br>&nbsp; // Change if needed<br>&nbsp; define('HOST',&nbsp; &nbsp;&nbsp; '****');<br>&nbsp; define('USER',&nbsp; &nbsp;&nbsp; '****');<br>&nbsp; define('PASSWORD', '****');<br><br>make install<br><br>Edit Apache's httpd.conf file to associate .php files with a MIME type:<br><br>&nbsp; #<br>&nbsp; # PHP script support<br>&nbsp; #<br>&nbsp; AddType application/x-httpd-php .php .phtml<br>&nbsp; AddType application/x-httpd-php-source .phps<br><br>Edit the apachectl script, inserting the following variable declarations after environment variables are imported:<br><br>&nbsp; SYBASE=/..../..../sybase12_5<br>&nbsp; SYBASE_OCS=OCS-12_5<br>&nbsp; LD_LIBRARY_PATH=$SYBASE/$SYBASE_OCS/lib:$LD_LIBRARY_PATH<br>&nbsp; export SYBASE SYBASE_OCS LD_LIBRARY_PATH<br><br>Ensure you have an 'interfaces' file in the root of your sybase distribution (Above the OCS-12_5 subdirectory), containing a server entry in the following format for each server you want to connect to:<br><br>&nbsp; dataservername_ds<br>&nbsp;&nbsp; &lt;tab&gt; master tcp ether &lt;hostname&gt; &lt;port&gt;<br>&nbsp;&nbsp; &lt;tab&gt; query tcp ether &lt;hostname&gt; &lt;port&gt;<br><br>(if this is your dataserver machine, there will be at least 1 entry already for the local dataserver. It is advisable to install all of the above on a separate machine though, with its own copy of the sybase client)<br><br>Cross fingers, and:<br><br>apachectl start<br><br>If you get 'relocation' errors when starting Apache with the php module configured to load, check the output of 'ldd libphp5.so'. Each of the Sybase libraries should link to files under your Sybase client distribution:<br><br>ldd /usr/local/apache2/modules/libphp5.so <br>&nbsp; &nbsp; libtcl.so =&gt;&nbsp; &nbsp;&nbsp; /.../sybase12_5/OCS-12_5/lib/libtcl.so<br>&nbsp; &nbsp; libintl.so.1 =&gt; /.../sybase12_5/OCS-12_5/lib/libintl.so.1<br>&nbsp; &nbsp; libcomn.so =&gt; /.../sybase12_5/OCS-12_5/lib/libcomn.so<br>&nbsp; &nbsp; libct.so =&gt;&nbsp; &nbsp; &nbsp; /.../sybase12_5/OCS-12_5/lib/libct.so<br>&nbsp; &nbsp; libcs.so =&gt;&nbsp; &nbsp; &nbsp; /.../sybase12_5/OCS-12_5/lib/libcs.so<br>&nbsp; &nbsp; ...<br>&nbsp;&nbsp; &lt;snip other libraries&gt;<br>&nbsp; &nbsp; ...<br><br>If you see 'libintl.so' linking anywhere else, this is likely because the PHP build has incorrectly linked to a slightly different filename - libintl.so.1 - which doesn't exist in the Sybase client. Unfortunately a completely unrelated library of the same name does exist elsewhere in Unix! (Apparently the Sybase version was created before the duplicate was introduced into Unix).<br><br>My workaround was to create the following symlink in sybase client library 'lib' directory -<br><br>&nbsp; libintl.so.1 -&gt; ./libintl.so*<br><br>'make distclean' in your PHP build directory, and repeat the build as above.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="54147">  
  <a class="name">
  <strong class="user"><em>jon dot bertsch at ucop dot edu</em></strong></a><div class="date" title="2005-06-24 11:41"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom54147">
<div class="phpcode"><code><span class="html">
Up to php 5.0.4 you cannot install both sybase and mssql (they use the same function names). It turns out though that if you use the Freetds library you can connect to sybase using the mssql functions (and visa versa I assume). Setup your servers in the freetds.conf file (for sybase use specify version 5.0, for mssql 7 or 8.0) and call the database connection as you would with mssql (mssql_conect). You should be able to connect either sql server or sybase. I don't know if all sybase functions will work as expected but basic querying is succesful. Hope this helps someone.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="48170">  
  <a class="name">
  <strong class="user"><em>punkarruso at despammed dot com</em></strong></a><div class="date" title="2004-12-14 05:50"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom48170">
<div class="phpcode"><code><span class="html">
I just want to report that, like explained in bug #27562, selective stored procedures (like sp_helpdb) don't return a resultset with freeTDS &gt;= 0.62. (using php &lt;= 4.3.9)<br>If you have installed such releases of freeTDS, downgrade to 0.61.x.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47795">  
  <a class="name">
  <strong class="user"><em>matt dot sawyer at gmail dot com</em></strong></a><div class="date" title="2004-11-30 08:46"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47795">
<div class="phpcode"><code><span class="html">
I've noticed (after days of frustration) that setting the sybase.interface_file to a location other than the default ($SYBASE/interfaces) in php.ini doesn't always work.&nbsp; I finally gave up and copied my interface entries to the default location, and it works consistently now.&nbsp; (This is even with sybase.interface_file still set to the non-default location).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="47613">  
  <a class="name">
  <strong class="user"><em>greg dot fenton at ianywhere dot com</em></strong></a><div class="date" title="2004-11-22 02:07"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom47613">
<div class="phpcode"><code><span class="html">
For Sybase/iAnywhere SQL Anywhere (a.k.a Adaptive Server Anywhere, a.k.a. ASA), you likely should try the SQLAnywhere PHP module [which now ships with ASA as of 9.0.2]:<br><br>&nbsp; &nbsp; <a rel="nofollow" target="_blank">http://www.ianywhere.com/developer/code_samples/sqlany_php_module.html</a><br><br>ASA can work with TDS (Open Client), but if performance is something you care about you likely want to use the native ASA interface.&nbsp; For info/help, consider posting to sybase.public.sqlanywhere.general or sybase.public.sqlanywhere.linux&nbsp; (<a rel="nofollow" target="_blank">http://www.ianywhere.com/support/newsgroups.html</a>)<br><br>Hope this helps,<br>greg.fenton</span>
</code></div>
  </div>
 </div>
  <div class="note" id="44377">  
  <a class="name">
  <strong class="user"><em>info(at)sovall(dot)cz</em></strong></a><div class="date" title="2004-08-04 04:10"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom44377">
<div class="phpcode"><code><span class="html">
This is way to compile Sybase ASE 12.5 with PHP5.0.0 and Apache 2 on Linux:<br>- install apache<br>- install ase1252_de_linux.tgz to /opt/sybase-12.5<br>- shell:# ln -s /opt/sybase-12.5 /opt/sybase<br>- edit phpsrc/configure and remove all '-linsck'<br>- edit phpsrc/ext/sybase-ct/php_sybase_ct.h and change CTLIB_VERSION CS_VERSION_100 to 125<br>- shell:# export SYBASE=/opt/sybase<br>- phpsrc/configure --with-sybase-ct=/opt/sybase/OCS-12_5<br>- phpsrc/make and make install<br>- edit apache2/conf/httpd.conf and add AddType... .php<br>- create /opt/sybase/interfaces file<br>SERVERNAME<br>[tab!]master tcp ether ipAddress port<br>[tab!]query tcp ether ipAddress port<br>- apache2/bin/apachectl start<br><br>I hope, that I save your time.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40943">  
  <a class="name">
  <strong class="user"><em>1rsv_sign_mail.ru (stas_aka_rsv)</em></strong></a><div class="date" title="2004-03-23 10:20"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom40943">
<div class="phpcode"><code><span class="html">
There is a way how to force php work with both php_mssql.dll and php_sybase_ct.dll. Just open php_sybase_ct.dll in any editor (dont use MS WORD :0) ) and replace all "mssql_" on something like that "masql_".<br>After that there will not be warnings about double function definitions and php can use php_sybase_ct.dll to access to sybase and php_mssql.dll to access to mssql.<br>The reason why I did such thing is that I couldnt connect to mssql using php_sybase_ct.dll.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40798">  
  <a class="name">
  <strong class="user"><em>ms at klmoberg dot no</em></strong></a><div class="date" title="2004-03-15 05:10"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom40798">
<div class="phpcode"><code><span class="html">
I solved my connection problems by setting ENV variables directly in PHP.<br><br>putenv ("SYBASE=/opt/sybase");<br>putenv ("SYBPLATFORM=linux");<br>putenv ("LD_LIBRARY_PATH=/opt/sybase/lib"); <br>putenv ("LC_ALL=default");<br>putenv ("PATH=\"/opt/sybase/bin:$PATH\"");<br>putenv ("DSQUERY=SYBASE");<br><br>--<br>Martin Sarajervi</span>
</code></div>
  </div>
 </div>
  <div class="note" id="25804">  
  <a class="name">
  <strong class="user"><em>ddc at portalframework dot com</em></strong></a><div class="date" title="2002-10-07 06:05"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom25804">
<div class="phpcode"><code><span class="html">
If you would like to use the wide table support of Sybase ASE 12.5, take advantage of XML/XQL embedded in the database and use varchars of more than 255 char, you'll need to recompile PHP changing this line in the<br>&nbsp; &nbsp; php_sybase_ct.h file:<br><br>From:<br><br>#define CTLIB_VERSION CS_VERSION_100<br><br>To:<br><br>#define CTLIB_VERSION CS_VERSION_125<br><br>This will only run if you have installed Sybase ASE Open Client v. 12.5 and configured PHP telling it where the OCS is... (./configure --with-sybase-ct=$SYBASE_HOME/OCS [...])<br><br>--<br>Diego Dal Cero.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24914">  
  <a class="name">
  <strong class="user"><em>aj at bootsector dot org</em></strong></a><div class="date" title="2002-09-04 02:10"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom24914">
<div class="phpcode"><code><span class="html">
A note for all who may be struggling...&nbsp; Microsoft did away with the ct-lib support in SQL Server 2000.<br><br>I played with it and found a couple of articles related to it on google.&nbsp; A workaround/different method would be preferrable.&nbsp; Anybody?</span>
</code></div>
  </div>
 </div>
  <div class="note" id="21472">  
  <a class="name">
  <strong class="user"><em>ddc at portalframework.com</em></strong></a><div class="date" title="2002-05-14 11:19"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom21472">
<div class="phpcode"><code><span class="html">
Compiling PHP with Sybase ASE 12.5 on Linux.<br><br>Assuming that you have installed the Sybase ASE 12.5 client in linux, and you have the SYBASE env variable set, you can compile PHP &gt;= 4.0.6 with Sybase ASE 12.5.<br>Just use:<br><br>&nbsp; --with-sybase-ct=$SYBASE/OCS<br>instead of<br>&nbsp; --with-sybase-ct=$SYBASE</span>
</code></div>
  </div>
 </div>
  <div class="note" id="20750">  
  <a class="name">
  <strong class="user"><em>elee at kinwai dot net</em></strong></a><div class="date" title="2002-04-15 02:28"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom20750">
<div class="phpcode"><code><span class="html">
Freetds 5.2 bugs!!<br><br>For those who use Freetds 5.2 running under linux connect to sqlserver2000, there is a bugs in selecting NVARCHAR field that data will either duplicated or truncated. To avoid this problem, please use CAST or CONVERT function in sql statement such as:<br>$query="select CAST(fieldname as nchar(1000)) as fieldname from table"<br><br>Feel free to contact us at <br>aikok@netfront.net<br>or<br>elee@kinwai.net<br><br>German Chu &amp; Eagle Lee</span>
</code></div>
  </div>
 </div>
  <div class="note" id="16349">  
  <a class="name">
  <strong class="user"><em>basilio_mail at chat dot ru</em></strong></a><div class="date" title="2001-10-25 03:56"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom16349">
<div class="phpcode"><code><span class="html">
For those, who might want to use SyBase client not only under Linux, you may try to use open-source FreeTDS library - <a rel="nofollow" target="_blank">http://www.freetds.org</a> 
<br>
<br>Also there's how-to for FreeTDS and PHP:
<br><a rel="nofollow" target="_blank">http://www.freetds.org/userguide/php.html</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="15511">  
  <a class="name">
  <strong class="user"><em>borreo at softhome dot net</em></strong></a><div class="date" title="2001-09-14 11:29"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom15511">
<div class="phpcode"><code><span class="html">
If you have a Linux machine with Sybase ASE 11.9.2, Php 4.0.6, Apache and Sybase-ct library, don't upgrade to Sybase ASE 12.5 yet, or Apache will stop working.
<br>Since 12.5 is newer than 4.0.6, I guess this will be fixed soon.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="15510">  
  <a class="name">
  <strong class="user"><em>borreo at softhome dot net</em></strong></a><div class="date" title="2001-09-14 11:22"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom15510">
<div class="phpcode"><code><span class="html">
If you use IIS and sybase-ct library, be sure to use PHP 4.0.6 or higher, since older version caused crashes.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="15096">  
  <a class="name">
  <strong class="user"><em>rbuico at ntep dot nec dot co dot jp</em></strong></a><div class="date" title="2001-08-27 08:54"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom15096">
<div class="phpcode"><code><span class="html">
maybe it can help.
<br>my database is ASE
<br>
<br>this is my script....
<br>
<br>&lt;?
<br>$cnn = sybase_connect("db_server","sa","password");
<br>$result = sybase_query("Select itemno,stockno from your_db..your_table");
<br>$i = 0;
<br>while ($r = sybase_fetch_array($result)) {
<br>$i++;
<br>$itemno = $r["itemno"];
<br>$stockno = $r["stockno"];
<br>echo "$i&nbsp; &nbsp; $stockno&nbsp;&nbsp; $itemno &lt;br&gt;";
<br>}
<br>?&gt;
<br>
<br>note that I did not use the
<br>sybase_select_db("db") function because ASE had a default database.
<br>thx...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="13670">  
  <a class="name">
  <strong class="user"><em>borreo at softhome dot net</em></strong></a><div class="date" title="2001-06-28 06:33"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom13670">
<div class="phpcode"><code><span class="html">
It's important to note that sybase_ct connect or pconnect were causing GPF.
<br>If you experienced this problem, just update PHP to 4.0.6.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8963">  
  <a class="name">
  <strong class="user"><em>koos at kzdoos dot xs4all dot nl</em></strong></a><div class="date" title="2000-10-09 11:20"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8963">
<div class="phpcode"><code><span class="html">
A bit more about blobs:
<br>If you want to retrieve blobs without them getting truncated, do a 'set textsize value' query first.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="8320">  
  <a class="name">
  <strong class="user"><em>chptma at hydra dot esfm dot ipn dot mx</em></strong></a><div class="date" title="2000-09-06 01:13"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom8320">
<div class="phpcode"><code><span class="html">
about sybase-ct library 
<br>
<br>You can download the file from php.net but the samples in the tar (and php) maybe not compile I have this problem in some systems (but not in others with old librarys and old gcc).
<br>
<br>Try freetds from www.freetds.org that is ok!
<br>
<br>System wthout trouble
<br>Debian 2.1 gcc (2.7.2.3) libc-2.0.7.so
<br>System With trouble
<br>Debian 2.2 gcc (2.95.2) libc-2.1.3.so
<br>RedHat 6.2 gcc [egcs] (2.91.66) libc-2.1.3.so
<br>
<br>Please refer to mssql if you try to connect to MS SQL Server!!!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="7894">  
  <a class="name">
  <strong class="user"><em>hoadley at xoom dot com</em></strong></a><div class="date" title="2000-08-18 02:41"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom7894">
<div class="phpcode"><code><span class="html">
I would STRONGLY recommend using the ct library over the db library when compiling sybase support with php4+. I ran into strange http child seg faults when trying to issue multiple sql statements in one php page.&nbsp; Using ct-library there is no problem.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="4540">  
  <a class="name">
  <strong class="user"><em>james at lasolas dot com</em></strong></a><div class="date" title="2000-03-21 06:28"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom4540">
<div class="phpcode"><code><span class="html">
If you get a segfault with sybase-ct, add a en_US entry to your&nbsp; $SYBASE/locales/locales.dat file: 
<br>
<br>[linux]
<br>&nbsp; &nbsp; locale = en_US, us_english, iso_1
<br>&nbsp; &nbsp; ...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="4222">  
  <a class="name">
  <strong class="user"><em>ericnewman at aol dot com</em></strong></a><div class="date" title="2000-03-06 01:57"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom4222">
<div class="phpcode"><code><span class="html">
I struggled to get this to work for a week. Here's a tip. Log on to your system using the same login as your web server, probably "nobody". Using this account, make sure you can get isql to work. In my case, I had to change the permissions on the /opt/sybase folder, as well as chmod the /opt/sybase/interfaces file to 644. (It was 600 by default, and did not allow anyone but root to read it.) Once I did this, things started to happen...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="4100">  
  <a class="name">
  <strong class="user"><em>tcurdt at dff dot st</em></strong></a><div class="date" title="2000-03-01 01:34"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom4100">
<div class="phpcode"><code><span class="html">
Poor documentation on sybase support!! Here's how I made it work... First get the linux ASE from sybase (maybe the ctlibs provided at php.net will do fine, too) Install the ASE rpm. (some distributions don't have system libs etc in the rpm database so you might get some dependency errors. If your systems fits the requirements install with "ignore dependencies") Recompile php with option --with-sybase-ct=/dirtoyoursybasehome. Then you need to set the env variable for (at least)your apache user by export SYBASE=/dirtoyoursybasehome. Now you need to set up your servers (like DSNs for ODBC). Edit the file $SYBASE/interfaces and add your server entries:
<br>
<br>SERVERNAME
<br>&nbsp; query tcp ether 172.16.1.4 4100
<br>&nbsp; master tcp ether 172.16.1.4 4100
<br>
<br>(change IP/FQHN and port to your setup) Now you can check your config by using 
<br>$SYBASE/bin/isql -S SERVERNAME -U DBUSER -P PASSWD
<br>If you get a prompt you have connected to your sybase! Hurray! Now you can try with php
<br>$db=sybase_connect("SERVERNAME","DBUSER","DBPASSWD");
<br>And... Voila!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="3873">  
  <a class="name">
  <strong class="user"><em>Xtof at fromages-et-desserts dot com</em></strong></a><div class="date" title="2000-02-20 10:18"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom3873">
<div class="phpcode"><code><span class="html">
To store an image file into Sybase try this :
<br>
<br>$data = bin2hex(fread(fopen($image,"r"), filesize($image)));
<br>//don't forget the 0x before the hex data.
<br>if(! sybase_query("INSERT INTO test_image (image) VALUES (0x".$data.")")) die ("Unable to store the image.");
<br>
<br>To retrieve it just do a select and use a hex2bin function (this one has been submitted by carl@five-ten-sg.com and is the fastest) :
<br>
<br>function hex2bin($data) {
<br>&nbsp; &nbsp;&nbsp; $len = strlen($data);
<br>&nbsp; &nbsp; &nbsp; return pack("H" . $len, $data);
<br>}
<br>
<br>PS : use CT-lib rather than DB-lib (Sybase doesn't work on it anymore!)</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/ref.sybase.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 15:57:46 GMT -->


</body></html>