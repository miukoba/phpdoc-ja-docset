<html><!-- Mirrored from php.net/manual/en/function.ldap-modify.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:02:11 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>ldap_modify</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="http://php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.ldap-modify.html">
 <link rel="shorturl" href="http://php.net/ldap-modify">
 <link rel="alternate" href="http://php.net/ldap-modify" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.ldap.html">
 <link rel="prev" href="function.ldap-modify-batch.html">
 <link rel="next" href="function.ldap-next-attribute.html">

 <link rel="alternate" href="function.ldap-modify.html" hreflang="en">
 <link rel="alternate" href="http://php.net/manual/pt_BR/function.ldap-modify.php" hreflang="pt_BR">
 <link rel="alternate" href="http://php.net/manual/zh/function.ldap-modify.php" hreflang="zh">
 <link rel="alternate" href="http://php.net/manual/fr/function.ldap-modify.php" hreflang="fr">
 <link rel="alternate" href="http://php.net/manual/de/function.ldap-modify.php" hreflang="de">
 <link rel="alternate" href="http://php.net/manual/it/function.ldap-modify.php" hreflang="it">
 <link rel="alternate" href="http://php.net/manual/ja/function.ldap-modify.php" hreflang="ja">
 <link rel="alternate" href="http://php.net/manual/ro/function.ldap-modify.php" hreflang="ro">
 <link rel="alternate" href="http://php.net/manual/ru/function.ldap-modify.php" hreflang="ru">
 <link rel="alternate" href="http://php.net/manual/es/function.ldap-modify.php" hreflang="es">
 <link rel="alternate" href="http://php.net/manual/tr/function.ldap-modify.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached8fe1.css?t=1401250819&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached4b8d.css?t=1404368420&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached5065.css?t=1403329232&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedc78d.css?t=1401249623&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script type="text/javascript">
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="http://php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script type="text/javascript" src="http://php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>

</head>
<body class="docs " style="">


<div class="headsup"><a href="http://php.net/index.php#id2014-08-28-1">PHP 5.6.0 released</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.globals.html">Using Register Globals</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.magicquotes.html">Magic Quotes</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.safe-mode.html">Safe Mode</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.creditcard.html">Credit Card Processing</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
          
              
        <ul class="breadcrumbs-container">
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.remote.other.html">Other Services</a></li>      <li><a href="book.ldap.html">LDAP</a></li>      <li><a href="ref.ldap.html">LDAP Functions</a></li>    </ul>
  </div>




<div id="layout">
  <section id="layout-content">
  <div id="function.ldap-modify" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ldap_modify</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">ldap_modify</span> â€” <span class="dc-title">Modify an LDAP entry</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ldap-modify-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>ldap_modify</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$link_identifier</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$dn</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$entry</code></span>
   )</div>

  <p class="para rdfs-comment">
   Modify the existing entries in the LDAP directory. The structure of the
   entry is same as in <span class="function"><a href="function.ldap-add.html" class="function">ldap_add()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ldap-modify-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>

    
     <dt>
<code class="parameter">link_identifier</code></dt>

     <dd>

      <p class="para">
       An LDAP link identifier, returned by <span class="function"><a href="function.ldap-connect.html" class="function">ldap_connect()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">dn</code></dt>

     <dd>

      <p class="para">
       The distinguished name of an LDAP entity.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">entry</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ldap-modify-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.ldap-modify-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ldap-modify-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.ldap-rename.html" class="function" rel="rdfs-seeAlso">ldap_rename()</a> - Modify the name of an entry</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="64294">  
  <a class="name">
  <strong class="user"><em>docwoelle at ipwatch dot de</em></strong></a><div class="date" title="2006-04-11 01:44"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom64294">
<div class="phpcode"><code><span class="html">
If you want to disable an account in an Active Directory of Windows, <br>you may try this (it works for me in a Win2k environment):<br><br>(foo.bar should be replaced in "$ldapBase" to the correct<br> domain, e.g. "DC=phpfreackx,DC=com" if your domain is phpfreackx.com)<br><br>domctrl = domain controller<br>domadlogin = domain admin login<br>domadpw = domain admin password<br>username = loginname of useraccount (e.g. "john.doe")<br>enable =1 (if you want to enable it, 0 if it should be disabled)<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">userchange</span><span class="keyword">(</span><span class="default">$username</span><span class="keyword">,</span><span class="default">$enable</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">,</span><span class="default">$domadlogin</span><span class="keyword">,</span><span class="default">$domadpw</span><span class="keyword">,</span><span class="default">$domctrl</span><span class="keyword">)<br>{<br></span><span class="default">$ldapServer </span><span class="keyword">= </span><span class="default">$domctrl</span><span class="keyword">;<br></span><span class="default">$ldapBase </span><span class="keyword">= </span><span class="string">'DC=foo,DC=bar'</span><span class="keyword">;<br></span><span class="default">$ds </span><span class="keyword">= </span><span class="default">ldap_connect</span><span class="keyword">(</span><span class="default">$ldapServer</span><span class="keyword">);<br>if (!</span><span class="default">$ds</span><span class="keyword">) {die(</span><span class="string">'Cannot Connect to LDAP server'</span><span class="keyword">);}<br></span><span class="default">$ldapBind </span><span class="keyword">= </span><span class="default">ldap_bind</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">,</span><span class="default">$domadlogin</span><span class="keyword">,</span><span class="default">$domadpw</span><span class="keyword">);<br>if (!</span><span class="default">$ldapBind</span><span class="keyword">) {die(</span><span class="string">'Cannot Bind to LDAP server'</span><span class="keyword">);}<br></span><span class="default">ldap_set_option</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">LDAP_OPT_PROTOCOL_VERSION</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br></span><span class="default">$sr </span><span class="keyword">= </span><span class="default">ldap_search</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">$ldapBase</span><span class="keyword">, </span><span class="string">"(samaccountname=</span><span class="default">$username</span><span class="string">)"</span><span class="keyword">);<br></span><span class="default">$ent</span><span class="keyword">= </span><span class="default">ldap_get_entries</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">,</span><span class="default">$sr</span><span class="keyword">);<br></span><span class="default">$dn</span><span class="keyword">=</span><span class="default">$ent</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"dn"</span><span class="keyword">];<br></span><span class="comment">// Deactivate<br></span><span class="default">$ac </span><span class="keyword">= </span><span class="default">$ent</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"useraccountcontrol"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br></span><span class="default">$disable</span><span class="keyword">=(</span><span class="default">$ac </span><span class="keyword">|&nbsp; </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// set all bits plus bit 1 (=dec2)<br></span><span class="default">$enable </span><span class="keyword">=(</span><span class="default">$ac </span><span class="keyword">&amp; ~</span><span class="default">2</span><span class="keyword">); </span><span class="comment">// set all bits minus bit 1 (=dec2)<br></span><span class="default">$userdata</span><span class="keyword">=array();<br>if (</span><span class="default">$enable</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) </span><span class="default">$new</span><span class="keyword">=</span><span class="default">$enable</span><span class="keyword">; else </span><span class="default">$new</span><span class="keyword">=</span><span class="default">$disable</span><span class="keyword">; </span><span class="comment">//enable or disable?<br></span><span class="default">$userdata</span><span class="keyword">[</span><span class="string">"useraccountcontrol"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]=</span><span class="default">$new</span><span class="keyword">;<br></span><span class="default">ldap_modify</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">$dn</span><span class="keyword">, </span><span class="default">$userdata</span><span class="keyword">); </span><span class="comment">//change state<br></span><span class="default">$sr </span><span class="keyword">= </span><span class="default">ldap_search</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">$ldapBase</span><span class="keyword">, </span><span class="string">"(samaccountname=</span><span class="default">$username</span><span class="string">)"</span><span class="keyword">);<br></span><span class="default">$ent</span><span class="keyword">= </span><span class="default">ldap_get_entries</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">,</span><span class="default">$sr</span><span class="keyword">);<br></span><span class="default">$ac </span><span class="keyword">= </span><span class="default">$ent</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"useraccountcontrol"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>if ((</span><span class="default">$ac </span><span class="keyword">&amp; </span><span class="default">2</span><span class="keyword">)==</span><span class="default">2</span><span class="keyword">) </span><span class="default">$status</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; else </span><span class="default">$status</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br></span><span class="default">ldap_close</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">);<br>return </span><span class="default">$status</span><span class="keyword">; </span><span class="comment">//return current status (1=enabled, 0=disabled)<br></span><span class="keyword">}&nbsp;&nbsp; <br><br></span><span class="comment">// use this to disable an account:<br>// userchange('john.doe@foo.bar',0,'admin@foo.bar', 'secret','domctrl.foo.bar'); <br>// ..but this to enable it:<br>// userchange('john.doe@foo.bar',1,'admin@foo.bar', 'secret','domctrl.foo.bar'); <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="36792">  
  <a class="name">
  <strong class="user"><em>fechner at ponton dot de</em></strong></a><div class="date" title="2003-10-22 12:32"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom36792">
<div class="phpcode"><code><span class="html">
If you are trying to change the userPassword attribute when using md5 hashes, try the following lines:<br><br>$new["userPassword"] = '{md5}' . base64_encode(pack('H*', md5($newpass_in_plaintext)));<br>ldap_modify($ds, $dn, $new);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="43216">  
  <a class="name">
  <strong class="user"><em>chris at uffbasse dot de</em></strong></a><div class="date" title="2004-06-14 09:57"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom43216">
<div class="phpcode"><code><span class="html">
To pinpoint the delete issue:<br><br>with newer OpenLdap versions this will fail:<br><br>$values["mail"] = "";<br>ldap_modify($conn_id, $dn, $values);<br><br>or <br>$values["mail"][0] = "";<br>ldap_modify($conn_id, $dn, $values);<br><br>BUT this works:<br><br>$values["mail"] = array();<br>ldap_modify($conn_id, $dn, $values);<br><br>or <br>$values["mail"][0] = array();<br>ldap_modify($conn_id, $dn, $values);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="38092">  
  <a class="name">
  <strong class="user"><em>ace at suares dot nl</em></strong></a><div class="date" title="2003-12-08 07:41"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom38092">
<div class="phpcode"><code><span class="html">
Some comments on ldap_modify, and especially the user comment from tengel at fluid dot com<br><br>OpenLDAP 2.1.22<br>If an attribute is tagged as MUST in the schema, the attribute must be there. Wheter it may contain and empty value depends on the SYNTAX for that attribute.<br><br>DirectoryString MAY NOT be empty; OctetString MAY be empty. As far as I can see, IA5String MAY NOT be empty.<br><br>If an attribute is defined as MAY in the schema, the attribute may or may not be there. If it is there, it MAY or MAY NOT be empty, depending on its SYNTAX.<br><br>PHP 4.3.1<br><br>It seems that ldap_modify() will take an array of attributes to modify.<br><br>For multivalued attributes, passing an empty array, wil DELETE the attribute, regardless of it's previous value(s), and regardless if the attribute was there before the modify.<br><br>If the multivalued attribute is defined as MAY, this will work. If the attribute is defined as MUST, OpenLDAP will generate the error: 'LDAP error 65: Object class violation'<br><br>If an attribute's SYNTAX defines that it MAY NOT be empty, trying to add or modify the attribute with an empty value will genereate the error: 'LDAP error 21: Invalid syntax'.<br>Also, in the logfile, if set with sufficient debuglevel, the string<br><br>&nbsp; &nbsp; value #0 invalid per syntax<br><br>will be present.<br><br>Trying to pass an empty array to ldap_add() for a any attribute (multi or single valued) will result in the error 'LDAP error 2: Protocol error', regardless if the attribute is defined as MUST or MAY.<br><br>Note that this differs form passing an array with elements that have no value. In the latter case, it depends on the SYNTAX for that attribute if that is allowed.<br><br>If the attribute is single-valued, passing an array with one element, WILL change the value of the attribute. In the user comments on php.net it is suggested that if you want to modify a single valued attribute, you must pass a string, not an array with one element. My experience is that an array with a single element will work just as well.<br><br>_Ace<br><br>website: <a rel="nofollow" target="_blank">http://www.suares.nl</a> * <a rel="nofollow" target="_blank">http://www.qwikzite.nl</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="112887">  
  <a class="name">
  <strong class="user"><em>spam at bilgoraj dot info</em></strong></a><div class="date" title="2013-08-02 10:38"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom112887">
<div class="phpcode"><code><span class="html">
If You can`t add attribute objectclass to existing object&nbsp; using ldap_modify - use ldap_mod_add - it works.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74581">  
  <a class="name">
  <strong class="user"><em>php_notes at grumz dot net</em></strong></a><div class="date" title="2007-04-18 06:09"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74581">
<div class="phpcode"><code><span class="html">
Following goetz at rvs dot uni-hannover dot de's comment, it is not exactly true that ldap_modify can't change objectclass. <br><br>In fact, it's impossible to add an objectclass which is set as STRUCTURAL in the schema description. But you can add an objectclass set as AUXILIARY. See OpenLDAP FAQ below for explanation why :<br><br><a rel="nofollow" target="_blank">http://www.openldap.org/faq/data/cache/1341.html</a><br><br>For example, if you have an ldap entry of type "device", which is a structural objectclass, named "cn=myNetCard,ou=Networks,dc=example,dc=com", you can do this :<br><br><span class="default">&lt;?php<br><br>$entry</span><span class="keyword">[</span><span class="string">"objectclass"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"device"</span><span class="keyword">;<br></span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"objectclass"</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"ieee802Device"</span><span class="keyword">; </span><span class="comment">// add an auxiliary objectclass<br></span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"macAddress"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"aa:bb:cc:dd:ee:ff"</span><span class="keyword">;<br><br></span><span class="default">ldap_modify </span><span class="keyword">(</span><span class="default">$cnx</span><span class="keyword">, </span><span class="string">"cn=myNetCard,ou=Networks,dc=example,dc=com"</span><span class="keyword">, </span><span class="default">$entry</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>But this will not work :<br><br><span class="default">&lt;?php<br><br>$entry</span><span class="keyword">[</span><span class="string">"objectclass"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"device"</span><span class="keyword">;<br></span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"objectclass"</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"ipNetwork"</span><span class="keyword">; </span><span class="comment">// add a structural objectclass<br></span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"ipNetworkNumber"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"1.2.3.4"</span><span class="keyword">;<br><br></span><span class="default">ldap_modify </span><span class="keyword">(</span><span class="default">$cnx</span><span class="keyword">, </span><span class="string">"cn=myNetCard,ou=Networks,dc=example,dc=com"</span><span class="keyword">, </span><span class="default">$entry</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>You will get the following error : "Cannot modify object class"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74268">  
  <a class="name">
  <strong class="user"><em>kevin at guarana dot org</em></strong></a><div class="date" title="2007-04-02 06:44"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom74268">
<div class="phpcode"><code><span class="html">
If you're seeing confusing "Type or value exists" errors from ldap_modify, the reason could be that you're attempting to add two identical values for a multi-valued attribute.&nbsp; ie, something like:<br><br><span class="default">&lt;?php<br>$le </span><span class="keyword">= array(</span><span class="string">"mail" </span><span class="keyword">=&gt; array(</span><span class="string">"foo@bar.com"</span><span class="keyword">, </span><span class="string">"foo@bar.com"</span><span class="keyword">));<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">ldap_modify</span><span class="keyword">(</span><span class="default">$ldap_link</span><span class="keyword">, </span><span class="default">$dn</span><span class="keyword">, </span><span class="default">$le</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="59185">  
  <a class="name">
  <strong class="user"><em>jmw1982 at gmail dot com</em></strong></a><div class="date" title="2005-11-28 02:03"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom59185">
<div class="phpcode"><code><span class="html">
If you're writing a multiple values for an attribute with ldap_modify (), the function will attempt to write all entries in the value array even if those entries are blank.&nbsp; Setting blank entries to a blank array in the manner used for attribute deletion, ie:<br><br>$attributes[$attr_name][3] = array ();<br><br>results in the string "Array" being written to the directory for that value.&nbsp; The only way I was able to find to do what I wanted - only write the values for the attribute that were submitted on the form - was to check if each attribute had multiple values and unset () blank values, eg:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($attributes as $key =&gt; $cur_val) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($cur_val== '') {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $attributes[$key] = array ();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (is_array ($cur_val)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach ($cur_val as $mv_key =&gt; $mv_cur_val) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($mv_cur_val == '') {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset ($attributes[$key][$mv_key]);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $attributes[$key][$mv_key] = $mv_cur_val;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33989">  
  <a class="name">
  <strong class="user"><em>davidsmith at byuNOSPAM dot edu</em></strong></a><div class="date" title="2003-07-12 05:52"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33989">
<div class="phpcode"><code><span class="html">
The $entry parameter can be an array of values for an attribute. Just be careful that your array's indices are numerically contiguous. For example, when using this $entry array, ldap_modify will fail with little explanation:<br><br>&nbsp;&nbsp; $entry = array( 0 =&gt; 'foo', 2 =&gt; 'bar' );<br><br>While this one will work just fine:<br><br>&nbsp;&nbsp; $entry = array( 0 =&gt; 'foo', 1 =&gt; 'bar' );<br><br>Hope this helps someone out.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="33017">  
  <a class="name">
  <strong class="user"><em>jpdalbec at ysu dot edu</em></strong></a><div class="date" title="2003-06-13 03:13"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom33017">
<div class="phpcode"><code><span class="html">
Nick T.'s comment above is out of date.<br>The PHP LDAP interface currently supports direct modification of the DN using the ldap_rename() function.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30747">  
  <a class="name">
  <strong class="user"><em>goetz at rvs dot uni-hannover dot de</em></strong></a><div class="date" title="2003-03-27 07:22"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom30747">
<div class="phpcode"><code><span class="html">
Remember that you can NOT modify the attribute 'objectclass' with ldap_modify! <br><br>If you use a search result as basis for your changes, be sure to 'unset()' all numbered indices, 'count' indicies AND index 'objectclass' !</span>
</code></div>
  </div>
 </div>
  <div class="note" id="24311">  
  <a class="name">
  <strong class="user"><em>NOSPAMjjhuff at mspin dot net</em></strong></a><div class="date" title="2002-08-12 08:50"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom24311">
<div class="phpcode"><code><span class="html">
To delete entries:<br><br>$data["description"] = array();<br>ldap_modify($conn, $dn,$data);</span>
</code></div>
  </div>
 </div>
  <div class="note" id="12095">  
  <a class="name">
  <strong class="user"><em>tengel at fluid dot com</em></strong></a><div class="date" title="2001-03-21 06:57"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom12095">
<div class="phpcode"><code><span class="html">
The behaviour of OpenLDAP from 1.x to 2.x changed; in 1.x, when you passed ldap_modify the array, if the value was empty that attribute would be deleted.&nbsp; In 2.x, you get an "Invalid Syntax" error and the modify fails.
<br>
<br>This requires the ldap_mod_del function; unfortunately, that operation requires the attribute to be deleted have it's *old* value specified -- as you can imagine, if you're taking input from a CGI form, the attribute to be deleted's value is now missing (i.e., the user blanked out that textbox in the form and clicked Submit).
<br>
<br>So, you're in a bit of a conundrum -- you want to delete "empty" form values, but you need their old value to delete them.&nbsp; There are many ways to handle this, but I chose this approach:
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// The first is what to add, the second to remove
<br></span><span class="default">$entry</span><span class="keyword">=array();
<br></span><span class="default">$delval</span><span class="keyword">=array();
<br>
<br></span><span class="comment">// Imagine if you will, $o and $title are
<br>// form fields with text boxes for data
<br></span><span class="keyword">if(</span><span class="default">$o</span><span class="keyword">!=</span><span class="string">""</span><span class="keyword">) { </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"o"</span><span class="keyword">]=</span><span class="string">"</span><span class="default">$o</span><span class="string">"</span><span class="keyword">; } else { </span><span class="default">$delval</span><span class="keyword">[]=</span><span class="string">"o"</span><span class="keyword">; }
<br>if(</span><span class="default">$title</span><span class="keyword">!=</span><span class="string">""</span><span class="keyword">) { </span><span class="default">$entry</span><span class="keyword">[</span><span class="string">"title"</span><span class="keyword">]=</span><span class="string">"</span><span class="default">$title</span><span class="string">"</span><span class="keyword">; } else { </span><span class="default">$delval</span><span class="keyword">[]=</span><span class="string">"title"</span><span class="keyword">; }
<br>
<br></span><span class="comment">// First try the normal modify with $entry
<br>// $ldap, $dn, $BASEDN are all set up earlier
<br></span><span class="keyword">if (@</span><span class="default">ldap_modify</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">, </span><span class="default">$dn</span><span class="keyword">, </span><span class="default">$entry</span><span class="keyword">)) {
<br>&nbsp; </span><span class="comment">// then do the dirty work
<br>&nbsp; </span><span class="default">$filter </span><span class="keyword">= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"(&amp;(uid=%s)(sn=%s))"</span><span class="keyword">,</span><span class="default">$uid</span><span class="keyword">,</span><span class="default">$sn</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$sres </span><span class="keyword">= </span><span class="default">ldap_search</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">, </span><span class="default">$BASEDN</span><span class="keyword">, </span><span class="default">$filter</span><span class="keyword">, </span><span class="default">$delval</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$delent </span><span class="keyword">= </span><span class="default">ldap_first_entry</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">, </span><span class="default">$sres</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$delarr </span><span class="keyword">= </span><span class="default">ldap_get_attributes</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">, </span><span class="default">$delent</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$findel</span><span class="keyword">=array();
<br>&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$delarr</span><span class="keyword">[</span><span class="string">"count"</span><span class="keyword">]; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; </span><span class="default">$attr </span><span class="keyword">= </span><span class="default">$delarr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];
<br>&nbsp; &nbsp; </span><span class="default">$totl </span><span class="keyword">= </span><span class="default">$delarr</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">][</span><span class="string">"count"</span><span class="keyword">];
<br>&nbsp; &nbsp; for(</span><span class="default">$z</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$z</span><span class="keyword">&lt;</span><span class="default">$totl</span><span class="keyword">; </span><span class="default">$z</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">$totl </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$findel</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">]=</span><span class="default">$delarr</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">][</span><span class="default">$z</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$findel</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">][</span><span class="default">$z</span><span class="keyword">]=</span><span class="default">$delarr</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">][</span><span class="default">$z</span><span class="keyword">];
<br>&nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; }
<br>&nbsp; if(@</span><span class="default">ldap_mod_del</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">, </span><span class="default">$dn</span><span class="keyword">, </span><span class="default">$findel</span><span class="keyword">)) {
<br>&nbsp; &nbsp; print(</span><span class="string">"&lt;H3&gt;Modified Entry!&lt;/H3&gt;\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; print(</span><span class="string">"&lt;BR&gt;\n"</span><span class="keyword">);
<br>&nbsp; } else {
<br>&nbsp; &nbsp; </span><span class="default">$error</span><span class="keyword">=</span><span class="default">ldap_error</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">);
<br>&nbsp; &nbsp; print(</span><span class="string">"&lt;H3&gt;Attribute Delete Failed!&lt;/H3&gt;\n"</span><span class="keyword">);
<br>&nbsp; &nbsp; print(</span><span class="string">"&lt;BR&gt;\n(</span><span class="default">$error</span><span class="string">)\n"</span><span class="keyword">);
<br>&nbsp; }
<br>} else {
<br>&nbsp; </span><span class="default">$error</span><span class="keyword">=</span><span class="default">ldap_error</span><span class="keyword">(</span><span class="default">$ldap</span><span class="keyword">);
<br>&nbsp; print(</span><span class="string">"&lt;H3&gt;Modify Failed!&lt;/H3&gt;\n"</span><span class="keyword">);
<br>&nbsp; print(</span><span class="string">"&lt;BR&gt;\n(</span><span class="default">$error</span><span class="string">)\n"</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="748">  
  <a class="name">
  <strong class="user"><em>nickt at powys dot gov dot uk</em></strong></a><div class="date" title="1999-04-23 05:23"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom748">
<div class="phpcode"><code><span class="html">
Modifying existing LDAP information using ldap_modify()
<br>
<br>The link_identifier must result from a call to connect to the server with authority to update entries, usually requiring an authenticated bind - ie you provide a suitable dn and password in the ldap_bind() call.
<br>
<br>The&nbsp; dn&nbsp; must be a single specific dn that exists on the LDAP server.&nbsp;&nbsp; There is no wildcard mechanism in LDAP to globally change multiple dn entries.&nbsp;&nbsp; 
<br>
<br>The entry array must be in one of two different forms, according to whether just one entry is to be stored in the directory for a particular attribute, or whether multiple entries are to be stored for the attribute.
<br>
<br>Where a single entry is to be stored for an attribute - say just a single email address - then you use the general form
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php $newinfo</span><span class="keyword">[ &lt;</span><span class="default">attribute_name</span><span class="keyword">&gt; ]=</span><span class="string">"whatever" </span><span class="keyword">; </span><span class="default">?&gt;
<br></span>
<br>for example ...
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php $newinfo</span><span class="keyword">[</span><span class="string">"mail"</span><span class="keyword">]=</span><span class="string">"john@myorg.com" </span><span class="keyword">; </span><span class="default">?&gt;
<br></span>
<br>Where multiple entries are to be stored for an attribute&nbsp; -&nbsp; say a number of email addresses for one person&nbsp; -&nbsp; then you use the general form
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newinfo</span><span class="keyword">[ &lt;</span><span class="default">attribute_name</span><span class="keyword">&gt; ][</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"whatever" </span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newinfo</span><span class="keyword">[ &lt;</span><span class="default">attribute_name</span><span class="keyword">&gt; ][</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"another" </span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">?&gt;
<br></span>
<br>for example ...
<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="default">&lt;?php
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newinfo</span><span class="keyword">[</span><span class="string">"mail"</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]=</span><span class="string">"johnw@myorg.com" </span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newinfo</span><span class="keyword">[</span><span class="string">"mail"</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]=</span><span class="string">"jwaterson@somewhere.org" </span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">?&gt;
<br></span>
<br>Further notes on ldap_modify()
<br>
<br>The modify call leaves entries for all other attributes unaltered.&nbsp;&nbsp; So if you just want to update the entry for the "mail" attribute, then all that is required is:
<br>
<br>&nbsp; &nbsp;&nbsp; <span class="default">&lt;?php
<br>&nbsp; &nbsp;&nbsp; $newinfo</span><span class="keyword">[</span><span class="default">mail</span><span class="keyword">]=</span><span class="string">"nick@county.gov.uk"</span><span class="keyword">;
<br>&nbsp; &nbsp;&nbsp; </span><span class="default">ldap_modify</span><span class="keyword">(</span><span class="default">$valid_ldaplink</span><span class="keyword">, </span><span class="default">$valid_dn</span><span class="keyword">, </span><span class="default">$newinfo</span><span class="keyword">);
<br>&nbsp; &nbsp;&nbsp; </span><span class="default">?&gt;
<br></span>
<br>However, if there were multiple entries for the mail attribute present on the LDAP database when you run the above code, then all the existing mail entries would be deleted and be replaced by the single "mail" entry.
<br>
<br>If you have reason to expect multiple values for a particular attribute (more that one email entry, for example) you should make sure you read all the entries from the ldap server first, and then save a modified array.
<br>
<br>The PHP LDAP interface does not currently support direct modification of the dn.&nbsp; If the dn needs changing, the only option is to read all entries for the dn and save these to a new, modified, dn before deleting the complete entry for the original dn.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->
         
  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from php.net/manual/en/function.ldap-modify.php by HTTrack Website Copier/3.x [XR&CO'2013], Thu, 28 Aug 2014 16:02:12 GMT -->


</body></html>