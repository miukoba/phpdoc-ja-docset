<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>配列内の現在の要素を返す</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.count.html">≪ count</a></li>
      <li style="float: right;"><a href="function.each.html">each ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">配列 関数</a></li>
    <li>配列内の現在の要素を返す</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.current" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">current</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">current</span> &mdash; <span class="dc-title">配列内の現在の要素を返す</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.current-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>current</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&$array</code></span>
   )</div>

  <p class="para rdfs-comment">
   各配列は、&quot;カレント&quot;の要素へのポインタを有しています。
   このポインタは、その配列の最初の要素を指すように初期化されます。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.current-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       配列。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.current-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <span class="function"><strong>current()</strong></span> 関数は、
   単に内部ポインタが現在指している配列要素の値を返します。
   この関数は、ポインタを全く移動しません。
   内部ポインタが最終要素の次を指していたり
   配列が空だったりした場合、
   <span class="function"><strong>current()</strong></span> は <strong><code>FALSE</code></strong> を返します。
  </p>
  <div class="warning"><strong class="warning">警告</strong><p class="simpara">この関数は論理値
<strong><code>FALSE</code></strong> を返す可能性がありますが、<strong><code>FALSE</code></strong> として評価される値を返す可能性もあります。
詳細については <a href="language.types.boolean.html" class="link">論理値</a>の
セクションを参照してください。この関数の返り値を調べるには
<a href="language.operators.comparison.html" class="link">===演算子</a> を
使用してください。</p></div>
 </div>

 <div class="refsect1 examples" id="refsect1-function.current-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5119">
    <p><strong>例1 <span class="function"><strong>current()</strong></span> と類似関数の使用例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$transport&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'foot'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bike'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'car'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'plane'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'foot';<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">next</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'bike';<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'bike';<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">prev</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'foot';<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">end</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'plane';<br /></span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$transport</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$mode&nbsp;=&nbsp;'plane';<br /><br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;bool(false)<br /><br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;array(array());<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;array(0)&nbsp;{&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.current-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <span class="simpara">
    配列中に <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span> <strong><code>FALSE</code></strong> の要素が含まれていると、
    それを配列の終わりと区別することができません。<strong><code>FALSE</code></strong>
    要素を含む配列を順に処理するには、<span class="function"><a href="function.each.html" class="function">each()</a></span>
    関数を参照ください。
   </span>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.current-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.end.html" class="function" rel="rdfs-seeAlso">end()</a> - 配列の内部ポインタを最終要素にセットする</span></li>
    <li class="member"><span class="function"><a href="function.key.html" class="function" rel="rdfs-seeAlso">key()</a> - 配列からキーを取り出す</span></li>
    <li class="member"><span class="function"><a href="function.each.html" class="function" rel="rdfs-seeAlso">each()</a> - 配列から現在のキーと値のペアを返して、カーソルを進める</span></li>
    <li class="member"><span class="function"><a href="function.prev.html" class="function" rel="rdfs-seeAlso">prev()</a> - 内部の配列ポインタをひとつ前に戻す</span></li>
    <li class="member"><span class="function"><a href="function.reset.html" class="function" rel="rdfs-seeAlso">reset()</a> - 配列の内部ポインタを先頭の要素にセットする</span></li>
    <li class="member"><span class="function"><a href="function.next.html" class="function" rel="rdfs-seeAlso">next()</a> - 内部配列ポインタを進める</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115026""></a>
  <div class="note">
   <strong class="user">Pratip Ghosh</strong>
   <a href="#115026" class="date">14-May-2014 02:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If we unset any element from an array, and then try the current function, I noted it returned FALSE. To overcome this limitation, you can use array_values function to re-order the tree.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113561""></a>
  <div class="note">
   <strong class="user">strate at yandex dot com</strong>
   <a href="#113561" class="date">30-Oct-2013 04:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note, that you can pass array by expression, not only by reference (as described in doc).<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">( </span><span class="default">current</span><span class="keyword">( array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">) ) ); </span><span class="comment">// (int) 1<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107147""></a>
  <div class="note">
   <strong class="user">michael at squiloople dot com</strong>
   <a href="#107147" class="date">11-Jan-2012 04:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
current() also works on objects:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp; </span><span class="keyword">echo </span><span class="default">current</span><span class="keyword">((object) array(</span><span class="string">'one'</span><span class="keyword">, </span><span class="string">'two'</span><span class="keyword">)); </span><span class="comment">// Outputs: one
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83212""></a>
  <div class="note">
   <strong class="user">aefxx</strong>
   <a href="#83212" class="date">15-May-2008 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple copy function that not only copies the given array but ensures the copy's pointer is set to the exact same position:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_copy</span><span class="keyword">(&amp;array)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$copy </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; while ((</span><span class="default">$copy_key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$copy</span><span class="keyword">)) !== </span><span class="default">NULL</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$copy_key </span><span class="keyword">== </span><span class="default">$key</span><span class="keyword">) break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$copy</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$copy</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
That's all ... bye.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81431""></a>
  <div class="note">
   <strong class="user">gregory at gregory dot net</strong>
   <a href="#81431" class="date">28-Feb-2008 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It took me a while to figure this out, but there is a more consistent way to figure out whether you really went past the end of the array, than using each().<br />
<br />
You see, each() gets the value BEFORE advancing the pointer, and next() gets the value AFTER advancing the pointer. When you are implementing the Iterator interface, therefore, it's a real pain in the behind to use each().<br />
<br />
And thus, I give you the solution:<br />
To see if you've blown past the end of the array, use key($array) and see if it returns NULL. If it does, you're past the end of the array -- keys can't be null in arrays.<br />
<br />
Nifty, huh? Here's how I implemented the Iterator interface in one of my classes:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* DbRow file<br />
&nbsp;* @package PalDb<br />
&nbsp;*/<br />
<br />
/**<br />
&nbsp;* This class lets you use Db rows and object-relational mapping functionality.<br />
&nbsp;*/<br />
&nbsp;<br />
</span><span class="keyword">class </span><span class="default">DbRow </span><span class="keyword">implements </span><span class="default">Iterator<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * The DbResult object that gave us this row through fetchDbRows<br />
&nbsp;&nbsp; &nbsp; * @var DbResult<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * The fields of the row<br />
&nbsp;&nbsp; &nbsp; * @var $fields<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected </span><span class="default">$fields</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Constructor<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @param PDOStatement $stmt<br />
&nbsp;&nbsp; &nbsp; *&nbsp; The PDO statement object that this result uses<br />
&nbsp;&nbsp; &nbsp; * @param DbResult $result<br />
&nbsp;&nbsp; &nbsp; *&nbsp; The result that produced this row through fetchDbRows <br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">result </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Get the DbResult object that gave us this row through fetchDbRows<br />
&nbsp;&nbsp; &nbsp; * @return DbResult<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @return unknown<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">getResult</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__set</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">])) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Iterator implementation - rewind<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">rewind</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">beyondLastField </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">valid</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return !</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">beyondLastField</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">current</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">current</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">key</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">key</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">next</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$next </span><span class="keyword">= </span><span class="default">next</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$key</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$next</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">beyondLastField </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">// doesn't matter what we return here, see valid()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$beyondLastField </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
};<br />
<br />
</span><span class="default">Hope this helps someone</span><span class="keyword">.</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77064""></a>
  <div class="note">
   <strong class="user">vaclav dot sir at gmail dot com</strong>
   <a href="#77064" class="date">13-Aug-2007 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To that "note": You won't be able to distinguish the end of an array from a boolean FALSE element, BUT you can distinguish the end from a NULL value of the key() function.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) === </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"You are in the end of the array."</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Current element: " </span><span class="keyword">. </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41864""></a>
  <div class="note">
   <strong class="user">mdeng at kabenresearch dot com</strong>
   <a href="#41864" class="date">24-Apr-2004 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For large array(my sample was 80000+ elements), if you want to traverse the array in sequence, using array index $a[$i] could be very inefficient(very slow). I had to switch to use current($a).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37917""></a>
  <div class="note">
   <strong class="user">vitalib at 012 dot net dot il</strong>
   <a href="#37917" class="date">02-Dec-2003 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that by copying an array its internal pointer is lost:<br />
<br />
<span class="default">&lt;?php<br />
$myarray </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">=&gt;</span><span class="string">'a'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">'c'</span><span class="keyword">);<br />
</span><span class="default">next</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">));<br />
echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">$myarray</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Would output 'b' and then 'a' since the internal pointer wasn't copied. You can cope with that problem using references instead, like that:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">=&amp; </span><span class="default">$myarray</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29950""></a>
  <div class="note">
   <strong class="user">retestro_REMOVE at SPAM_esperanto dot org dot il</strong>
   <a href="#29950" class="date">02-Mar-2003 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The docs do not specify this, but adding to the array using the brackets syntax:
<br />
&nbsp;&nbsp; &nbsp; <span class="default">&lt;?php $my_array</span><span class="keyword">[] = </span><span class="default">$new_value</span><span class="keyword">; </span><span class="default">?&gt;
<br />
</span>will not advance the internal pointer of the array. therefore, you cannot use current() to get the last value added or key() to get the key of the most recently added element.
<br />

<br />
You should do an end($my_array) to advance the internal pointer to the end ( as stated in one of the notes on end() ), then
<br />

<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;?php
<br />
&nbsp;&nbsp; &nbsp; $last_key </span><span class="keyword">= </span><span class="default">key</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">);&nbsp; </span><span class="comment">// will return the key
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$last_value </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">);&nbsp; </span><span class="comment">// will return the value
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">?&gt;
<br />
</span>
<br />
If you have no need in the key, $last_value = end($my_array) will also do the job.
<br />

<br />
- Sergey.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
