<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>変数に含まれるすべての要素、
  あるいはオブジェクトに含まれる何かの数を数える</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.compact.html">≪ compact</a></li>
      <li style="float: right;"><a href="function.current.html">current ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">配列 関数</a></li>
    <li>変数に含まれるすべての要素、
  あるいはオブジェクトに含まれる何かの数を数える</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.count" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">count</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">count</span> &mdash; <span class="dc-title">変数に含まれるすべての要素、
  あるいはオブジェクトに含まれる何かの数を数える</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.count-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>count</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$array_or_countable</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = COUNT_NORMAL</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   変数に含まれるすべての要素、
   あるいはオブジェクトに含まれる何かの数を数えます。
  </p>
  <p class="para">
   オブジェクトに対して、もし <a href="ref.spl.html" class="link">SPL</a>
   がインストールされている場合、インターフェイス
   <a href="class.countable.html" class="classname">Countable</a> を実装することで <span class="function"><strong>count()</strong></span>
   にフックすることができます。このインターフェイスには 1 つのメソッド
   <span class="methodname"><a href="countable.count.html" class="methodname">Countable::count()</a></span> があり、<span class="function"><strong>count()</strong></span>
   関数に対する値を返します。
  </p>
  <p class="para">
   配列の実装やPHPでの使用法に関する詳細な説明については、マニュアルの
   <a href="language.types.array.html" class="link">配列</a>のセクションを参照ください。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.count-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">array_or_countable</code></dt>

     <dd>

      <p class="para">
       配列あるいは <a href="class.countable.html" class="classname">Countable</a> オブジェクト。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       オプションの<code class="parameter">mode</code> 引数が <strong><code>COUNT_RECURSIVE</code></strong>
       (または 1) にセットされた場合、<span class="function"><strong>count()</strong></span>
       は再帰的に配列をカウントします。
       これは多次元配列の全ての要素をカウントするといった場合に特に有効です。
      </p>
      <div class="caution"><strong class="caution">警告</strong>
       <p class="para">
        <span class="function"><strong>count()</strong></span> は、再帰を検出して無限ループを回避するようになっています。
        しかしその場合 (配列の中に自分自身が複数回登場する場合) は毎回 <strong><code>E_WARNING</code></strong>
        を発行し、期待する結果より大きい数を返します。
       </p>
      </div>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.count-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <code class="parameter">array_or_countable</code> に含まれる要素の数を返します。
   もしパラメータが配列もしくは
   <a href="class.countable.html" class="classname">Countable</a> インターフェイスを実装したオブジェクトではない場合、
   <em>1</em> が返されます。
   ひとつ例外があり、<code class="parameter">array_or_countable</code> が <strong><code>NULL</code></strong> の場合、
   <em>0</em> が返されます。
  </p>
  <div class="caution"><strong class="caution">警告</strong>
   <p class="para">
    <span class="function"><strong>count()</strong></span> は、セットされていない変数に関して 0
    を返しますが、変数が空の配列として初期化されている場合にも 0 を返します。
    ある変数がセットされているかどうかを調べるには、
    <span class="function"><a href="function.isset.html" class="function">isset()</a></span> を使用してください。
   </p>
  </div>
 </div>

 <div class="refsect1 examples" id="refsect1-function.count-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5117">
    <p><strong>例1 <span class="function"><strong>count()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;3<br /><br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">9</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #0000BB">10</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;3<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;0<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$result&nbsp;==&nbsp;1<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5118">
    <p><strong>例2 再帰的な <span class="function"><strong>count()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$food&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'fruits'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'orange'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'banana'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'veggie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'carrot'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'collard'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'pea'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;再帰的なカウント<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$food</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">COUNT_RECURSIVE</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;output&nbsp;8<br /><br />//&nbsp;通常のカウント<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$food</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;output&nbsp;2<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.count-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-array.html" class="function" rel="rdfs-seeAlso">is_array()</a> - 変数が配列かどうかを検査する</span></li>
    <li class="member"><span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - 変数がセットされていること、そして NULL でないことを検査する</span></li>
    <li class="member"><span class="function"><a href="function.strlen.html" class="function" rel="rdfs-seeAlso">strlen()</a> - 文字列の長さを得る</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114924""></a>
  <div class="note">
   <strong class="user">onlyranga at gmail dot com</strong>
   <a href="#114924" class="date">28-Apr-2014 11:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to run through large arrays don't use count() function in the loops , its a over head in performance,&nbsp; copy the count() value into a variable and use that value in loops for a better performance.<br />
<br />
Eg:<br />
<br />
// Bad approach<br />
<br />
for($i=0;$i&lt;count($some_arr);$i++)<br />
{<br />
&nbsp;&nbsp;&nbsp; // calculations<br />
}<br />
<br />
// Good approach<br />
<br />
$arr_length = count($some_arr);<br />
for($i=0;$i&lt;$arr_length;$i++)<br />
{<br />
&nbsp;&nbsp;&nbsp; // calculations<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114489""></a>
  <div class="note">
   <strong class="user">norbyte</strong>
   <a href="#114489" class="date">26-Feb-2014 09:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to check whether large arrays contain a specific (less) number of array elements, don't use count(). This is very slow because each element has to get iterated.<br />
<br />
This is much faster:<br />
<br />
function isArrayCount(array $array, $count) {<br />
&nbsp;&nbsp;&nbsp; $count = (int) $count;<br />
&nbsp;&nbsp;&nbsp; $result = reset($array);<br />
&nbsp;&nbsp;&nbsp; if ($count === 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // for empty arrays reset returns FALSE<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // we have to switch the boolean result<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $result = !$result;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; for($i = 1; $i &lt; $count; $i++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (next($array) === FALSE) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result = FALSE;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $result;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113868""></a>
  <div class="note">
   <strong class="user">Gerd Christian Kunze</strong>
   <a href="#113868" class="date">11-Dec-2013 09:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Get maxWidth and maxHeight of a two dimensional array..?<br />
<br />
Note:<br />
1st dimension = Y (height)<br />
2nd dimension = X (width)<br />
e.g. rows and cols in database result arrays<br />
<br />
<span class="default">&lt;?php<br />
$TwoDimensionalArray </span><span class="keyword">= array( </span><span class="default">0 </span><span class="keyword">=&gt; array( </span><span class="string">'key' </span><span class="keyword">=&gt; </span><span class="string">'value'</span><span class="keyword">, ...), ... );<br />
</span><span class="default">?&gt;<br />
</span><br />
So for Y (maxHeight) <br />
<span class="default">&lt;?php<br />
$maxHeight </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">( </span><span class="default">$TwoDimensionalArray </span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
And for X (maxWidth)<br />
<span class="default">&lt;?php<br />
$maxWidth </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">( </span><span class="default">array_map</span><span class="keyword">( </span><span class="string">'count'</span><span class="keyword">,&nbsp; </span><span class="default">$TwoDimensionalArray </span><span class="keyword">) );<br />
</span><span class="default">?&gt;<br />
</span><br />
Simple? ;-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113617""></a>
  <div class="note">
   <strong class="user">MaxTheDragon at home dot nl</strong>
   <a href="#113617" class="date">06-Nov-2013 10:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you wish to test if an array contains any elements (or is empty), you might tempted to use count to do something like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) {<br />
</span><span class="comment">// array is not empty...<br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">// or this ...<br />
<br />
</span><span class="keyword">if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$my_array</span><span class="keyword">) === </span><span class="default">0</span><span class="keyword">) {<br />
</span><span class="comment">// array is empty...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Using the count function here is totally unnecessary and slower.<br />
<br />
Instead, you should rely on the fact that empty arrays evaluate to false when cast to a boolean:<br />
<br />
<span class="default">&lt;?php<br />
$hasElements </span><span class="keyword">= (boolean) </span><span class="default">$my_array</span><span class="keyword">;<br />
<br />
</span><span class="comment">// or ...<br />
<br />
</span><span class="default">$isEmpty </span><span class="keyword">= !</span><span class="default">$my_array</span><span class="keyword">;<br />
<br />
</span><span class="comment">// or in a conditional statement...<br />
<br />
</span><span class="keyword">if (</span><span class="default">$my_array</span><span class="keyword">) {<br />
</span><span class="comment">// array is not empty...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Only use count if you need to know if an array contains a specific number of elements n (where n &gt; 0).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113440""></a>
  <div class="note">
   <strong class="user">lopezvit at gmail dot com</strong>
   <a href="#113440" class="date">11-Oct-2013 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think that maybe that is faster (I don't know why, because, at least in C, for loops are faster than while ones due to compile optimization) but what is sure is that, in case the list is empty, you are going to iterate over the loop at least one. And I'm sure that is not what you want to do. The correct way in this occassion is to use a normal while, not a do, while.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113166""></a>
  <div class="note">
   <strong class="user">me at me dot com</strong>
   <a href="#113166" class="date">07-Sep-2013 11:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To the poster above, the fastest way is to use 'do/while'. Try this way, you will find it faster than 'for'.<br />
$arrayCount = count($array);<br />
do{<br />
&nbsp;&nbsp;&nbsp; // some code here<br />
&nbsp;&nbsp;&nbsp; --$arrayCount;<br />
}<br />
while($arrayCount &gt; 0);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112989""></a>
  <div class="note">
   <strong class="user">semmelbroesel at gmail dot com</strong>
   <a href="#112989" class="date">15-Aug-2013 11:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've read this somewhere else before, but experienced it first hand now, so I thought I'd post it here.<br />
<br />
While in regular use, count() is pretty fast, this changes rapidly when used in a for loop. Example:<br />
<br />
for ($x = 0; $x &lt; count($array); $x++)<br />
{<br />
&nbsp; // some code here<br />
}<br />
<br />
If your array contains a lot of data, this code gets slowed down significantly. Better way to write this:<br />
<br />
$arrayCount = count($array);<br />
for ($x = 0; $x &lt; $arrayCount; $x++)<br />
{<br />
&nbsp; // some code here<br />
}<br />
<br />
I didn't think it would make such a difference, but it did in my case - changed 15 seconds load time into 1 second!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105732""></a>
  <div class="note">
   <strong class="user">nicolas dot grekas+php at gmail dot com</strong>
   <a href="#105732" class="date">10-Sep-2011 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP 5.2.6, count() DOES detect infinite recursion.<br />
It triggers a warning when its argument is a recursive array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90392""></a>
  <div class="note">
   <strong class="user">jezdec at email dot cz</strong>
   <a href="#90392" class="date">20-Apr-2009 01:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi there,<br />
there is a simple script with example for counting rows and columns of a two-dimensional array. <br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"apples" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"red"</span><span class="keyword">, </span><span class="string">"yellow"</span><span class="keyword">, </span><span class="string">"pineapples"</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"bananas" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"small"</span><span class="keyword">, </span><span class="string">"medium"</span><span class="keyword">, </span><span class="string">"big"</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"vegs" </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">"potatoes"</span><span class="keyword">, </span><span class="string">"carrots"</span><span class="keyword">, </span><span class="string">"onions"</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">$rows </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$cols </span><span class="keyword">= (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)/</span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">))-</span><span class="default">1</span><span class="keyword">;<br />
print </span><span class="string">"There are </span><span class="keyword">{</span><span class="default">$rows</span><span class="keyword">}</span><span class="string"> rows and </span><span class="keyword">{</span><span class="default">$cols</span><span class="keyword">}</span><span class="string"> columns in the table!"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76073""></a>
  <div class="note">
   <strong class="user">atoi_monte at hotmail dot com</strong>
   <a href="#76073" class="date">28-Jun-2007 11:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note: While SPL is compiled into PHP by default starting with PHP 5, the Countable interface is not available until 5.1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75737""></a>
  <div class="note">
   <strong class="user">danny at dannymendel dot com</strong>
   <a href="#75737" class="date">13-Jun-2007 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I actually find the following function more useful when it comes to multidimension arrays when you do not want all levels of the array tree.
<br />

<br />
// $limit is set to the number of recursions
<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">count_recursive </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$limit</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$id </span><span class="keyword">=&gt; </span><span class="default">$_array</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$_array</span><span class="keyword">) &amp;&amp; </span><span class="default">$limit </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">count_recursive </span><span class="keyword">(</span><span class="default">$_array</span><span class="keyword">, </span><span class="default">$limit </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$count</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71015""></a>
  <div class="note">
   <strong class="user">alexandr at vladykin dot pp dot ru</strong>
   <a href="#71015" class="date">08-Nov-2006 01:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My function returns the number of elements in array for multidimensional arrays subject to depth of array. (Almost COUNT_RECURSIVE, but you can point on which depth you want to plunge).
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">getArrCount </span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) || !</span><span class="default">$depth</span><span class="keyword">) return </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$res</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$in_ar</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res</span><span class="keyword">+=</span><span class="default">getArrCount</span><span class="keyword">(</span><span class="default">$in_ar</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$res</span><span class="keyword">;
<br />
&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47553""></a>
  <div class="note">
   <strong class="user">freefaler at gmail dot com</strong>
   <a href="#47553" class="date">20-Nov-2004 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to count only elements in the second level of 2D arrays.A close to mind note, useful for multidimentional arrays:<br />
<br />
<span class="default">&lt;?php <br />
$food </span><span class="keyword">= array(</span><span class="string">'fruits' </span><span class="keyword">=&gt; array(</span><span class="string">'orange'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'apple'</span><span class="keyword">), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'veggie' </span><span class="keyword">=&gt; array(</span><span class="string">'carrot'</span><span class="keyword">, </span><span class="string">'collard'</span><span class="keyword">,</span><span class="string">'pea'</span><span class="keyword">)); <br />
<br />
</span><span class="comment">// recursive count <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">COUNT_RECURSIVE</span><span class="keyword">);&nbsp; </span><span class="comment">// output 8 <br />
<br />
// normal count <br />
</span><span class="keyword">echo </span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// output 2 <br />
<br />
// all the fruits and veggies<br />
</span><span class="keyword">echo (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">COUNT_RECURSIVE</span><span class="keyword">)-</span><span class="default">count</span><span class="keyword">(</span><span class="default">$food</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">)); </span><span class="comment">//output 6<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
