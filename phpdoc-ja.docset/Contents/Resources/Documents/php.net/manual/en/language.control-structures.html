<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>制御構造</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.operators.type.html">≪ 型演算子</a></li>
      <li style="float: right;"><a href="control-structures.intro.html">導入 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="langref.html">言語リファレンス</a></li>
    <li>制御構造</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.control-structures" class="chapter">
 <h1>制御構造</h1>
<h2>目次</h2><ul class="chunklist chunklist_chapter"><li><a href="control-structures.intro.html">導入</a></li><li><a href="control-structures.if.html">if</a></li><li><a href="control-structures.else.html">else</a></li><li><a href="control-structures.elseif.html">elseif/else if</a></li><li><a href="control-structures.alternative-syntax.html">制御構造に関する別の構文</a></li><li><a href="control-structures.while.html">while</a></li><li><a href="control-structures.do.while.html">do-while</a></li><li><a href="control-structures.for.html">for</a></li><li><a href="control-structures.foreach.html">foreach</a></li><li><a href="control-structures.break.html">break</a></li><li><a href="control-structures.continue.html">continue</a></li><li><a href="control-structures.switch.html">switch</a></li><li><a href="control-structures.declare.html">declare</a></li><li><a href="function.return.html">return</a></li><li><a href="function.require.html">require</a></li><li><a href="function.include.html">include</a></li><li><a href="function.require-once.html">require_once</a></li><li><a href="function.include-once.html">include_once</a></li><li><a href="control-structures.goto.html">goto</a></li></ul>


 

 







 







 







 







 







 







 







 







 







 







 







 







 







 







 







 







 







 








</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114452""></a>
  <div class="note">
   <strong class="user">asdfasdf@sdaxxxoaosdcom</strong>
   <a href="#114452" class="date">22-Feb-2014 04:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
sadaadslllad ohal ha hasd f wela wenadlfka sdnflas dfnasd asd fwerqw er qwe wqer qwe asdf asdfzxcv dafasdf 3r32 asdf asdf</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108750""></a>
  <div class="note">
   <strong class="user">Jeffrey</strong>
   <a href="#108750" class="date">23-May-2012 10:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
CONTROL STRUCTURE -- BOOLEAN REQUIRED<br />
<br />
If you are not sure what will work in your IF statements, try DISECTING your variables. Below I've written three (3) empty CLASS DEFINITIONS (Point, Dimension, and Rectangle), and declared an array called $items that holds all the PHP types you can imagine -- booleans, strings, empty strings, integers, floats, null, arrays, empty arrays, and objects too. The rest of the code really chews up the current $item and spits it out for lunch... Try running this code so you can see the HTML TABLE that is created -- it'll be worth your while.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Point </span><span class="keyword">{ }<br />
class </span><span class="default">Dimension </span><span class="keyword">{ }<br />
class </span><span class="default">Rectangle </span><span class="keyword">{ }<br />
<br />
</span><span class="default">$items </span><span class="keyword">= array(</span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">, </span><span class="default">23</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">26</span><span class="keyword">, </span><span class="default">4.21</span><span class="keyword">, </span><span class="default">0.0</span><span class="keyword">, -</span><span class="default">3.76</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'hello'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">), array(</span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">), array(),<br />
&nbsp; new </span><span class="default">stdClass</span><span class="keyword">(), new </span><span class="default">Point</span><span class="keyword">(), new </span><span class="default">Dimension</span><span class="keyword">(), new </span><span class="default">Rectangle</span><span class="keyword">());<br />
<br />
echo </span><span class="string">'&lt;table cellpadding="4" border="1"&gt;<br />
&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;th&gt;syntax&lt;/th&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;th&gt;value&lt;/th&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;th&gt;type&lt;/th&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;th&gt;empty&lt;/th&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;th&gt;boolean&lt;/th&gt;<br />
&nbsp; &lt;/tr&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
foreach(</span><span class="default">$items </span><span class="keyword">AS </span><span class="default">$item</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$booleanValue </span><span class="keyword">= (boolean)</span><span class="default">$item</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$empty </span><span class="keyword">= (empty(</span><span class="default">$item</span><span class="keyword">) ? </span><span class="string">'EMPTY' </span><span class="keyword">: </span><span class="string">'&amp;nbsp;'</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$type </span><span class="keyword">= </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$syntax </span><span class="keyword">= </span><span class="string">'if((boolean)'</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$val</span><span class="keyword">;<br />
<br />
&nbsp; if(</span><span class="default">$type </span><span class="keyword">== </span><span class="default">boolean</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= (</span><span class="default">$booleanValue </span><span class="keyword">? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= (</span><span class="default">$val </span><span class="keyword">. </span><span class="string">')'</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; else if(</span><span class="default">$type </span><span class="keyword">== </span><span class="string">'NULL'</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="string">'null'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= </span><span class="string">'null)'</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; else if(</span><span class="default">$type </span><span class="keyword">== </span><span class="default">double </span><span class="keyword">&amp;&amp; !</span><span class="default">$booleanValue</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="string">'0.0'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= </span><span class="string">'0.0)'</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; else if(</span><span class="default">$type </span><span class="keyword">== </span><span class="default">string</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="string">'\'' </span><span class="keyword">. </span><span class="default">$item </span><span class="keyword">. </span><span class="string">'\''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= (</span><span class="default">$val </span><span class="keyword">. </span><span class="string">')'</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; else if(</span><span class="default">$type </span><span class="keyword">== </span><span class="string">'array'</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= </span><span class="string">'$array)'</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; else if(</span><span class="default">$type </span><span class="keyword">== </span><span class="string">'object'</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= (</span><span class="string">'$' </span><span class="keyword">. </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) . </span><span class="string">')'</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; else<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$syntax </span><span class="keyword">.= (</span><span class="default">$val </span><span class="keyword">. </span><span class="string">')'</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
&nbsp; echo </span><span class="string">'&nbsp; &lt;tr style="color: ' </span><span class="keyword">. (</span><span class="default">$booleanValue </span><span class="keyword">? </span><span class="string">'#006600' </span><span class="keyword">: </span><span class="string">'#880000'</span><span class="keyword">) . </span><span class="string">';"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;code&gt;' </span><span class="keyword">. </span><span class="default">$syntax </span><span class="keyword">. </span><span class="string">'&lt;/code&gt;&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;td&gt;' </span><span class="keyword">. </span><span class="default">$val </span><span class="keyword">. </span><span class="string">'&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;td&gt;' </span><span class="keyword">. </span><span class="default">$type </span><span class="keyword">. </span><span class="string">'&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;td&gt;' </span><span class="keyword">. </span><span class="default">$empty </span><span class="keyword">. </span><span class="string">'&lt;/td&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;td&gt;' </span><span class="keyword">. (</span><span class="default">$booleanValue </span><span class="keyword">? </span><span class="string">'TRUE' </span><span class="keyword">: </span><span class="string">'FALSE'</span><span class="keyword">) . </span><span class="string">'&lt;/td&gt;<br />
&nbsp; &lt;/tr&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">'&lt;/table&gt;' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Looking at the HTML output: notice that even integers and floats with a value of zero are considered EMPTY, and all that are EMPTY are FALSE boolean values. And take a gander at the boolean type with a false value... somebody is covering there bases!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77434""></a>
  <div class="note">
   <strong class="user">wintermute</strong>
   <a href="#77434" class="date">29-Aug-2007 09:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sinured: You can do the same thing with logical OR; if the first test is true, the second will never be executed.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">if (empty(</span><span class="default">$user_id</span><span class="keyword">) || </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$user_id</span><span class="keyword">, </span><span class="default">$banned_list</span><span class="keyword">))<br />
{<br />
exit();<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76839""></a>
  <div class="note">
   <strong class="user">Sinured</strong>
   <a href="#76839" class="date">01-Aug-2007 08:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As mentioned below, PHP stops evaluating expressions as soon as the result is clear. So a nice shortcut for if-statements is logical AND -- if the left expression is false, then the right expression can't possibly change the result anymore, so it's not executed.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* defines MYAPP_DIR if not already defined */<br />
</span><span class="keyword">if (!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'MYAPP_DIR'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'MYAPP_DIR'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">getcwd</span><span class="keyword">()));<br />
}<br />
<br />
</span><span class="comment">/* the same */<br />
</span><span class="keyword">!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'MYAPP_DIR'</span><span class="keyword">) &amp;&amp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'MYAPP_DIR'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">getcwd</span><span class="keyword">()));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48490""></a>
  <div class="note">
   <strong class="user">niels dot laukens at tijd dot com</strong>
   <a href="#48490" class="date">26-Dec-2004 04:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For the people that know C: php uses operator short circuit evaluation. That means that as soon as it knows the outcome, it'll stop processing.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if ( </span><span class="default">FALSE </span><span class="keyword">&amp;&amp; </span><span class="default">some_function</span><span class="keyword">() )
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"something"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// some_function() will not be called, since the first operand evaluates to false
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This comes in handy for situations like this:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if ( </span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">) &amp;&amp; </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">) &gt; </span><span class="default">time</span><span class="keyword">() )
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">do_something</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// filemtime will never give a file-not-found-error, since php will stop evaluating if file_exists returns false
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
