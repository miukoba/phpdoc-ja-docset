<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>演算子</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.expressions.html">≪ 式</a></li>
      <li style="float: right;"><a href="language.operators.precedence.html">演算子の優先順位 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="langref.html">言語リファレンス</a></li>
    <li>演算子</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.operators" class="chapter">
  <h1>演算子</h1>
<h2>目次</h2><ul class="chunklist chunklist_chapter"><li><a href="language.operators.precedence.html">演算子の優先順位</a></li><li><a href="language.operators.arithmetic.html">代数演算子</a></li><li><a href="language.operators.assignment.html">代入演算子</a></li><li><a href="language.operators.bitwise.html">ビット演算子</a></li><li><a href="language.operators.comparison.html">比較演算子</a></li><li><a href="language.operators.errorcontrol.html">エラー制御演算子</a></li><li><a href="language.operators.execution.html">実行演算子</a></li><li><a href="language.operators.increment.html">加算子/減算子</a></li><li><a href="language.operators.logical.html">論理演算子</a></li><li><a href="language.operators.string.html">文字列演算子</a></li><li><a href="language.operators.array.html">配列演算子</a></li><li><a href="language.operators.type.html">型演算子</a></li></ul>

  <p class="simpara">
   演算子とは、ひとつ以上の値 (あるいはプログラミング用語における「式」)
   から別の値 (制御構造が式になるように) を生み出すものです。
  </p>
  <p class="para">
   演算子は、受け取る値の数によって分類することができます。単項演算子はひとつの値だけを受け取るもので、
   <em>!</em> (
   <a href="language.operators.logical.html" class="link">論理否定演算子</a>) や
   <em>++</em> (
   <a href="language.operators.increment.html" class="link">加算子</a>)
   などです。二項演算子はふたつの値を受け取ります。おなじみの
   <a href="language.operators.arithmetic.html" class="link">代数演算子</a> である
   <em>+</em> (加算) や <em>-</em> (減算)
   など PHP の演算子の大半はこの分類に含まれます。最後は三つの値を受け取る
   <a href="language.operators.comparison.html#language.operators.comparison.ternary" class="link">三項演算子</a>
   で、これは <em>? :</em> だけしかありません。この演算子はしばしば、単に
   &quot;三項演算子&quot; と呼ばれます (しかし、より適切な呼び方としては
   条件演算子と呼ぶほうがよいでしょう)。
  </p>
  <p class="para">
   PHP の演算子の完全な一覧は、
   <a href="language.operators.precedence.html" class="link">演算子の優先順位</a>
   の欄にあります。この節では演算子の優先順位と結合性について説明します。
   複数の演算子を組み合わせたときにどう評価されるのかは、優先順位と結合性で決まります。
  </p>

  
  
  

  

  

  
 
  
  
  
   
  
 
  

  
  
  

  
 </div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="87904""></a>
  <div class="note">
   <strong class="user">pgarvin76+php dot net at NOSPAMgmail dot com</strong>
   <a href="#87904" class="date">30-Dec-2008 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Method chaining is read left to right (left associative):<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Test_Method_Chain<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">One</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"One" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Two</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Two" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Three</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Three" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">Test_Method_Chain</span><span class="keyword">();<br />
<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">One</span><span class="keyword">()-&gt;</span><span class="default">Two</span><span class="keyword">()-&gt;</span><span class="default">Three</span><span class="keyword">();<br />
<br />
</span><span class="comment">/* Ouputs:<br />
One<br />
Two<br />
Three<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86566""></a>
  <div class="note">
   <strong class="user">ddascalescu at gmail dot com</strong>
   <a href="#86566" class="date">24-Oct-2008 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The -&gt; operator, not listed above, is called "object operator" (T_OBJECT_OPERATOR).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84862""></a>
  <div class="note">
   <strong class="user">figroc at gmail dot com</strong>
   <a href="#84862" class="date">02-Aug-2008 12:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The variable symbol '$' should be considered as the highest-precedence operator, so that the variable variables such as $$a[0] won't confuse the parser.&nbsp; [<a href="http://www.php.net/manual/en/language.variables.variable.php]" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.variables.variable.php]</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78911""></a>
  <div class="note">
   <strong class="user">phpnet dot 20 dot dpnsubs at xoxy dot net</strong>
   <a href="#78911" class="date">01-Nov-2007 11:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that in php the ternary operator ?: has a left associativity unlike in C and C++ where it has right associativity.
<br />

<br />
You cannot write code like this (as you may have accustomed to in C/C++):
<br />

<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br />
echo (
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">? </span><span class="string">'one' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'two' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">? </span><span class="string">'three' </span><span class="keyword">: 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">== </span><span class="default">4 </span><span class="keyword">? </span><span class="string">'four' </span><span class="keyword">: </span><span class="string">'other'</span><span class="keyword">);
<br />
echo </span><span class="string">"\n"</span><span class="keyword">;
<br />
</span><span class="comment">// prints 'four'
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You need to add brackets to get the results you want:
<br />

<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;
<br />

<br />
echo (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">? </span><span class="string">'one' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">? </span><span class="string">'two' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">? </span><span class="string">'three' </span><span class="keyword">: 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">4 </span><span class="keyword">? </span><span class="string">'four' </span><span class="keyword">: </span><span class="string">'other'</span><span class="keyword">) ) ) );
<br />
echo </span><span class="string">"\n"</span><span class="keyword">;
<br />
</span><span class="comment">//prints 'two'
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78397""></a>
  <div class="note">
   <strong class="user">Gautam</strong>
   <a href="#78397" class="date">10-Oct-2007 12:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
$result1 </span><span class="keyword">= </span><span class="default">7 </span><span class="keyword">+ </span><span class="default">8 </span><span class="keyword">* </span><span class="default">9</span><span class="keyword">/</span><span class="default">3 </span><span class="keyword">-</span><span class="default">4</span><span class="keyword">;<br />
</span><span class="default">$result2 </span><span class="keyword">= </span><span class="default">7 </span><span class="keyword">+ </span><span class="default">8 </span><span class="keyword">* (</span><span class="default">9</span><span class="keyword">/</span><span class="default">3 </span><span class="keyword">-</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">$result3 </span><span class="keyword">=(</span><span class="default">7 </span><span class="keyword">+ </span><span class="default">8</span><span class="keyword">)* </span><span class="default">9</span><span class="keyword">/</span><span class="default">3 </span><span class="keyword">-</span><span class="default">4</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Result1 for 7 + 8 * 9/3 -4 = </span><span class="default">$result1</span><span class="string">&nbsp; Result2 for 7 + 8 * (9/3 -4) = </span><span class="default">$result2</span><span class="string"> and Result3 (7 + 8)* 9/3 -4 = </span><span class="default">$result3</span><span class="string"> "<br />
</span><span class="comment">/*<br />
&nbsp;which gives results as under<br />
&nbsp;Result1 for 7 + 8 * 9/3 -4 = 27 Result2 for 7 + 8 * (9/3 -4) = -1 and Result3 (7 + 8)* 9/3 -4 = 41<br />
&nbsp;Execution Order is 1) expression in brackets 2) division 3) multiplication 4) addition and 5) subtraction <br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78358""></a>
  <div class="note">
   <strong class="user">janturon at email dot cz</strong>
   <a href="#78358" class="date">08-Oct-2007 03:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is very common problem: set one variable to another, if it is not empty. If it is, set it to something else.<br />
For example: set $bar to $foo, if $foo is empty, set $bar to "undefined";<br />
<br />
if(!empty($foo)) $bar= $foo; else $bar= "undefined";<br />
<br />
OR operator can shorten it:<br />
<br />
$bar= @$foo or $bar= "undefined";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76385""></a>
  <div class="note">
   <strong class="user">me at robrosenbaum dot com</strong>
   <a href="#76385" class="date">12-Jul-2007 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The scope resolution operator ::, which is missing from the list above, has higher precedence than [], and lower precedence than 'new'. This means that self::$array[$var] works as expected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75641""></a>
  <div class="note">
   <strong class="user">madcoder at gmail dot com</strong>
   <a href="#75641" class="date">10-Jun-2007 12:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to mathiasrav at gmail dot com:<br />
<br />
The reason for that behavior is the parentheses.&nbsp; From the description:<br />
<br />
"Parentheses may be used to force precedence, if necessary. For instance: (1 + 5) * 3 evaluates to 18."<br />
<br />
So the order of operations says that even though the equality operator has higher precedence, the parentheses in your statement force the assignment operator to a higher precedence than the equality operator.<br />
<br />
That said, it still doesn't work the way you expect it to.&nbsp; Neither way works, for these reasons:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( </span><span class="default">$a </span><span class="keyword">!= (</span><span class="default">$a </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">) )<br />
</span><span class="default">?&gt;<br />
</span><br />
Order of operations says to do the parentheses first.&nbsp; So you end up with:<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;<br />
if ( </span><span class="default">$a </span><span class="keyword">!= </span><span class="default">$a </span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
Which is obviously going to be false.&nbsp; Without the parentheses:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( </span><span class="default">$a </span><span class="keyword">!= </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
Order of operations says to do the inequality first, then the assignment, so you have:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( </span><span class="default">$a </span><span class="keyword">!= </span><span class="default">$a </span><span class="keyword">);<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Which again is not what you expected, and again will always be false.&nbsp; But because you are only working with values of 0 and 1, you can make use of the XOR operator:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ( </span><span class="default">$a </span><span class="keyword">^= </span><span class="default">$b </span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
This will only be true if 1) $a is 0 and $b is 1, or 2) $a is 1 and $b is 0.&nbsp; That is precisely what you wanted, and it even does the assignment the way you expected it to.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach (</span><span class="default">$ourstring </span><span class="keyword">as </span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp; if (</span><span class="default">$bold </span><span class="keyword">^= </span><span class="default">$c</span><span class="keyword">[</span><span class="string">'bold'</span><span class="keyword">]) </span><span class="default">$resstring </span><span class="keyword">.= </span><span class="default">bold</span><span class="keyword">;<br />
&nbsp; if (</span><span class="default">$underline </span><span class="keyword">^= </span><span class="default">$c</span><span class="keyword">[</span><span class="string">'underline'</span><span class="keyword">]) </span><span class="default">$resstring </span><span class="keyword">.= </span><span class="default">underline</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$resstring </span><span class="keyword">.= </span><span class="default">$c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
That code now works and produces the output you expected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67997""></a>
  <div class="note">
   <strong class="user">golotyuk at gmail dot com</strong>
   <a href="#67997" class="date">09-Jul-2006 06:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple POST and PRE incremnt sample:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$b </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= ( ( ++</span><span class="default">$b </span><span class="keyword">) &gt; </span><span class="default">5 </span><span class="keyword">); </span><span class="comment">// Pre-increment test<br />
</span><span class="keyword">echo (int)</span><span class="default">$a</span><span class="keyword">;<br />
<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= ( ( </span><span class="default">$b</span><span class="keyword">++ ) &gt; </span><span class="default">5 </span><span class="keyword">); </span><span class="comment">// Post-increment test<br />
</span><span class="keyword">echo (int)</span><span class="default">$a</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output 10, because of the difference in post- and pre-increment operations</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56433""></a>
  <div class="note">
   <strong class="user">rick at nomorespam dot fourfront dot ltd dot uk</strong>
   <a href="#56433" class="date">02-Sep-2005 12:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A quick note to any C developers out there, assignment expressions are not interpreted as you may expect - take the following code ;-<br />
<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$b</span><span class="keyword">=array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">$c</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
<br />
</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">++]=</span><span class="default">$b</span><span class="keyword">[</span><span class="default">$c</span><span class="keyword">++];<br />
<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">) ;<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output;-<br />
Array ( [0] =&gt; 1 [1] =&gt; 6 [2] =&gt; 3 )<br />
as if the code said;-<br />
$a[1]=$b[2];<br />
<br />
Under a C compiler the result is;-<br />
Array ( [0] =&gt; 1 [1] =&gt; 5 [2] =&gt; 3 )<br />
as if the code said;-<br />
$a[1]=$b[1];<br />
<br />
It would appear that in php the increment in the left side of the assignment is processed prior to processing the right side of the assignment, whereas in C, neither increment occurs until after the assignment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43111""></a>
  <div class="note">
   
   <a href="#43111" class="date">10-Jun-2004 02:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
of course this should be clear, but i think it has to be mentioned espacially:<br />
<br />
AND is not the same like &amp;&amp;<br />
<br />
for example:<br />
<br />
<span class="default">&lt;?php $a </span><span class="keyword">&amp;&amp; </span><span class="default">$b </span><span class="keyword">|| </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span>is not the same like<br />
<span class="default">&lt;?php $a </span><span class="keyword">AND </span><span class="default">$b </span><span class="keyword">|| </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span><br />
the first thing is<br />
(a and b) or c<br />
<br />
the second<br />
a and (b or c)<br />
<br />
'cause || has got a higher priority than and, but less than &amp;&amp;<br />
<br />
of course, using always [ &amp;&amp; and || ] or [ AND and OR ] would be okay, but than you should at least respect the following:<br />
<br />
<span class="default">&lt;?php $a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">&amp;&amp; </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
&lt;?php $a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">AND </span><span class="default">$c</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span><br />
the first code will set $a to the result of the comparison $b with $c, both have to be true, while the second code line will set $a like $b and THAN - after that - compare the success of this with the value of $c<br />
<br />
maybe usefull for some tricky coding and helpfull to prevent bugs :D<br />
<br />
greetz, Warhog</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12147""></a>
  <div class="note">
   <strong class="user">yasuo_ohgaki at hotmail dot com</strong>
   <a href="#12147" class="date">26-Mar-2001 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Other Language books' operator precedence section usually include "(" and ")" - with exception of a Perl book that I have. (In PHP "{" and "}" should also be considered also). However, PHP Manual is not listed "(" and ")" in precedence list. It looks like "(" and ")" has higher precedence as it should be.
<br />

<br />
Note: If you write following code, you would need "()" to get expected value.
<br />

<br />
<span class="default">&lt;?php
<br />
$bar </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
</span><span class="default">$str </span><span class="keyword">= </span><span class="string">"TEST"</span><span class="keyword">. (</span><span class="default">$bar </span><span class="keyword">? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">) .</span><span class="string">"TEST"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Without "(" and ")" you will get only "true" in $str. 
<br />
(PHP4.0.4pl1/Apache DSO/Linux, PHP4.0.5RC1/Apache DSO/W2K Server)
<br />
It's due to precedence, probably.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
