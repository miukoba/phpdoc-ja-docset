<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>ファイルの最終アクセス時刻および最終更新日をセットする</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.tmpfile.html">≪ tmpfile</a></li>
      <li style="float: right;"><a href="function.umask.html">umask ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.filesystem.html">ファイルシステム 関数</a></li>
    <li>ファイルの最終アクセス時刻および最終更新日をセットする</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.touch" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">touch</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">touch</span> &mdash; <span class="dc-title">ファイルの最終アクセス時刻および最終更新日をセットする</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.touch-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>touch</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$time</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$atime</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   <code class="parameter">filename</code> で指定されたファイルの最終更新日を、
   <code class="parameter">time</code> で指定された値に
   セットしようと試みます。
   パラメータの数にかかわらず、アクセス時刻は
   常に変更されることに注意しましょう。
  </p>
  <p class="para">
   ファイルが存在しない場合、ファイルが生成されます。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.touch-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       処理したいファイルの名前。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">time</code></dt>

     <dd>

      <p class="para">
       設定する時刻。
       <code class="parameter">time</code> を省略した場合は、
       現在時刻を使用します。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">atime</code></dt>

     <dd>

      <p class="para">
       指定されたファイルの最終アクセス時刻が存在する場合は、
       その値が <code class="parameter">atime</code> にセットされます。
       存在しない場合は <code class="parameter">time</code> に渡した値となります。
       どちらも存在しない場合は、現在のシステム時刻を使います。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.touch-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功した場合に <strong><code>TRUE</code></strong> を、失敗した場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.touch-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Windows 環境でディレクトリの最終更新日が変更できるようになりました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.touch-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-2528">
    <p><strong>例1 <span class="function"><strong>touch()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$filename&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'&nbsp;modification&nbsp;time&nbsp;has&nbsp;been&nbsp;changed&nbsp;to&nbsp;present&nbsp;time'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Sorry,&nbsp;could&nbsp;not&nbsp;change&nbsp;modification&nbsp;time&nbsp;of&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2529">
    <p><strong>例2 <span class="function"><strong>touch()</strong></span> で <code class="parameter">time</code> パラメータを使用する例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;作成時刻を、ここでは&nbsp;1&nbsp;時間前に設定します<br /></span><span style="color: #0000BB">$time&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;ファイルを作成します<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">touch</span><span style="color: #007700">(</span><span style="color: #DD0000">'some_file.txt'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$time</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'おっと、何かがおかしいようです...'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'ファイルの作成に成功しました'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.touch-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: <p class="para">時刻の精度は、
ファイルシステムによって異なることがあります。</p></p></blockquote>
  <div class="warning"><strong class="warning">警告</strong>
   <p class="para">
    PHP 5.3.0 より前のバージョンでは、Windows 環境のもとでは
    この関数によってディレクトリの最終更新日を変更することはできませんでした。
   </p>
  </div>
 </div>

 
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="113652""></a>
  <div class="note">
   <strong class="user">anon</strong>
   <a href="#113652" class="date">11-Nov-2013 01:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that when PHP is called by f.e. apache or nginx instead of directly from the command line, touch() will not prefix the location of the invoking script, so the supplied filename must contain an absolute path.<br />
<br />
With script started from /home/user/www, this will not touch "/home/user/www/somefile":<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; touch</span><span class="keyword">( </span><span class="string">'somefile' </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
But this will:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; touch</span><span class="keyword">( </span><span class="default">__DIR__ </span><span class="keyword">. </span><span class="string">'/somefile' </span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100337""></a>
  <div class="note">
   <strong class="user">bosslog at gmail dot com</strong>
   <a href="#100337" class="date">08-Oct-2010 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I has passed a small test to check which function is faster to create a new file. <br />
<br />
file_put_contents vs touch<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">'dir/file'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Average time: 0,1145s<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="string">'dir/file'</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Average time: 0,2322s<br />
<br />
So, file_put_contents is faster than touch, about two times.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97239""></a>
  <div class="note">
   <strong class="user">chris dot dallaire at csquaredsystems dot com</strong>
   <a href="#97239" class="date">09-Apr-2010 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to use this to touch the /etc/cron.d directory when I updated some files in there. I know the docs say this isn't necessary, but I'm finding that i need to do it in order form my changes to be picked up quickly. <br />
<br />
I ran into the permissions error as well and I found that using chmod 777 /etc/cron.d does the trick.<br />
<br />
So, you should be able to use the PHP touch function on a directory that has open write access.<br />
<br />
Of course, this isn't the most secure approach, but in our application it's not a big deal for that folder to not be super secure.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93787""></a>
  <div class="note">
   <strong class="user">ernst at cron-it dot de</strong>
   <a href="#93787" class="date">29-Sep-2009 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To touch a file without being owner, it is much easier:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">touchFile</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">));
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87356""></a>
  <div class="note">
   <strong class="user">info at archiwumrocka dot art dot pl</strong>
   <a href="#87356" class="date">01-Dec-2008 10:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Only way to change modification date in catalogue is to create file in via touch() and dalete it with unlink():
<br />

<br />
<span class="default">&lt;?php
<br />
$dir&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">'temp'</span><span class="keyword">;
<br />
</span><span class="default">$files1 </span><span class="keyword">= </span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);
<br />

<br />
</span><span class="default">$files1 </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$files1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);
<br />

<br />
foreach (</span><span class="default">$files1 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) 
<br />
{
<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) continue;
<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">touch</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) 
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">. </span><span class="string">"/plik.txt"</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">. </span><span class="string">"/plik.txt"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87315""></a>
  <div class="note">
   <strong class="user">mrgrier at yahoo dot com</strong>
   <a href="#87315" class="date">29-Nov-2008 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
At least on Linux, touch will not change the time on a symlink itself, but on the file/directory it points to. The only way to work around this is to unlink the symlink, then recreate it.<br />
<br />
It took a bit of searching to discover this. The OS itself provides no way to do it. Many people wondered why anyone would want to do this. I use symlinks inside a web tree to point to files outside the web tree. After a certain length of time has passed, I want the symlinks to die, so the files cannot be successfully hotlinked.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86781""></a>
  <div class="note">
   <strong class="user">ddalex at gmail dot com</strong>
   <a href="#86781" class="date">03-Nov-2008 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Actually, Glen is right, PHP won't touch if it is not the current owner of the file, even if the directory and files are writeable by the PHP user.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84983""></a>
  <div class="note">
   <strong class="user">Radon8472</strong>
   <a href="#84983" class="date">08-Aug-2008 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Important info:<br />
<br />
touch() used on a directory always returns FALSE and prints "Permission denied" on NTFS and FAT Filesystem (tested on winXP).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84081""></a>
  <div class="note">
   <strong class="user">Jeff</strong>
   <a href="#84081" class="date">26-Jun-2008 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've been trying to set a filemtime into the future with touch() on PHP5.<br />
<br />
It seems touch $time has a future limit around 1000000 seconds (11 days or so). Beyond this point it reverts to a previous $time.<br />
<br />
It doesn't make much sense but I could save you hours of time.<br />
<br />
$time = time()+1500000;<br />
touch($cachedfile,$time);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78606""></a>
  <div class="note">
   <strong class="user">Glen</strong>
   <a href="#78606" class="date">18-Oct-2007 10:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In unix on the command-line, you can touch files you don't own - but like other comments on this page state - PHP's built in touch won't work.<br />
<br />
I simple alternative (on unix):<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">touch_it_good</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">exec</span><span class="keyword">(</span><span class="string">"touch </span><span class="keyword">{</span><span class="default">$filename</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68227""></a>
  <div class="note">
   <strong class="user">Charles Belov</strong>
   <a href="#68227" class="date">19-Jul-2006 03:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Update the access time without updating the modified time:<br />
<br />
Unix command: touch -a filename<br />
<br />
PHP: touch(filename, date('U', filemtime(filename)), time())</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56399""></a>
  <div class="note">
   <strong class="user">spam at webmastersguide dot com</strong>
   <a href="#56399" class="date">01-Sep-2005 02:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're going to go around deleting (unlinking) files<br />
that you don't own just in order to change the modification<br />
time on the file, you darn well better chown() the file <br />
back to it's original ownership after you are done and<br />
chmod() it back to it's correct permissions.&nbsp; Otherwise <br />
you will almost certainly break things.&nbsp; Additionally the<br />
code listed for touch()ing a file you don't own should <br />
set the file creation time back to it's original time if <br />
what is wanted is to just change the modification time.<br />
Also, the code listed will break things if there is an i/o <br />
error such as disk full or too many files in the directory.<br />
Here's how the code SHOULD be written:<br />
<br />
Create the new file FIRST, rather than last, with a different<br />
name such as $file.tmp.<br />
Read the ownership, permissions, and creation time of the old file.<br />
Set permissions and creation time of the new file the same as the old.<br />
Rename the new file to the name of the old.<br />
chown() the new file to the user that owned the file it's replacing.<br />
<br />
Please be careful adding to the documentation if you've <br />
never taken programming 101.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55101""></a>
  <div class="note">
   <strong class="user">rf_public at yahoo dot co dot uk</strong>
   <a href="#55101" class="date">25-Jul-2005 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: the script to touch a file you don't own will change it's owner so ensure permissions are correct or you could lose access to it</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52781""></a>
  <div class="note">
   <strong class="user">guy at forster design dot com</strong>
   <a href="#52781" class="date">12-May-2005 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a little workaround that allows the PHP user to touch a file it doesn't own:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $target_file </span><span class="keyword">= </span><span class="string">"/path/to/file/filename.txt"</span><span class="keyword">; </span><span class="comment">//system filepath to your file<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file_content </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">file</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; @</span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$savetofile </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$savetofile</span><span class="keyword">, </span><span class="default">$file_content</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$savetofile</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new_date </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"23 April 2005"</span><span class="keyword">); </span><span class="comment">// set the required date timestamp here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">touch</span><span class="keyword">(</span><span class="default">$target_file</span><span class="keyword">,</span><span class="default">$new_date</span><span class="keyword">);<br />
&nbsp;<br />
</span><span class="default">?&gt;<br />
</span><br />
Of course, PHP needs to have write access to the folder containing the file you want to touch, but that should be easy to arrange.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24348""></a>
  <div class="note">
   <strong class="user">feathern at yahoo dot com</strong>
   <a href="#24348" class="date">14-Aug-2002 12:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Neat little script that will give you a list of all modified files in a certain folder after a certain date:<br />
<br />
$filelist = Array();<br />
$filelist = list_dir("d:\\my_folder");<br />
for($i=0;$i&lt;count($filelist);$i++){<br />
&nbsp;&nbsp;&nbsp; $test = Array();<br />
&nbsp;&nbsp;&nbsp; $test = explode("/",date("m/d/Y",filemtime($filelist[$i])));<br />
//example of files that are later then<br />
//06/17/2002<br />
&nbsp;&nbsp;&nbsp; if(($test[2] &gt; 2001) &amp;&amp; ($test[1] &gt; 16) &amp;&amp; ($test[0] &gt; 5)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $filelist[$i]."\r\n";<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; clearstatcache();<br />
}<br />
function list_dir($dn){<br />
&nbsp;&nbsp;&nbsp; if($dn[strlen($dn)-1] != '\\') $dn.='\\';<br />
&nbsp;&nbsp;&nbsp; static $ra = array();<br />
&nbsp;&nbsp;&nbsp; $handle = opendir($dn);<br />
&nbsp;&nbsp;&nbsp; while($fn = readdir($handle)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($fn == '.' || $fn == '..') continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_dir($dn.$fn)) list_dir($dn.$fn.'\\');<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else $ra[] = $dn.$fn;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; closedir($handle);<br />
&nbsp;&nbsp;&nbsp; return $ra;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15884""></a>
  <div class="note">
   <strong class="user">emilebosch at hotmail dot com</strong>
   <a href="#15884" class="date">07-Oct-2001 12:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To spare you ppl couple of hours of valuable time, you can only TOUCH a file that you own! Usually PHP is *nobody* 
<br />
Warm regards,
<br />
Emile Bosch</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12912""></a>
  <div class="note">
   <strong class="user">master at dreamphp dot com</strong>
   <a href="#12912" class="date">15-May-2001 08:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$filename = "test.dat";
<br />
if (!file_exists($filename)) {
<br />
&nbsp; touch($filename); // Create blank file
<br />
&nbsp; chmod($filename,0666);
<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
