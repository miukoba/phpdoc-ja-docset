<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>通貨の値をフォーマットする</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="numberformatter.create.html">≪ NumberFormatter::create</a></li>
      <li style="float: right;"><a href="numberformatter.format.html">NumberFormatter::format ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.numberformatter.html">NumberFormatter</a></li>
    <li>通貨の値をフォーマットする</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="numberformatter.formatcurrency" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">NumberFormatter::formatCurrency</h1>
  <h1 class="refname">numfmt_format_currency</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PECL intl &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">NumberFormatter::formatCurrency</span> -- <span class="refname">numfmt_format_currency</span> &mdash; <span class="dc-title">通貨の値をフォーマットする</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-numberformatter.formatcurrency-description">
  <h3 class="title">説明</h3>
  <p class="para">
   オブジェクト指向型
  </p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="type">string</span> 
   <span class="methodname"><strong>NumberFormatter::formatCurrency</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$value</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$currency</code></span>
   )</div>

  <p class="para rdfs-comment">
   手続き型
  </p>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> 
   <span class="methodname"><strong>numfmt_format_currency</strong></span>
    ( <span class="methodparam"><span class="type"><a href="class.numberformatter.html" class="type NumberFormatter">NumberFormatter</a></span> <code class="parameter">$fmt</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$value</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$currency</code></span>
   )</div>

  <p class="para rdfs-comment">
   通貨の値をフォーマット規則にしたがってフォーマットします。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-numberformatter.formatcurrency-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">fmt</code></dt>

     <dd>

      <p class="para">
       <a href="class.numberformatter.html" class="classname">NumberFormatter</a> オブジェクト。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       通貨の値。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">currency</code></dt>

     <dd>

      <p class="para">
       使用する通貨を表す、3 文字の ISO 4217 通貨コード。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>



 <div class="refsect1 returnvalues" id="refsect1-numberformatter.formatcurrency-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   通貨の値をフォーマットした文字列を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-numberformatter.formatcurrency-examples">
  <h3 class="title">例</h3>
  <div class="example" id="example-2596">
   <p><strong>例1 <span class="function"><strong>numfmt_format_currency()</strong></span> の例</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">numfmt_create</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">CURRENCY&nbsp;</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">numfmt_format_currency</span><span style="color: #007700">(</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">numfmt_format_currency</span><span style="color: #007700">(</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">numfmt_create</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'ru_RU'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">CURRENCY&nbsp;</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">numfmt_format_currency</span><span style="color: #007700">(</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">numfmt_format_currency</span><span style="color: #007700">(</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-2597">
   <p><strong>例2 オブジェクト指向の例</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fmt&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">CURRENCY&nbsp;</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatCurrency</span><span style="color: #007700">(</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatCurrency</span><span style="color: #007700">(</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fmt&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'ru_RU'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NumberFormatter</span><span style="color: #007700">::</span><span style="color: #0000BB">CURRENCY&nbsp;</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatCurrency</span><span style="color: #007700">(</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"EUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatCurrency</span><span style="color: #007700">(</span><span style="color: #0000BB">1234567.891234567890000</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RUR"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">上の例の出力は以下となります。</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
1.234.567,89 ?
1.234.567,89 RUR
1 234 567,89?
1 234 567,89р.
</pre></div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-numberformatter.formatcurrency-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="numberformatter.geterrorcode.html" class="function" rel="rdfs-seeAlso">numfmt_get_error_code()</a> - フォーマッタの直近のエラーコードを取得する</span></li>
    <li class="member"><span class="function"><a href="numberformatter.format.html" class="function" rel="rdfs-seeAlso">numfmt_format()</a> - 数値をフォーマットする</span></li>
    <li class="member"><span class="function"><a href="numberformatter.parsecurrency.html" class="function" rel="rdfs-seeAlso">numfmt_parse_currency()</a> - 通貨をパースする</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114376""></a>
  <div class="note">
   <strong class="user">martin t holzhauer dohd eu</strong>
   <a href="#114376" class="date">13-Feb-2014 11:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you want to format currency's without sub units and the currency is not the one used by the given locale you need to set the currency code before as TextAttribute _BEFORE_ setting the NumberFormatter::FRACTION_DIGITS<br />
<br />
<span class="default">&lt;?php<br />
$fmt </span><span class="keyword">= new </span><span class="default">NumberFormatter</span><span class="keyword">(</span><span class="string">'en_US'</span><span class="keyword">, </span><span class="default">NumberFormatter</span><span class="keyword">::</span><span class="default">CURRENCY</span><span class="keyword">);<br />
</span><span class="default">$fmt</span><span class="keyword">-&gt;</span><span class="default">setTextAttribute</span><span class="keyword">(</span><span class="default">NumberFormatter</span><span class="keyword">::</span><span class="default">CURRENCY_CODE</span><span class="keyword">, </span><span class="string">'EUR'</span><span class="keyword">);<br />
</span><span class="default">$fmt</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="default">NumberFormatter</span><span class="keyword">::</span><span class="default">FRACTION_DIGITS</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$fmt</span><span class="keyword">-&gt;</span><span class="default">formatCurrency</span><span class="keyword">(</span><span class="default">100</span><span class="keyword">, </span><span class="string">'EUR'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110475""></a>
  <div class="note">
   <strong class="user">Ruben</strong>
   <a href="#110475" class="date">26-Oct-2012 02:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While this function accepts floats for currency (in order to display cents), you should (for applications where this is critical) never store or handle money using floats, as rounding errors may occur. Work with integers (or a BigInt class if integers aren't large enough) internally instead, where the integer represents the total number of cents. An alternative (especially if you need more precision than cents) is using the BC (Binary Calculator) Math module, that handles arbitrary precision numbers with 100% accuracy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
