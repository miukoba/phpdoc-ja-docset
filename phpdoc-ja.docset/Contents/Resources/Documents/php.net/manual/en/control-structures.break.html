<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>break</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="control-structures.foreach.html">≪ foreach</a></li>
      <li style="float: right;"><a href="control-structures.continue.html">continue ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.control-structures.html">制御構造</a></li>
    <li>break</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="control-structures.break" class="sect1">
 <h2 class="title"><em>break</em></h2>
 <p class="verinfo">(PHP 4, PHP 5)</p>
 <p class="simpara">
  <em>break</em>は、現在実行中の
  <em>for</em>, <em>foreach</em>,
  <em>while</em>, <em>do-while</em>,
  <em>switch</em> 構造の実行を終了します。
 </p>
 <p class="simpara">
  <em>break</em> では、オプションの引数で
  ネストしたループ構造を抜ける数を指定することができます。
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$arr&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'one'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'two'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'three'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'four'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'stop'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'five'</span><span style="color: #007700">);<br />while&nbsp;(list(,&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">each</span><span style="color: #007700">(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'stop'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;ここでは、'break&nbsp;1;'と書くこともできます&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$val</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;オプション引数を使用します&nbsp;*/<br /><br /></span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />while&nbsp;(++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(</span><span style="color: #0000BB">$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"At&nbsp;5&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;switch&nbsp;構造のみを抜けます&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">case&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"At&nbsp;10;&nbsp;quitting&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;switch&nbsp;と&nbsp;while&nbsp;を抜けます&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="para">
  <table class="doctable table">
   <caption><strong><em>break</em> の変更履歴</strong></caption>
   
    <thead>
     <tr>
      <th>バージョン</th>
      <th>説明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>5.4.0</td>
      <td>
       <em>break 0;</em> が使えなくなりました。今までのバージョンでは、これは
       <em>break 1;</em> と同じ意味に解釈されていました。
      </td>
     </tr>

     <tr>
      <td>5.4.0</td>
      <td>
       数値引数の部分に変数を渡すこと (例: <em>$num = 2; break $num;</em>)
       ができなくなりました。
      </td>
     </tr>

    </tbody>
   
  </table>

 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="109050""></a>
  <div class="note">
   <strong class="user">steve at electricpocket dot com</strong>
   <a href="#109050" class="date">16-Jun-2012 09:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A break statement that is in the outer part of a program (e.g. not in a control loop) will end the script. This caught me out when I mistakenly had a break in an if statement<br />
<br />
i.e.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">echo </span><span class="string">"hello"</span><span class="keyword">;<br />
if (</span><span class="default">true</span><span class="keyword">) break;<br />
echo </span><span class="string">" world"</span><span class="keyword">; <br />
</span><span class="default">?&gt;<br />
</span><br />
will only show "hello"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101455""></a>
  <div class="note">
   <strong class="user">RK</strong>
   <a href="#101455" class="date">17-Dec-2010 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the numerical argument is higher than the number of things which can be broken out of, it seems to me like the execution of the entire program is stopped.<br />
My program had 8 nested loops. Didn't bother counting them, but wrote: break 10. - Result: Code following the loops was not processed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90308""></a>
  <div class="note">
   <strong class="user">Miguel Cruz</strong>
   <a href="#90308" class="date">15-Apr-2009 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To make it very clear, if you use "break" with no numerical argument, that's the same as doing "break 1".<br />
<br />
"break 0", while allowed, does nothing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85083""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#85083" class="date">14-Aug-2008 06:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The previous note has a somewhat stupid author: why didn't you put an example?<br />
<br />
If I got it right, "case"s in "switch"es always need a "break".<br />
So this switch ...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">switch ( </span><span class="default">$i </span><span class="keyword">) {<br />
&nbsp; case </span><span class="string">'1'</span><span class="keyword">: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">=1"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'2'</span><span class="keyword">: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include1.inc' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'3'</span><span class="keyword">: </span><span class="comment">// Doesn't work<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include2.inc' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'4'</span><span class="keyword">: </span><span class="comment">// Doesn't work, same reason<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include2.inc' </span><span class="keyword">);<br />
&nbsp; default: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
... has a problem in case "4" in that it doesn't have a "break" and this file...<br />
<br />
include2.inc:<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; break;<br />
</span><span class="default">?&gt;<br />
</span><br />
... has a problem in that it has a "break" that is not in a "control structure" (like while, for...).<br />
<br />
In the same way, although "include2.inc" is "include"d (obvioulsy) in the <span class="default">&lt;?php ?&gt;</span> script (of main.php), it still need another <span class="default">&lt;?php ?&gt;</span> to wrap its content.<br />
<br />
Likewise,<br />
<br />
main.php<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">echo </span><span class="string">"&lt;div&gt;This div is generated by php&lt;/div&gt;\n"</span><span class="keyword">;<br />
include </span><span class="string">'file.php'</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span>echo "&lt;div&gt;This div is also generated by php&lt;/div&gt;\n";<br />
<br />
file.php:<br />
&lt;div&gt;This is an old static HTML div.&lt;/div&gt;<br />
<br />
... doesn't require "file.php" content to start with "?&gt;" (exit php) and end with "&lt;?php" (go back to line 3 of main.php). This would FAIL.<br />
<br />
(See strange structure ALWAYS fail"?&gt;!)<br />
<br />
Does this really need documentation?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85025""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#85025" class="date">11-Aug-2008 08:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Your break doesn't work because it isn't within a control structure.&nbsp; I use includes that have breaks and they work fine because they are in a control structure (foreach, while, etc.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84295""></a>
  <div class="note">
   <strong class="user">cb</strong>
   <a href="#84295" class="date">08-Jul-2008 12:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to note: break doesn't work within included file, results in fatal error.<br />
<br />
main.php:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">switch ( </span><span class="default">$i </span><span class="keyword">)<br />
{<br />
&nbsp; case </span><span class="string">'1'</span><span class="keyword">: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'2'</span><span class="keyword">: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include1.inc' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'3'</span><span class="keyword">: </span><span class="comment">// Doesn't work<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include2.inc' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; case </span><span class="string">'4'</span><span class="keyword">: </span><span class="comment">// Doesn't work, same reason<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">require( </span><span class="string">'include2.inc' </span><span class="keyword">);<br />
&nbsp; default: </span><span class="comment">// Works<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
include1.inc:<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
include2.inc:<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">echo </span><span class="string">"</span><span class="default">$i</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; break;<br />
</span><span class="default">?&gt;<br />
</span><br />
I didn't find this documented anywhere.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82538""></a>
  <div class="note">
   <strong class="user">alan at synergymx dot com</strong>
   <a href="#82538" class="date">15-Apr-2008 09:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function that returns specific files in an array, with all of the details. Includes some basic garbage checking.<br />
<br />
Variables<br />
<br />
$source_folder // the location of your files<br />
$ext // file extension you want to limit to (i.e.: *.txt)<br />
$sec // if you only want files that are at least so old.<br />
$limit // number of files you want to return<br />
<br />
The function<br />
<br />
function glob_files($source_folder, $ext, $sec, $limit){<br />
&nbsp;&nbsp;&nbsp; if( !is_dir( $source_folder ) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; die ( "Invalid directory.\n\n" );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $FILES = glob($source_folder."\*.".$ext);<br />
&nbsp;&nbsp;&nbsp; $set_limit&nbsp; &nbsp; = 0;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach($FILES as $key =&gt; $file) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( $set_limit == $limit )&nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( filemtime( $file ) &gt; $sec ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $FILE_LIST[$key]['path']&nbsp; &nbsp; = substr( $file, 0, ( strrpos( $file, "\\" ) +1 ) );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $FILE_LIST[$key]['name']&nbsp; &nbsp; = substr( $file, ( strrpos( $file, "\\" ) +1 ) );&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $FILE_LIST[$key]['size']&nbsp; &nbsp; = filesize( $file );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $FILE_LIST[$key]['date']&nbsp; &nbsp; = date('Y-m-d G:i:s', filemtime( $file ) );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $set_limit++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(!empty($FILE_LIST)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $FILE_LIST;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; die( "No files found!\n\n" );<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
So....<br />
<br />
$source_folder = "c:\temp\my_videos";<br />
$ext = "flv"; // flash video files<br />
$sec = "7200"; // files older than 2 hours<br />
$limit = 2; // Only get 2 files<br />
<br />
print_r(glob_files($source_folder, $ext, $sec, $limit));<br />
<br />
Would return:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [path] =&gt; c:\temp\my_videos\<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; fluffy_bunnies.flv<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [size] =&gt; 21160480<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [date] =&gt; 2007-10-30 16:48:05<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [path] =&gt; c:\temp\my_videos\<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; synergymx.com.flv<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [size] =&gt; 14522744<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [date] =&gt; 2007-10-25 15:34:45<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77272""></a>
  <div class="note">
   <strong class="user">Gautam</strong>
   <a href="#77272" class="date">22-Aug-2007 11:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
break :break command exits the innermost loop construct which contains it.<br />
break ends execution of the current for, foreach, while, do-while or switch structure. <br />
break accepts an optional numeric argument which tells it how many nested enclosing structures are to be broken out of. <br />
<br />
You can view various output by changing comparision operator(&lt;,==,&gt;) or value of $limit <br />
*/<br />
</span><span class="default">$to_square_root</span><span class="keyword">=</span><span class="default">65536</span><span class="keyword">;<br />
</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$limit</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;<br />
while (</span><span class="default">true</span><span class="keyword">) {<br />
</span><span class="default">$square_root</span><span class="keyword">=</span><span class="default">sqrt</span><span class="keyword">(</span><span class="default">$to_square_root</span><span class="keyword">);<br />
echo </span><span class="string">"Square Root of </span><span class="default">$to_square_root</span><span class="string"> is </span><span class="default">$square_root</span><span class="string">.&lt;BR&gt;"</span><span class="keyword">;<br />
</span><span class="default">$to_square_root</span><span class="keyword">=</span><span class="default">$square_root</span><span class="keyword">;<br />
</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br />
if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">$limit</span><span class="keyword">) </span><span class="comment">// if ($i&lt;$limit) is used, loop breaks on very first execution<br />
</span><span class="keyword">break;<br />
}<br />
</span><span class="default">$loop</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
echo </span><span class="string">"This loop is executes for </span><span class="default">$loop</span><span class="string"> times."</span><span class="keyword">; <br />
</span><span class="comment">/* Above codes produces following output in browser <br />
Square Root of 65536 is 256<br />
Square Root of 256 is 16<br />
Square Root of 16 is 4<br />
Square Root of 4 is 2<br />
This loop is executes for 4 times <br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75936""></a>
  <div class="note">
   <strong class="user">pinkgothic at gmail dot com</strong>
   <a href="#75936" class="date">22-Jun-2007 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To add to the responses given to "vlad at vlad dot neosurge dot net" - I'd like to note the lack of automatic breaking in 'default' can be a very good thing. Consider this useful snippet:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">switch((string) </span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">]) {<br />
&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">] = </span><span class="string">"search"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="comment">// fall through...<br />
&nbsp; </span><span class="keyword">case </span><span class="string">'search' </span><span class="keyword">:<br />
&nbsp; case </span><span class="string">'list' </span><span class="keyword">:<br />
&nbsp; case </span><span class="string">'add' </span><span class="keyword">:<br />
&nbsp; case </span><span class="string">'edit' </span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; require(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">"/incs/"</span><span class="keyword">.</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">].</span><span class="string">".php"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; break;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I personally find that far easier to look at than, for example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$valid_modes </span><span class="keyword">= array(</span><span class="string">'search'</span><span class="keyword">,</span><span class="string">'list'</span><span class="keyword">,</span><span class="string">'add'</span><span class="keyword">,</span><span class="string">'edit'</span><span class="keyword">);<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">],</span><span class="default">$valid_modes</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; require(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">"/incs/"</span><span class="keyword">.</span><span class="default">$_REQUEST</span><span class="keyword">[</span><span class="string">'mode'</span><span class="keyword">].</span><span class="string">".php"</span><span class="keyword">);<br />
} else {<br />
&nbsp;&nbsp; &nbsp; require(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">"/incs/search.php"</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
...and it even has the added benefit that the switch() variant only has one require() statement, which makes for easier maintenance, e.g. if the directory changes, or what-have-you.<br />
<br />
(Consider the above pseudocode, please, it's not tested - it's code illustrating a point only.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74940""></a>
  <div class="note">
   <strong class="user">vinyanov at poczta dot onet dot pl</strong>
   <a href="#74940" class="date">05-May-2007 02:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the break argument accepts any expression, including a function result. So you may want to dynamically choose the loop level to break from:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// the print() function returns 1<br />
<br />
</span><span class="keyword">function </span><span class="default">icarus</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; while(print(</span><span class="string">'sea level, '</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(print(</span><span class="string">'through the clouds, '</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while(print(</span><span class="string">'close the Sun - '</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break </span><span class="default">rand</span><span class="keyword">(print(</span><span class="string">'FEATHERS LOSS! - '</span><span class="keyword">), </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'no feathers remaining.'</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">icarus</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72429""></a>
  <div class="note">
   
   <a href="#72429" class="date">18-Jan-2007 03:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you wonder how to end execution of a function (as I did), it's that simple: return<br />
<br />
function foo($a) {<br />
&nbsp;if(!$a) return;<br />
&nbsp;echo 'true';<br />
&nbsp;// some other code<br />
}<br />
<br />
foo(true) will echo 'true', foo(false) won't echo anything (as return ends execution of the function. Of course, therefore there is no need for 'else' before 'echo').</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71012""></a>
  <div class="note">
   <strong class="user">clean_code at is_good_code dot com</strong>
   <a href="#71012" class="date">08-Nov-2006 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"Just an insignificant side not: Like in C/C++, it's not necessary to break out of the default part of a switch statement in PHP."<br />
<br />
--Yes it is, it's just that traditionally default: is the last entry of a switch and so nothing happens after.<br />
<br />
-If it was, for whatever reason, not the last entry the script would bawk, there is no implicit break; associated with switch.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60226""></a>
  <div class="note">
   <strong class="user">traxer at gmx dot net</strong>
   <a href="#60226" class="date">30-Dec-2005 03:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
vlad at vlad dot neosurge dot net wrote on 04-Jan-2003 04:21<br />
<br />
&gt; Just an insignificant side not: Like in C/C++, it's not <br />
&gt; necessary to break out of the default part of a switch <br />
&gt; statement in PHP.<br />
<br />
It's not necessary to break out of any case of a switch&nbsp; statement in PHP, but if you want only one case to be executed, you have do break out of it (even out of the default case).<br />
<br />
Consider this:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="string">'Apple'</span><span class="keyword">;<br />
switch (</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'$a is not an orange&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; case </span><span class="string">'Orange'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'$a is an orange'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This prints (in PHP 5.0.4 on MS-Windows):<br />
$a is not an orange<br />
$a is an orange<br />
<br />
Note that the PHP documentation does not state the default part must be the last case statement.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50203""></a>
  <div class="note">
   <strong class="user">Ilene Jones</strong>
   <a href="#50203" class="date">21-Feb-2005 10:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For Perl or C programmers...<br />
<br />
break is equivelant to last<br />
<br />
while(false ! == ($site = $d-&gt;read()) ) {<br />
&nbsp; if ($site === 'this') {<br />
&nbsp;&nbsp; &nbsp; break;&nbsp; // in perl this could be last;<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
