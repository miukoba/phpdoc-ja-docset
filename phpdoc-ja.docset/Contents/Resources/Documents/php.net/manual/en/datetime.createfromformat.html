<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>指定した書式でフォーマットした新しい DateTime オブジェクトを返す</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="datetime.construct.html">≪ DateTime::__construct</a></li>
      <li style="float: right;"><a href="datetime.getlasterrors.html">DateTime::getLastErrors ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.datetime.html">DateTime</a></li>
    <li>指定した書式でフォーマットした新しい DateTime オブジェクトを返す</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="datetime.createfromformat" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">DateTime::createFromFormat</h1>
  <h1 class="refname">date_create_from_format</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0)</p><p class="refpurpose"><span class="refname">DateTime::createFromFormat</span> -- <span class="refname">date_create_from_format</span> &mdash; <span class="dc-title">指定した書式でフォーマットした新しい DateTime オブジェクトを返す</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-datetime.createfromformat-description">
  <h3 class="title">説明</h3>
  <p class="para">オブジェクト指向型</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type"><a href="class.datetime.html" class="type DateTime">DateTime</a></span> <span class="methodname"><strong>DateTime::createFromFormat</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$time</code></span>
   [, <span class="methodparam"><span class="type"><a href="class.datetimezone.html" class="type DateTimeZone">DateTimeZone</a></span> <code class="parameter">$timezone</code></span>
  ] )</div>

  <p class="para rdfs-comment">手続き型</p>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="class.datetime.html" class="type DateTime">DateTime</a></span> <span class="methodname"><a href="function.date-create-from-format.html" class="methodname">date_create_from_format</a></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$time</code></span>
   [, <span class="methodparam"><span class="type"><a href="class.datetimezone.html" class="type DateTimeZone">DateTimeZone</a></span> <code class="parameter">$timezone</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   指定した書式でフォーマットした新しい DateTime オブジェクトを返します。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-datetime.createfromformat-parameters">
  <h3 class="title">パラメータ</h3>
  <dl>

   
    <dt>
<code class="parameter">format</code></dt>

    <dd>

     <p class="para">
      書式を文字列で渡します。以下の書式オプションを参照ください。
      大半は、<span class="function"><a href="function.date.html" class="function">date()</a></span> で使える文字と同じです。
     </p>
     <p class="para">
      <table class="doctable table">
       <caption><strong><code class="parameter">format</code> パラメータに渡せる文字</strong></caption>
       
        <thead>
         <tr>
          <th><code class="parameter">format</code> 文字</th>
          <th>説明</th>
          <th>取りうる値の例</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td style="text-align: center;"><em class="emphasis">日</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em>d</em> および <em>j</em></td>
          <td>2桁の日付。先頭のゼロを含むものと含まないもの</td>
          <td>
           <em>01</em> から <em>31</em> あるいは
           <em>1</em> から <em>31</em>
          </td>
         </tr>

         <tr>
          <td><em>D</em> および <em>l</em></td>
          <td>曜日を表す文字列</td>
          <td>
           <em>Mon</em> から <em>Sun</em> あるいは
           <em>Sunday</em> から <em>Saturday</em>
          </td>
         </tr>

         <tr>
          <td><em>S</em></td>
          <td>日付の後につける英語の接尾辞。二文字。処理中には無視されます。</td>
          <td>
           <em>st</em>、<em>nd</em>、<em>rd</em> あるいは
           <em>th</em>
          </td>
         </tr>

         <tr>
          <td><em>z</em></td>
          <td>年始からの通算日数 (最初は 0)</td>
          <td><em>0</em> から <em>365</em></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">月</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em>F</em> および <em>M</em></td>
          <td>月を表す文字列。January あるいは Sept など</td>
          <td>
           <em>January</em> から <em>December</em> あるいは
           <em>Jan</em> から <em>Dec</em>
          </td>
         </tr>

         <tr>
          <td><em>m</em> および <em>n</em></td>
          <td>月を表す数値。先頭のゼロを含むものと含まないもの</td>
          <td>
           <em>01</em> から <em>12</em> あるいは
           <em>1</em> から <em>12</em>
          </td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">年</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em>Y</em></td>
          <td>4 桁の数値で表した年</td>
          <td>例: <em>1999</em> あるいは <em>2003</em></td>
         </tr>

         <tr>
          <td><em>y</em></td>
          <td>
           2 桁の数値で表した年 (1970年から2069年の間だとみなされます)
          </td>
          <td>
           例:
           <em>99</em> あるいは <em>03</em>
           (それぞれ、 <em>1999</em> および
           <em>2003</em> と見なされます)
          </td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">時刻</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em>a</em> および <em>A</em></td>
          <td>午前および午後</td>
          <td><em>am</em> あるいは <em>pm</em></td>
         </tr>

         <tr>
          <td><em>g</em> および <em>h</em></td>
          <td>12 時間制での時間。先頭のゼロを含むものと含まないもの</td>
          <td>
           <em>1</em> から <em>12</em> あるいは
           <em>01</em> から <em>12</em>
          </td>
         </tr>

         <tr>
          <td><em>G</em> and <em>H</em></td>
          <td>24 時間制での時間。先頭のゼロを含むものと含まないもの</td>
          <td>
           <em>0</em> から <em>23</em> あるいは
           <em>00</em> から <em>23</em>
          </td>
         </tr>

         <tr>
          <td><em>i</em></td>
          <td>分。先頭のゼロを含む</td>
          <td><em>00</em> から <em>59</em></td>
         </tr>

         <tr>
          <td><em>s</em></td>
          <td>秒。先頭のゼロを含む</td>
          <td><em>00</em> から <em>59</em></td>
         </tr>

         <tr>
          <td><em>u</em></td>
          <td>マイクロ秒 (最大 6 桁)</td>
          <td>例: <em>45</em>, <em>654321</em></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">タイムゾーン</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td>
           <em>e</em>、<em>O</em>、
           <em>P</em> および <em>T</em>
          </td>
          <td>タイムゾーン識別子、UTC からの時差 (時間単位)、
          UTC からの時差 (コロン区切りでの時間と分)、そしてタイムゾーンの短縮形</td>
          <td>例: <em>UTC</em>、<em>GMT</em>、
           <em>Atlantic/Azores</em> あるいは
           <em>+0200</em> あるいは <em>+02:00</em> あるいは
           <em>EST</em>、<em>MDT</em>
          </td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">完全な日付/時刻</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em>U</em></td>
          <td>Unix エポック (January 1 1970 00:00:00 GMT) からの経過秒数</td>
          <td>例: <em>1292177455</em></td>
         </tr>

         <tr>
          <td style="text-align: center;"><em class="emphasis">空白および区切り</em></td>
          <td>---</td>
          <td>---</td>
         </tr>

         <tr>
          <td><em> </em> (空白)</td>
          <td>空白 1 文字あるいはタブ 1 文字</td>
          <td>例: <em> </em></td>
         </tr>

         <tr>
          <td><em>#</em></td>
          <td>
           次の区切り文字のいずれか: <em>;</em>,
           <em>:</em>, <em>/</em>, <em>.</em>,
           <em>,</em>, <em>-</em>, <em>(</em> あるいは
           <em>)</em>
          </td>
          <td>例: <em>/</em></td>
         </tr>

         <tr>
          <td>
           <em>;</em>,
           <em>:</em>, <em>/</em>, <em>.</em>,
           <em>,</em>, <em>-</em>, <em>(</em> あるいは
           <em>)</em>
          </td>
          <td>指定した文字</td>
          <td>例: <em>-</em></td>
         </tr>

         <tr>
          <td><em>?</em></td>
          <td>ランダムなバイト</td>
          <td>例: <em>^</em> (UTF-8 文字の場合は複数の
          <em>?</em> が必要になるでしょう。この場合、おそらく
          <em>*</em> を使うと要望が満たせるはずです)</td>
         </tr>

         <tr>
          <td><em>*</em></td>
          <td>次の区切り文字あるいは数字までのランダムなバイト列</td>
          <td>例: <em>Y-*-d</em> の中の <em>*</em>
          は、文字列 <em>2009-aWord-08</em> の中の
          <em>aWord</em> にマッチします</td>
         </tr>

         <tr>
          <td><em>!</em></td>
          <td>すべてのフィールド (年、月、日、時、分、秒、マイクロ秒およびタイムゾーン情報)
          を Unix エポックにリセットする</td>
          <td><em>!</em> がなければ、すべてのフィールドは現在の日時に設定されます。</td>
         </tr>

         <tr>
          <td><em>|</em></td>
          <td>まだパースされていないすべてのフィールド (年、月、日、時、分、秒、マイクロ秒およびタイムゾーン情報)
          を Unix エポックにリセットする</td>
          <td><em>Y-m-d|</em> は、文字列をパースした結果から年月日を設定し
          時分秒には 0 を設定します。</td>
         </tr>

         <tr>
          <td><em>+</em></td>
          <td>この文字があると、文字列のそれ以降のデータではエラーが発生せず、
          かわりに警告を発生させる</td>
          <td>それ以降のデータが存在したかどうかを調べるには <span class="methodname"><a href="datetime.getlasterrors.html" class="methodname">DateTime::getLastErrors()</a></span>
          を使います。</td>
         </tr>

        </tbody>
       
      </table>

     </p>
     <p class="para">
      書式文字列の中に解釈不能な文字が含まれていると処理は失敗し、
      返り値にはエラーメッセージが付加されます。エラーメッセージを調べるには
      <span class="methodname"><a href="datetime.getlasterrors.html" class="methodname">DateTime::getLastErrors()</a></span> を使います。
     </p>
     <p class="para">
      <code class="parameter">format</code> に文字
      <em>!</em> が含まれない場合は、作成した時刻値のうち
      <code class="parameter">format</code> で指定されていない部分を
      現在のシステム時刻で初期化します。
     </p>
     <p class="para">
      <code class="parameter">format</code> に文字
      <em>!</em> が含まれる場合は、作成した時刻値のうち
      <code class="parameter">format</code> で指定されていない部分と
      <em>!</em> の左側の部分を
      Unix エポックの対応する箇所の値で初期化します。
     </p>
     <p class="para">
      Unix エポックは 1970-01-01 00:00:00 です。
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">time</code></dt>

    <dd>

     <p class="para">
      時刻を表す文字列。
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">timezone</code></dt>

    <dd>

     <p class="para">
      指定したいタイムゾーンを表す
      <a href="class.datetimezone.html" class="classname">DateTimeZone</a> オブジェクト。
     </p>
     <p class="para">
      <code class="parameter">timezone</code> を省略し、かつ
      <code class="parameter">time</code> にタイムゾーンが含まれない場合は、
      現在のタイムゾーンを使います。
     </p>
     <blockquote class="note"><p><strong class="note">注意</strong>: 
      <p class="para">
       <code class="parameter">time</code> パラメータが UNIX タイムスタンプ
       (例: <em>946684800</em>) だったりタイムゾーンを含んでいたり
       (例: <em>2010-01-28T15:00:00+02:00</em>)
       する場合は、
       <code class="parameter">timezone</code> パラメータや現在のタイムゾーンは無視します。
      </p>
     </p></blockquote>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-datetime.createfromformat-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   新しい DateTime のインスタンス、失敗した場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-datetime.createfromformat-examples">
  <h3 class="title">例</h3>
  <div class="example" id="example-2345">
   <p><strong>例1 <span class="function"><strong>DateTime::createFromFormat()</strong></span> の例</strong></p>
   <div class="example-contents"><p>オブジェクト指向型</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">::</span><span style="color: #0000BB">createFromFormat</span><span style="color: #007700">(</span><span style="color: #DD0000">'j-M-Y'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'15-Feb-2009'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>手続き型</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">date_create_from_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'j-M-Y'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'15-Feb-2009'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">date_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$date</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
2009-02-15
</pre></div>
   </div>
  </div>
  <div class="example" id="example-2346">
   <p><strong>例2 <span class="function"><strong>DateTime::createFromFormat()</strong></span> の複雑な例</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Current&nbsp;time:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$format&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">::</span><span style="color: #0000BB">createFromFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'2009-02-15'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Format:&nbsp;</span><span style="color: #0000BB">$format</span><span style="color: #DD0000">;&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$format&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">::</span><span style="color: #0000BB">createFromFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'2009-02-15&nbsp;15:16:17'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Format:&nbsp;</span><span style="color: #0000BB">$format</span><span style="color: #DD0000">;&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$format&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Y-m-!d&nbsp;H:i:s'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">::</span><span style="color: #0000BB">createFromFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'2009-02-15&nbsp;15:16:17'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Format:&nbsp;</span><span style="color: #0000BB">$format</span><span style="color: #DD0000">;&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$format&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'!d'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">::</span><span style="color: #0000BB">createFromFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'15'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Format:&nbsp;</span><span style="color: #0000BB">$format</span><span style="color: #DD0000">;&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:s'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は、
たとえば以下のようになります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Current time: 2010-04-23 10:29:35
Format: Y-m-d; 2009-02-15 10:29:35
Format: Y-m-d H:i:s; 2009-02-15 15:16:17
Format: Y-m-!d H:i:s; 1970-01-15 15:16:17
Format: !d; 1970-01-15 00:00:00
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-datetime.createfromformat-seealso">
  <h3 class="title">参考</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="datetime.construct.html" class="function" rel="rdfs-seeAlso">DateTime::__construct()</a> - 新しい DateTime オブジェクトを返す</span></li>
   <li class="member"><span class="function"><a href="datetime.getlasterrors.html" class="function" rel="rdfs-seeAlso">DateTime::getLastErrors()</a> - 警告およびエラーを返す</span></li>
   <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - グレゴリオ暦の日付/時刻の妥当性を確認します</span></li>
   <li class="member"><span class="function"><a href="function.strptime.html" class="function" rel="rdfs-seeAlso">strptime()</a> - strftime が生成した日付/時刻をパースする</span></li>
  </ul>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115270""></a>
  <div class="note">
   <strong class="user">nicodoggie at gmail dot com</strong>
   <a href="#115270" class="date">25-Jun-2014 10:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found that on PHP 5.5.13 (not sure if it happens on other versions) if you enter a month larger than 12 on a format that takes numeric months, the result will be a DateTime object with its month equal to the number modulo 12 instead of returning false.<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="string">'2013-22-01'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
results in:<br />
class DateTime#4 (3) {<br />
&nbsp; public $date =&gt;<br />
&nbsp; string(19) "2014-10-01 13:05:05"<br />
&nbsp; public $timezone_type =&gt;<br />
&nbsp; int(3)<br />
&nbsp; public $timezone =&gt;<br />
&nbsp; string(3) "UTC"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114697""></a>
  <div class="note">
   <strong class="user">d dot shankarnarayana at gmail dot com</strong>
   <a href="#114697" class="date">25-Mar-2014 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Say if there is a string with&nbsp; $date = "today is 2014 January 1";&nbsp;&nbsp; and you need to extract "2014 January" using DateTime::createFromFormat().&nbsp; As you can see in the string there is something odd like "today is" .Since that string (today is) does not correspond to a date format, we need to escape that. <br />
<br />
In this case, each and every character on that string has to be escaped as shown below.<br />
<br />
The code.<br />
<br />
<span class="default">&lt;?php<br />
$paragraph </span><span class="keyword">= </span><span class="string">"today is 2014 January 1"</span><span class="keyword">;<br />
</span><span class="default">$date </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'\t\o\d\a\y \i\s Y F j'</span><span class="keyword">, </span><span class="default">$paragraph</span><span class="keyword">);<br />
echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y F'</span><span class="keyword">); </span><span class="comment">//"prints" 2014 January<br />
<br />
</span><span class="keyword">- </span><span class="default">Shankar Damodaran</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111123""></a>
  <div class="note">
   <strong class="user">mail at marcel-juenemann dot de</strong>
   <a href="#111123" class="date">18-Jan-2013 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the U option does not support negative timestamps (before 1970). You have to use date for that.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110385""></a>
  <div class="note">
   <strong class="user">falundir at gmail dot com</strong>
   <a href="#110385" class="date">17-Oct-2012 09:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be warned that DateTime object created without explicitely providing the time portion will have the current time set instead of 00:00:00.<br />
<br />
<span class="default">&lt;?php<br />
$date </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="string">'2012-10-17'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">)); </span><span class="comment">//will print 2012-10-17 13:57:34 (the current time)<br />
</span><span class="default">?&gt;<br />
</span><br />
That's also why you can't safely compare equality of such DateTime objects:<br />
<br />
<span class="default">&lt;?php<br />
$date1 </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="string">'2012-10-17'</span><span class="keyword">);<br />
</span><span class="default">sleep</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">$date2 </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="string">'2012-10-17'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$date1 </span><span class="keyword">== </span><span class="default">$date2</span><span class="keyword">); </span><span class="comment">//will be false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$date1 </span><span class="keyword">&gt;= </span><span class="default">$date2</span><span class="keyword">); </span><span class="comment">//will be false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$date1 </span><span class="keyword">&lt; </span><span class="default">$date2</span><span class="keyword">); </span><span class="comment">//will be true<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109881""></a>
  <div class="note">
   <strong class="user">thomas dot ribiere at allgoob dot com</strong>
   <a href="#109881" class="date">31-Aug-2012 12:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Not a bug, but a strange issue today 2012-08-30 :<br />
<br />
<span class="default">&lt;?php<br />
$date </span><span class="keyword">= </span><span class="string">"2011-02"</span><span class="keyword">;<br />
echo </span><span class="default">$date</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">"Y-m"</span><span class="keyword">,</span><span class="default">$date</span><span class="keyword">);<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will display : <br />
2011-02<br />
2011-03<br />
<br />
It's because there is no 2011-02-30, so datetime will take march insteed of february ...<br />
<br />
To fix it :<br />
<span class="default">&lt;?php <br />
$date </span><span class="keyword">= </span><span class="string">"2011-02"</span><span class="keyword">;<br />
echo </span><span class="default">$date</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">,</span><span class="default">$date</span><span class="keyword">.</span><span class="string">"-01"</span><span class="keyword">);<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107452""></a>
  <div class="note">
   <strong class="user">kamil dot wegrzynowicz at baobaz dot com</strong>
   <a href="#107452" class="date">10-Feb-2012 05:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems that a pipe ('|') option in formating string works only with PHP version 5.3.7 and newer. We had an issue with it on versions 5.3.2, 5.3.3, 5.3.6. Yet it was fine with 5.3.8 and 5.3.10.
<br />

<br />
By short example:
<br />
<span class="default">&lt;?php
<br />
$timezone </span><span class="keyword">= new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'UTC'</span><span class="keyword">);
<br />
</span><span class="default">$dateTime </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'dmY|'</span><span class="keyword">, </span><span class="string">'01011972'</span><span class="keyword">, </span><span class="default">$timezone</span><span class="keyword">);
<br />
</span><span class="comment">//$dateTime is FALSE in PHP v &lt;5.3.8
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Instead we used a workaround:
<br />
<span class="default">&lt;?php
<br />
$dateTime </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'dmY'</span><span class="keyword">, </span><span class="string">'01011972'</span><span class="keyword">, </span><span class="default">$timezone</span><span class="keyword">);
<br />
</span><span class="default">$dateTime</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y-m-d 00:00:00'</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>which works fine.
<br />

<br />
====
<br />

<br />
Modified by admin to correct for version (5.3.7 not 5.3.8)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103158""></a>
  <div class="note">
   <strong class="user">Aurelien Marchand</strong>
   <a href="#103158" class="date">29-Mar-2011 04:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware specifying a timezone in the format as it will take precedence over the DateTimeZone object.<br />
<br />
<span class="default">&lt;?php<br />
$timezone </span><span class="keyword">= </span><span class="string">"UTC"</span><span class="keyword">; </span><span class="comment">// or any other valid name for a timezone<br />
</span><span class="default">$d</span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s T"</span><span class="keyword">,</span><span class="string">"2011-11-06 00:00:00 EDT"</span><span class="keyword">,new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="default">$timezone</span><span class="keyword">));<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s T - U"</span><span class="keyword">);<br />
</span><span class="comment">// returns "2011-11-06 00:00:00 EDT - 1320552000"<br />
// specifying $timezone = "Pacific/Honolulu"; would return the same string<br />
</span><span class="default">?&gt;<br />
</span><br />
This gets hairy when you are playing with transition from summer time to winter time! For instance, in Toronto, the time change happens on 2011-11-06. One second after 01:59:59 (EDT), the time becomes 01:00:00 (EST), or 1320559200 in Unix timestamp.<br />
<br />
However, notice the following:<br />
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s"</span><span class="keyword">,</span><span class="string">"2011-11-06 01:00:00"</span><span class="keyword">,new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">"EST"</span><span class="keyword">));<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s T U"</span><span class="keyword">);<br />
</span><span class="comment">// returns "2011-11-06 01:00:00 EDT 1320555600" instead of "2011-11-06 01:00:00 EST 1320559200"<br />
<br />
// so the correct way is to do:<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s T"</span><span class="keyword">,</span><span class="string">"2011-11-06 01:00:00 EST"</span><span class="keyword">,new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="default">$timezone</span><span class="keyword">)); </span><span class="comment">// set $timezone to any valid string for DateTimeZone, it doesn't matter<br />
</span><span class="keyword">echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d H:i:s T U"</span><span class="keyword">);<br />
</span><span class="comment">// returns "2011-11-06 01:00:00 EST - 1320559200" as wanted<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102910""></a>
  <div class="note">
   <strong class="user">klugg at tlen dot pl</strong>
   <a href="#102910" class="date">14-Mar-2011 06:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In order to use a DateTimeZone, don't enter one of the DateTimeZone::Europe, DateTimeZone::Asia etc. constants, but create a DateTimeZone object with verbal timezone name passed as a string:<br />
<span class="default">&lt;?php<br />
$eventDate </span><span class="keyword">= </span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">createFromFormat</span><span class="keyword">(</span><span class="string">'m/d/y h:i'</span><span class="keyword">, </span><span class="string">'02/26/11 08:00'</span><span class="keyword">, new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Warsaw'</span><span class="keyword">));<br />
echo </span><span class="default">date_format</span><span class="keyword">(</span><span class="default">$eventDate</span><span class="keyword">, </span><span class="string">'Y-m-d'</span><span class="keyword">); </span><span class="comment">//prints "2011-02-26"<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
