<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>CCL パーサを設定する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.yaz-addinfo.html">≪ yaz_addinfo</a></li>
      <li style="float: right;"><a href="function.yaz-ccl-parse.html">yaz_ccl_parse ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.yaz.html">YAZ 関数</a></li>
    <li>CCL パーサを設定する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.yaz-ccl-conf" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">yaz_ccl_conf</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.5, PECL yaz &gt;= 0.9.0)</p><p class="refpurpose"><span class="refname">yaz_ccl_conf</span> &mdash; <span class="dc-title">CCL パーサを設定する</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.yaz-ccl-conf-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>yaz_ccl_conf</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$id</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$config</code></span>
   )</div>

  <p class="para rdfs-comment">
   この関数は、アクセスポイント(CCL限定辞)が定義するサーバーに関して
   CCL クエリパーサと RPN へのマッピングを設定します。
  </p>
  <p class="para">
   特定の CCL クエリを後で RPN にマップするには、
   <span class="function"><a href="function.yaz-ccl-parse.html" class="function">yaz_ccl_parse()</a></span> 関数をコールしてください。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.yaz-ccl-conf-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">id</code></dt>

     <dd>

      <p class="para">
       <span class="function"><a href="function.yaz-connect.html" class="function">yaz_connect()</a></span> が返す接続リソース。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">config</code></dt>

     <dd>

      <p class="para">
       設定の配列。配列の各キーが CCL フィールドの名前で、対応する値は
       RPN へのマッピングを指定する文字列です。
      </p>
      <p class="para">
       マッピングは、属性型と属性値の組が並んだものです。
       属性型と属性値は、等号（<em>=</em>）で区切られ、
       組と組の間は空白で区切られます。
      </p>
      <p class="para">
       詳細な情報は <a href="http://www.indexdata.dk/yaz/doc/tools.tkl#CCL" class="link external" title="Link : http://www.indexdata.dk/yaz/doc/tools.tkl#CCL">&raquo;&nbsp;CCL</a> のページを
       参照ください。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.yaz-ccl-conf-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   値を返しません。
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.yaz-ccl-conf-examples">
  <h3 class="title">例</h3>
  <p class="para">
   以下の例では、CCL パーサは <em>ti</em>、
   <em>au</em>、<em>isbn</em> という 3 つの CCL
   フィールドをサポートするように設定されます。各フィールドは、等価な
   BIB-1 へマップされます。 この例では、<em>$id</em> が接続
   ID であることを仮定しています。
  </p>
  <div class="example" id="example-4786">
   <p><strong>例1 CCL 設定</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fields&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;</span><span style="color: #DD0000">"ti"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"1=4"</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">"au"&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"1=1"</span><span style="color: #007700">,<br />&nbsp;&nbsp;</span><span style="color: #DD0000">"isbn"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"1=7"<br /></span><span style="color: #007700">);<br /></span><span style="color: #0000BB">yaz_ccl_conf</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fields</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.yaz-ccl-conf-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.yaz-ccl-parse.html" class="function" rel="rdfs-seeAlso">yaz_ccl_parse()</a> - CCL パーサを起動する</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="50653""></a>
  <div class="note">
   <strong class="user">quinn at indexdata dot com</strong>
   <a href="#50653" class="date">06-Mar-2005 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The YAZ CCL parser has extensive functionality beyond what is described here. For the full story, as well as a detailed description of the CCL language, please look at <br />
<br />
<a href="http://www.indexdata.dk/yaz/doc/tools.tkl#CCL" rel="nofollow" target="_blank">http://www.indexdata.dk/yaz/doc/tools.tkl#CCL</a><br />
<br />
The flexibility of the parser makes it easy, by setting up separate profiles for servers with different characteristics, to produce a client that performs different query mappings for different servers. Also, because you can configure operators, truncation characters, etc., in the CCL parser, it is simple to make it fit into almost any application.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
