<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>Sun, iPlanet, Netscape サーバー（Sun Solaris 用）</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="install.unix.lighttpd-14.html">≪ Lighttpd 1.4 (Unix システム用)</a></li>
      <li style="float: right;"><a href="install.unix.commandline.html">CGI およびコマンドライン ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="install.unix.html">Unix システムへのインストール</a></li>
    <li>Sun, iPlanet, Netscape サーバー（Sun Solaris 用）</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="install.unix.sun" class="sect1">
    <h2 class="title">Sun, iPlanet, Netscape サーバー（Sun Solaris 用）</h2>
    <p class="para">
      このセクションでは、Sun Solaris 上の Sun Java System Web Server, Sun ONE Web Server, 
      iPlanet and Netscape server に PHP をインストールする際の
      手引きと注意事項について説明します。
    </p>
    <p class="para">
     PHP 4.3.3 より、<a href="ref.nsapi.html" class="link">NSAPI モジュール</a> を使って 
     <a href="install.unix.sun.html#install.unix.sun.specialpages" class="link">独自エラーページ および
     ファイル一覧表示ページの生成</a> が可能です。 Apache 互換の関数も追加されています。 
     また、これらの Web サーバーについての
     <a href="install.unix.sun.html#install.unix.sun.notes" class="link">サブリクエストに関する注意</a> も参照してください。
    </p>
    <p class="para">
     Netscape Enterprise Server (NES) への PHP のインストールに関しては
     <a href="http://benoit.noss.free.fr/php/install-php4.html" class="link external" title="Link : http://benoit.noss.free.fr/php/install-php4.html">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php4.html</a> にも情報があります。
    </p>
    
    <p class="para">
     Sun JSWS/Sun ONE WS/iPlanet/Netscape Web サーバー用に PHP をビルド
     するには、<a href="configure.about.html#configure.with-nsapi" class="link">--with-nsapi=[DIR]</a>
     オプションに適切なインストールディレクトリを指定してください。
     デフォルトのディレクトリは、通常、<var class="filename">/opt/netscape/suitespot/</var>
     です。
     <var class="filename">/php-xxx-version/sapi/nsapi/nsapi-readme.txt</var> も参照してください。
    </p>
    <p class="para">
     <ol type="1">
      <li class="listitem">
       <p class="para">
        以下のパッケージを、<a href="http://www.sunfreeware.com/" class="link external" title="Link : http://www.sunfreeware.com/">&raquo;&nbsp;
        http://www.sunfreeware.com/</a> や他のダウンロードサイトから取得し、
        インストールします。
        <ul class="simplelist">
         <li class="member"><var class="filename">autoconf-2.13</var></li>
         <li class="member"><var class="filename">automake-1.4</var></li>
         <li class="member"><var class="filename">bison-1_25-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">flex-2_5_4a-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">gcc-2_95_2-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">gzip-1.2.4-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">m4-1_4-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">make-3_76_1-sol26-sparc-local</var></li>
         <li class="member">
          <var class="filename">mysql-3.23.24-beta</var> (mysql サポートが必要な場合)
         </li>
         <li class="member"><var class="filename">perl-5_005_03-sol26-sparc-local</var></li>
         <li class="member"><var class="filename">tar-1.13</var> (GNU tar)</li>
        </ul>
       </p>
      </li>
      <li class="listitem">
       <span class="simpara">
        パスを適切に設定します
        ( <em>PATH=.:/usr/local/bin:/usr/sbin:/usr/bin:/usr/ccs/bin</em> )。
        そして、<strong class="userinput"><code>export PATH</code></strong>とし、パスを有効にします。
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        <strong class="userinput"><code>gunzip php-x.x.x.tar.gz</code></strong> (<var class="filename">.gz</var> 配布の場合のみ)
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        <strong class="userinput"><code>tar xvf php-x.x.x.tar</code></strong>
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        PHP を展開したディレクトリに移動します
        <strong class="userinput"><code>cd ../php-x.x.x</code></strong>
       </span>
      </li>
      <li class="listitem">
       <p class="para">
        以下のステップを実施します。
        <var class="filename">/opt/netscape/suitespot/</var> は
        netscape サーバーがインストールされている場所です。
        異なる場合は、適切なパスに変更してください。
        <div class="example-contents">
<div class="shellcode"><pre class="shellcode">./configure --with-mysql=/usr/local/mysql \
--with-nsapi=/opt/netscape/suitespot/ \
--enable-libgcc</pre>
</div>
        </div>

       </p>
      </li>
      <li class="listitem">
       <span class="simpara">
        <strong class="command">make</strong> を実行し、その後 <strong class="command">make install</strong>
        を実行します。
       </span>
      </li>
     </ol>
    </p>
    <p class="para">
     基本インストールを実行したら、適当な readme ファイルを参照してください。
     いくつかの追加インストール手順を実行する必要があるかもしれません。
    </p>
    <p class="formalpara">
     <h5 class="title">Sun/iPlanet/Netscape の設定手順</h5>
     <p class="para">
      まず、共有ライブラリの探索のために、環境変数
      LD_LIBRARY_PATH にパスをいくつか追加する必要があります。
      Webサーバーの開始スクリプトで行うのが最善でしょう。
      開始スクリプトは、通常 
      <var class="filename">/path/to/server/https-servername/start</var>
      にあります。
      また、<var class="filename">/path/to/server/https-servername/config/</var>
      にある設定ファイルの編集も必要です。
      <ol type="1">
       <li class="listitem">
        <p class="para">
         <var class="filename">mime.types</var>に次の行を追加します
         (administration server で行えます。)
         <div class="example-contents screen">
<div class="cdata"><pre>
type=magnus-internal/x-httpd-php exts=php
</pre></div>
         </div>
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">magnus.conf</var> (サーバー&gt;= 6の場合) または
         <var class="filename">obj.conf</var> (サーバー&lt; 6の場合) を編集し、
         以下の行を追加します。
         ここで、shlib はシステムにより異なります。
         <var class="filename">/opt/netscape/suitespot/bin/libphp4.so</var>
         等となるでしょう。
         <em>mime types init</em> の後に置いてください。
         <div class="example-contents">
<div class="cdata"><pre>
Init fn=&quot;load-modules&quot; funcs=&quot;php4_init,php4_execute,php4_auth_trans&quot; shlib=&quot;/opt/netscape/suitespot/bin/libphp4.so&quot;
Init fn=&quot;php4_init&quot; LateInit=&quot;yes&quot; errorString=&quot;Failed to initialize PHP!&quot; [php_ini=&quot;/path/to/php.ini&quot;]
</pre></div>
         </div>

         (PHP &gt;= 4.3.3) <em>php_ini</em> パラメータはオプションですが、 
         これを指定することにより、Web サーバーの設定ファイルがあるフォルダに 
         <var class="filename">php.ini</var> を置くことが可能になります。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">obj.conf</var> のデフォルトオブジェクトを設定します 
         （バージョン 6 以降の仮想サーバーの場合は
         <var class="filename">vserver.obj.conf</var>。）
         <div class="example-contents">
<div class="cdata"><pre>
&lt;Object name=&quot;default&quot;&gt;
.
.
.
.#NOTE this next line should happen after all &#039;ObjectType&#039; and before all &#039;AddLog&#039; lines
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/x-httpd-php&quot; [inikey=value inikey=value ...]
.
.
&lt;/Object&gt;
</pre></div>
         </div>

         (PHP &gt;= 4.3.3) 追加のパラメータとして、いくつかの特別な <var class="filename">php.ini</var> 値を 
         追加することができます。例えば、コンテキスト <em>php4_execute</em> に対して 
         <em>docroot=&quot;/path/to/docroot&quot;</em> を設定するなどです。
         また、論理値の場合、0/1 を値として使用してください。 
         <em>&quot;On&quot;,&quot;Off&quot;,...</em> では正しく動作しません。
         例えば、<em>zlib.output_compression=&quot;On&quot;</em> ではなく、 
         <em>zlib.output_compression=1</em> とします。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         以下は、（<var class="filename">cgi-bin</var> ディレクトリ のように）
         PHP スクリプトだけが置かれるディレクトリを設定したい場合にのみ必要です。
         <div class="example-contents">
<div class="cdata"><pre>
&lt;Object name=&quot;x-httpd-php&quot;&gt;
ObjectType fn=&quot;force-type&quot; type=&quot;magnus-internal/x-httpd-php&quot;
Service fn=php4_execute [inikey=value inikey=value ...]
&lt;/Object&gt;
</pre></div>
         </div>

         こうしておくと、Administration Server に特定のディレクトリを設定し、 
         これをスタイル <em>x-httpd-php</em> に割り付けることができます。
         このディレクトリの中にあるすべてのファイルは PHP スクリプト として実行されます。 
         これは、ファイルの拡張子を <var class="filename">.html</var> に変更し、
         PHP が使用されている事を隠したい場合に有用です。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         認証を設定します。PHP による認証は他の認証と併用することはできません。
         すべての認証は、PHP スクリプトに渡されます。
         サーバー全体に対して PHP 認証を設定する場合は、以下の行を追加してください。
         <div class="example-contents">
<div class="cdata"><pre>
&lt;Object name=&quot;default&quot;&gt;
AuthTrans fn=php4_auth_trans
.
.
.
&lt;/Object&gt;
</pre></div>
         </div>

        </p>
       </li>
       <li class="listitem">
        <p class="para">
         単一のディレクトリでのみ PHP による認証を行う場合は、次の行を追加します。
         <div class="example-contents">
<div class="cdata"><pre>
&lt;Object ppath=&quot;d:\path\to\authenticated\dir\*&quot;&gt;
AuthTrans fn=php4_auth_trans
&lt;/Object&gt;
</pre></div>
         </div>

        </p>
       </li>
      </ol>
     </p>
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <p class="para">
      PHP が使用するスタックサイズは Web サーバーの設定に依存します。 
      非常に大きい PHP スクリプトを実行させた際にクラッシュが発生する場合は、 
      Administration Server でスタックサイズ（&quot;MAGNUS EDITOR&quot;） を大きくすると良いでしょう。
     </p>
    </p></blockquote>
   
   <div class="sect2" id="install.unix.sun.phpini">
    <h3 class="title">CGI 環境変数と <var class="filename">php.ini</var> の変更</h3>
    <p class="para">
     Sun JSWS/Sun ONE WS/iPlanet/Netscape がマルチスレッドの Web サーバーだという事が 
     PHP スクリプトを書く際に重要になります。すべてのリクエストは同一の 
     （Web サーバー自体の）プロセス空間で実行され、そのプロセス空間は 1 つの環境変数しか
     持っていません。<em>PATH_INFO</em> や <em>HTTP_HOST</em>
     CGI 変数を取得する場合、 
     古い PHP で行っていたような方法、つまり <span class="function"><a href="function.getenv.html" class="function">getenv()</a></span> 関数を使用する方法や他の同等な方法
     （グローバル変数の登録機能、 <var class="varname"><var class="varname"><a href="reserved.variables.environment.html" class="classname">$_ENV</a></var></var>  等）を使うのは正しい方法ではありません。
     Web サーバーの環境変数をただ単に取得するだけと、
     正しい CGI 変数は得られないのです。
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <p class="para">
      なぜ正しくない CGI 変数が登録されているのでしょうか？
     </p>
     <p class="para">
      それは、Web サーバーのプロセスを Administration Server から起動させる際、
      Web サーバーの起動スクリプトが CGI スクリプトとして実行されるためです。したがって、
      起動された Web サーバーの環境変数には CGI 変数も含まれることになります。
      Administration Server 以外から Web サーバーを起動してみればこのことをテストできるでしょう。
      ルートユーザーでコマンドラインを使って、手動で起動してみると、CGI 変数らしき
      環境変数が登録されないことが確認できるでしょう。
     </p>
    </p></blockquote>
    <p class="para">
     PHP 4.x のスクリプトで CGI 変数を取得する場合は、スーパーグローバル
     <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var></var> を用いるのが正しい方法です。また、<var class="varname"><var class="varname">$HTTP_HOST</var></var>
     などを使う古いスクリプトを使用する場合は、<var class="filename">php.ini</var> で <em>register_globals</em> 
     をオンにし、変数のパースの順番 (<em>variables_order</em>) を変更してください
     （<em>&quot;E&quot;</em> を削除。環境変数を読み込む必要は無いため。）
     <div class="example-contents">
<div class="cdata"><pre>
variables_order = &quot;GPCS&quot;
register_globals = On
</pre></div>
     </div>

    </p>
   </div>
   
   <div class="sect2" id="install.unix.sun.specialpages">
    <h3 class="title">独自エラーページおよびファイル一覧表示ページ (PHP &gt;= 4.3.3)</h3>
    <p class="para">
     PHP を使って、<em>&quot;404 Not Found&quot;</em> などに対するエラーページを生成することが
     できます。オーバーライドしたいすべてのエラーページ対して、以下の行を
     <var class="filename">obj.conf</var> 中のオブジェクトに追加してください。
     <div class="example-contents">
<div class="cdata"><pre>
Error fn=&quot;php4_execute&quot; code=XXX script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     ここで、<em>XXX</em> は HTTP のエラーコードです。
     追加したものと干渉する <em>Error</em> ディレクティブは削除してください。
     発生するすべてのエラーに対応するページを設定したい場合は、
     <em>code</em> パラメータを省略してください。スクリプトで HTTP ステータス
     コードを取得するには、 <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['ERROR_TYPE']</a></var></var> を使用します。
    </p>
    <p class="para">
     独自のファイル一覧表示ページを PHP を使って生成することも可能です。
     ファイル一覧表示を行う PHP スクリプトを作成し、<var class="filename">obj.conf</var> の
     <em>type=&quot;magnus-internal/directory&quot;</em> の行に
     書かれているデフォルトの <em>Service</em> 行を以下のように置き換えます。
     <div class="example-contents">
<div class="cdata"><pre>
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/directory&quot; script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     エラーページ、ファイル一覧表示ページのいずれでも、元の URI および
     変換後の URI は、それぞれ、<var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_INFO']</a></var></var> および
     <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_TRANSLATED']</a></var></var> に格納されます。
    </p>
   </div>
   
   <div class="sect2" id="install.unix.sun.notes">
    <h3 class="title"><span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> および サブリクエストに関する注意 (PHP &gt;= 4.3.3)</h3>
    <p class="para">
     NSAPI モジュールは、現在、<span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> 関数
     (エイリアス: <span class="function"><a href="function.virtual.html" class="function">virtual()</a></span>) をサポートしており、
     Web サーバーへサブリクエストを行い、結果を Web ページへ挿入することができます。
     ただし、この関数は NSAPI ライブラリの文書化されていない機能を若干使用しています。
     モジュールは、自動的に必要な関数群を探し、可能であればそれらの関数を
     使用ます。もし使用可能でなければ、<span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> 関数は
     使用不可となります。
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <p class="para">
      <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> サポートは「実験的」な機能です。
     </p>
    </p></blockquote>
   </div>   
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114981""></a>
  <div class="note">
   <strong class="user">Lucius Rizzo  Lucius dot Rizzo at Has dot Education</strong>
   <a href="#114981" class="date">09-May-2014 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In case we.je (the originating domain) is dropped, I thought I'd add one that should last longer<br />
<br />
The new URL is: <br />
<br />
<a href="http://our.guru/oracle-iplanet-web-server-running-on-arch-linux-with-php-fpm-hello-speed-meet-kettle/" rel="nofollow" target="_blank">http://our.guru/oracle-iplanet-web-server-running-on-arch-linux-with-php-fpm-hello-speed-meet-kettle/</a><br />
<br />
--<br />
Lucius Rizzo<br />
www.Lucius.Tel</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114179""></a>
  <div class="note">
   <strong class="user">Lucius Rizzo</strong>
   <a href="#114179" class="date">22-Jan-2014 02:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<a href="http://we.je/oracle-iplanet-web-server-running-on-arch-linux-with-php-fpm-hello-speed-meet-kettle/" rel="nofollow" target="_blank">http://we.je/oracle-iplanet-web-server-running-on-arch-linux-with-php-fpm-hello-speed-meet-kettle/</a><br />
<br />
If you are looking to setup Oracle iPlanet Web server using the much more effective option of using php-fpm, please follow the link above to learn how to accomplish this. <br />
<br />
Lucius Rizzo<br />
www.say.si</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82348""></a>
  <div class="note">
   <strong class="user">Brian</strong>
   <a href="#82348" class="date">07-Apr-2008 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For me at least, this part of the second line in the magnus.conf is not optional:<br />
<br />
Init fn="php5_init" LateInit="yes"<br />
<br />
Without it, the web server crashes when trying to execute php files</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79481""></a>
  <div class="note">
   <strong class="user">yairl at savion dot huji dot ac dot il</strong>
   <a href="#79481" class="date">29-Nov-2007 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For installation instruction for the new Sun One 7 webserver you must read the following doc. PHP 5.2.X will work fine, old version needs some changes.<br />
<br />
<a href="http://developers.sun.com/webtier/reference/techart/php2.html" rel="nofollow" target="_blank">http://developers.sun.com/webtier/reference/techart/php2.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63665""></a>
  <div class="note">
   <strong class="user">ericbackstrom at hotmail dot com</strong>
   <a href="#63665" class="date">28-Mar-2006 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using gcc 3.3 I had problems compiling PHP for 64 bits, I had to replace mysql/64 bits with mysql/32 bits (Solaris cannot mix 32 bits and 64 bits libraries), so I specified the following compiler flag:<br />
<br />
CFLAGS="-m32";export CFLAGS; <br />
<br />
I also had problems with PHP 5.1.2 in sapi/nsapi/nsapi.c source code, It had incorrect comments and file paths :S<br />
<br />
When trying to install PHP with mysql support I found I had these problems too: <a href="http://bugs.php.net/bug.php?id=34516... So don" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=34516... So don</a>'t mix sun ld and gcc ld because you will get into troubles. I built mysql libraries myself in a separated directory.<br />
<br />
And don't forget to set your LD_LIBRARY_PATH to something like:<br />
<br />
LD_LIBRARY_PATH="/usr/local/lib:/usr/lib"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63098""></a>
  <div class="note">
   <strong class="user">vijay</strong>
   <a href="#63098" class="date">13-Mar-2006 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If I start my iPlanet (v6.0 SP2) webserver with PHP5.1.2 i get this message every 1/2 sec in my error log....<br />
<br />
[12/Mar/2006:11:01:48] failure (15936): Failed to read kernel statistics structures (No such device or address)<br />
<br />
This happens only if I start my server loading PHP module. FYI - When I configured my php I had it use oracle instant client libraries. <br />
<br />
One fix I found was to comment out this line in my magnus.conf file.<br />
<br />
#Init fn="stats-init" profiling="on"<br />
<br />
But I don't think i can do this on my prodcution machine. Any ideas to come around this issue?<br />
<br />
Thanks<br />
Vijay</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47624""></a>
  <div class="note">
   <strong class="user">jedokahn at yahoo dot com at </strong>
   <a href="#47624" class="date">23-Nov-2004 09:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I noted and installed *all* pkgs required to compile PHP5 but kept getting an error on compile when it attempted to test the gcc compiler. The /usr/ccs/bin and all the $PATH requirements were ALL there....why the error? I tried running gcc from the command prompt and got a "gcc: fatal: libiconv.so.2: open failed: "....DUH I needed to install the libiconv pkg from sunfreeware.com for gcc compiler to work. Just a small bonehead maneuver, but I thought I would add it just in case someone else ran into the particular problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45030""></a>
  <div class="note">
   <strong class="user">masochisthalo at yahoo dot com</strong>
   <a href="#45030" class="date">23-Aug-2004 11:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Title: Barebones PHP Installation on Sun One Web Server 6.1 for JDS2<br />
Author: Hijinio Reynoso Jr.<br />
Last Updated: August 23, 2004<br />
Summary: If you have installed Sun One Web Server 6.1 on the JDS (aka Java Desktop System from Sun), this will help you get PHP installed on it (without XML and MySQL support.)&nbsp; In any case, this should get you started which is better than not having it installed at all.&nbsp; These directions were based mainly on those available from PHP.net, but updated to meet the needs of this specific configuration.<br />
<br />
Instructions <br />
----------------------------<br />
0. Make sure your web server isn't running and ensure that all JDS developer packages are installed; to be safe, I always ensure that all developer packages are available via Applications &gt; System Tools &gt; Administration &gt; Software Installer<br />
<br />
1. Download <a href="http://us3.php.net/get/php-5.0.1.tar.bz2/from/a/mirror and extract into the directory of your choice. (5.0.1 was the only version I could get to make install correctly" rel="nofollow" target="_blank">http://us3.php.net/get/php-5.0.1.tar.bz2/from/a/mirror and extract into the directory of your choice. (5.0.1 was the only version I could get to make install correctly</a>)<br />
<br />
2. CD into the extracted PHP directory and type:<br />
&gt; ./configure --with-nsapi=/opt/SUNWwbsvr --enable-libgcc --disable-libxml<br />
(Your web server directory may vary from the above's default.)<br />
<br />
3. Once it's done configuring (and it should be successful should you have all the proper packages), type:<br />
&gt; make<br />
<br />
4. When its done compiling, it's time to install as root:<br />
# make install <br />
<br />
5. Now, configuration of your web server begins:<br />
# cd /opt/SUNWwbsvr/https-[yourWebServer]/config<br />
<br />
6. vi mime.types (or other editor) to add this line into it:<br />
type=magnus-internal/x-httpd-php exts=php<br />
<br />
7. vi magnus.conf to add the following 2 lines to end of it:&nbsp; (NOTE: the 2nd line could be optional)<br />
Init fn="load-modules" funcs="php5_init,php5_execute,php5_auth_trans" shlib="/opt/SUNWwbsvr/bin/libphp5.so"<br />
Init fn="php5_init" LateInit="yes" errorString="Failed to initialize PHP!" [php_ini="/path/to/php.ini"]<br />
<br />
8. vi obj.conf to add the following line to &lt;Object name="default"&gt;. Make sure this happens after all "ObjectType" entries and before any "AddLog" entries:&nbsp; (NOTE: for virtual servers, edit vserver.obj.conf)<br />
Service fn="php5_execute" type="magnus-internal/x-httpd-php" [inikey=value inikey=value ...]<br />
<br />
9. Now, start up your web server.&nbsp; Also, make sure to log into the admin server and click the "Apply" button in there.&nbsp; You will also have set "index.php" as an index filename in your virtual server's Document Preferences.<br />
<br />
10. Congrats!&nbsp; Now, you have PHP installed!&nbsp; Of course, there are other features you could enable (MySQL, XML, etc.), but I haven't tested against those.&nbsp; Just consult the following page for hints: <a href="http://www.php.net/manual/en/install.unix.sun.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/install.unix.sun.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44896""></a>
  <div class="note">
   <strong class="user">mark at markround dot com</strong>
   <a href="#44896" class="date">19-Aug-2004 06:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quick note : By replacing "php4" with "php5", the above instructions work perfectly when building PHP5 for an iPlanet server. EG:-<br />
<br />
Init fn="load-modules" funcs="php5_init,php5_execute,php5_auth_trans" etc.<br />
<br />
Works fine here on 6.0SP2, Solaris 9 Sparc.<br />
<br />
-Mark<br />
[mark at markround dot com]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
