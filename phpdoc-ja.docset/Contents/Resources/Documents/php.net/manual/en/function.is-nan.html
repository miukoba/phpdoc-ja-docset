<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>値が数値でないかどうかを判定する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.is-infinite.html">≪ is_infinite</a></li>
      <li style="float: right;"><a href="function.lcg-value.html">lcg_value ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.math.html">Math 関数</a></li>
    <li>値が数値でないかどうかを判定する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.is-nan" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">is_nan</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">is_nan</span> &mdash; <span class="dc-title">値が数値でないかどうかを判定する</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.is-nan-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>is_nan</strong></span>
    ( <span class="methodparam"><span class="type">float</span> <code class="parameter">$val</code></span>
   )</div>

  <p class="para rdfs-comment">
   <code class="parameter">val</code> が &#039;非数値 (not a number)&#039;
   であるかどうかを調べます。たとえば
   <em>acos(1.01)</em> の結果などがこれにあたります。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.is-nan-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">val</code></dt>

     <dd>

      <p class="para">
       調べる値。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.is-nan-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <code class="parameter">val</code> が &#039;非数値 (not a number)&#039;
   の場合に <strong><code>TRUE</code></strong>、そうでない場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.is-nan-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-3558">
    <p><strong>例1 <span class="function"><strong>is_nan()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;無効な計算なので、<br />//&nbsp;NaN&nbsp;値を返します<br /></span><span style="color: #0000BB">$nan&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">acos</span><span style="color: #007700">(</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$nan</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">is_nan</span><span style="color: #007700">(</span><span style="color: #0000BB">$nan</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
float(NAN)
bool(true)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.is-nan-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-finite.html" class="function" rel="rdfs-seeAlso">is_finite()</a> - 値が有限の数値であるかどうかを判定する</span></li>
    <li class="member"><span class="function"><a href="function.is-infinite.html" class="function" rel="rdfs-seeAlso">is_infinite()</a> - 値が無限大であるかどうかを判定する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107929""></a>
  <div class="note">
   <strong class="user">modern dot apocalypse at gmail dot com</strong>
   <a href="#107929" class="date">15-Mar-2012 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have decided to do some testing because I am getting unusual results with the is_nan function and here are the results of my tests:<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">NAN</span><span class="keyword">); </span><span class="comment">// float NAN<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">== </span><span class="default">NAN</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">=== </span><span class="default">NAN</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_nan</span><span class="keyword">(</span><span class="default">NAN</span><span class="keyword">)); </span><span class="comment">// boolean true<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">== </span><span class="default">12</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">=== </span><span class="default">12</span><span class="keyword">); </span><span class="comment">// boolean false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_nan</span><span class="keyword">(</span><span class="default">12</span><span class="keyword">)); </span><span class="comment">// boolean false<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">== </span><span class="default">12.4</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">=== </span><span class="default">12.4</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_nan</span><span class="keyword">(</span><span class="default">12.4</span><span class="keyword">)); </span><span class="comment">// boolean false<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">== </span><span class="default">NULL</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">=== </span><span class="default">NULL</span><span class="keyword">); </span><span class="comment">// boolean false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_nan</span><span class="keyword">(</span><span class="default">NULL</span><span class="keyword">)); </span><span class="comment">// boolean false<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">== </span><span class="string">'K&lt;WNPO'</span><span class="keyword">); </span><span class="comment">// boolean true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NAN </span><span class="keyword">=== </span><span class="string">'K&lt;WNPO'</span><span class="keyword">); </span><span class="comment">// boolean false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_nan</span><span class="keyword">(</span><span class="string">'K&lt;WNPO'</span><span class="keyword">)); </span><span class="comment">// null and throws a warning "Warning: is_nan() expects parameter 1 to be double, string given in NANTest.php on line 13"</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97330""></a>
  <div class="note">
   <strong class="user">php at keith tyler dot com</strong>
   <a href="#97330" class="date">15-Apr-2010 01:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems odd to me, but in boolean context, NAN evalutes to true. <br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">acos</span><span class="keyword">(</span><span class="default">8</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">((bool)</span><span class="default">acos</span><span class="keyword">(</span><span class="default">8</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Returns:<br />
<br />
float(NAN)<br />
bool(true)<br />
<br />
Incidentally INF and -INF also evaluate to true.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92076""></a>
  <div class="note">
   <strong class="user">J.K.</strong>
   <a href="#92076" class="date">08-Jul-2009 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For seeing whether or not something is a number, use ctype_digit().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62504""></a>
  <div class="note">
   <strong class="user">darkangel at moveinmod dot net</strong>
   <a href="#62504" class="date">02-Mar-2006 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
nan/"not a number" is not meant to see if the data type is numeric/textual/etc..<br />
<br />
NaN is actually a set of values which can be stored in floating-point variables, but dont actually evaluate to a proper floating point number.<br />
<br />
The floating point system has three sections: 1 bit for the sign (+/-), an 8 bit exponent, and a 23 bit fractional part.<br />
There are rules governing which combinations of values can be placed into each section, and some values are reserved for numbers such as infinity. This leads to certain combinations being invalid, or in other words, not a number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50295""></a>
  <div class="note">
   <strong class="user">Vincent</strong>
   <a href="#50295" class="date">24-Feb-2005 03:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since NaN is not even equal to itself, here is a way to test it:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">my_is_nan</span><span class="keyword">(</span><span class="default">$_</span><span class="keyword">) {<br />
return (</span><span class="default">$_ </span><span class="keyword">!== </span><span class="default">$_</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
