<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>指定したデータベースに対してクエリを実行し、結果ハンドル
  を返す</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sqlite-prev.html">≪ sqlite_prev</a></li>
      <li style="float: right;"><a href="function.sqlite-rewind.html">sqlite_rewind ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sqlite.html">SQLite 関数</a></li>
    <li>指定したデータベースに対してクエリを実行し、結果ハンドル
  を返す</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sqlite-query" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlite_query</h1>
  <h1 class="refname">SQLiteDatabase::query</h1>
  <p class="verinfo">(PHP 5 &lt; 5.4.0, PECL sqlite &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">sqlite_query</span> -- <span class="refname">SQLiteDatabase::query</span> &mdash; <span class="dc-title">指定したデータベースに対してクエリを実行し、結果ハンドル
  を返す</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.sqlite-query-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>sqlite_query</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$dbhandle</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$query</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_type</code><span class="initializer"> = SQLITE_BOTH</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_msg</code></span>
  ]] )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>sqlite_query</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$query</code></span>
   , <span class="methodparam"><span class="type">resource</span> <code class="parameter">$dbhandle</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_type</code><span class="initializer"> = SQLITE_BOTH</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_msg</code></span>
  ]] )</div>

  <p class="para rdfs-comment">オブジェクト指向型 (メソッド):</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type"><span class="type SQLiteResult">SQLiteResult</span></span> <span class="methodname"><strong>SQLiteDatabase::query</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$query</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_type</code><span class="initializer"> = SQLITE_BOTH</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_msg</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   指定したデータベースにより <code class="parameter">query</code> で指定した
   SQL ステートメントを実行します。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sqlite-query-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">dbhandle</code></dt>

     <dd>

      <p class="para">
       SQLite データベースリソース。手続きに従って、
       <span class="function"><a href="function.sqlite-open.html" class="function">sqlite_open()</a></span> から返されます。
       このパラメータは、
       オブジェクト指向言語型メソッドを使用する場合は不要です。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">query</code></dt>

     <dd>

      <p class="para">
       実行するクエリ
      </p>
      <p class="para">
       クエリ内のデータは <a href="function.sqlite-escape-string.html" class="link">適切にエスケープ</a>
       する必要があります。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">result_type</code></dt>

     <dd>

      <p class="para">オプションの <code class="parameter">result_type</code>
パラメータには定数を指定でき、返される配列の添字を定義します。
<strong><code>SQLITE_ASSOC</code></strong> を用いると、連想配列の添字(名前フィールド)のみが
返されます。一方、<strong><code>SQLITE_NUM</code></strong> は、
数値の添字(フィールド番号)のみを返します。<strong><code>SQLITE_BOTH</code></strong> は、
連想配列の添字と数値の添字の両方を返します。
<strong><code>SQLITE_BOTH</code></strong> がこの関数のデフォルトです。</p>
     </dd>

    
    
     <dt>
<code class="parameter">error_msg</code></dt>

     <dd>

      <p class="para">
       もしエラーが発生した場合、ここに保存されます。SQL 構文のエラーは
       <span class="function"><a href="function.sqlite-last-error.html" class="function">sqlite_last_error()</a></span> 関数で取得することが
       できないため、このパラメータが特に重要となります。
      </p>
     </dd>

    

   </dl>

  </p>
  <blockquote class="note"><p><strong class="note">注意</strong>: <span class="simpara">
(MySQL のような)他のデータベースエクステンションとの互換性のため、
2 種類の構文がサポートされています。
推奨されるのは最初の構文で、<code class="parameter">dbhandle</code> パラメータを
関数の最初のパラメータとするものです。</span></p></blockquote>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sqlite-query-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   この関数は結果ハンドルを返します。失敗した場合に <strong><code>FALSE</code></strong> を返します。
   レコードを返すクエリの場合、結果ハンドルは
   <span class="function"><a href="function.sqlite-fetch-array.html" class="function">sqlite_fetch_array()</a></span> や
   <span class="function"><a href="function.sqlite-seek.html" class="function">sqlite_seek()</a></span> のような関数で使用することができます。
  </p>
  <p class="para">
   クエリの型によらず、この関数はクエリが失敗した場合に<strong><code>FALSE</code></strong> を返し
   ます。
  </p>
  <p class="para">
   <span class="function"><strong>sqlite_query()</strong></span> は、バッファリングされ、シーク可
   能な結果ハンドルを返します。これは、レコードにランダムにアクセスす
   る必要がある小さなクエリの場合に有用です。バッファリングされた結果
   ハンドルは、結果全体を保持するためのメモリを確保し、結果が取得され
   るまでは値を返しません。
   データに連続的にアクセスしたい場合、かわりにより高性能な
   <span class="function"><a href="function.sqlite-unbuffered-query.html" class="function">sqlite_unbuffered_query()</a></span> を使用することが
   推奨されます。
  </p>
 </div>


<div class="refsect1 changelog" id="refsect1-function.sqlite-query-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.1.0</td>
       <td>
        <code class="parameter">error_msg</code> パラメータが追加されました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.sqlite-query-notes">
  <h3 class="title">注意</h3>
  <div class="warning"><strong class="warning">警告</strong>
   <p class="simpara">
    SQLiteは、セミコロンで区切られた複数のクエリを実行します。
    これにより、ファイルからロードするかスクリプトに埋め込んだ SQL
    をバッチ実行することができます。
    しかしながら、これは関数の結果が使用されない場合のみ動作します。
    使用されない場合、最初の SQL ステートメントのみ実行されます。
    関数 <span class="function"><a href="function.sqlite-exec.html" class="function">sqlite_exec()</a></span> は常に複数の SQL
    ステートメントを実行します。
   </p>
   <p class="simpara">
    複数のクエリを実行する際、この関数の返り値は、エラーの場合に
    <strong><code>FALSE</code></strong>となります。しかし、それ以外の場合は不定となります。
    (成功した場合に<strong><code>TRUE</code></strong>となるか、結果ハンドルを返す可能性があります)
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sqlite-query-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sqlite-unbuffered-query.html" class="function" rel="rdfs-seeAlso">sqlite_unbuffered_query()</a> - 事前取得していないクエリを実行し、全てのデータをバッファリングする</span></li>
    <li class="member"><span class="function"><a href="function.sqlite-array-query.html" class="function" rel="rdfs-seeAlso">sqlite_array_query()</a> - 指定したデータベースに対してクエリを実行し、配列を返す</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107192""></a>
  <div class="note">
   <strong class="user">glenn at byte-consult dot be</strong>
   <a href="#107192" class="date">13-Jan-2012 02:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Not a lot of examples on using the oo style of using sqlite files.&nbsp; Maybe this helps someone trying to figure out all the names of the tables inside an sqlite file.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/* Just extend the class, add our method */<br />
</span><span class="keyword">class </span><span class="default">MySQLiteDatabase </span><span class="keyword">extends </span><span class="default">SQLiteDatabase </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp; </span><span class="comment">/* A neat way to see which tables are inside a valid sqlite file */<br />
&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getTables</span><span class="keyword">()&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$tables</span><span class="keyword">=array();<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name"</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">fetchAll</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$result </span><span class="keyword">as </span><span class="default">$tot_table</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tables</span><span class="keyword">[]=</span><span class="default">$tot_table</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(</span><span class="default">$tables</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">/* a sqlite file */<br />
</span><span class="default">$database</span><span class="keyword">=</span><span class="string">"BLAHBLAH.sqlite"</span><span class="keyword">;<br />
<br />
if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$database</span><span class="keyword">)) {<br />
&nbsp;&nbsp; </span><span class="default">$db </span><span class="keyword">= new </span><span class="default">MySQLiteDatabase</span><span class="keyword">(</span><span class="default">$database</span><span class="keyword">, </span><span class="default">0666</span><span class="keyword">, </span><span class="default">$err</span><span class="keyword">);<br />
&nbsp;&nbsp; if (</span><span class="default">$err</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$err</span><span class="keyword">);<br />
&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">getTables</span><span class="keyword">());<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">/* this sqlite db had 2 tables:<br />
&nbsp;&nbsp; Array<br />
&nbsp;&nbsp; (<br />
&nbsp;&nbsp; [0] =&gt; Account<br />
&nbsp;&nbsp; [1] =&gt; Device<br />
&nbsp;&nbsp; )<br />
<br />
&nbsp;*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92714""></a>
  <div class="note">
   <strong class="user">bruce at causal dot com</strong>
   <a href="#92714" class="date">05-Aug-2009 08:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In follow up to Csaba Gabor's function (see below) that allows for multi-statement queries to be executed via sqlite_query() this alternative implementation avoids a problem with Csaba's version (which prevents multi-statement constructs like CREATE TRIGGER from being parsed correctly).<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">sqlite_query_multi </span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">, </span><span class="default">$query</span><span class="keyword">) { <br />
&nbsp;</span><span class="comment">//<br />
&nbsp;// sqlite_query() rewritten to support concatenated SQL statements.<br />
&nbsp;//<br />
&nbsp;// This method works around the sqlite_query() deficiency by splitting<br />
&nbsp;// queries into two parts; the first part comprising all the statements<br />
&nbsp;// except the last one (executed via sqlite_exec) and then the last<br />
&nbsp;// statement (executed via sqlite_query).<br />
&nbsp;//<br />
&nbsp;// This allows the result of the last SELECT statement in a multi-statement<br />
&nbsp;// query to be accessed regardless of the SQL statements that came before it. <br />
&nbsp;// It also allows execution of arbitrary multi-statement programs regardless<br />
&nbsp;// whether the result is needed, subject to the following constraint:<br />
&nbsp;//<br />
&nbsp;// This method requires that the last statement in a multi-statement query<br />
&nbsp;// is a valid "stand-alone" SQL statement. If it is not (eg, the "END;" of<br />
&nbsp;// a multi-statement construct such as CREATE TRIGGER) append an additional<br />
&nbsp;// ";" (ie, a NULL statement). Normally this should not be needed because<br />
&nbsp;// almost all the multi-statement constructs I can think of should have a<br />
&nbsp;// stand-alone statement following them (ie, to makes use of the construct).<br />
&nbsp;//<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">'/^(.*;)(.*;)/s'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">preg_match</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">,</span><span class="default">$query</span><span class="keyword">,</span><span class="default">$match</span><span class="keyword">) ) { <br />
&nbsp;&nbsp; &nbsp; </span><span class="comment">// multi-statement query<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">sqlite_exec</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$match</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">sqlite_query</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$match</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; </span><span class="comment">// single-statement query<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">sqlite_query</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (@</span><span class="default">$result</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80874""></a>
  <div class="note">
   <strong class="user">helmakil at gmail dot com</strong>
   <a href="#80874" class="date">05-Feb-2008 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I suppose this could be useful for users attempting to use a sqlite database for the first time.<br />
<span class="default">&lt;?php<br />
$database </span><span class="keyword">= new </span><span class="default">SQLiteDatabase</span><span class="keyword">(</span><span class="default">$yourfile</span><span class="keyword">, </span><span class="default">0666</span><span class="keyword">, </span><span class="default">$error</span><span class="keyword">);<br />
if (!</span><span class="default">$database</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$error </span><span class="keyword">= (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$yourfile</span><span class="keyword">)) ? </span><span class="string">"Impossible to open, check permissions" </span><span class="keyword">: </span><span class="string">"Impossible to create, check permissions"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="default">$error</span><span class="keyword">);<br />
}<br />
</span><span class="default">$query </span><span class="keyword">= </span><span class="default">$database</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT name FROM sqlite_master WHERE type='table'"</span><span class="keyword">, </span><span class="default">SQLITE_ASSOC</span><span class="keyword">, </span><span class="default">$query_error</span><span class="keyword">); </span><span class="comment">#Lists all tables<br />
</span><span class="keyword">if (</span><span class="default">$query_error</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="string">"Error: </span><span class="default">$query_error</span><span class="string">"</span><span class="keyword">); </span><span class="comment">#This means that most probably we catch a syntax error<br />
</span><span class="keyword">if (!</span><span class="default">$query</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="string">"Impossible to execute query."</span><span class="keyword">) </span><span class="comment">#As reported above, this means that the db owner is different from the web server's one, but we did not commit any syntax mistake.<br />
</span><span class="keyword">print </span><span class="default">$query</span><span class="keyword">-&gt;</span><span class="default">numRows</span><span class="keyword">();<br />
while (</span><span class="default">$row </span><span class="keyword">= </span><span class="default">$query</span><span class="keyword">-&gt;</span><span class="default">fetch</span><span class="keyword">())<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="default">$row</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">].</span><span class="string">"\n"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>i suppose that the example above is also useful because it will list all the tables created, giving also comprehension of what appens when managing a sqlite database in OO mode.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58208""></a>
  <div class="note">
   <strong class="user">jason at fatpipeinc dot com</strong>
   <a href="#58208" class="date">27-Oct-2005 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Correction:<br />
<br />
sqlite_query will return NULL if the web server cannot write to the sqlite database file.<br />
<br />
(please correct the previous post and delete this one)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58108""></a>
  <div class="note">
   <strong class="user">jason at fatpipeinc dot com</strong>
   <a href="#58108" class="date">24-Oct-2005 06:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
sqlite_open will return NULL if the web server cannot write to the sqlite database file.<br />
<br />
I saw the following message in my web server error log:<br />
<br />
PHP Warning:&nbsp; sqlite_query(): (null) ...<br />
<br />
It turns out that the sqlite database file was owned by a user other than the one the web server was running as.&nbsp; In my case, it was a Linux system running Apache (which was running under the context of user apache).&nbsp; The sqlite database file was owned by root.&nbsp; I changed ownership of the file to user apache and now it works!&nbsp; The sqlite_open call now returns a valid result handle.<br />
<br />
Jason Aeschilman</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46268""></a>
  <div class="note">
   
   <a href="#46268" class="date">05-Oct-2004 10:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While reading the manual at sqlite.org, I can answer for the quotes in strings. You should put two quote to get one. <br />
<br />
insert into atable values ( '5 O''Clock');</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42027""></a>
  <div class="note">
   <strong class="user">csaba at alum dot mit dot edu</strong>
   <a href="#42027" class="date">30-Apr-2004 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function below allows you to submit multiple queries in one shot to a SQLITE database, and will return whatever you would get for the final query.<br />
<br />
function sqlite_query_multi ($db, $query) {<br />
&nbsp;&nbsp;&nbsp; // submit multiple queries (separated by ;) to $db<br />
&nbsp;&nbsp;&nbsp; // and return the result from the last one<br />
&nbsp;&nbsp;&nbsp; $multiSQL = "/('[^']*'|\"[^\"]*\"|[^;'\"])*;/";<br />
&nbsp;&nbsp;&nbsp; preg_match_all ($multiSQL, "$query;", $aSQL);<br />
&nbsp;&nbsp;&nbsp; for ($i=sizeof($aSQL=$aSQL[0]);$i--;)<br />
&nbsp;&nbsp;&nbsp; if (!($trim=trim(substr($aSQL[$i],0,-1))))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset ($aSQL[$i]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else $aSQL[$i] = "$trim;";<br />
&nbsp;&nbsp;&nbsp; foreach ($aSQL as $i =&gt; $sql)<br />
&nbsp;&nbsp;&nbsp; $dbRes = sqlite_query ($db, $sql);<br />
&nbsp;&nbsp;&nbsp; return (@$dbRes);<br />
}<br />
<br />
The section below illustrates the above function:<br />
<br />
$db = sqlite_open(":memory:", 0666, $sqliteerror);<br />
$query = &lt;&lt;&lt;EOD<br />
CREATE TABLE foo (bar INTEGER PRIMARY KEY, baz TEXT);<br />
INSERT INTO foo VALUES (Null, 'Hi');<br />
INSERT INTO foo VALUES (Null, 'Mom');<br />
SELECT * FROM foo;<br />
EOD;<br />
$dbRes = sqlite_query_multi ($db, $query);&nbsp; // 4 statements<br />
while (sqlite_has_more($dbRes))<br />
&nbsp;&nbsp;&nbsp; var_dump(sqlite_fetch_array($dbRes, SQLITE_ASSOC));<br />
<br />
Csaba Gabor</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
