<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>実行時設定</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ibm-db2.installation.html">≪ インストール手順</a></li>
      <li style="float: right;"><a href="ibm-db2.resources.html">リソース型 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ibm-db2.setup.html">インストール/設定</a></li>
    <li>実行時設定</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ibm-db2.configuration" class="section">
 <h2 class="title">実行時設定</h2>
 <p class="simpara">
<var class="filename">php.ini</var> の設定により動作が変化します。
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>ibm_db2 設定オプション</strong></caption>
   
    <thead>
     <tr>
      <th>名前</th>
      <th>デフォルト</th>
      <th>変更可能</th>
      <th>変更履歴</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.binmode" class="link">ibm_db2.binmode</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.i5-all-pconnect" class="link">ibm_db2.i5_all_pconnect</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>ibm_db2 1.6.5 以降で利用可能。</td>
     </tr>
     
     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.i5-allow-commit" class="link">ibm_db2.i5_allow_commit</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>ibm_db2 1.4.9 以降で利用可能。</td>
     </tr>

     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.i5-dbcs-alloc" class="link">ibm_db2.i5_dbcs_alloc</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>ibm_db2 1.5.0 以降で利用可能。</td>
     </tr>

     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.instance-name" class="link">ibm_db2.instance_name</a></td>
      <td>NULL</td>
      <td>PHP_INI_SYSTEM</td>
      <td>ibm_db2 1.0.2 以降で利用可能。</td>
     </tr>

     <tr>
      <td><a href="ibm-db2.configuration.html#ini.ibm-db2.i5-ignore-userid" class="link">ibm_db2.i5_ignore_userid</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>ibm_db2 1.8.0 以降で利用可能。</td>
     </tr>

    </tbody>
   
  </table>


 </p>
 
 <p class="para">以下に設定ディレクティブに関する
簡単な説明を示します。</p>
 
 <p class="para">
  <dl>

   
    <dt id="ini.ibm-db2.binmode">
     <code class="parameter">ibm_db2.binmode</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      このオプションは、バイナリデータを PHP アプリケーションで
      使用する際のモードを制御します。
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         1 (DB2_BINARY)
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         2 (DB2_CONVERT)
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         3 (DB2_PASSTHRU)
        </p>
       </li>
      </ul>
     </p>
    </dd>

   
   
    <dt id="ini.ibm-db2.i5-all-pconnect">
     <code class="parameter">ibm_db2.i5_all_pconnect</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      このオプションは、PHP アプリケーションにおける
      i5 <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> のオープンおよびクローズをオーバーライドします。
      <code class="parameter">ibm_db2.i5_all_pconnect</code> = 1 の場合は、すべての db2 接続が持続的なもの
      (<span class="function"><a href="function.db2-pconnect.html" class="function">db2_pconnect()</a></span>) となります。i5/OS 上での <span class="function"><a href="function.db2-pconnect.html" class="function">db2_pconnect()</a></span> は、
      <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> よりはるかによいパフォーマンスを提供します。
      このオプションは、PHP のソースコードを変更せずに
      <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> を <span class="function"><a href="function.db2-pconnect.html" class="function">db2_pconnect()</a></span>
      として動作させられるので便利です。
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         0 <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> のデフォルトのオープンおよびクローズです。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         1 <span class="function"><a href="function.db2-connect.html" class="function">db2_connect()</a></span> は <span class="function"><a href="function.db2-pconnect.html" class="function">db2_pconnect()</a></span>
         でオーバーライドされ、持続的な接続のみを使用します。
        </p>
       </li>
      </ul>
     </p>
    </dd>

      
   
    <dt id="ini.ibm-db2.i5-allow-commit">
     <code class="parameter">ibm_db2.i5_allow_commit</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      このオプションは、i5 スキーマコレクションで使用するコミットモードを
      PHP アプリケーションで使用する際のモードを制御します。
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         0 はコミットしません (オーバーライドについては <code class="parameter">i5_commit</code> を参照ください)。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         1 はコミットを許可します (オーバーライドについては <code class="parameter">i5_commit</code> を参照ください)。
        </p>
       </li>
      </ul>
     </p>
    </dd>

   
   
    <dt id="ini.ibm-db2.i5-dbcs-alloc">
     <code class="parameter">ibm_db2.i5_dbcs_alloc</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      このオプションは、ラージ DBCS カラムバッファ用の内部 ibm_db2
      アロケーションスキームを制御します。
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         0 は拡張アロケーションを使用しません (オーバーライドについては <code class="parameter">i5_dbcs_alloc</code> を参照ください)。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         1 は拡張アロケーションを使用します (オーバーライドについては <code class="parameter">i5_dbcs_alloc</code> を参照ください)。
        </p>
       </li>
      </ul>
     </p>
    </dd>

   
   
    <dt id="ini.ibm-db2.instance-name">
     <code class="parameter">ibm_db2.instance_name</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Linux および UNIX では、カタログデータベースへの接続に使用する
      インスタンス名をこのオプションで指定します。
      このオプションは、環境変数 DB2INSTANCE
      の設定を上書きします。
     </p>
     <p class="para">
      Windows では、このオプションは無視されます。
     </p>
    </dd>

   
   
    <dt id="ini.ibm-db2.i5-ignore-userid">
     <code class="parameter">ibm_db2.i5_ignore_userid</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      このオプションは、PHP アプリケーション内での
      i5 db2_(p)connect のユーザー ID とパスワードをオーバーライドします。
      <code class="parameter">ibm_db2.i5_ignore_userid</code> = 1 の場合は、
      すべての db2 (p)connections がユーザー ID とパスワードに null を使用するようになります。
      したがって、Apache のジョブは現在のプロファイル (NOBODY) で接続するようになります。
      このオーバーライドを使用するのは、シンプルな DB2 ベースのウェブサイトで
      プロファイルの切り替えが不要な場合のみです。これを使用すると、
      サーバーモードで追加の QSQSRVR ジョブを行うオーバーヘッドを回避できます。
      これは、db2_(p)connect でユーザー ID とパスワードに null 値を設定するという作業を
      PHP のソースコードを変更することなしに行えるようにするものです。
      このオーバーライドは <code class="parameter">ibm_db2.i5_all_pconnect</code> = 1
      でも使用することができます。
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         0 db2_(p)connect で、指定したユーザー ID とパスワードで接続します。
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         1 db2_(p)connect は、ユーザー ID とパスワードを null でオーバーライドします。
        </p>
       </li>
      </ul>
     </p>
    </dd>

   
  </dl>

 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="110932""></a>
  <div class="note">
   <strong class="user">Satoru Yoshida</strong>
   <a href="#110932" class="date">26-Dec-2012 10:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The explanation of ibm_db2.i5_allow_commit seems to be slightly difficult to understand for me.<br />
<br />
I think it would be better to replace "no commit" with "can not use commitment control" or "do not allow transaction", and "allow commit" would be changed into <br />
"can use commitment control" or "allow transaction" , Thanks.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102586""></a>
  <div class="note">
   <strong class="user">yoshida at zend dot co dot jp</strong>
   <a href="#102586" class="date">23-Feb-2011 04:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The explanation of ibm_db2.i5_dbcs_alloc seems to be hard to understand for me.<br />
<br />
In ibm_db2 extension inside, 6 times length of string column is allocated if i5_dbcs_alloc value is 1.<br />
The allocated area is used for conversion between UTF-8 and EBCDIC character encodings.<br />
<br />
By the definition of UTF-8, letter length can need 6 bytes at the maximum.<br />
<br />
Note:<br />
In the case of a long column, allocated size may be beyond the upper limit defined in DB2 because original column is made by 6 times.&nbsp; It can cause result data becomes null.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
