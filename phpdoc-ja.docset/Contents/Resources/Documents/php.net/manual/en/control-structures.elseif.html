<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>elseif/else if</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="control-structures.else.html">≪ else</a></li>
      <li style="float: right;"><a href="control-structures.alternative-syntax.html">制御構造に関する別の構文 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.control-structures.html">制御構造</a></li>
    <li>elseif/else if</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="control-structures.elseif" class="sect1">
 <h2 class="title"><em>elseif</em>/<em>else if</em></h2>
 <p class="verinfo">(PHP 4, PHP 5)</p>
 <p class="para">
  <em>elseif</em>は、その名前から分かるように、<em>if</em>
  と<em>else</em>の組み合わせです。<em>elseif</em>は、
  <em>else</em>のように、元の<em>if</em>式の値が
  <strong><code>FALSE</code></strong>の場合に別の文を実行するように<em>if</em>
  文を拡張します。
  しかし、<em>else</em>とは異なり、<em>elseif</em>式が
  <strong><code>TRUE</code></strong>の場合にのみ代わりの式を実行します。
  例えば、次のコードは、<span class="computeroutput">aはbより大きい</span>、
  <span class="computeroutput">aはbに等しい</span>、
  <span class="computeroutput">aはbより小さい</span>を出力します。
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"aはbより大きい"</span><span style="color: #007700">;<br />}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"aはbと等しい"</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"aはbより小さい"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="simpara">
  複数の <em>elseif</em> を同じ <em>if</em>
  文の中で使用することができます。
  <strong><code>TRUE</code></strong> と評価された最初の <em>elseif</em>
  式を実行します。PHP では、(単語二つで)&#039;else if&#039;と書くこともできます。
  動作は(一単語の) &#039;elseif&#039;と同じです。文法的な意味はやや異なっています
  (あなたが C 言語に詳しいとすると、C 言語のそれと同じ動作です)。
  しかし、最終的な両者の動作は全く同じです。
 </p>
 <p class="simpara">
  <em>elseif</em> 文は、前にある全ての <em>if</em> 文と
  <em>elseif</em> の値が <strong><code>FALSE</code></strong> であり、
  現在の <em>elseif</em> 式の値が <strong><code>TRUE</code></strong>
  である場合にのみ実行されます。
 </p>
 <blockquote class="note"><p><strong class="note">注意</strong>: 
  <span class="simpara">
   上の例のように波括弧を使用する限り、
   <em>elseif</em> と <em>else if</em>
   はまったく同じだと考えてよいことに注意しましょう。コロンを使って
   <em>if</em>/<em>elseif</em> 条件を指定する場合は、
   <em>else if</em> のように分割してはいけません。
   分割すると、パースエラーとなってしまいます。
  </span>
 </p></blockquote>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;間違った方法&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"&nbsp;is&nbsp;greater&nbsp;than&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />else&nbsp;if(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">):&nbsp;</span><span style="color: #FF8000">//&nbsp;コンパイル不能<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;above&nbsp;line&nbsp;causes&nbsp;a&nbsp;parse&nbsp;error."</span><span style="color: #007700">;<br />endif;<br /><br /><br /></span><span style="color: #FF8000">/*&nbsp;正しい方法&nbsp;*/<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"&nbsp;is&nbsp;greater&nbsp;than&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />elseif(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">):&nbsp;</span><span style="color: #FF8000">//&nbsp;二つの単語を分割せず組み合わせていることに注目<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"&nbsp;equals&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />else:<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">.</span><span style="color: #DD0000">"&nbsp;is&nbsp;neither&nbsp;greater&nbsp;than&nbsp;or&nbsp;equal&nbsp;to&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />endif;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114710""></a>
  <div class="note">
   <strong class="user">peter dot mlich at volny dot cz</strong>
   <a href="#114710" class="date">27-Mar-2014 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To&nbsp; Rudi / 3 years ago<br />
<br />
Try switch in switch($name) case 'word': break; . --- slow<br />
Try if/else and&nbsp; if/elseif in $name='word'. --- in my fast test, place 3<br />
Try isset in isset($array[$name]). ---&nbsp; place 1<br />
Try in_array in in_array($name,$array). --- slow<br />
Try array_key_exists in array_key_exists($name,$array).<br />
<br />
Try return (end function) in if/elseif with&nbsp; -- place 2<br />
if('word'==$name) {<br />
&nbsp; $parsed[$name]=$text;<br />
&nbsp; return;<br />
&nbsp; }&nbsp; <br />
elseif('word'==$name) {<br />
&nbsp; $parsed[$name]=$text;<br />
&nbsp; return;<br />
&nbsp;}&nbsp; <br />
<br />
PHP 5.35, xml_parse function, i parsed 9.2MB xml file to sql, script in place 1 do it at 11.54s (do more than only condition)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114104""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114104" class="date">11-Jan-2014 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In addition to what Rudi&nbsp; wrote,<br />
I ran his test script&nbsp; on Debian 6 with php 5.3.26 where his findings are true, elseif is faster than else if.<br />
Then I ran his script on Windows 7 with php 5.4.7, where results are the opposite, else if is faster than elseif.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113956""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#113956" class="date">22-Dec-2013 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The word 'elseif' is a not a combination of "if and else," but a combination of "else and if."</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99916""></a>
  <div class="note">
   <strong class="user">Rudi</strong>
   <a href="#99916" class="date">14-Sep-2010 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that } elseif() { is somewhat faster than } else if() {<br />
<br />
===================================<br />
Test (100,000,000 runs):<br />
<span class="default">&lt;?php<br />
$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">2 </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) {} else if(</span><span class="default">2 </span><span class="keyword">=== </span><span class="default">1</span><span class="keyword">) {} else {}<br />
}<br />
</span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
echo </span><span class="string">"1: "</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
unset(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br />
<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">2 </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) {} elseif(</span><span class="default">2 </span><span class="keyword">=== </span><span class="default">1</span><span class="keyword">) {} else {}<br />
}<br />
</span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
echo </span><span class="string">"2: "</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
===================================<br />
Result (depending on hardware configuration):<br />
1: 20.026723146439<br />
2: 20.20437502861</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72769""></a>
  <div class="note">
   
   <a href="#72769" class="date">31-Jan-2007 11:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no good way to interpret the dangling else.&nbsp; One must pick a way and apply rules based on that.&nbsp; <br />
<br />
Since there is no endif before an else, there is no easy way for PHP to know what you mean.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71982""></a>
  <div class="note">
   <strong class="user">Vladimir Kornea</strong>
   <a href="#71982" class="date">27-Dec-2006 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The parser doesn't handle mixing alternative if syntaxes as reasonably as possible.<br />
<br />
The following is illegal (as it should be):<br />
<br />
&lt;?<br />
if($a):<br />
&nbsp;&nbsp;&nbsp; echo $a;<br />
else {<br />
&nbsp;&nbsp;&nbsp; echo $c;<br />
}<br />
?&gt;<br />
<br />
This is also illegal (as it should be):<br />
<br />
&lt;?<br />
if($a) {<br />
&nbsp;&nbsp;&nbsp; echo $a;<br />
}<br />
else:<br />
&nbsp;&nbsp;&nbsp; echo $c;<br />
endif;<br />
?&gt;<br />
<br />
But since the two alternative if syntaxes are not interchangeable, it's reasonable to expect that the parser wouldn't try matching else statements using one style to if statement using the alternative style. In other words, one would expect that this would work:<br />
<br />
&lt;?<br />
if($a):<br />
&nbsp;&nbsp;&nbsp; echo $a;<br />
&nbsp;&nbsp;&nbsp; if($b) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo $b;<br />
&nbsp;&nbsp;&nbsp; }<br />
else:<br />
&nbsp;&nbsp;&nbsp; echo $c;<br />
endif;<br />
?&gt;<br />
<br />
Instead of concluding that the else statement was intended to match the if($b) statement (and erroring out), the parser could match the else statement to the if($a) statement, which shares its syntax.<br />
<br />
While it's understandable that the PHP developers don't consider this a bug, or don't consider it a bug worth their time, jsimlo was right to point out that mixing alternative if syntaxes might lead to unexpected results.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
