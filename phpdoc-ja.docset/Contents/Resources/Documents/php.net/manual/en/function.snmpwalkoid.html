<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>ネットワークエンティティに関する情報ツリーを検索する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.snmpwalk.html">≪ snmpwalk</a></li>
      <li style="float: right;"><a href="class.snmp.html">SNMP ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.snmp.html">SNMP 関数</a></li>
    <li>ネットワークエンティティに関する情報ツリーを検索する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.snmpwalkoid" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">snmpwalkoid</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">snmpwalkoid</span> &mdash; <span class="dc-title">ネットワークエンティティに関する情報ツリーを検索する
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.snmpwalkoid-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>snmpwalkoid</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$hostname</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$community</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$object_id</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timeout</code><span class="initializer"> = 1000000</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$retries</code><span class="initializer"> = 5</span></span>
  ]] )</div>


  <p class="para rdfs-comment">
   <span class="function"><strong>snmpwalkoid()</strong></span> 関数は、<code class="parameter">hostname</code>
   で指定した SNMP エージェントから
   すべてのオブジェクト ID とその値を読みこむために使用します。
  </p>

  <p class="para">
   <span class="function"><strong>snmpwalkoid()</strong></span> および
   <span class="function"><a href="function.snmpwalk.html" class="function">snmpwalk()</a></span> は、歴史的経緯により残されているものです。
   どちらも、下位互換のために提供されています。
   代わりに <span class="function"><a href="function.snmprealwalk.html" class="function">snmprealwalk()</a></span> を使用してください。
  </p> 
 </div>


 <div class="refsect1 parameters" id="refsect1-function.snmpwalkoid-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">hostname</code></dt>

     <dd>

      <p class="para">
       SNMP エージェント。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">community</code></dt>

     <dd>

      <p class="para">
       リードコミュニティ。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">object_id</code></dt>

     <dd>

      <p class="para">
       <strong><code>NULL</code></strong> の場合は、<code class="parameter">object_id</code>
       が SNMP オブジェクトツリーのルートとして解釈され、
       ツリーの配下のすべてのオブジェクトを配列として返します。
      </p>
      <p class="para">
       <code class="parameter">object_id</code> を指定した場合は、
       その <code class="parameter">object_id</code> の配下のすべての
       SNMP オブジェクトを返します。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">timeout</code></dt>

     <dd>

      <p class="para">
       最初のタイムアウトまでのマイクロ秒数。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">retries</code></dt>

     <dd>

      <p class="para">
       タイムアウト発生時の再試行回数。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.snmpwalkoid-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <span class="function"><strong>object_id()</strong></span> からの
   SNMP オブジェクトの値の配列をルートとして返します。
   エラーの場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.snmpwalkoid-examples">
  <h3 class="title">例</h3>
  <p class="para"> 
   <div class="example" id="example-4679">
    <p><strong>例1 <span class="function"><strong>snmpwalkoid()</strong></span> の例</strong></p>
    <div class="example-contents"> 
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">snmpwalkoid</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"public"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">);&nbsp;<br />for&nbsp;(</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">key</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">next</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p> 
  <p class="para">
   上記の関数コールは、ローカルホスト上で稼働する SNMP
   エージェントからすべての SNMP オブジェクトを返します。
   ループ処理により値を一つずつとりだすことができます。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.snmpwalkoid-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.snmpwalk.html" class="function" rel="rdfs-seeAlso">snmpwalk()</a> - エージェントから全ての SNMP オブジェクトを取得する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="53832""></a>
  <div class="note">
   <strong class="user">thammer at rtccom dot com</strong>
   <a href="#53832" class="date">14-Jun-2005 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The above note mentions that the MAC addresses come back converted to integers or something funky like that. Not sure why that is happening but I fixed that with a wrapper function.<br />
<br />
function PadMAC($mac) {<br />
&nbsp;&nbsp;&nbsp; $mac_arr = explode(':',$mac);<br />
&nbsp;&nbsp;&nbsp; foreach($mac_arr as $atom) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $atom = trim($atom);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $newarr[] = sprintf("%02s",$atom);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $newmac = implode(':',$newarr);<br />
&nbsp;&nbsp;&nbsp; return $newmac;<br />
}<br />
<br />
Maybe that will help somebody with that issue. I know I personally use the heck out of these user contributed notes</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46538""></a>
  <div class="note">
   <strong class="user">gene_wood at example dot com</strong>
   <a href="#46538" class="date">14-Oct-2004 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Looks like timeout is in MICRO seconds.<br />
1,000,000 &amp;micros = 1 s</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="10489""></a>
  <div class="note">
   <strong class="user">jasper at pointless dot net</strong>
   <a href="#10489" class="date">07-Jan-2001 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
N.B. it's possible for snmpwalkoid to lose data - the "rmon.matrix.matrixSDTable" table for example uses binary mac addresses as part of the index, these get converted to ascii, and by the time they get to php they can be non-unique - so some entrys in the table get lost...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
