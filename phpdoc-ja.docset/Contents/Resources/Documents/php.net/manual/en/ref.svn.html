<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>SVN 関数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="svn.constants.html">≪ 定義済み定数</a></li>
      <li style="float: right;"><a href="function.svn-add.html">svn_add ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.svn.html">SVN</a></li>
    <li>SVN 関数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.svn" class="reference">
 <h1 class="title">SVN 関数</h1>

 





















































































































































































































































































































































<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.svn-add.html">svn_add</a> &mdash; 作業ディレクトリ内のアイテムの追加を予約する</li><li><a href="function.svn-auth-get-parameter.html">svn_auth_get_parameter</a> &mdash; 認証パラメータを取得する</li><li><a href="function.svn-auth-set-parameter.html">svn_auth_set_parameter</a> &mdash; 認証パラメータを設定する</li><li><a href="function.svn-blame.html">svn_blame</a> &mdash; ファイルの SVN blame を取得する</li><li><a href="function.svn-cat.html">svn_cat</a> &mdash; リポジトリ内のファイルの内容を返す</li><li><a href="function.svn-checkout.html">svn_checkout</a> &mdash; リポジトリから作業コピーをチェックアウトする</li><li><a href="function.svn-cleanup.html">svn_cleanup</a> &mdash; 作業コピーディレクトリを再帰的にクリーンアップし、中途半端な操作を解消してロックを削除する</li><li><a href="function.svn-client-version.html">svn_client_version</a> &mdash; SVN クライアントライブラリのバージョンを返す</li><li><a href="function.svn-commit.html">svn_commit</a> &mdash; 変更内容を、ローカルの作業コピーからリポジトリに送信する</li><li><a href="function.svn-delete.html">svn_delete</a> &mdash; 作業コピーあるいはリポジトリからアイテムを削除する</li><li><a href="function.svn-diff.html">svn_diff</a> &mdash; ふたつのパスの差分を再帰的に取得する</li><li><a href="function.svn-export.html">svn_export</a> &mdash; SVN ディレクトリの内容をエクスポートする</li><li><a href="function.svn-fs-abort-txn.html">svn_fs_abort_txn</a> &mdash; トランザクションを中断し、成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-apply-text.html">svn_fs_apply_text</a> &mdash; 置換に使用するストリームを作成して返す</li><li><a href="function.svn-fs-begin-txn2.html">svn_fs_begin_txn2</a> &mdash; 新しいトランザクションを作成する</li><li><a href="function.svn-fs-change-node-prop.html">svn_fs_change_node_prop</a> &mdash; 成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-check-path.html">svn_fs_check_path</a> &mdash; 指定したリポジトリの fsroot パスにどんなアイテムが存在するかを調べる</li><li><a href="function.svn-fs-contents-changed.html">svn_fs_contents_changed</a> &mdash; コンテンツが変更されている場合に true、されていない場合に false を返す</li><li><a href="function.svn-fs-copy.html">svn_fs_copy</a> &mdash; ファイルやディレクトリをコピーし、成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-delete.html">svn_fs_delete</a> &mdash; ファイルやディレクトリを削除し、成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-dir-entries.html">svn_fs_dir_entries</a> &mdash; 指定したパスのディレクトリを列挙し、ディレクトリ名とファイルタイプのハッシュを返す</li><li><a href="function.svn-fs-file-contents.html">svn_fs_file_contents</a> &mdash; 指定したバージョンの fs から、ファイルの中身を読み込むためのストリームを返す</li><li><a href="function.svn-fs-file-length.html">svn_fs_file_length</a> &mdash; 指定したバージョンの fs から、ファイルの長さを返す</li><li><a href="function.svn-fs-is-dir.html">svn_fs_is_dir</a> &mdash; ディレクトリを指すパスである場合に true、それ以外の場合に false を返す</li><li><a href="function.svn-fs-is-file.html">svn_fs_is_file</a> &mdash; ファイルを指すパスである場合に true、それ以外の場合に false を返す</li><li><a href="function.svn-fs-make-dir.html">svn_fs_make_dir</a> &mdash; 空のディレクトリを作成し、成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-make-file.html">svn_fs_make_file</a> &mdash; 空のファイルを作成し、成功したら true、失敗したら false を返す</li><li><a href="function.svn-fs-node-created-rev.html">svn_fs_node_created_rev</a> &mdash; fsroot 配下のパスが作成されたリビジョンを返す</li><li><a href="function.svn-fs-node-prop.html">svn_fs_node_prop</a> &mdash; ノードのプロパティの値を返す</li><li><a href="function.svn-fs-props-changed.html">svn_fs_props_changed</a> &mdash; プロパティが変更されている場合に true、それ以外の場合に false を返す</li><li><a href="function.svn-fs-revision-prop.html">svn_fs_revision_prop</a> &mdash; 指定したプロパティの値を取得する</li><li><a href="function.svn-fs-revision-root.html">svn_fs_revision_root</a> &mdash; リポジトリのルートの指定したバージョンのハンドルを取得する</li><li><a href="function.svn-fs-txn-root.html">svn_fs_txn_root</a> &mdash; トランザクションのルートを作成して返す</li><li><a href="function.svn-fs-youngest-rev.html">svn_fs_youngest_rev</a> &mdash; ファイルシステム内で一番若いリビジョン番号を返す</li><li><a href="function.svn-import.html">svn_import</a> &mdash; バージョン管理されていないパスをリポジトリにインポートする</li><li><a href="function.svn-log.html">svn_log</a> &mdash; 指定したリポジトリ URL のコミットログメッセージを返す</li><li><a href="function.svn-ls.html">svn_ls</a> &mdash; 指定したリポジトリ URL のディレクトリ内の一覧を返す (オプションでリビジョン番号も指定可能)</li><li><a href="function.svn-mkdir.html">svn_mkdir</a> &mdash; 作業コピーあるいはリポジトリ内にディレクトリを作成する</li><li><a href="function.svn-repos-create.html">svn_repos_create</a> &mdash; 新しい subversion リポジトリを指定したパスに作成する</li><li><a href="function.svn-repos-fs-begin-txn-for-commit.html">svn_repos_fs_begin_txn_for_commit</a> &mdash; 新しいトランザクションを作成する</li><li><a href="function.svn-repos-fs-commit-txn.html">svn_repos_fs_commit_txn</a> &mdash; トランザクションをコミットし、新しいリビジョンを返す</li><li><a href="function.svn-repos-fs.html">svn_repos_fs</a> &mdash; リポジトリ用に、ファイルシステム上のハンドルを取得する</li><li><a href="function.svn-repos-hotcopy.html">svn_repos_hotcopy</a> &mdash; repospath にあるリポジトリのホットコピーを作成し、destpath にコピーする</li><li><a href="function.svn-repos-open.html">svn_repos_open</a> &mdash; リポジトリの共有ロックをオープンする</li><li><a href="function.svn-repos-recover.html">svn_repos_recover</a> &mdash; 指定したパスのリポジトリのリカバリ処理を実行する</li><li><a href="function.svn-revert.html">svn_revert</a> &mdash; 作業コピーへの変更を取り消す</li><li><a href="function.svn-status.html">svn_status</a> &mdash; 作業コピー内のファイルやディレクトリの状態を返す</li><li><a href="function.svn-update.html">svn_update</a> &mdash; 作業コピーをアップデートする</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="111052""></a>
  <div class="note">
   <strong class="user">j dot saterfiel at gmail dot com</strong>
   <a href="#111052" class="date">10-Jan-2013 09:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The PHP SVN library functions as of 1.02 that are not listed in this documentation and their signatures<br />
<br />
array svn_info(string path [, bool recurse = true [, int revision = -1]])<br />
<br />
resource svn_copy(string log, string src_path, string destination_path [, bool working_copy = true [, int revision = -1]])<br />
<br />
mixed svn_move(string src_path, string dst_path [, bool force = false])<br />
<br />
mixed svn_proplist(string path [, bool recurse = false, [int revision]])<br />
<br />
mixed svn_propget(string path, string property_name [, bool recurse = false [, int revision]])<br />
<br />
bool svn_lock(string comment, mixed targets [, bool steal_lock = false])<br />
<br />
bool svn_unlock(mixed targets [, bool break_lock= false])<br />
<br />
resource svn_switch(string path, string url [, bool working_copy = true])<br />
<br />
You can also use the new Svn() object for these $svn-&gt;lock()<br />
<br />
In general any function should work just like the svn command line version.&nbsp; For instance svn_info can be used against a remote url or a local path and svn_copy can also be used for local or remote operations.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110991""></a>
  <div class="note">
   <strong class="user">bohwaz</strong>
   <a href="#110991" class="date">04-Jan-2013 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This extension also gives you access to an object API that is currently not documented anywhere. It uses the Svn, SvnWc, SvnWcSchedule and SvnNode classes. So you can't redeclare those names.<br />
<br />
Here are some basics on how to use it:<br />
<br />
<span class="default">&lt;?php<br />
$svn </span><span class="keyword">= new </span><span class="default">Svn</span><span class="keyword">;<br />
</span><span class="default">$log </span><span class="keyword">= </span><span class="default">$svn</span><span class="keyword">-&gt;</span><span class="default">log</span><span class="keyword">(</span><span class="string">'https://svn.example/trunk/'</span><span class="keyword">, </span><span class="default">Svn</span><span class="keyword">::</span><span class="default">HEAD</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Basically you can use all functions documented here by replacing the svn_ prefix with $svn-&gt; object. Same for constants, most can be used directly from the objects.<br />
<br />
If you're interested, make sure to check the extension source code to find out more.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97064""></a>
  <div class="note">
   <strong class="user">chris dot lawrence at ljg dot com</strong>
   <a href="#97064" class="date">30-Mar-2010 11:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I also submitted this as a bug (since its about missing documentation).<br />
<br />
This documentation does not mention the "svn_delete" command, but it was added in version 0.4.&nbsp; You can check the release notes here:<br />
<a href="http://pecl.php.net/package/svn/0.4" rel="nofollow" target="_blank">http://pecl.php.net/package/svn/0.4</a><br />
<br />
Also, you could look at the contents of the current source code (svn-0.5.1/svn.c).<br />
<br />
But what you really need to know is that the svn_delete command works correctly with this prototype:<br />
svn_delete(string path [, bool force = true])<br />
<br />
It returns true on success and false on failure.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81972""></a>
  <div class="note">
   <strong class="user">Pieter van Ginkel</strong>
   <a href="#81972" class="date">21-Mar-2008 09:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The Subversion functions work quite well for me, after some searching. I needed some time though to find out how they all worked together, but this is a basic example of svn_fs_is_file:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment"># Get a handle to the on-disk repository. Note that this<br />
# is NOT a checked out project, but the actual svn repository!<br />
<br />
</span><span class="default">$repos_handle </span><span class="keyword">= </span><span class="default">svn_repos_open</span><span class="keyword">(</span><span class="string">'/var/lib/svn'</span><span class="keyword">);<br />
</span><span class="default">$fs_handle </span><span class="keyword">= </span><span class="default">svn_repos_fs</span><span class="keyword">(</span><span class="default">$repos_handle</span><span class="keyword">);<br />
<br />
</span><span class="comment"># Now we need to open a revision because that's what the<br />
# svn_fs_* methods need. You'll probably want the latest<br />
# revision and we have a helper method for that.<br />
<br />
</span><span class="default">$youngest_rev </span><span class="keyword">= </span><span class="default">svn_fs_youngest_rev</span><span class="keyword">(</span><span class="default">$fs_handle</span><span class="keyword">);<br />
</span><span class="default">$fs_rev_handle </span><span class="keyword">= </span><span class="default">svn_fs_revision_root</span><span class="keyword">(</span><span class="default">$fs_handle</span><span class="keyword">, </span><span class="default">$youngest_rev</span><span class="keyword">);<br />
<br />
</span><span class="comment"># Now we can actually start doing stuff, for example the<br />
# svn_fs_is_file call:<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">svn_fs_is_file</span><span class="keyword">(</span><span class="default">$fs_rev_handle</span><span class="keyword">, </span><span class="string">'/a-file.txt'</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
There is one important thing to note about this all. You cannot let the handles expire while doing any calls to svn_fs_*. When implementing a helper class, I cached the first and third handle, but not the second one. PHP crashes hard when you do this. Keep references to all handles you get while you're calling the svn_fs_* methods.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81915""></a>
  <div class="note">
   <strong class="user">tbrendstrup</strong>
   <a href="#81915" class="date">19-Mar-2008 10:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"[Editorial note: These constants are defined by the Subversion library itself and may change without notice (although things tend to be quite stable).]"<br />
<br />
The subversion developers have a policy not to change stuff like this without changing the major version number, so these should be valid at least until subversion 2.0.0 is released. (more values might be added, but the existing ones won't change).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78222""></a>
  <div class="note">
   <strong class="user">pierre dot beaumadier at rhapso dot fr</strong>
   <a href="#78222" class="date">03-Oct-2007 03:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editorial note: These constants are defined by the Subversion library itself and may change without notice (although things tend to be quite stable).]
<br />

<br />
For information, here are the numeric values I got for the constants :
<br />

<br />
Working copy status constants : 
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_none =&gt; 1
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_unversioned =&gt; 2
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_normal =&gt; 3
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_added =&gt; 4
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_missing =&gt; 5
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_deleted =&gt; 6
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_replaced =&gt; 7
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_modified =&gt; 8
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_merged =&gt; 9
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_conflicted =&gt; 10
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_ignored =&gt; 11
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_obstructed =&gt; 12
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_external =&gt; 13
<br />
&nbsp;&nbsp;&nbsp; * svn_wc_status_incomplete =&gt; 14
<br />

<br />
Node type constants :
<br />
&nbsp;&nbsp;&nbsp; * svn_node_none =&gt; 0
<br />
&nbsp;&nbsp;&nbsp; * svn_node_file =&gt; 1
<br />
&nbsp;&nbsp;&nbsp; * svn_node_dir =&gt; 2
<br />
&nbsp;&nbsp;&nbsp; * svn_node_unknown =&gt; 3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
