<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>SOAP 関数をコールする</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="soapclient.setsoapheaders.html">≪ SoapClient::__setSoapHeaders</a></li>
      <li style="float: right;"><a href="soapclient.soapclient.html">SoapClient::SoapClient ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.soapclient.html">SoapClient</a></li>
    <li>SOAP 関数をコールする</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="soapclient.soapcall" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SoapClient::__soapCall</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.0.1)</p><p class="refpurpose"><span class="refname">SoapClient::__soapCall</span> &mdash; <span class="dc-title">SOAP 関数をコールする</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-soapclient.soapcall-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>SoapClient::__soapCall</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$function_name</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$arguments</code></span>
   [, <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$input_headers</code></span>
   [, <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&$output_headers</code></span>
  ]]] )</div>

  <p class="para rdfs-comment">
   本メソッドは、SOAP コールを行う低レベル API 関数です。
   通常、WSDL モードでは、SOAP 関数を <a href="class.soapclient.html" class="classname">SoapClient</a>
   のメソッドとして簡単にコールすることができます。
   本メソッドは、<em>soapaction</em> が不明な場合や、
   <em>uri</em> がデフォルトと異なっていたり、
   SOAP ヘッダを送受信したい場合に、非 WSDL モードを使用する際に有用です。
  </p>
  <p class="para">
   エラーの場合、SOAP 関数のコールは、PHP 例外または、例外が無効な場合に
   <a href="class.soapfault.html" class="classname">SoapFault</a> オブジェクトが返されます。
   この関数コールが失敗したかどうかを調べるには、 SoapFault
   例外をキャッチするか、
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-soapclient.soapcall-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">function_name</code></dt>

     <dd>

      <p class="para">
       コールしたい SOAP 関数の名前。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">arguments</code></dt>

     <dd>

      <p class="para">
       関数に渡す引数の配列。これは、数値添字配列あるいは連想配列のどちらの形式でもかまいません。
       たいていの SOAP サーバーは、パラメータ名を指定しないといけないことに注意しましょう。
       そんな場合は、連想配列でないといけません。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">options</code></dt>

     <dd>

      <p class="para">
       クライアントに渡すオプションの連想配列。
      </p>
      <p class="para">
       <em>location</em> はリモートウェブサービスの URL です。
      </p>
      <p class="para">
       <em>uri</em> は SOAP サービスのターゲット名前空間です。
      </p>
      <p class="para">
        <em>soapaction</em> はコールしたいアクションです。
      </p>
    </dd>

    
    
     <dt>
<code class="parameter">input_headers</code></dt>

     <dd>

      <p class="para">
       SOAP リクエストで送信するヘッダの配列。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">output_headers</code></dt>

     <dd>

      <p class="para">
       指定すると、この配列に SOAP レスポンスのヘッダが書き込まれます。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-soapclient.soapcall-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   SOAP 関数は、一つまたは複数の値を返す可能性があります。
   SOAP 関数によって返される値が 1 つだけの場合、<em>__soapCall</em>
   の返す値は単純な値 (例えば、整数型、文字列など) になります。
   複数の値が返される場合、<em>__soapCall</em>
   は出力パラメータの名前を連想配列として返します。
  </p>
  <p class="para">
   エラーの場合は、SoapClient オブジェクトの作成時に <em>exceptions</em>
   オプションが <strong><code>FALSE</code></strong> となっていれば SoapFault オブジェクトを返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-soapclient.soapcall-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5428">
    <p><strong>例1 <span class="function"><strong>SoapClient::__soapCall()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #DD0000">"some.wsdl"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">SomeFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__soapCall</span><span style="color: #007700">(</span><span style="color: #DD0000">"SomeFunction"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__soapCall</span><span style="color: #007700">(</span><span style="color: #DD0000">"SomeFunction"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapHeader</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">$output_headers</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapClient</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'location'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"http://localhost/soap.php"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'uri'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"http://test-uri/"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">SomeFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__soapCall</span><span style="color: #007700">(</span><span style="color: #DD0000">"SomeFunction"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$client</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">__soapCall</span><span style="color: #007700">(</span><span style="color: #DD0000">"SomeFunction"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'soapaction'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'some_action'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'uri'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'some_uri'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-soapclient.soapcall-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="methodname"><a href="soapclient.soapclient.html" class="methodname" rel="rdfs-seeAlso">SoapClient::SoapClient()</a> - SoapClient コンストラクタ</span></li>
    <li class="member"><span class="methodname"><a href="soapparam.soapparam.html" class="methodname" rel="rdfs-seeAlso">SoapParam::SoapParam()</a> - SoapParam コンストラクタ</span></li>
    <li class="member"><span class="methodname"><a href="soapvar.soapvar.html" class="methodname" rel="rdfs-seeAlso">SoapVar::SoapVar()</a> - SoapVar コンストラクタ</span></li>
    <li class="member"><span class="methodname"><a href="soapheader.soapheader.html" class="methodname" rel="rdfs-seeAlso">SoapHeader::SoapHeader()</a> - SoapHeader コンストラクタ</span></li>
    <li class="member"><span class="methodname"><a href="soapfault.soapfault.html" class="methodname" rel="rdfs-seeAlso">SoapFault::SoapFault()</a> - SoapFault コンストラクタ</span></li>
    <li class="member"><span class="function"><a href="function.is-soap-fault.html" class="function" rel="rdfs-seeAlso">is_soap_fault()</a> - SOAP コールが失敗したかどうかを調べる</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115011""></a>
  <div class="note">
   <strong class="user">pmeth at softersoftware dot com</strong>
   <a href="#115011" class="date">13-May-2014 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note, when trying to overload the __soapCall function, you should not use type hints or STRICT_STANDARDS will complain.<br />
The correct signature is as follows:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">MySoapClient </span><span class="keyword">extends \</span><span class="default">SoapClient<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__soapCall</span><span class="keyword">(</span><span class="default">$function_name</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">, </span><span class="default">$options </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$input_headers </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, &amp;</span><span class="default">$output_headers </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; ....<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110390""></a>
  <div class="note">
   <strong class="user">vb</strong>
   <a href="#110390" class="date">18-Oct-2012 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that calling __soapCall and calling the generated method from WSDL requires specifying parameters in two different ways.<br />
<br />
For example, if you have a web service with method login that takes username and password, you can call it the following way:<br />
<span class="default">&lt;?php<br />
$params </span><span class="keyword">= array(</span><span class="string">'username'</span><span class="keyword">=&gt;</span><span class="string">'name'</span><span class="keyword">, </span><span class="string">'password'</span><span class="keyword">=&gt;</span><span class="string">'secret'</span><span class="keyword">);<br />
</span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">login</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
If you want to call __soapCall, you must wrap the arguments in another array as follows:<br />
<span class="default">&lt;?php<br />
$client</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="string">'login'</span><span class="keyword">, array(</span><span class="default">$params</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102387""></a>
  <div class="note">
   <strong class="user">snuufix+nospam at gmail dot com</strong>
   <a href="#102387" class="date">11-Feb-2011 12:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am using SOAP call response headers to sign request results.<br />
<br />
After alot of hours, I finally got the best way to get SOAP response headers (other than parsing __getLastResponse() witch requires trace option enabled) is using __soapCall() wrapper.<br />
<br />
You can extend SoapClient class and wrap some functions to make sure you get the headers.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">API </span><span class="keyword">extends </span><span class="default">SoapClient<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// ... Constructor, etc.<br />
<br />
&nbsp;&nbsp;&nbsp; // Get SOAP Server response headers<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__soapCall</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">, </span><span class="default">$options </span><span class="keyword">= array(), </span><span class="default">$input_headers </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, &amp;</span><span class="default">$output_headers </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">, </span><span class="default">$options</span><span class="keyword">, </span><span class="default">$input_headers</span><span class="keyword">, </span><span class="default">$output_headers</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$output_headers</span><span class="keyword">); </span><span class="comment">// Array of response headers<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// If you are using WSDL you need this, so you still can call functions directly without calling __soapCall manualy<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100829""></a>
  <div class="note">
   <strong class="user">niko dot hujanen at gmail dot com</strong>
   <a href="#100829" class="date">10-Nov-2010 08:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was integrating a local warehouse system with a SOAP to our system and noticed some things.<br />
<br />
1) Service uses "dot-namespacing" (fe. Item.Price) I classmapped this to Item_Price and used magical __get() and __set() to strip off 'Item.' from variable names. Works like a charm.<br />
<br />
Example:<br />
&lt;Item.Price&gt;1.52&lt;/Item.Price&gt;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Item_Price </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$price</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">) { </span><span class="default">$field </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'Item.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">); return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$field</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) { </span><span class="default">$field </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'Item.'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">); </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$field </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; }<br />
</span><span class="default">?&gt;<br />
</span><br />
2) I noticed that classmapping a segment with attributes and value is possible. Class uses variables as attributes and $_ is the value.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$item </span><span class="keyword">= </span><span class="string">'Bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$_ </span><span class="keyword">= </span><span class="string">'Value here'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Turns to &lt;Foo item="Bar"&gt;Value here&lt;/Foo&gt;<br />
<br />
Example of using classes with soapcalls:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $client </span><span class="keyword">= </span><span class="default">ExtendSoapClient</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$response </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">sendFoo</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Posted these since I think the documentation is lacking and very obsolete. Hopefully someone's burden eases.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98348""></a>
  <div class="note">
   <strong class="user">james dot ellis at gmail dot com</strong>
   <a href="#98348" class="date">10-Jun-2010 04:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using this method, remember that the array of arguments need to be passed in with the ordering being the same order that the SOAP endpoint expects.<br />
<br />
e.g<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//server expects: Foo(string name, int age)<br />
<br />
//won't work<br />
</span><span class="default">$args </span><span class="keyword">= array(</span><span class="default">32</span><span class="keyword">, </span><span class="string">'john'</span><span class="keyword">);<br />
</span><span class="default">$out </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="string">'Foo'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
<br />
</span><span class="comment">//will work<br />
</span><span class="default">$args </span><span class="keyword">= array(</span><span class="string">'john'</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">);<br />
</span><span class="default">$out </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="string">'Foo'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90428""></a>
  <div class="note">
   <strong class="user">lesley at casbah dot com dot au</strong>
   <a href="#90428" class="date">22-Apr-2009 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are calling a weblogic service with a certificate and you are getting this error on the soap method call statement:
<br />

<br />
[EJB:010160]Security Violation: User: '&lt;anonymous&gt;' has insufficient permission to access EJB: type=&lt;ejb&gt;, application=app2_0_52_3, module=appsejb.jar, ejb=AppMethod, method=AppMethod, methodInterface=Remote, signature={java.lang.String}.
<br />

<br />
then check the wsdl in the soap open call - it must be https.&nbsp; Supplied with an http wsdl this took some time to figure out.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; $client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"https://example.com/AppWs/Service?WSDL"</span><span class="keyword">,
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'trace'</span><span class="keyword">=&gt;</span><span class="default">true</span><span class="keyword">, 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'exceptions'</span><span class="keyword">=&gt;</span><span class="default">true</span><span class="keyword">, 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'local_cert' </span><span class="keyword">=&gt; </span><span class="string">"/var/www/html/app/newcert.pem"</span><span class="keyword">, 
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'passphrase' </span><span class="keyword">=&gt; </span><span class="string">"thepassphrase"</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$response </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="string">"MyMethod"</span><span class="keyword">, array(</span><span class="string">"param1" </span><span class="keyword">=&gt; </span><span class="default">$value1</span><span class="keyword">));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Thanks to the authors for their comments on enabling openssl and curl by uncommenting extension=php_opensll.dll and extension=php_curl.dll in php.ini.&nbsp; Also for Olaf's instructions "append the content of the private key file and the certificate file to a single file". I did this using copy command on the DOS prompt:
<br />

<br />
copy mycert.pem+mykey.pem newcert.pem</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90161""></a>
  <div class="note">
   <strong class="user">Tim Williams</strong>
   <a href="#90161" class="date">08-Apr-2009 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One little gotcha when passing the parameters where you need to have attributes and a simpletype value: <br />
<br />
To get the xml<br />
<br />
&lt;foo bar="moo"&gt;cheese&lt;/foo&gt;<br />
<br />
You'd pass in:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">array(</span><span class="string">"foo" </span><span class="keyword">=&gt; array(</span><span class="string">"_" </span><span class="keyword">=&gt; </span><span class="string">"cheese"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">=&gt;</span><span class="string">"moo"</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
See that "_" bit? It really wasn't obvious from the documentation.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90031""></a>
  <div class="note">
   <strong class="user">deWarlock</strong>
   <a href="#90031" class="date">02-Apr-2009 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The most annoying thing is that you'll get no warning trying to pass object not matching wsdl e.g. if server expects smth like $Object-&gt;expName-&gt;... and you would pass $Object-&gt;otherName the client will send empty request without notifying you.<br />
Also pay attention that names are key sensitive.<br />
<br />
In my case I spent hours trying to pass $Post-&gt;Lead-&gt;... object instead of $Post-&gt;lead-&gt; ...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89308""></a>
  <div class="note">
   <strong class="user">Shto</strong>
   <a href="#89308" class="date">03-Mar-2009 12:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One thing to note.<br />
<br />
This happened to me and it took a while until I discovered what the problem was.<br />
<br />
I was trying to get .NET objects from a provided web service, however it always seemed to return empty objects. It did return the backbone, but nothing within the objects that made up the structure.<br />
<br />
Anyhow, it seems that you have to be very precise with the arrays when calling these functions. Par example, do this:<br />
<br />
<span class="default">&lt;?php<br />
$obj </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">__soapCall</span><span class="keyword">(</span><span class="default">$SOAPCall</span><span class="keyword">, array(</span><span class="string">'parameters'</span><span class="keyword">=&gt;</span><span class="default">$SoapCallParameters</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
meaning that you must put an array as the second argument with 'parameters' as the key and the soap call parameters as the value.<br />
<br />
Also make sure that the parameter variable, in my case $SoapCallParameters is in the form of what is requested by the webservice.<br />
<br />
So, don't just make an array of the form:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">(<br />
&nbsp;&nbsp; [</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="string">'Mary'</span><span class="keyword">,<br />
&nbsp;&nbsp; [</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">1983<br />
</span><span class="keyword">)<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
but if the webservice requests a 'muid' variable as 'Mary' and a 'birthyear' as 1983, then make your array like this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">(<br />
&nbsp;&nbsp; [</span><span class="default">muid</span><span class="keyword">] =&gt; </span><span class="string">'Mary'</span><span class="keyword">,<br />
&nbsp;&nbsp; [</span><span class="default">birthyear</span><span class="keyword">] =&gt; </span><span class="default">1983<br />
</span><span class="keyword">)<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The above arrays refer to the $SoapCallParameters variable.<br />
<br />
Hope this helps somebody, not having to spend too much time figuring out the problems.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81919""></a>
  <div class="note">
   <strong class="user">Alejandro Cavallo</strong>
   <a href="#81919" class="date">19-Mar-2008 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I get the same problem reported above by ryan:<br />
"ryan at grunt dot tv<br />
22-Sep-2005 01:38<br />
If you want to pass an xml document node as a function parameter, your need to create a SoapVar object with a text represention of the xml node and the XSD_ANYXML encoding constant. However, this constant is not exported by the extension and is not documented for some unknown reason."<br />
<br />
When defined variable soapVar I assigned the type XSD_STRING rather than as XSD_ANYXML.<br />
And when calls to the function you must pass the soapVar in an associative array. <br />
<br />
For example if the function (called myFunc) expect a parameter called xmlInput you should do something like this:<br />
$soapvar = new SoapVar($query, XSD_STRING);<br />
$result = $client-&gt;myFunc(array('xmlInput'=&gt;$soapvar));<br />
<br />
This XML fragment are wrapped around xmlImput tags.-</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78707""></a>
  <div class="note">
   <strong class="user">stefan at datax dot biz</strong>
   <a href="#78707" class="date">24-Oct-2007 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The call to __soapCall returned an object to me either. This is the function which makes my life easier:<br />
<br />
function obj2array($obj) {<br />
&nbsp; $out = array();<br />
&nbsp; foreach ($obj as $key =&gt; $val) {<br />
&nbsp;&nbsp;&nbsp; switch(true) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case is_object($val):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $out[$key] = obj2array($val);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp;&nbsp; case is_array($val):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $out[$key] = obj2array($val);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $out[$key] = $val;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; return $out;<br />
}<br />
<br />
Usage:<br />
...<br />
$response = $client -&gt;__soapCall("track", array('parameters' =&gt; $request));<br />
$response = obj2array($response);<br />
<br />
Hope it helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72701""></a>
  <div class="note">
   <strong class="user">temp at mailinator dot com</strong>
   <a href="#72701" class="date">30-Jan-2007 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The options in the third argument is documented in <a href="http://php.net/manual/en/function.soap-soapclient-construct.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.soap-soapclient-construct.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60576""></a>
  <div class="note">
   <strong class="user">paulsjv at gmail dot com</strong>
   <a href="#60576" class="date">11-Jan-2006 04:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was working with SOAP for the first time and I had to create a client that sent a date range to a WSDL (Web Services Description Language) to return some information I needed.&nbsp; I didn't know how to pass the params and there really was no documentation about it.&nbsp; The main thing you have to make sure to do is when you pass params to a method that is definied by the WSDL that you are calling is that you use the same param name for the key of the array or the object variable as shown below.&nbsp; Also, if you don't know what the methods/functions that a WSDL has or the params that you need to pass it you can use the __getFunctions() and __getTypes() methods after you declare your new SoapClient.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// From and to are the two params that the execute function needs<br />
// when called from the WSDL so make you to have them as the<br />
// key to an array like below<br />
</span><span class="default">$params</span><span class="keyword">[</span><span class="string">"From"</span><span class="keyword">] = </span><span class="string">"06/01/2005"</span><span class="keyword">; </span><span class="comment">// also can use $params-&gt;From = "date";<br />
</span><span class="default">$params</span><span class="keyword">[</span><span class="string">"to"</span><span class="keyword">] = </span><span class="string">"12/31/2005"</span><span class="keyword">; </span><span class="comment">// also can use $params-&gt;to = "date";<br />
<br />
</span><span class="default">$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"some.wsdl"</span><span class="keyword">);<br />
<br />
try {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print(</span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">execute</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">));<br />
} catch (</span><span class="default">SoapFault $exception</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$exception</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57032""></a>
  <div class="note">
   <strong class="user">ryan at grunt dot tv</strong>
   <a href="#57032" class="date">22-Sep-2005 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to pass an xml document node as a function parameter, your need to create a SoapVar object with a text represention of the xml node and the XSD_ANYXML encoding constant. However, this constant is not exported by the extension and is not documented for some unknown reason. <br />
<br />
Therefore, to get this to work you must either register the XSD_ANYXML #define as a PHP constant, or use the integer value of the constant when creating the SoapVar, which is 147.<br />
<br />
$soapvar = new SoapVar($xml_text, 147);<br />
<br />
$params = array("ItemXml" =&gt; $soapvar, "PropertyView" =&gt; "blah");<br />
$result = $this-&gt;soapclient-&gt;__soapCall("SaveItem", array("parameters"=&gt;$params), null, $this-&gt;soapheaders);<br />
<br />
However, this still doesnt give the correct result. For some reason, the ItemXml parameter node is not wrapped around the associated xml parameter in the soap request, and the following soap is produced (assumming '&lt;item&gt;blah&lt;/item&gt;' is used as the $xml_text):<br />
<br />
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="..." xmlns:ns1="..."&gt;<br />
&lt;SOAP-ENV:Header&gt;...&lt;/SOAP-ENV:Header&gt;<br />
&lt;SOAP-ENV:Body&gt;<br />
&lt;ns1:SaveItem&gt;<br />
&lt;item&gt;blah&lt;/item&gt;<br />
&lt;ns1:PropertyView&gt;blah&lt;/ns1:PropertyView&gt;<br />
&lt;/ns1:SaveItem&gt;<br />
&lt;/SOAP-ENV:Body&gt;<br />
&lt;/SOAP-ENV:Envelope&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52533""></a>
  <div class="note">
   <strong class="user">DesmondJ</strong>
   <a href="#52533" class="date">05-May-2005 12:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Following OrionI's example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"<a href="http://server/sumservice.asmx?WSDL" rel="nofollow" target="_blank">http://server/sumservice.asmx?WSDL</a>"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$objectresult </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">Sum</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$simpleresult </span><span class="keyword">= </span><span class="default">$objectresult</span><span class="keyword">-&gt;</span><span class="default">SumResult</span><span class="keyword">;<br />
&nbsp;print(</span><span class="default">$simpleresult</span><span class="keyword">); </span><span class="comment">//produces "-1"<br />
</span><span class="default">?&gt;</span> <br />
<br />
Please note that the lines: <br />
<br />
"$client-&gt;Sum($params);" <br />
<br />
and<br />
<br />
"$simpleresult = $objectresult-&gt;SumResult;"<br />
<br />
are based off of each other. If your web service function is called "Sum", then add "Result" to the end of it to get the results of the call.<br />
<br />
EG:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"<a href="http://server/mathservice.asmx?WSDL" rel="nofollow" target="_blank">http://server/mathservice.asmx?WSDL</a>"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$objectresult </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">Minus</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">); </span><span class="comment">// note the name of the function is "Minus"<br />
&nbsp;</span><span class="default">$simpleresult </span><span class="keyword">= </span><span class="default">$objectresult</span><span class="keyword">-&gt;</span><span class="default">MinusResult</span><span class="keyword">; </span><span class="comment">// note the name of the result is referenced as "MinusResult"<br />
&nbsp;</span><span class="keyword">print(</span><span class="default">$simpleresult</span><span class="keyword">); </span><span class="comment">//produces "5"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52000""></a>
  <div class="note">
   <strong class="user">OrionI</strong>
   <a href="#52000" class="date">18-Apr-2005 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Correction on the previously submitted code snippet...the incoming parameter for .NET also has to be in object or array form for it to be correctly converted to the XML form that .NET expects (as already mentioned by Llu?s P?mies). The full example (when using WSDL) should be like this:<br />
<span class="default">&lt;?php<br />
&nbsp;$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"<a href="http://server/myservice.asmx?WSDL" rel="nofollow" target="_blank">http://server/myservice.asmx?WSDL</a>"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">param1 </span><span class="keyword">= </span><span class="default">$value1</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">param2 </span><span class="keyword">= </span><span class="default">$value2</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$objectresult </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">MyMethod</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$simpleresult </span><span class="keyword">= </span><span class="default">$objectresult</span><span class="keyword">-&gt;</span><span class="default">MyMethodResult</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>So if you have a C# function like this:<br />
//sumservice.asmx<br />
...<br />
[WebMethod]<br />
public int Sum(int a, int b)<br />
{<br />
&nbsp; return a + b;<br />
}<br />
...<br />
The PHP client would be this:<br />
<span class="default">&lt;?php<br />
&nbsp;$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"<a href="http://server/sumservice.asmx?WSDL" rel="nofollow" target="_blank">http://server/sumservice.asmx?WSDL</a>"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$params</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$objectresult </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">Sum</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$simpleresult </span><span class="keyword">= </span><span class="default">$objectresult</span><span class="keyword">-&gt;</span><span class="default">SumResult</span><span class="keyword">;<br />
&nbsp;print(</span><span class="default">$simpleresult</span><span class="keyword">); </span><span class="comment">//produces "5"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51938""></a>
  <div class="note">
   <strong class="user">OrionI</strong>
   <a href="#51938" class="date">15-Apr-2005 08:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When calling over SOAP to a .NET application, you may end up with an object as a result instead of a simple type, even if you're just grabbing a simple type (like a boolean result). Use a property accessor to get the actual result, like this:<br />
<span class="default">&lt;?php<br />
&nbsp;$client </span><span class="keyword">= new </span><span class="default">SoapClient</span><span class="keyword">(</span><span class="string">"<a href="http://server/myservice.asmx?WSDL" rel="nofollow" target="_blank">http://server/myservice.asmx?WSDL</a>"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$objectresult </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">MyMethod</span><span class="keyword">(</span><span class="default">$param1</span><span class="keyword">, </span><span class="default">$param2</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$simpleresult </span><span class="keyword">= </span><span class="default">$objectresult</span><span class="keyword">-&gt;</span><span class="default">MyMethodResult</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Note that .NET seems to name the result MethodNameResult for method MethodName.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50098""></a>
  <div class="note">
   <strong class="user"></strong>
   <a href="#50098" class="date">18-Feb-2005 12:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your service is a .NET doc/lit, which means the input message has a single part named 'parameters' that is a structure that wraps the parameters.&nbsp; Your call should look like this:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$params </span><span class="keyword">= array(</span><span class="string">'param_name_1'</span><span class="keyword">=&gt;</span><span class="default">$val_1</span><span class="keyword">,</span><span class="string">'param_name_2'</span><span class="keyword">=&gt;</span><span class="default">$val_2</span><span class="keyword">);<br />
</span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">call</span><span class="keyword">(</span><span class="string">'MethodName'</span><span class="keyword">, array(</span><span class="string">'parameters' </span><span class="keyword">=&gt; </span><span class="default">$params</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
