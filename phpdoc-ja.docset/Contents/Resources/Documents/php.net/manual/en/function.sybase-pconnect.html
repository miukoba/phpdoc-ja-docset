<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>Sybase の持続的な接続をオープンする</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sybase-num-rows.html">≪ sybase_num_rows</a></li>
      <li style="float: right;"><a href="function.sybase-query.html">sybase_query ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sybase.html">Sybase 関数</a></li>
    <li>Sybase の持続的な接続をオープンする</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sybase-pconnect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sybase_pconnect</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">sybase_pconnect</span> &mdash; <span class="dc-title">Sybase の持続的な接続をオープンする</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.sybase-pconnect-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">resource</span> <span class="methodname"><strong>sybase_pconnect</strong></span>
    ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$servername</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$charset</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$appname</code></span>
  ]]]]] )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>sybase_pconnect()</strong></span> は、2 つの違いを除いて
   <span class="function"><a href="function.sybase-connect.html" class="function">sybase_connect()</a></span> と全く同様に動作します。
  </p>
  <p class="para">
   まず、接続時にこの関数は最初同じホスト、ユーザー名、パスワードで
   オープンされた（持続的）リンクを見つけようとします。
   見つかった場合、新しい接続をオープンする代わりにこれに関する
   ID が返されます。
  </p>
  <p class="para">
   第二に、SQL サーバーへの接続はスクリプト実行終了時にクローズされません。
   代わりに、このリンクは将来的に使用するためにオープンされたままに
   なります（<span class="function"><a href="function.sybase-close.html" class="function">sybase_close()</a></span> は、
   <span class="function"><strong>sybase_pconnect()</strong></span> により確立されたリンクを
   閉じません）。
  </p>
  <p class="para">
   このため、この型のリンクは&#039;持続的&#039;と呼ばれます。 
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sybase-pconnect-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">servername</code></dt>

     <dd>

      <p class="para">
       引数 servername は、&#039;interfaces&#039; ファイル中で定義された
       有効なサーバー名である必要があります。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">username</code></dt>

     <dd>

      <p class="para">
       Sybase のユーザー名。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">password</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">username</code> のパスワード。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">charset</code></dt>

     <dd>

      <p class="para">
       接続に使用する文字セットを指定します。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">appname</code></dt>

     <dd>

      <p class="para">
       Sybase 接続用の <em>appname</em> を指定します。
       これにより、ひとつのスクリプトから同じデータベースに複数の接続を行えるようになります。
       現在の接続でトランザクションを開始し、
       トランザクション内では実行できない別のクエリを実行したい場合などに便利です。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sybase-pconnect-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   成功時に正の Sybase 持続リンク ID を、エラー時に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sybase-pconnect-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sybase-connect.html" class="function" rel="rdfs-seeAlso">sybase_connect()</a> - Sybase サーバー接続をオープンする</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="1223""></a>
  <div class="note">
   <strong class="user">verdy_p at wanadoo dot fr</strong>
   <a href="#1223" class="date">24-Jul-1999 10:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The servername specified in sybase_connect and sybase_pconnect is solved locally on the PHP3 server host, which should be configured with the appropriate Sybase client configuration. This includes setting the environment variables for the account that runs the PHP3 extension, i.e. if it runs as a Web server extension, it must be configured in the user account that runs the Web server. You may setup at least the SYBASE environment, and add $SYBASE/bin within the user's path that runs the Web server. Standard installations of Sybase clients include setting up either a $SYBASE/interfaces file under Unix, or %SYBASE%\ini\sql.ini under Windows. This file contains local aliasnames for the referenced server names. These names may be different than that really used on the host that run the Sybase SQL Server. What is important is that this Sybase client configuration file will specify the location of the SQL Server, i.e. the network protocol to use, and if it's through TCP/IP, the host name or IP address of the Sybase SQL Server host, and its listener port number. Newer versions of Sybase includes the option to setup the interfaces or SQL.INI file with a single server entry, with will be a Sybase naming service. If this is used, the Sybase OpenClient libraries will connect to this naming service, if the SERVER name specified can't be solved locally. This naming service will provide the SQL Server location for the specified SERVER name you use in the sybase_connect or sybase_pconnect function calls, allowinf naming resolution on sites that want to have a centralized administration of multiple Sybase OpenServer servers, including gateways to other SQL servers such as OpenServer compatible gateways to Oracle or Informix servers. But if you want faster accesses to your Sybase SQL server used by your PHP3 scripts, you should configure the host which runs the PHP3 extension so that servernames can be solved locally. All you need is to add server entries in your interfaces or SQL.INI Sybase OpenClient configuration file.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
