<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>HttpRequest クラスおよびリクエスト関数で使用するオプション</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="http.constants.html">≪ 定義済み定数</a></li>
      <li style="float: right;"><a href="class.httpdeflatestream.html">HttpDeflateStream ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.http.html">HTTP</a></li>
    <li>HttpRequest クラスおよびリクエスト関数で使用するオプション</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="http.request.options" class="appendix">
 <h1>HttpRequest クラスおよびリクエスト関数で使用するオプション</h1>

 
  <dl>

   <strong class="title">タイムアウトに関連するオプション</strong>
   
    <dt id="http.request.option.timeout">
     timeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リクエスト全体が完了するまでの秒数。
     </span>
    </dd>

   
   
    <dt id="http.request.option.connecttimeout">
     connecttimeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      名前解決を含む接続にかける秒数。
     </span>
    </dd>

   
   
    <dt id="http.request.option.dns-cache-timeout">
     dns_cache_timeout (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      dns キャッシュエントリのタイムアウト秒数。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">url に関連するオプション</strong>
   
    <dt id="http.request.option.url">
     url (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リクエスト url。
     </span>
    </dd>

   
   
    <dt id="http.request.option.port">
     port (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      url で指定したものとは別のポートを使用する場合のポート。
     </span>
    </dd>

   
   
    <dt id="http.request.option.redirect">
     redirect (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リダイレクトをどれだけ追いかけるか。デフォルトは 0。
     </span>
    </dd>

   
   
    <dt id="http.request.option.unrestrictedauth">
     unrestrictedauth (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      別のホストにリダイレクトする際に認証情報を引き継ぐかどうか。
     </span>
    </dd>

   
   
    <dt>

     referer (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リファラとして送信する url。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">クッキーに関連するオプション</strong>
   
    <dt>

     encodecookies (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      独自のクッキーを送信する前に <span class="function"><a href="function.urlencode.html" class="function">urlencode()</a></span>
      するかどうか。
     </span>
    </dd>

   
   
    <dt>

     cookies (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      クッキーの内容を表す <em>array(&quot;cookie&quot; =&gt; &quot;value&quot;)</em>
      形式の連想配列。
     </span>
    </dd>

   
   
    <dt>

     cookiestore (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      クッキーを保存するファイルへのパス。
     </span>
    </dd>

   
   
    <dt>

     cookiesession (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <strong><code>TRUE</code></strong> の場合は、cookiestore からセッションクッキーを読み込まない。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">ヘッダに関連するオプション</strong>
   
    <dt>

     useragent (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      ユーザーエージェントとして送信する内容。デフォルトは
      <em>PECL::HTTP/x.y.z (PHP/x.y.z)</em>。
      送信したくない場合は、明示的に空文字列を設定します。
     </span>
    </dd>

   
   
    <dt>

     lastmodified (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      If-(Un)Modified-Since ヘッダ用のタイムスタンプ。
     </span>
    </dd>

   
   
    <dt>

     etag (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      If-(None-)Match ヘッダ用のクォートした etag。
     </span>
    </dd>

   
   
    <dt>

     headers (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      独自のヘッダを指定する、
      <em>array(&quot;header&quot; =&gt; &quot;value&quot;)</em>
      形式の連想配列。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">認証に関連するオプション</strong>
   
    <dt>

     httpauth (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      &quot;user:pass&quot; 形式の http 認証情報。
     </span>
    </dd>

   
   
    <dt>

     httpauthtype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.httpauth" class="link">HTTP 認証方式の定数</a>。
     </span>
    </dd>

   
   
    <dt>

     (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">プロキシに関連するオプション</strong>
   
    <dt>

     proxyhost (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      &quot;host[:port]&quot; 形式のプロキシホスト。
     </span>
    </dd>

   
   
    <dt>

     proxyport (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      proxyhost で指定したものとは別のポートを使用する場合のプロキシポート。
     </span>
    </dd>

   
   
    <dt>

     proxytype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.proxy" class="link">HTTP プロキシ形式の定数</a>。
     </span>
    </dd>

   
   
    <dt>

     proxyauth (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      &quot;user:pass&quot; 形式のプロキシ認証情報。
     </span>
    </dd>

   
   
    <dt>

     proxyauthtype (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      <a href="http.constants.html#http.constants.request.httpauth" class="link">HTTP 認証形式の定数</a>。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">転送に関連するオプション</strong>
   
    <dt>

     compress (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      gzip/deflate エンコードされたレスポンスを受け入れるかどうか。
     </span>
    </dd>

   
   
    <dt>

     resume (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      サーバーがサポートしている場合 (レスポンスコード 206)
      に、指定したバイトオフセットからダウンロードを開始する。
     </span>
    </dd>

   
   
    <dt>

     range (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      配列の配列で、それぞれ二つの <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> を含み。
      ダウンロードする範囲を指定する。
      サーバーがサポートしており (レスポンスコード 206)、
      resume オプションが空の場合にのみ有効。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">制限に関連するオプション</strong>
   
    <dt>

     maxfilesize (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      ダウンロードできるファイルサイズの最大値。
      リクエストされたエンティティのサイズが取得できない場合
      (動的なページで分割して転送している場合など)
      には無意味。
     </span>
    </dd>

   
   
    <dt>

     low_speed_limit (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リクエストが成功するために必要な最低限の転送速度。
     </span>
    </dd>

   
   
    <dt>

     low_speed_time (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      リクエストが成功するために、
      <em>low_speed_limit</em>
      以上で転送しなければならない時間。
     </span>
    </dd>

   
   
    <dt>

     max_send_speed (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      最大の送信速度。バイト毎秒。
     </span>
    </dd>

   
   
    <dt>

     max_recv_speed (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)
    </dt>

    <dd>

     <span class="simpara">
      最大の受信速度。バイト毎秒。
     </span>
    </dd>

   
  </dl>

  <dl>

   <strong class="title">コールバックオプション</strong>
   
    <dt>
onprogress (<span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>)</dt>

    <dd>
<span class="simpara">進捗状況のコールバック。</span></dd>

   
  </dl>

  <dl>

   <strong class="title">ネットワークオプション</strong>
   
    <dt>
interface (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

    <dd>
<span class="simpara">送信用のネットワークインターフェイス (ifname、ip あるいは hostname)。</span></dd>

   
   
    <dt>
portrange (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)</dt>

    <dd>
<span class="simpara">二つの整数で指定する、送信用のポートの範囲。</span></dd>

   
  </dl>

  <dl>

   <strong class="title">SSL オプション</strong>
   
    <dt>

     ssl (<span class="type"><a href="language.types.array.html" class="type array">array</a></span>)
    </dt>

    <dd>

     <blockquote class="note"><p><strong class="note">注意</strong>: 
      <span class="simpara">SSL のオプションは、オプション名 &quot;ssl&quot; の配列として指定します。</span>
     </p></blockquote>
     <dl>

      
       <dt>
cert (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">証明書へのパス。</span></dd>

      
      
       <dt>
certtype (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">証明書の形式。</span></dd>

      
      
       <dt>
certpasswd (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">証明書のパスワード。</span></dd>

      
      
       <dt>
key (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">鍵へのパス。</span></dd>

      
      
       <dt>
keytype (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">鍵の形式。</span></dd>

      
      
       <dt>
keypasswd (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">鍵のパスワード。</span></dd>

      
      
       <dt>
engine (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">使用する ssl エンジン。</span></dd>

      
      
       <dt>
version (<span class="type"><a href="language.types.integer.html" class="type int">int</a></span>)</dt>

       <dd>
<span class="simpara">使用する ssl バージョン。</span></dd>

      
      
       <dt>
verifypeer (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)</dt>

       <dd>
<span class="simpara">相手側を検証するかどうか。</span></dd>

      
      
       <dt>
verifyhost (<span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>)</dt>

       <dd>
<span class="simpara">ホストを検証するかどうか。</span></dd>

      
      
       <dt>
cipher_list (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara">利用できる暗号形式の一覧。</span></dd>

      
      
       <dt>
cainfo (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
capath (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
random_file (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
      
       <dt>
egdsocket (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)</dt>

       <dd>
<span class="simpara"/></dd>

      
     </dl>

    </dd>

   
  </dl>

</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="107861""></a>
  <div class="note">
   <strong class="user">sandeepone at gmail dot com</strong>
   <a href="#107861" class="date">11-Mar-2012 03:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If someone looking how to use in OOP's context:<br />
<br />
$options = array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'useragent'&nbsp; &nbsp; &nbsp; =&gt; "Firefox (+<a href="http://www.firefox.org" rel="nofollow" target="_blank">http://www.firefox.org</a>)", // who am i <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'connecttimeout' =&gt; 120, // timeout on connect <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'timeout'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 120, // timeout on response <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'redirect'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; 10, // stop after 10 redirects<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 'referer'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; =&gt; "<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
$request = new HttpRequest('<a href="http://example.com" rel="nofollow" target="_blank">http://example.com</a>');<br />
$request-&gt;setOptions($options);<br />
$request-&gt;send();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82052""></a>
  <div class="note">
   <strong class="user">dav7 dot net at php (reverse)</strong>
   <a href="#82052" class="date">26-Mar-2008 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If anyone doesn't understand the purpose of these values and is scratching their head, they're all array indexes, and are used as the $option parameter to the various HTTP functions documented in this section. For example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $body </span><span class="keyword">= </span><span class="default">http_get</span><span class="keyword">(</span><span class="string">'<a href="http://example.com/private_area/" rel="nofollow" target="_blank">http://example.com/private_area/</a>'</span><span class="keyword">, array(</span><span class="default">httpauth </span><span class="keyword">=&gt; </span><span class="string">'username:password'</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$body</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This only had me "...huh?!" for a little while, but might have others confused for longer as the fact that these are what they are isn't clearly printed anywhere... to find out that these did what they say they do was a guessing game for me even.<br />
<br />
-dav7</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
