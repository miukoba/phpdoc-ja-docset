<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>else</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="control-structures.if.html">≪ if</a></li>
      <li style="float: right;"><a href="control-structures.elseif.html">elseif/else if ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.control-structures.html">制御構造</a></li>
    <li>else</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="control-structures.else" class="sect1">
 <h2 class="title"><em>else</em></h2>
 <p class="verinfo">(PHP 4, PHP 5)</p>
 <p class="para">
  ある条件が満たされている場合にある文を実行し、
  その条件が満たされていない場合に別の文を実行したいと考えた
  ことが度々あるかと思います。
  このために<em>else</em>があります。
  <em>else</em>は、<em>if</em>文における式の値が
  <strong><code>FALSE</code></strong>の場合にある文を
  実行するように<em>if</em>文を拡張します。
  例えば、次のコードは、<var class="varname"><var class="varname">$a</var></var>が
  <var class="varname"><var class="varname">$b</var></var>よりも大きい場合に
  <span class="computeroutput">aはbより大きい</span>と表示し、
  そうでない場合に、
  <span class="computeroutput">aはbよりも大きくない</span>と表示します。
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"aはbよりも大きい"</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"aはbよりも大きくない"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <em>else</em> 文は、<em>if</em>式が
  <strong><code>FALSE</code></strong>と評価された場合のみ実行されます。
  また、<em>elseif</em>式がある場合には、それも
  <strong><code>FALSE</code></strong>と評価された場合にのみ実行されます。
  (<a href="control-structures.elseif.html" class="link">elseif</a>参照)

 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104753""></a>
  <div class="note">
   <strong class="user">php at keith tyler dot com</strong>
   <a href="#104753" class="date">05-Jul-2011 07:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is valid syntax:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if (</span><span class="default">$a</span><span class="keyword">) print </span><span class="string">"a is true"</span><span class="keyword">;
<br />
else print </span><span class="string">"a is false"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
A holdover from the bash-style compatibility in older PHP versions, perhaps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100656""></a>
  <div class="note">
   <strong class="user">smoldar at gmail dot com</strong>
   <a href="#100656" class="date">28-Oct-2010 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use the if to make a Yes/No field, verify if the statement is real or not and show the correct option checked.
<br />

<br />
<span class="default">&lt;?php </span><span class="keyword">if(</span><span class="default">$variable </span><span class="keyword">== </span><span class="string">'S'</span><span class="keyword">) {</span><span class="default">?&gt;
<br />
</span>&lt;input name="blah" type="radio" value="Y" checked="checked"&gt; Yes
<br />
&lt;input name="blah" type="radio" value="N"&gt; No
<br />
<span class="default">&lt;?php </span><span class="keyword">} else {</span><span class="default">?&gt;
<br />
</span>&lt;input name="blah" type="radio" value="Y"&gt; Yes
<br />
&lt;input name="blah" type="radio" value="N" checked="checked"&gt; No
<br />
<span class="default">&lt;?php </span><span class="keyword">}</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92972""></a>
  <div class="note">
   <strong class="user">Larry H-C</strong>
   <a href="#92972" class="date">17-Aug-2009 07:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you escape out of HTML, you can get an UNEXPECTED T_ELSE error with the following:<br />
<br />
Error:<br />
<br />
&lt;? if( $condition ) { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; dosomething; <br />
&nbsp;&nbsp; } <br />
?&gt;<br />
<br />
&lt;? else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; dosomethingelse; <br />
&nbsp;&nbsp; } <br />
?&gt;<br />
<br />
Correct:<br />
<br />
&lt;? if( $condition ) { <br />
&nbsp;&nbsp; &nbsp; &nbsp; dosomething; <br />
?&gt;<br />
<br />
&lt;? } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; dosomethingelse; <br />
&nbsp;&nbsp; } <br />
?&gt;<br />
<br />
Apparently the compiler thinks a ?&gt; &lt;? breaks the connection between the } and the else</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82771""></a>
  <div class="note">
   <strong class="user">Theoden</strong>
   <a href="#82771" class="date">25-Apr-2008 02:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
At Caliban Darklock<br />
<br />
I don't know if it is just improvements in the parser, but there is a negligible difference in the performance of "elseif" vs "else if" as of version 5. One thousandth of a second in your example and 8 thousandths if the eval statement is repeated 5 times. <br />
If the constructs are in regular code, then there appears to be no difference. This leads me to believe that the difference in the eval code is from there being an extra parser token. <br />
<br />
Also the main performance burden of recursive functions is the stack operations of changing the context. In this case I believe that it would parse to very similar (if not identical) jmp controls.<br />
<br />
In summary, use your preference. Readability and maintainability rank far higher on the priority scale.<br />
<br />
One Additional note, there appears to be a limit of the number of "else if" statements (perhaps nested statements in general) that php will handle before starting to get screwy. This limit is about 1100. "elseif" is not affected by this.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82472""></a>
  <div class="note">
   <strong class="user">dormeydo at gmail dot com</strong>
   <a href="#82472" class="date">12-Apr-2008 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An alternative and very useful syntax is the following one:<br />
<br />
statement ? execute if true : execute if false<br />
<br />
Ths is very usefull for dynamic outout inside strings, for example:<br />
<br />
print('$a is ' . ($a &gt; $b ? 'bigger than' : ($a == $b ? 'equal to' : 'smaler than' )) .&nbsp; '&nbsp; $b');<br />
<br />
This will print "$a is smaler than $b" is $b is bigger than $a, "$a is bigger than $b" if $a si bigger and "$a is equal to $b" if they are same.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76636""></a>
  <div class="note">
   <strong class="user">mitch at mitchellbeaumont dot com</strong>
   <a href="#76636" class="date">24-Jul-2007 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
At gwmpro at yahoo dot com<br />
<br />
The curly brace is not required however, for readability and maintenance, many developers would consider it bad style not to include them.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47252""></a>
  <div class="note">
   <strong class="user">Caliban Darklock</strong>
   <a href="#47252" class="date">08-Nov-2004 08:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're coming from another language that does not have the "elseif" construct (e.g. C++), it's important to recognise that "else if" is a nested language construct and "elseif" is a linear language construct; they may be compared in performance to a recursive loop as opposed to an iterative loop. <br />
<br />
<span class="default">&lt;?php<br />
$limit</span><span class="keyword">=</span><span class="default">1000</span><span class="keyword">;<br />
for(</span><span class="default">$idx</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$idx</span><span class="keyword">&lt;</span><span class="default">$limit</span><span class="keyword">;</span><span class="default">$idx</span><span class="keyword">++)&nbsp; <br />
{ </span><span class="default">$list</span><span class="keyword">[]=</span><span class="string">"if(false) echo \"</span><span class="default">$idx</span><span class="string">;\n\"; else"</span><span class="keyword">; }<br />
</span><span class="default">$list</span><span class="keyword">[]=</span><span class="string">" echo \"</span><span class="default">$idx</span><span class="string">\n\";"</span><span class="keyword">;<br />
</span><span class="default">$space</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$list</span><span class="keyword">);| </span><span class="comment">// if ... else if ... else<br />
</span><span class="default">$nospace</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$list</span><span class="keyword">); </span><span class="comment">// if ... elseif ... else<br />
</span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
eval(</span><span class="default">$space</span><span class="keyword">);<br />
</span><span class="default">$end</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
echo </span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start </span><span class="keyword">. </span><span class="string">" seconds\n"</span><span class="keyword">;<br />
</span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
eval(</span><span class="default">$nospace</span><span class="keyword">);<br />
</span><span class="default">$end</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
echo </span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start </span><span class="keyword">. </span><span class="string">" seconds\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This test should show that "elseif" executes in roughly two-thirds the time of "else if". (Increasing $limit will also eventually cause a parser stack overflow error, but the level where this happens is ridiculous in real world terms. Nobody normally nests if() blocks to more than a thousand levels unless they're trying to break things, which is a whole different problem.)<br />
<br />
There is still a need for "else if", as you may have additional code to be executed unconditionally at some rung of the ladder; an "else if" construction allows this unconditional code to be elegantly inserted before or after the entire rest of the process. Consider the following elseif() ladder:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$a</span><span class="keyword">) { </span><span class="default">conditional1</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$b</span><span class="keyword">) { </span><span class="default">conditional2</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$c</span><span class="keyword">) { </span><span class="default">conditional3</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$d</span><span class="keyword">) { </span><span class="default">conditional4</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$e</span><span class="keyword">) { </span><span class="default">conditional5</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$f</span><span class="keyword">) { </span><span class="default">conditional6</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$g</span><span class="keyword">) { </span><span class="default">conditional7</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$h</span><span class="keyword">) { </span><span class="default">conditional8</span><span class="keyword">(); }<br />
else { </span><span class="default">conditional9</span><span class="keyword">(); }<br />
</span><span class="default">?&gt;<br />
</span><br />
To insert unconditional preprocessing code for $e onward, one need only split the "elseif":<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$a</span><span class="keyword">) { </span><span class="default">conditional1</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$b</span><span class="keyword">) { </span><span class="default">conditional2</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$c</span><span class="keyword">) { </span><span class="default">conditional3</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$d</span><span class="keyword">) { </span><span class="default">conditional4</span><span class="keyword">(); }<br />
else {<br />
....</span><span class="default">unconditional</span><span class="keyword">();<br />
....if(</span><span class="default">$e</span><span class="keyword">) { </span><span class="default">conditional5</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$f</span><span class="keyword">) { </span><span class="default">conditional6</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$g</span><span class="keyword">) { </span><span class="default">conditional7</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$h</span><span class="keyword">) { </span><span class="default">conditional8</span><span class="keyword">(); }<br />
....else { </span><span class="default">conditional9</span><span class="keyword">(); }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The alternative is to duplicate the unconditional code throughout the construct.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
