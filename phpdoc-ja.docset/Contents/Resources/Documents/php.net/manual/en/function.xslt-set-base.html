<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>全ての XSLT 変換用の基準 URI を設定する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.xslt-process.html">≪ xslt_process</a></li>
      <li style="float: right;"><a href="function.xslt-set-encoding.html">xslt_set_encoding ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.xslt.html">XSLT (PHP 4) 関数</a></li>
    <li>全ての XSLT 変換用の基準 URI を設定する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.xslt-set-base" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">xslt_set_base</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.5)</p><p class="refpurpose"><span class="refname">xslt_set_base</span> &mdash; <span class="dc-title">全ての <acronym title="eXtensible Stylesheet Language Transformations">XSLT</acronym> 変換用の基準 URI を設定する</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.xslt-set-base-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>xslt_set_base</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$xh</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$uri</code></span>
   )</div>

  <p class="para rdfs-comment">
   全てのXSLT変換の基準URIを設定します。基準URIは、外部リソースにア
   クセスするdocument()及び他のコマンドを解決する際にXpath命令に関し
   て使用されます。
   また、<em>&lt;xsl:include&gt;</em> と <em>&lt;xsl:import&gt;</em> 要素のための
   URI を解決するために使用されます。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.xslt-set-base-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    <dt>
<code class="parameter">
xh</code></dt>
<dd>
<p class="para"><span class="function"><a href="function.xslt-create.html" class="function">xslt_create()</a></span> で作成した
<acronym title="eXtensible Stylesheet Language Transformations">XSLT</acronym> プロセッサリンク ID。</p></dd>


    
     <dt>
<code class="parameter">uri</code></dt>

     <dd>

      <p class="para">
       使用するベース URI。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.xslt-set-base-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   値を返しません。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.xslt-set-base-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.3.0</td>
       <td>
        4.3 以降、デフォルトのベース URI
        は実行しているスクリプトのディレクトリです。
        実際には <strong><code>__FILE__</code></strong> 定数の値のディレクトリ名です。
        4.3 以前では、デフォルトのベース URI はほとんど予想できません。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.xslt-set-base-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: <p class="para">Windows を使用している場合、
<em class="emphasis">file://</em> がパスの前に必要であることに注意してください。
</p></p></blockquote>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="81411""></a>
  <div class="note">
   <strong class="user">h0bby1 at yahoo dot com</strong>
   <a href="#81411" class="date">27-Feb-2008 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i use xslt and page can be generated in two mode, one using &lt;? xml-stylesheet href='page.xsl' &gt;, one other using the php sablotron lib, the first one use path relative to the xsl file for includes , but the second with sablotron consider all the includes as relative to the set base path, is there any way to get sablotron to resolve include as relative to xslt file instead of the set_base for all files ?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46248""></a>
  <div class="note">
   <strong class="user">edmon at oohaa dot net</strong>
   <a href="#46248" class="date">04-Oct-2004 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$filebase = 'file://' . getcwd () . '/xsl/';<br />
&nbsp;&nbsp; xslt_set_base($xsltproc, $filebase);<br />
<br />
file:// is needed for linux too.<br />
php 4.3.8</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40630""></a>
  <div class="note">
   <strong class="user">Kelvin Cheng</strong>
   <a href="#40630" class="date">10-Mar-2004 11:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It works great on my windows platform as below.<br />
<br />
<span class="default">&lt;?php<br />
$xh </span><span class="keyword">= </span><span class="default">xslt_create</span><span class="keyword">();<br />
</span><span class="default">$fileBase </span><span class="keyword">= </span><span class="string">'file://' </span><span class="keyword">. </span><span class="default">getcwd </span><span class="keyword">() . </span><span class="string">'/'</span><span class="keyword">;<br />
</span><span class="default">xslt_set_base </span><span class="keyword">( </span><span class="default">$xh</span><span class="keyword">, </span><span class="default">$fileBase </span><span class="keyword">);<br />
<br />
...<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Actually, it make use of the getcwd() to get the current directory. Hope it can help.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
