<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>引数が、関数としてコール可能な構造であるかどうかを調べる</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.is-bool.html">≪ is_bool</a></li>
      <li style="float: right;"><a href="function.is-double.html">is_double ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.var.html">変数操作 関数</a></li>
    <li>引数が、関数としてコール可能な構造であるかどうかを調べる</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.is-callable" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">is_callable</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5)</p><p class="refpurpose"><span class="refname">is_callable</span> &mdash; <span class="dc-title">
   引数が、関数としてコール可能な構造であるかどうかを調べる
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.is-callable-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>is_callable</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$name</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$syntax_only</code><span class="initializer"> = false</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$callable_name</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   引数の内容が、関数としてコール可能かどうかを調べます。
   変数が有効な関数名かどうかを調べたり、配列の中に適切に
   エンコードされたオブジェクトと関数名が格納されているかどうかを
   調べたりすることが可能です。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.is-callable-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">name</code></dt>

     <dd>

      <p class="para">
       チェックするコールバック関数。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">syntax_only</code></dt>

     <dd>

      <p class="para">
       <strong><code>TRUE</code></strong> の場合、この関数は単に <code class="parameter">name</code>
       が関数またはメソッドであるかどうかだけを調べます。
       文字列以外の型の変数や不正な形式の配列は、
       引数として受け付けられません。有効な配列の形式は、
       最初のエントリがオブジェクトあるいは文字列で、2 番目のエントリが文字列である
       2 つのエントリからなるものです。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">callable_name</code></dt>

     <dd>

      <p class="para">
       &quot;呼び出し名&quot; を受け取ります。下の例では &quot;someClass::someMethod&quot;
       です。これは someClass::SomeMethod() が static メソッドであるかのようにみえますが、
       そうではないことに注意しましょう。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.is-callable-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <code class="parameter">name</code> がコール可能な場合に <strong><code>TRUE</code></strong>、
   それ以外の場合に <strong><code>FALSE</code></strong> を返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.is-callable-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5364">
    <p><strong>例1 <span class="function"><strong>is_callable()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;&nbsp;変数が、関数としてコール可能かどうかを確かめます。<br /><br />//<br />//&nbsp;&nbsp;関数名を含む単純な配列<br />//<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">someFunction</span><span style="color: #007700">()&nbsp;<br />{<br />}<br /><br /></span><span style="color: #0000BB">$functionVariable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'someFunction'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">is_callable</span><span style="color: #007700">(</span><span style="color: #0000BB">$functionVariable</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callable_name</span><span style="color: #007700">));&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;bool(true)<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$callable_name</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;someFunction<br /><br />//<br />//&nbsp;&nbsp;メソッドを含む配列<br />//<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">someClass&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">someMethod</span><span style="color: #007700">()&nbsp;<br />&nbsp;&nbsp;{<br />&nbsp;&nbsp;}<br /><br />}<br /><br /></span><span style="color: #0000BB">$anObject&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">someClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$methodVariable&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">$anObject</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'someMethod'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">is_callable</span><span style="color: #007700">(</span><span style="color: #0000BB">$methodVariable</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$callable_name</span><span style="color: #007700">));&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&nbsp;bool(true)<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$callable_name</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&nbsp;someClass::someMethod<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>   
  </p>   
 </div>


 <div class="refsect1 seealso" id="refsect1-function.is-callable-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.function-exists.html" class="function" rel="rdfs-seeAlso">function_exists()</a> - 指定した関数が定義されている場合に TRUE を返す</span></li>
    <li class="member"><span class="function"><a href="function.method-exists.html" class="function" rel="rdfs-seeAlso">method_exists()</a> - クラスメソッドが存在するかどうかを確認する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="111601""></a>
  <div class="note">
   <strong class="user">wowkise at gmail dot com</strong>
   <a href="#111601" class="date">07-Mar-2013 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
beware calling is_callable on class that has the same method name will return false, i filed a bug report to be included in function description as example<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test </span><span class="keyword">{<br />
&nbsp;function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;}<br />
}<br />
</span><span class="default">$class </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">();<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">([</span><span class="default">$class</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">]));<br />
</span><span class="default">?&gt;<br />
</span><br />
will return false</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110791""></a>
  <div class="note">
   <strong class="user">np dot liamg at gmail dot com</strong>
   <a href="#110791" class="date">08-Dec-2012 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_callable() will try __autoload(), if have one.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108636""></a>
  <div class="note">
   <strong class="user">Athari</strong>
   <a href="#108636" class="date">13-May-2012 12:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For closures, the function will return true and $callable_name will be set to "Closure::__invoke".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107105""></a>
  <div class="note">
   <strong class="user">passivesmoking AT yahoo DOT com</strong>
   <a href="#107105" class="date">07-Jan-2012 03:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_callable doesn't seem able to resolve namespaces.&nbsp; If you're passing a string, then the string has to include the function's full namespace.&nbsp; <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">foo</span><span class="keyword">\</span><span class="default">bar</span><span class="keyword">\</span><span class="default">baz</span><span class="keyword">;<br />
<br />
function </span><span class="default">something </span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">42</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">var_dump </span><span class="keyword">(</span><span class="default">is_callable </span><span class="keyword">(</span><span class="string">'something'</span><span class="keyword">)); </span><span class="comment">// false<br />
</span><span class="default">var_dump </span><span class="keyword">(</span><span class="default">is_callable </span><span class="keyword">(</span><span class="string">'foo\bar\baz\something'</span><span class="keyword">)); </span><span class="comment">// true<br />
</span><span class="default">?&gt;<br />
</span><br />
It's easy to forget, but if you just prepend __NAMESPACE__ to your function name strings you should be fine in most cases.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104633""></a>
  <div class="note">
   <strong class="user">fgm at osinet dot fr</strong>
   <a href="#104633" class="date">27-Jun-2011 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that, for the purpose of this function, an abstract method, although necessarily non-callable since it does not have a body, is still considered to be callable:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">Foo </span><span class="keyword">{ <br />
&nbsp; abstract function </span><span class="default">bar</span><span class="keyword">(); <br />
}<br />
<br />
echo </span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="string">'Foo'</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">));<br />
</span><span class="comment">// display: 1<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104632""></a>
  <div class="note">
   <strong class="user">Andy at txtNation dot com</strong>
   <a href="#104632" class="date">27-Jun-2011 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that is_callable is aware of context, and you can ask it things like parent::__construct from within a child constructor<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">extends </span><span class="default">TestClassParent </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/** @brief Object initialisation callback<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; @returns void */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">() {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># do initialisation <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # ...<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # if we have a parent <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">'parent::__construct'</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># then bubble up <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100237""></a>
  <div class="note">
   <strong class="user">colin</strong>
   <a href="#100237" class="date">03-Oct-2010 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I haven't seen anyone note this before, but is_callable will correctly determine the existence of methods made with __call. The method_exists function will not.<br />
<br />
Example:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Test </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">testing</span><span class="keyword">(</span><span class="default">$not </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$not </span><span class="keyword">= </span><span class="default">$not </span><span class="keyword">? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"testing - not: </span><span class="default">$not</span><span class="string">&lt;br/&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^not([A-Z]\w+)$/'</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fn_name </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$fn_name</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="default">true</span><span class="keyword">; </span><span class="comment">// add NOT boolean to args<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="string">"No method with name: </span><span class="default">$name</span><span class="string">&lt;br/&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
<br />
</span><span class="default">$t </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">();<br />
</span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">testing</span><span class="keyword">();<br />
</span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">notTesting</span><span class="keyword">();<br />
<br />
echo </span><span class="string">"exists: "</span><span class="keyword">.</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">'notTesting'</span><span class="keyword">).</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">"callable: "</span><span class="keyword">.</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">'notTesting'</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
testing - not: false<br />
testing - not: true<br />
exists:<br />
callable: 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98365""></a>
  <div class="note">
   <strong class="user">Constantin Kpplinger</strong>
   <a href="#98365" class="date">10-Jun-2010 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems the only issue left with is_callable() is the disable_functions ini-setting. Apart from that, is_callable() will reliably evaluate whether the passed function or method can be called from within the same context is_callable() was called from, taking visibility and inheritance into account. This includes functions, regular and static methods, magic functions and methods and implemented interfaces (which are regular methods within the implementing class anyway).<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">regular_function</span><span class="keyword">() {}<br />
<br />
abstract class </span><span class="default">ParentTest<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">public_parent_method</span><span class="keyword">() {}<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">protected_parent_method</span><span class="keyword">() {}<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">static_method</span><span class="keyword">() {}<br />
&nbsp;&nbsp;&nbsp; protected static function </span><span class="default">protected_static_method</span><span class="keyword">() {}<br />
}<br />
<br />
class </span><span class="default">CallableTest </span><span class="keyword">extends </span><span class="default">ParentTest </span><span class="keyword">implements </span><span class="default">Countable<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__invoke</span><span class="keyword">() { } </span><span class="comment">// Introduced in 5.3, see <a href="http://php.net/manual/language.oop5.magic.php" rel="nofollow" target="_blank">http://php.net/manual/language.oop5.magic.php</a><br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected function </span><span class="default">protected_method</span><span class="keyword">() { }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Countable<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">count</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">CallableTest</span><span class="keyword">();<br />
<br />
</span><span class="comment">// Regular function:<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">'regular_function'</span><span class="keyword">)); </span><span class="comment">// true<br />
<br />
// Magic __invoke method:<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">)); </span><span class="comment">// true if PHP &gt;= 5.3, false otherwise<br />
<br />
// Countable implementation (regular method really):<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'count'</span><span class="keyword">))); </span><span class="comment">// true<br />
<br />
// Protected method from outside the object's scope:<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'protected_method'</span><span class="keyword">))); </span><span class="comment">// false<br />
<br />
// Protected method from inside the object's scope via public proxy method:<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'protected_method'</span><span class="keyword">))); </span><span class="comment">// true<br />
<br />
// Parent's public method<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'public_parent_method'</span><span class="keyword">))); </span><span class="comment">// true<br />
<br />
// Parent's protected method<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'protected_parent_method'</span><span class="keyword">))); </span><span class="comment">// false<br />
<br />
// Parent's protected method via proxy<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="default">$o</span><span class="keyword">, </span><span class="string">'protected_parent_method'</span><span class="keyword">))); </span><span class="comment">// true<br />
<br />
// Parent's static public method<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">'CallableTest::static_method'</span><span class="keyword">)); </span><span class="comment">// true<br />
<br />
// Parent's static protected method<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">'CallableTest::protected_static_method'</span><span class="keyword">)); </span><span class="comment">// false<br />
<br />
// Parent's static protected method via proxy<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">is_callable</span><span class="keyword">(</span><span class="string">'CallableTest::protected_static_method'</span><span class="keyword">)); </span><span class="comment">// true<br />
</span><span class="default">?&gt;<br />
</span><br />
Tested PHP versions were 5.2.9 on openSUSE 10.3 (x64) and 5.3.1 on Windows Server 2003 (x86).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89100""></a>
  <div class="note">
   <strong class="user">juand at softwarecubes dot com</strong>
   <a href="#89100" class="date">21-Feb-2009 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Revised function with static support:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**
<br />
&nbsp;&nbsp;&nbsp; * The is_callable php function only considers methods declared in the class itself, and ignores the parent's.
<br />
&nbsp;&nbsp;&nbsp; * This version considers all of the hierarchy.
<br />
&nbsp;&nbsp;&nbsp; * 
<br />
&nbsp;&nbsp;&nbsp; * @param (string|Object) $class_name
<br />
&nbsp;&nbsp;&nbsp; * @param string $method_name
<br />
&nbsp;&nbsp;&nbsp; * @param bool $static the method being tested is static.
<br />
&nbsp;&nbsp;&nbsp; */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public static function </span><span class="default">isCallable</span><span class="keyword">( </span><span class="default">$class_name</span><span class="keyword">, </span><span class="default">$method_name</span><span class="keyword">, </span><span class="default">$static </span><span class="keyword">= </span><span class="default">false </span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( !</span><span class="default">is_string</span><span class="keyword">( </span><span class="default">$class_name </span><span class="keyword">) ){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$class_name </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$class_name </span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Define Callable
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( </span><span class="default">$static </span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$callable </span><span class="keyword">= </span><span class="string">"</span><span class="keyword">{</span><span class="default">$class_name</span><span class="keyword">}</span><span class="string">::</span><span class="keyword">{</span><span class="default">$method_name</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$callable </span><span class="keyword">= array( </span><span class="default">$class_name</span><span class="keyword">, </span><span class="default">$method_name </span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Check class itself
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( @</span><span class="default">is_callable</span><span class="keyword">( </span><span class="default">$callable </span><span class="keyword">) === </span><span class="default">true </span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$method_name </span><span class="keyword">== </span><span class="string">'setEmailAddressTypeHash' </span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ErrorHandler</span><span class="keyword">::</span><span class="default">preDump</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Check all parents
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">while( </span><span class="default">$parent_class </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">( </span><span class="default">$class_name </span><span class="keyword">) ){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( @</span><span class="default">is_callable</span><span class="keyword">( </span><span class="default">$callable </span><span class="keyword">) === </span><span class="default">true </span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$class_name </span><span class="keyword">= </span><span class="default">$parent_class</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83315""></a>
  <div class="note">
   <strong class="user">Rafael M. Salvioni</strong>
   <a href="#83315" class="date">20-May-2008 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The PHP's function is_callable not verify the visibility of the tested method.<br />
<br />
The following function uses the Reflection classes of the PHP5 to check it.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Function is_callback().<br />
&nbsp;*<br />
&nbsp;* @param mixed $var Var<br />
&nbsp;* @return bool<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">is_callback</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) == </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) &amp;&amp; !</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])) || (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) &amp;&amp; !</span><span class="default">class_exists</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]))) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$isObj </span><span class="keyword">= </span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$isObj </span><span class="keyword">? </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) : </span><span class="default">$var</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">isAbstract</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; try {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$method </span><span class="keyword">= </span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">getMethod</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$method</span><span class="keyword">-&gt;</span><span class="default">isPublic</span><span class="keyword">() || </span><span class="default">$method</span><span class="keyword">-&gt;</span><span class="default">isAbstract</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">$isObj </span><span class="keyword">&amp;&amp; !</span><span class="default">$method</span><span class="keyword">-&gt;</span><span class="default">isStatic</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } catch (</span><span class="default">ReflectionException $e</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } elseif (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) &amp;&amp; </span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81511""></a>
  <div class="note">
   <strong class="user">rahadotaboulfethatgmail.com</strong>
   <a href="#81511" class="date">02-Mar-2008 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_callable generates an [E_STRICT] error if the&nbsp; tested method cannot be called staticly. (and returns the good value)<br />
<br />
I used @is_called <br />
i'm using php 5.2.1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79151""></a>
  <div class="note">
   <strong class="user">Quis strrev TA omicidio strrev TOD com</strong>
   <a href="#79151" class="date">14-Nov-2007 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_callable() does _not_ check wheter this function is disabled by php.ini's disable_functions<br />
<br />
use:<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">function </span><span class="default">is_disabled</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$disabled_functions</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">,</span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">'disable_functions'</span><span class="keyword">));<br />
&nbsp; return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$disabled_functions</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I`m running PHP 5.2.4</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78618""></a>
  <div class="note">
   <strong class="user">mw at NO-SPAM hire mason wolf dot com</strong>
   <a href="#78618" class="date">19-Oct-2007 04:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As empyone noted, early versions of php 5 incorrectly returned true if is_callable checked on a protected or private method. Later versions of php 5 will now only return true if the method is public and can be called externally. I do not know precisely when this behavior was changed, so you may have to test on your own. But sometime between 5.0.4, which empyone said he was using, and 5.2.4 where I tested it myself, the behavior was modified.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69149""></a>
  <div class="note">
   <strong class="user">hcblue</strong>
   <a href="#69149" class="date">24-Aug-2006 10:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
True that method_exists() is faster than is_callable(). However, is_callable() will be able to correctly recognize method calls handled by __call() in PHP 5, while method_exists() will not.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61801""></a>
  <div class="note">
   <strong class="user">jphp at dsf dot org dot uk</strong>
   <a href="#61801" class="date">12-Feb-2006 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
bob at theshirdshift:<br />
<br />
"function_exists" doesn't do this, no, but "method_exists" works fine, and is still faster than is_callable:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; </span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">$start_time</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] + </span><span class="default">$start_time</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; </span><span class="default">$end_time </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$end_time </span><span class="keyword">= </span><span class="default">$end_time</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] + </span><span class="default">$end_time</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">$end_time </span><span class="keyword">- </span><span class="default">$start_time</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">$time</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
class </span><span class="default">test<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; function </span><span class="default">test</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp; }<br />
&nbsp;<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
<br />
</span><span class="default">$callableIsTrue </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$startIsCallable </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">))) { </span><span class="default">$callableIsTrue </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; }<br />
&nbsp; }<br />
</span><span class="default">$endIsCallable </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
<br />
</span><span class="default">$existsIsTrue </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$startExists </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">method_exists</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">)) { </span><span class="default">$existsIsTrue </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; }<br />
&nbsp; }<br />
</span><span class="default">$endExists </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
<br />
</span><span class="default">$timeIsCallable </span><span class="keyword">= </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$startIsCallable</span><span class="keyword">, </span><span class="default">$endIsCallable</span><span class="keyword">);<br />
</span><span class="default">$timeExists&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$startExists</span><span class="keyword">, </span><span class="default">$endExists</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"&lt;b&gt;is_callable = "</span><span class="keyword">.(</span><span class="default">$callableIsTrue </span><span class="keyword">? </span><span class="string">"TRUE" </span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;/b&gt;, \n"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;b&gt;method_exists = "</span><span class="keyword">.(</span><span class="default">$existsIsTrue </span><span class="keyword">? </span><span class="string">"TRUE" </span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;/b&gt;&lt;br&gt;\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;br&gt;Did 10000 is_callables in "</span><span class="keyword">.</span><span class="default">$timeIsCallable</span><span class="keyword">.</span><span class="string">" seconds"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;br&gt;Did 10000 method_exists in "</span><span class="keyword">.</span><span class="default">$timeExists</span><span class="keyword">.</span><span class="string">" seconds"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
is_callable = TRUE, method_exists = TRUE<br />
<br />
Did 10000 is_callables in 0.410346984863 seconds<br />
Did 10000 method_exists in 0.175447940826 seconds</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59778""></a>
  <div class="note">
   <strong class="user">yetanotheruser at hotmail etc</strong>
   <a href="#59778" class="date">15-Dec-2005 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have come across a strange oddity in versions around the 4.3.11 mark - I may have missunderstood the purpose of this function but hope this'll be helpful for some.<br />
<br />
The point the code below is supposed to illustrate is that in some cases with <br />
<br />
&nbsp;&nbsp;&nbsp; &lt;? $myFunc = Array( $myObj, 'myMethod' ); ?&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;? is_callable( $myFunc, true, $callMe ); ?&gt;<br />
<br />
will return true, and give you $callMe set to myObj::myMethod but calling <br />
<br />
&nbsp;&nbsp;&nbsp; &lt;? $callMe(); ?&gt;<br />
<br />
doesn't work... however calling<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;? $myFunc[0]-&gt;$myFunc[1](); ?&gt;<br />
<br />
seems to work fine..<br />
<br />
... the reason all the code is down there is I think this oddity is due to how/the order in which I've instantiated my classes or something... <br />
<br />
anyhow... HTH someone! :-)<br />
<br />
Code follows:<br />
<br />
FILE 1 :<br />
&lt;?<br />
&nbsp;&nbsp;&nbsp; include('myTools');<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $foo = new myClass();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; print $foo-&gt;getMySource();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; class myClass{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var $flibble = 'wibble';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function myClass(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Initialise loads of stuff.. including..<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;tools = new myTools();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function getMySource(){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // This just returns the source.. ok, like some HTML to go into an email for example.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Some arguments;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $args&nbsp;&nbsp; = $this-&gt;flibble;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Call our Tool that returns the source.. <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $source = $this-&gt;tools-&gt;returnSource( Array ( $this, 'someHTML' ), $args );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // and return it..<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return ( $source );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function someHTML($args){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Leave PHP<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ?&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Here is some HTML.. that we want to build outside a PHP block,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; possibly just cos it's tidier in &lt;B&gt;your favourite text editor&lt;/B&gt;.. <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; .. or you want this function to be elsewhere.. for your designers<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; to play with etc.. ... incidentally I'd like to say "<span class="default">&lt;?=$args?&gt;</span>" etc.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;?<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // .. and we're back.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
?&gt;<br />
<br />
FILE 2:<br />
<br />
&lt;? <br />
&nbsp;&nbsp;&nbsp; /* OK - this is some other big library and a whole load more<br />
&nbsp;&nbsp; &nbsp; &nbsp; faff but this is the particular function in question... it<br />
&nbsp;&nbsp; &nbsp; &nbsp; just calls the function it's been asked to and uses an output<br />
&nbsp;&nbsp; &nbsp; &nbsp; buffer to grab the output and return it as a string rather than<br />
&nbsp;&nbsp; &nbsp; &nbsp; letting it go to terminal/browser.... useful for grabbing PHP pages<br />
&nbsp;&nbsp; &nbsp; &nbsp; for spidering, emailing etc. etc. etc..<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; class myTools(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function returnSource($func, $args){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( is_callable ( $func, true, $callMe ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Start a buffer<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ob_start();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Calling the function like this DOESN'T seem to work:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // ~~~~~~~~<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // "Command not found : myClass::someHTML"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // $callMe($args);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // ~~~~~~~~<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // But - what I've discovered is that this behaves fine..<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( is_array($func) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $func[0]-&gt;$func[1]($args);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $func($args);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Then we just carry on with our code.. <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $rtn =&nbsp; &nbsp;&nbsp; ob_get_contents();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ob_clean();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return ( $rtn );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; error_log("Doh!");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58583""></a>
  <div class="note">
   <strong class="user">empyone at tiscalinet dot it</strong>
   <a href="#58583" class="date">08-Nov-2005 09:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To corey at eyewantmedia dot com:<br />
<br />
your misunderstanding lies in passing in the naked $object parameter. It is correct for is_callable to return FALSE since you cannot 'call an object', you can only call one of its methods, but you don't specify which one. Hence:<br />
<br />
is_callable(array($object, 'some_function'), [true or false], $callable_name)<br />
<br />
will yield the correct result.<br />
<br />
Notice, though, that a quick test I made (PHP 5.0.4) showed that is_callable incorrectly returns TRUE also if you specify the name of a protected/private method from outside of the context of the defining class, so, as wasti dot redl at gmx dot net pointed out, reflection is the way to go if you want to take visibility into account (which you should for true OOP, IMHO).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57631""></a>
  <div class="note">
   <strong class="user">wasti dot redl at gmx dot net</strong>
   <a href="#57631" class="date">09-Oct-2005 01:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The way to discover whether a method exists in face of a __call is reflection.<br />
<br />
It should be mentioned that although array('Test', 'func') is callable according to this function (where func is a public static method of Test), actually calling this construct as $fn() fails.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51083""></a>
  <div class="note">
   <strong class="user">corey at eyewantmedia dot com</strong>
   <a href="#51083" class="date">19-Mar-2005 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've been spending a month on and off trying to figure out why<br />
<br />
is_callable($object, [true or false], $varContainingFunctionName)<br />
<br />
returned false when it should not have (ie: $object-&gt;FunctionName() was callable), I realized I must have misunderstood its purpose. If you find yourself in the same situation, try<br />
<br />
function_exists(string functionname)<br />
<br />
or<br />
<br />
method_exists ( object object, string method_name )<br />
<br />
before you rip your hair out :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49879""></a>
  <div class="note">
   <strong class="user">mcroghan at digitalkeg dot com</strong>
   <a href="#49879" class="date">11-Feb-2005 04:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using this function and __call (PHP5).&nbsp; This function will always report true when using __call.<br />
<br />
Need a specific function for the purpose of checking if a class method exists explicitly even when using __call.<br />
<br />
Haven't ruled out the possibility of the existence of such a function yet.&nbsp; So if someone knows of one, please point it out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43504""></a>
  <div class="note">
   <strong class="user">bob at thethirdshift dot net</strong>
   <a href="#43504" class="date">23-Jun-2004 06:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I, too, was wondering whether is_callable or function exists is faster when checking class methods.&nbsp; So, I setup the following test:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start_time </span><span class="keyword">= </span><span class="default">$start_time</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] + </span><span class="default">$start_time</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end_time </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end_time </span><span class="keyword">= </span><span class="default">$end_time</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] + </span><span class="default">$end_time</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">$end_time </span><span class="keyword">- </span><span class="default">$start_time</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$time</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
class </span><span class="default">test<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp;&nbsp; function </span><span class="default">test</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; <br />
</span><span class="default">$callableIsTrue </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$startIsCallable </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">is_callable</span><span class="keyword">(array(</span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">))) { </span><span class="default">$callableIsTrue </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; }<br />
&nbsp; }<br />
</span><span class="default">$endIsCallable </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
<br />
</span><span class="default">$existsIsTrue </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">$startExists </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'test::test'</span><span class="keyword">)) { </span><span class="default">$existsIsTrue </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">; }<br />
&nbsp; }<br />
</span><span class="default">$endExists </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">();<br />
<br />
</span><span class="default">$timeIsCallable </span><span class="keyword">= </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$startIsCallable</span><span class="keyword">, </span><span class="default">$endIsCallable</span><span class="keyword">);<br />
</span><span class="default">$timeExists&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">doTimes</span><span class="keyword">(</span><span class="default">$startExists</span><span class="keyword">, </span><span class="default">$endExists</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"&lt;b&gt;is_callable = "</span><span class="keyword">.(</span><span class="default">$callableIsTrue </span><span class="keyword">? </span><span class="string">"TRUE" </span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;/b&gt;, \n"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;b&gt;function_exists = "</span><span class="keyword">.(</span><span class="default">$existsIsTrue </span><span class="keyword">? </span><span class="string">"TRUE" </span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;/b&gt;&lt;br&gt;\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;br&gt;Did 10000 is_callables in "</span><span class="keyword">.</span><span class="default">$timeIsCallable</span><span class="keyword">.</span><span class="string">" seconds"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;br&gt;Did 10000 function_exists in "</span><span class="keyword">.</span><span class="default">$timeExists</span><span class="keyword">.</span><span class="string">" seconds"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This gives the output :<br />
<br />
is_callable = TRUE, function_exists = FALSE<br />
<br />
Did 10000 is_callables in 0.0640790462494 seconds<br />
Did 10000 function_exists in 0.0304429531097 seconds<br />
<br />
So the fact that function_exists is twice as fast is slightly over shadowed by the fact that it doesn't work on class methods, at least not as far as I can tell.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
