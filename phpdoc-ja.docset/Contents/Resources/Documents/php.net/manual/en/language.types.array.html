<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>配列</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.types.string.html">≪ 文字列</a></li>
      <li style="float: right;"><a href="language.types.object.html">オブジェクト ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.types.html">型</a></li>
    <li>配列</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.types.array" class="sect1">
 <h2 class="title">配列</h2>

 <p class="para">
  PHP の配列は、実際には順番付けられたマップです。マップは型の一種で、
  <em class="emphasis">値</em>を<em class="emphasis">キー</em>に関連付けます。
  この型は、さまざまな使い道にあわせて最適化されます。
  配列としてだけでなく、リスト (ベクター)、
  ハッシュテーブル (マップの実装の一つ)、辞書、コレクション、スタック、
  キュー等として使用することが可能です。
  PHP の配列には他の PHP 配列を値として保持することができるため、
  非常に簡単にツリー構造を表現することが可能です。
 </p>

 <p class="para">
  これらのデータ構造に関する説明は本マニュアルの範囲を超えるので省略しますが、
  各々について、少なくとも一つは例を示します。
  この分野は広範囲にまたがり、さまざまな文献が存在します。
  より詳細な情報については、それらの文献を参照ください。
 </p>
   
 <div class="sect2" id="language.types.array.syntax">
  <h3 class="title">構文</h3>
  
  <div class="sect3" id="language.types.array.syntax.array-func">
   <h4 class="title"><span class="function"><a href="function.array.html" class="function">array()</a></span> で指定</h4>

   <p class="para">
    <span class="type"><span class="type 配列">配列</span></span> は、言語に組み込まれた
    <span class="function"><a href="function.array.html" class="function">array()</a></span> で作成することが可能です。この構造は、
    特定の数のカンマで区切られた
    <em><span class="replaceable">キー</span> =&gt; <span class="replaceable">値</span></em> の組を引数とします。
   </p>

   <pre class="synopsis">
array(
    <span class="optional"><span class="replaceable">key</span>  =&gt; </span><span class="replaceable">value</span>,
    <span class="optional"><span class="replaceable">key2</span> =&gt; </span><span class="replaceable">value2</span>,
    <span class="optional"><span class="replaceable">key3</span> =&gt; </span><span class="replaceable">value3</span>,
    ...
)</pre>
   

   <p class="para">
    最後の要素のあとのカンマは、書いても書かなくてもかまいません。
    配列を一行で定義する場合は、ふつうは最後のカンマを省略します。つまり、
    <em>array(1, 2)</em> のほうが
    <em>array(1, 2, )</em> よりおすすめだということです。
    しかし複数行で定義する場合は、最後のカンマをつけることが一般的です。
    そうしておけば、配列の最後に要素を追加するのが容易になるからです。
   </p>
   
   <p class="para">
    PHP 5.4 以降では配列の短縮構文が追加され、
    <em>array()</em> の代わりに <em>[]</em> を使えるようになりました。
   </p>
   
   <div class="example" id="example-96">
    <p><strong>例1 シンプルな配列定義</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"foo"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"bar"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">,<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.4&nbsp;ではこのようにも書けます<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"foo"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"bar"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">,<br />];<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <p class="para">
    <var class="varname"><var class="varname">key</var></var> は、<span class="type"><span class="type 整数">整数</span></span> または
    <span class="type"><span class="type 文字列">文字列</span></span>です。
    <span class="replaceable">value</span> には任意の型を指定できます。
   </p>

   <p class="para">
    さらに、次のような <span class="replaceable">key</span> のキャストが発生します。
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> として妥当な形式の文字列は <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> 型にキャストされます。
       つまり、キーに <em>&quot;8&quot;</em> を指定すると、実際には
       <em>8</em> として格納されるということです。一方 <em>&quot;08&quot;</em>
       はキャストされません。これは十進数として妥当な形式ではないからです。
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <span class="type"><a href="language.types.float.html" class="type float">float</a></span>s もまた <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> にキャストされます。つまり、
       小数部分は切り捨てられるということです。たとえばキーに <em>8.7</em> を指定すると、実際には
       <em>8</em> として格納されます。
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> も <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span> にキャストされます。つまり、
       キーに <em>true</em> を指定すると実際には <em>1</em> に格納され、
       同様にキーを <em>false</em> とすると実際には <em>0</em> となります。
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <span class="type"><a href="language.types.null.html" class="type Null">Null</a></span> は空文字列にキャストされます。つまり、キーに
       <em>null</em> を指定すると、実際には <em>&quot;&quot;</em> として格納されます。
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <span class="type"><a href="language.types.array.html" class="type array">array</a></span> や <span class="type"><a href="language.types.object.html" class="type object">object</a></span> は、キーとして<em class="emphasis">使えません</em>。
       キーとして使おうとすると <em>Illegal offset type</em> という警告が発生します。
      </span>
     </li>
    </ul>
   </p>
   
   <p class="para">
    配列の宣言時に同じキーで複数の要素を指定すると、
    最後に指定したものがそれまでの値を上書きします。
   </p>
   
   <div class="example" id="example-97">
    <p><strong>例2 型のキャストと値の上書きの例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"1"&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1.5&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">,<br />);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(1) {
  [1]=&gt;
  string(1) &quot;d&quot;
}
</pre></div>
    </div>
    <div class="example-contents"><p>
     上の例では、すべてのキーが <em>1</em> にキャストされます。
     そして後から指定した値がどんどん前の値を上書きしていき、最終的には最後に代入された
     <em>&quot;d&quot;</em> だけが残ります。
    </p></div>
   </div>  
   
   <p class="para">
    PHP においては添字配列と連想配列の間に違いはなく、配列型は 1 つだけで、
    同じ配列で整数のインデックスと文字列のインデックスを同時に使えます。
   </p>
   
   <div class="example" id="example-98">
    <p><strong>例3 整数と文字列のキーの混在例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"foo"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"bar"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">100&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;-</span><span style="color: #0000BB">100</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;-</span><span style="color: #0000BB">100&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,<br />);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(4) {
  [&quot;foo&quot;]=&gt;
  string(3) &quot;bar&quot;
  [&quot;bar&quot;]=&gt;
  string(3) &quot;foo&quot;
  [100]=&gt;
  int(-100)
  [-100]=&gt;
  int(100)
}
</pre></div>
    </div>
   </div>
   
   <p class="para">
    <span class="replaceable">key</span> はオプションです。省略した場合、PHP
    はこれまでに使われた整数のキーの中で最大のものに 1 を加えた値を使います。
   </p>
   
   <div class="example" id="example-99">
    <p><strong>例4 数値添字配列でキーを省略する例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"hello"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(3) &quot;foo&quot;
  [1]=&gt;
  string(3) &quot;bar&quot;
  [2]=&gt;
  string(5) &quot;hello&quot;
  [3]=&gt;
  string(5) &quot;world&quot;
}
</pre></div>
    </div>
   </div>
   
   <p class="para">
    一部の要素にだけキーを指定することもできます。
   </p>
   
   <div class="example" id="example-100">
    <p><strong>例5 一部の要素にだけキーを指定する例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">6&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"c"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"d"</span><span style="color: #007700">,<br />);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(1) &quot;a&quot;
  [1]=&gt;
  string(1) &quot;b&quot;
  [6]=&gt;
  string(1) &quot;c&quot;
  [7]=&gt;
  string(1) &quot;d&quot;
}
</pre></div>
    </div>
    <div class="example-contents"><p>
     ごらんの通り、最後の値である <em>&quot;d&quot;</em> のキーは
     <em>7</em> となります。それまでにキーとして使われた最大の整数が
     <em>6</em> だからです。
    </p></div>
   </div>
  </div>
  
  <div class="sect3" id="language.types.array.syntax.accessing">
   <h4 class="title">角括弧構文による配列要素へのアクセス</h4>
   
   <p class="para">
    配列の要素へのアクセスには <em>array[key]</em> 構文を使います。
   </p>
   
   <div class="example" id="example-101">
    <p><strong>例6 配列の要素へのアクセス</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"foo"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"bar"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">42&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"multi"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"dimensional"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"array"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foo"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;)<br />);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">42</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">"multi"</span><span style="color: #007700">][</span><span style="color: #DD0000">"dimensional"</span><span style="color: #007700">][</span><span style="color: #DD0000">"array"</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
string(3) &quot;bar&quot;
int(24)
string(3) &quot;foo&quot;
</pre></div>
    </div>
   </div>
   
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     角括弧と波括弧は、配列の要素にアクセスするときにはどちらも同じ意味で使えます
     (つまり、この例で <em>$array[42]</em> と <em>$array{42}</em>
     は同じものを表しているということです)。
    </p>
   </p></blockquote>

   <p class="para">
    PHP 5.4 以降では、関数やメソッドの返す結果を直接配列として扱えるようになりました。
    以前は、いったん一次変数に代入しないと配列としては扱えませんでした。
   </p>
   
   <p class="para">
    PHP 5.5 以降では、配列リテラルをデリファレンスできるようになりました。
   </p>
   
   <div class="example" id="example-102">
    <p><strong>例7 配列のデリファレンス</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">getArray</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.4&nbsp;ではこのように書けます。<br /></span><span style="color: #0000BB">$secondElement&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getArray</span><span style="color: #007700">()[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;以前は、このようにするか<br /></span><span style="color: #0000BB">$tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getArray</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$secondElement&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;あるいはこのようにしなければなりませんでした。<br /></span><span style="color: #007700">list(,&nbsp;</span><span style="color: #0000BB">$secondElement</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">getArray</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
      配列に定義されていないキーへアクセスしたときの挙動は、
      未定義の変数にアクセスしたときと同じです。
      <strong><code>E_NOTICE</code></strong> メッセージが発行され、
      返される結果は <strong><code>NULL</code></strong> となります。
    </p>
   </p></blockquote>
  </div>
  
  <div class="sect3" id="language.types.array.syntax.modifying">
   <h4 class="title">角括弧構文で作成/修正</h4>

   <p class="para">
    明示的に値を設定することにより、既存の配列を修正することも可能です。
   </p>

   <p class="para">
    これは、角括弧の中にキーを指定し、配列に値を代入することにより行います。
    キーを省略することも可能です。この場合、空の角括弧
    (&quot;<em>[]</em>&quot;) の変数名として追加してください。
   </p>
   
   <pre class="synopsis">
$arr[<span class="replaceable">キー</span>] = <span class="replaceable">値</span>;
$arr[] = <span class="replaceable">値</span>;
// <span class="replaceable">キー</span> は <span class="type"><span class="type 文字列">文字列</span></span> または
// <span class="type"><span class="type 整数">整数</span></span>のどちらかです。
// <span class="replaceable">値</span> の型は、何でもかまいません。
   </pre>
   
   <p class="para">
    <var class="varname"><var class="varname">$arr</var></var> がまだ存在しない場合は、新しく作成します。
    つまり、これは配列を作成する方法のひとつでもあります。
    とはいえ、この方法を使うことはおすすめしません。なぜなら、既に
    <var class="varname"><var class="varname">$arr</var></var> に何らかの値
    (リクエスト変数からの文字列など) が入っている場合にはその値がそのまま残り、
    <em>[]</em> が実際には
    <a href="language.types.string.html#language.types.string.substr" class="link">文字列アクセス演算子</a>
    を表してしまうからです。
    変数を初期化するときには、直接代入するほうがよいでしょう。
   </p>

   <p class="para">
    ある値を変更するには、
    新しい値に値を代入します。特定のキー/値の組を削除したい場合には、
    <span class="function"><a href="function.unset.html" class="function">unset()</a></span> を使用する必要があります。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$arr&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$arr</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">56</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;このスクリプトのこの位置に記述した場合、<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;$arr[13]&nbsp;=&nbsp;56;&nbsp;と同じです<br /><br /></span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"x"</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;キー"x"の新しい要素を配列に追加します<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">]);&nbsp;</span><span style="color: #FF8000">//&nbsp;配列から要素を削除します<br /><br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$arr</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;配列全体を削除します<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div> 
    </div>

   </div>

   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     上記のように、キーを省略して新規要素を追加する場合、
     追加される数値添字は、使用されている添字の最大値 +1 (ただし、少なくとも 0 以上) になります。
     まだ数値添字が存在しない場合は、添字は <em>0</em>
     (ゼロ) となります。
    </p>

    <div class="warning"><strong class="warning">警告</strong>
     <p class="simpara">
      PHP 4.3.0 以降、上記のような添字生成動作は変更されました。
      現在では、配列に追加する際に、
      その配列の最大添字が負である場合は次の添え字はゼロ
      (<em>0</em>) となります。
      以前は、正の添字の場合と同様に新しい添字は最大添字に +1
      したものがセットされました。
     </p>
    </div>

    <p class="para">
     次のキー生成において、オフセットとして使われる整数値
     (添字の最大値) に対応するエントリーが、
     必ずしも配列内に存在するわけではないことに注意してください。
     しかし、その値は、多くの場合、
     配列にある整数のキー値の最大値と等しいはずです。以下に例を示します。
    </p>

    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;簡単な配列を生成します。<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;全てのアイテムを削除しますが、配列自体は削除しないでおきます。<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]);<br />}<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;アイテムを追加します(新しい添え字は0ではなく<br />//&nbsp;5となることに注意)<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;添え字を振りなおします。<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div> 
     </div>

     <p class="para">上の例の出力は以下となります。</p>
     <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; 1
    [1] =&gt; 2
    [2] =&gt; 3
    [3] =&gt; 4
    [4] =&gt; 5
)
Array
(
)
Array
(
    [5] =&gt; 6
)
Array
(
    [0] =&gt; 6
    [1] =&gt; 7
)
</pre></div>
     </div>
    </div>       

   </p></blockquote>

  </div>
 </div>
 
 <div class="sect2" id="language.types.array.useful-funcs">
  <h3 class="title">有用な関数</h3>

  <p class="para">
   配列で使用する便利な関数がたくさんあります。
   <a href="ref.array.html" class="link">配列関数</a> の節を参照ください。
  </p>

  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
    <span class="function"><a href="function.unset.html" class="function">unset()</a></span>関数は配列のキーを削除することが出来ます。
    ただし、これによってインデックスの再構築が行われるわけではないことに
    注意してください。
    &quot;通常の整数添字&quot; (0 から始まり、1 つずつ増加) のみを使用している場合、
    <span class="function"><a href="function.array-values.html" class="function">array_values()</a></span>
    を用いてインデックスを再構築することができます。
   </p>
   
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'one'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'two'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'three'</span><span style="color: #007700">);<br />unset(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #FF8000">/*&nbsp;これにより配列は以下の様に定義されます。<br />&nbsp;&nbsp;&nbsp;$a&nbsp;=&nbsp;array(1&nbsp;=&gt;&nbsp;'one',&nbsp;3&nbsp;=&gt;&nbsp;'three');<br />&nbsp;&nbsp;&nbsp;以下ではありません：<br />&nbsp;&nbsp;&nbsp;$a&nbsp;=&nbsp;array(1&nbsp;=&gt;&nbsp;'one',&nbsp;2&nbsp;=&gt;'three');<br />*/<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$b&nbsp;は、array(0&nbsp;=&gt;&nbsp;'one',&nbsp;1&nbsp;=&gt;'three')となります<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p></blockquote> 

  <p class="para">
   配列専用の制御構造として <a href="control-structures.foreach.html" class="link">foreach</a> があります。
   この構造は、配列の要素に簡単に連続的にアクセスする手段を提供します。
  </p>
 </div>
 
 <div class="sect2" id="language.types.array.donts">
  <h3 class="title">配列ですべきこととしてはならないこと</h3>

  <div class="sect3" id="language.types.array.foo-bar">
   <h4 class="title">なぜ、<em>$foo[bar]</em> は使用できないのか?</h4>

   <p class="para">
    連想配列の添字の前後は常に引用符で括る必要があります。
    例えば、$foo[bar] ではなく $foo[&#039;bar&#039;] を使用してください。
    しかし、$foo[bar] はなぜ誤りなのでしょうか?
    古いスクリプトで次のような構文を見たことがあるかもしれません。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$foo</span><span style="color: #007700">[</span><span style="color: #0000BB">bar</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'enemy'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">[</span><span style="color: #0000BB">bar</span><span style="color: #007700">];<br /></span><span style="color: #FF8000">//&nbsp;etc<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <p class="para">
    これは間違っていますが、動作します。では、なぜ間違っているのでしょう?
    その理由は、このコードには文字列 (&#039;bar&#039; - 引用符で括られている)
    ではなく未定義の定数 (bar) が使用されており、PHP
    が同じ名前の定数を不幸にして同じコードの中に定義する可能性があるためです。
    下位互換性の維持のため、未定義の定数は同じ名前の文字列に自動的に変換されます。
    そのため、このコードは動作します。
    例えば、<strong><code>bar</code></strong> という名前の定義されていない定数があるとすると、
    PHP は <em>&#039;bar&#039;</em> という文字列でそれを置換して使用します。
   </p>

   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <span class="simpara">
     これは、添字を<em class="emphasis">常に</em>クォートするという意味ではありません。
     <a href="language.constants.html" class="link">定数</a>や
     <a href="language.variables.html" class="link">変数</a>
     を添字として使う際には、クォートしてしまうと PHP
     はそれを解釈できなくなってしまいます。
    </span>

    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'display_errors'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'html_errors'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;単純な配列<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$count&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br />for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$count</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\nChecking&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">:&nbsp;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Bad:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'$i'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Good:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Bad:&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">'$i'</span><span style="color: #007700">]}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Good:&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]}</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
    <p class="para">上の例の出力は以下となります。</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
Checking 0: 
Notice: Undefined index:  $i in /path/to/script.html on line 9
Bad: 
Good: 1
Notice: Undefined index:  $i in /path/to/script.html on line 11
Bad: 
Good: 1

Checking 1: 
Notice: Undefined index:  $i in /path/to/script.html on line 9
Bad: 
Good: 2
Notice: Undefined index:  $i in /path/to/script.html on line 11
Bad: 
Good: 2
</pre></div>        
    </div>
   </p></blockquote>

   <p class="para">
    この具体例を以下に示します。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;エラーを全て表示するよう設定<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'fruit'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'veggie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'carrot'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;正しい<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'fruit'</span><span style="color: #007700">];&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;apple<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'veggie'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;carrot<br /><br />//&nbsp;間違い。これは動作しますが、未定義の定数fruitを使用しているため、<br />//&nbsp;同時にE_NOTICEレベルのPHPエラーを発生します<br />//<br />//&nbsp;Notice:&nbsp;Use&nbsp;of&nbsp;undefined&nbsp;constant&nbsp;fruit&nbsp;-&nbsp;assumed&nbsp;'fruit'&nbsp;in...<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">fruit</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;apple<br /><br />//&nbsp;検証のため、定数を定義してみましょう。<br />//&nbsp;fruitという名前の定数に値'veggie'を代入します。<br /></span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'fruit'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'veggie'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;ここでは、出力が異なることに注意してください。<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'fruit'</span><span style="color: #007700">];&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;apple<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">fruit</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;carrot<br /><br />//&nbsp;以下は文字列の中であるためOKです。定数は、文字列の中では解釈されな<br />//&nbsp;いため、E_NOTICEエラーはここでは発生しません。<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">fruit</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Hello&nbsp;apple<br /><br />//&nbsp;例外が１つあり、文字列の中で波括弧で配列を括った場合には、<br />//&nbsp;定数が解釈されます<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">fruit</span><span style="color: #007700">]}</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Hello&nbsp;carrot<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'fruit'</span><span style="color: #007700">]}</span><span style="color: #DD0000">"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Hello&nbsp;apple<br /><br />//&nbsp;これは動作せず、以下のようなパースエラーを発生します:<br />//&nbsp;Parse&nbsp;error:&nbsp;parse&nbsp;error,&nbsp;expecting&nbsp;T_STRING'&nbsp;or&nbsp;T_VARIABLE'&nbsp;or&nbsp;T_NUM_STRING'<br />//&nbsp;文字列の中でスーパーグローバルを使用した場合も無論同様です。<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'fruit']"</span><span style="color: #007700">;<br />print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'foo']"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;文字列結合で同じことをすることもできます。<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">'fruit'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;Hello&nbsp;apple<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="para">
    <span class="function"><a href="function.error-reporting.html" class="function">error_reporting()</a></span> で
    (<strong><code>E_ALL</code></strong> を指定する等により)
    <em>E_NOTICE</em> レベルのエラー出力を有効にした場合、
    上記のエラーが出力されます。
    デフォルトでは、<a href="errorfunc.configuration.html#ini.error-reporting" class="link">
    error_reporting</a> はこれらを表示しない設定になっています。
   </p>

   <p class="para">
    <a href="language.types.array.html#language.types.array.syntax" class="link">構文</a>の節に記述したように、角括弧
    (&#039;<em>[</em>&#039; および &#039;<em>]</em>&#039;)
    の間には、式がなければなりません。これは、
    次のように書くことが可能であることを意味します。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">somefunc</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)];<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <p class="para">
    これは、関数の戻り値を配列の添字として使用する例です。PHP
    は定数についても認識します。以下のような <em>E_*</em>
    の使用例を見たことがあるかもしれません。
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">E_ERROR</span><span style="color: #007700">]&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #DD0000">"A&nbsp;fatal&nbsp;error&nbsp;has&nbsp;occurred"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">E_WARNING</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"PHP&nbsp;issued&nbsp;a&nbsp;warning"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;just&nbsp;an&nbsp;informal&nbsp;notice"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <p class="para">
    最初の例の <em>bar</em> と全く同様に
    <strong><code>E_ERROR</code></strong> も有効な添字であることに注意してください。
    しかし、実際には最後の例は次のように書くことと同じです。
   </p>
  
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"A&nbsp;fatal&nbsp;error&nbsp;has&nbsp;occurred"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"PHP&nbsp;issued&nbsp;a&nbsp;warning"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$error_descriptions</span><span style="color: #007700">[</span><span style="color: #0000BB">8</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;just&nbsp;an&nbsp;informal&nbsp;notice"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   
   <p class="para">
    これは、<strong><code>E_ERROR</code></strong> が <em>1</em>
    と等しいこと等によります。
   </p>

   <p class="para">
    では、なぜ <em>$foo[bar]</em> は動作することが可能なのでしょう?
    それは、<em>bar</em> が定数式であることを
    期待される構文で使用されているためです。しかし、この場合、
    <em>bar</em> という名前の定数は存在しません。PHP は、
    この場合、あなたが文字列<em>&quot;bar&quot;</em> のようにリテラル
    <em>bar</em> を指定したが引用符を忘れたと仮定します。
   </p>

   <div class="sect4" id="language.types.array.foo-bar.why">
    <h5 class="title">では、なぜ間違っているのでしょう?</h5>

    <p class="para">
     将来的に、PHP 開発チームが他の定数またはキーワードを追加したいと思うかもしれず、
     問題となる可能性があります。例えば、現在でも、
     単語 <em>empty</em> および
     <em>default</em>を使用することはできません。
     これは、これらが特別な
     <a href="reserved.html" class="link">予約済みのキーワード</a>であるためです。
    </p>

    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <span class="simpara">
      二重引用符で括られた<span class="type"><span class="type 文字列">文字列</span></span>の中では
      引用符で配列の添字を括らないことができ、このため、
      <em>&quot;$foo[bar]&quot;</em> は有効です。
      この理由の詳細については、上記の例や
      <a href="language.types.string.html#language.types.string.parsing" class="link">
      文字列中での変数のパース</a>を参照してください。
     </span>
    </p></blockquote>

   </div>
  </div>
 </div>

 <div class="sect2" id="language.types.array.casting">
  <h3 class="title">配列への変換</h3>
  
  <p class="para">
   <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>, <span class="type"><a href="language.types.float.html" class="type float">float</a></span>, <span class="type"><a href="language.types.string.html" class="type string">string</a></span>,
   <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>, <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span>のいずれの型においても、
   <span class="type"><a href="language.types.array.html" class="type array">array</a></span> に変換する場合、
   最初のスカラー値が割り当てられている一つの要素 (添字は 0)
   を持つ配列を得ることになります。
  </p>
  
  <p class="para">
   <span class="type"><a href="language.types.object.html" class="type object">object</a></span>を配列にする場合には、配列の要素として
   オブジェクトの属性 (メンバ変数) を持つ配列を得ることになります。
   添字はメンバ変数名となりますが、いくつか注意すべき例外があります。
   整数のプロパティはアクセス不能になります。
   private 変数の場合、変数名の頭にクラス名がつきます。また、
   protected 変数の場合は、変数名の頭に &#039;*&#039; がつきます。
   このとき、頭に追加される値の前後に null バイトがついてきます。
   その結果、予期せぬ振る舞いをすることがあります。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$A</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;これは&nbsp;'\0A\0A'&nbsp;となります<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$A</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;これは&nbsp;'\0B\0A'&nbsp;となります<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$AA</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;これは&nbsp;'AA'&nbsp;となります<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((array)&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <p class="para">
   上の例では &#039;AA&#039; というキーがふたつあるように見えますが、
   そのうちひとつは、実際は &#039;\0A\0A&#039; ということになります。
  </p>
  
  <p class="para">
   <strong><code>NULL</code></strong> を配列に変換すると、空の配列を得ます。
  </p>
 </div>

 <div class="sect2" id="language.types.array.comparing">
  <h3 class="title">比較</h3>

  <p class="para">
   <span class="function"><a href="function.array-diff.html" class="function">array_diff()</a></span> と
   <a href="language.operators.array.html" class="link">配列演算子</a>
   を用いると、配列を比較することができます。
  </p>
 </div>

 <div class="sect2" id="language.types.array.examples">
  <h3 class="title">例</h3>

  <p class="para">
   PHP の配列型は、いろいろな使い方ができます。配列の強力な機能を示すため、
   ここでいくつかの例を紹介します。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;これは、<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'color'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'taste'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'sweet'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'shape'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'round'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'name'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;キーは0になります<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;は、完全にこれと同じです。<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'color'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'taste'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'sweet'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'shape'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'round'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]&nbsp;&nbsp;=&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;キーは0になります<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'c'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;上のコードを実行すると、$a&nbsp;は次のような配列<br />//&nbsp;array('color'&nbsp;=&gt;&nbsp;'red',&nbsp;'taste'&nbsp;=&gt;&nbsp;'sweet',&nbsp;'shape'&nbsp;=&gt;&nbsp;'round',&nbsp;<br />//&nbsp;'name'&nbsp;=&gt;&nbsp;'apple',&nbsp;0&nbsp;=&gt;&nbsp;4)&nbsp;となり、$b&nbsp;は<br />//&nbsp;array(0&nbsp;=&gt;&nbsp;'a',&nbsp;1&nbsp;=&gt;&nbsp;'b',&nbsp;2&nbsp;=&gt;&nbsp;'c')&nbsp;あるいは単に&nbsp;array('a',&nbsp;'b',&nbsp;'c')&nbsp;となります<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <div class="example" id="example-103">
   <p><strong>例8 array() の使用例</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;マップを行う配列<br /></span><span style="color: #0000BB">$map&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'version'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'OS'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Linux'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lang'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'english'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'short_tags'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;数値キーのみを有する<br /></span><span style="color: #0000BB">$array&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">156</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-</span><span style="color: #0000BB">10<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;これは、array(&nbsp;0&nbsp;=&gt;&nbsp;7,&nbsp;1&nbsp;=&gt;&nbsp;8,&nbsp;...)&nbsp;と同じです<br /><br /></span><span style="color: #0000BB">$switching&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;key&nbsp;=&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;</span><span style="color: #0000BB">6</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;</span><span style="color: #0000BB">7</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'a'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">11</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;key&nbsp;=&nbsp;6&nbsp;(最大の添字は5です)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'8'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;key&nbsp;=&nbsp;8&nbsp;(整数!)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'02'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">77</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//&nbsp;key&nbsp;=&nbsp;'02'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">0&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">12&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;値10は12で上書きされます<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;空の配列<br /></span><span style="color: #0000BB">$empty&nbsp;</span><span style="color: #007700">=&nbsp;array();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>

   </div>

  </div>

  <div class="example" id="language.types.array.examples.loop">
   <p><strong>例9 コレクション</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$colors&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'red'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'blue'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'green'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'yellow'</span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$colors&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$color</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Do&nbsp;you&nbsp;like&nbsp;</span><span style="color: #0000BB">$color</span><span style="color: #DD0000">?\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Do you like red?
Do you like blue?
Do you like green?
Do you like yellow?
</pre></div>
   </div>
  </div>
  
  <p class="para">
   PHP 5 以降では、配列を参照渡しすることでその値を直接変更できるようになりました。
   それ以前のバージョンでは、以下のような回避策が必要です。
  </p>

  <div class="example" id="language.types.array.examples.changeloop">
   <p><strong>例10 ループ内での要素の変更</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$colors&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$color</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$color&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />}<br />unset(</span><span style="color: #0000BB">$color</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">/*&nbsp;これ以降の&nbsp;$color&nbsp;への書き込みが<br />配列の要素を書き換えてしまわないことを保証する&nbsp;*/<br /><br />//&nbsp;旧バージョンでの回避策<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$colors&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$color</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$colors</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$colors</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; RED
    [1] =&gt; BLUE
    [2] =&gt; GREEN
    [3] =&gt; YELLOW
)
</pre></div>
   </div>
  </div>

  <p class="para">
   この例は、1 から始まる配列を作成します。
  </p>

  <div class="example" id="example-106">
   <p><strong>例11 1 から始まる添字</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$firstquarter&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'January'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'February'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'March'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$firstquarter</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Array 
(
    [1] =&gt; &#039;January&#039;
    [2] =&gt; &#039;February&#039;
    [3] =&gt; &#039;March&#039;
)
</pre></div>   
   </div>
  </div>

  <div class="example" id="example-107">
   <p><strong>例12 配列に代入する</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;ディレクトリから全てのアイテムを配列に代入する<br /></span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">opendir</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">);<br />while&nbsp;(</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">!==&nbsp;(</span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">readdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$files</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">closedir</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <p class="para">
   配列には順番が付けられます。異なったソート関数を用いて順番を変更することも可能です。
   より詳細な情報については、<a href="ref.array.html" class="link">配列関数</a> を参照ください。
   <span class="function"><a href="function.count.html" class="function">count()</a></span> 関数を使用することで、
   配列の要素数を数えることが可能です。
  </p>

  <div class="example" id="example-108">
   <p><strong>例13 配列のソート</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />sort</span><span style="color: #007700">(</span><span style="color: #0000BB">$files</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$files</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <p class="para">
   配列の値は何でも良いため、その値を他の配列とすることも可能です。
   これにより、再帰的な配列や多次元の配列を作成することが可能です。
  </p>

  <div class="example" id="example-109">
   <p><strong>例14 再帰および多次元配列</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fruits&nbsp;</span><span style="color: #007700">=&nbsp;array&nbsp;(&nbsp;</span><span style="color: #DD0000">"fruits"&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array&nbsp;(&nbsp;</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"c"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"apple"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"numbers"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array&nbsp;(&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">6<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"holes"&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"first"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">5&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"second"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"third"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /></span><span style="color: #FF8000">//&nbsp;上の配列の内容を取得するための例<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">[</span><span style="color: #DD0000">"holes"</span><span style="color: #007700">][</span><span style="color: #0000BB">5</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"second"&nbsp;を表示します<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">[</span><span style="color: #DD0000">"fruits"</span><span style="color: #007700">][</span><span style="color: #DD0000">"a"</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;"orange"&nbsp;を表示します<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$fruits</span><span style="color: #007700">[</span><span style="color: #DD0000">"holes"</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">]);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"first"&nbsp;&nbsp;を削除します<br /><br />//&nbsp;新しい多次元配列を作成します<br /></span><span style="color: #0000BB">$juices</span><span style="color: #007700">[</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">][</span><span style="color: #DD0000">"green"</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">"good"</span><span style="color: #007700">;&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

  <p class="para">
   配列への代入においては、常に値がコピーされることに注意してください。
   配列をリファレンスでコピーする場合には、
   リファレンス演算子を使う必要があります。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$arr1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$arr2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$arr1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$arr2</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$arr2&nbsp;が変更されます。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;$arr1&nbsp;は&nbsp;array(2,3)&nbsp;のままです。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">$arr3&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$arr1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$arr3</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$arr1&nbsp;と&nbsp;$arr3&nbsp;は同じ内容になります。<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>

 </div>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="115376""></a>
  <div class="note">
   <strong class="user">Ray.Paseur often uses Gmail</strong>
   <a href="#115376" class="date">15-Jul-2014 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array-to-String conversion by assignment or by using an array in a string context gives a string of data that contains only the word, 'Array' and this data substitution often occurs silently.&nbsp; This happens because the standard PHP installation suppresses Notice-level messages, and the array-to-string conversion, even though it causes data loss, is only considered a Notice condition.&nbsp; Here is how to discern what PHP is doing.<br />
<a href="http://php.net/manual/en/language.types.array.php" rel="nofollow" target="_blank">http://php.net/manual/en/language.types.array.php</a><br />
<a href="http://php.net/manual/en/language.types.string.php#language.types.string.casting" rel="nofollow" target="_blank">http://php.net/manual/en/language.types.string.php#language.types.string.casting</a><br />
<br />
<span class="default">&lt;?php </span><span class="comment">// demo/array_to_string.php<br />
/**<br />
&nbsp;* Starting with the default standard error-level of E_ALL ~ E_NOTICE<br />
&nbsp;* OUTPUTS:<br />
&nbsp;* Array<br />
&nbsp;*/<br />
</span><span class="default">$xyz </span><span class="keyword">= array(</span><span class="string">'X'</span><span class="keyword">, </span><span class="string">'Y'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">);<br />
echo </span><span class="default">$xyz</span><span class="keyword">;<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Setting the error-level of E_ALL causes Notice messages to appear<br />
&nbsp;* OUTPUTS:<br />
&nbsp;* Notice: Array to string conversion in /path/to/demo/array_to_string.php on line XXX<br />
&nbsp;* Array<br />
&nbsp;*/<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
</span><span class="default">$xyz </span><span class="keyword">= array(</span><span class="string">'X'</span><span class="keyword">, </span><span class="string">'Y'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">);<br />
echo </span><span class="default">$xyz</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114197""></a>
  <div class="note">
   <strong class="user">ffe</strong>
   <a href="#114197" class="date">23-Jan-2014 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
</span><span class="default">$res</span><span class="keyword">=</span><span class="default">42</span><span class="keyword">;<br />
<br />
echo(</span><span class="string">"+"</span><span class="keyword">.</span><span class="default">$res</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">].</span><span class="string">"+"</span><span class="keyword">.</span><span class="default">$res</span><span class="keyword">[</span><span class="default">10</span><span class="keyword">].</span><span class="string">"+"</span><span class="keyword">);<br />
<br />
</span><span class="default">$res</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]=</span><span class="default">1</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The last line correctly states "Warning: Cannot use a scalar value as an array", but the echo produces +++ as output with no warning. This seems strange to me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114092""></a>
  <div class="note">
   <strong class="user">brta dot akos at gmail dot com</strong>
   <a href="#114092" class="date">10-Jan-2014 10:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Why not to user one-based arrays:<br />
<br />
<span class="default">&lt;?php<br />
$a&nbsp; </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">'c'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
Array ( [1] =&gt; a [2] =&gt; b [3] =&gt; d ) Array ( [0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114078""></a>
  <div class="note">
   <strong class="user">note dot php dot lorriman at spamgourmet dot org</strong>
   <a href="#114078" class="date">10-Jan-2014 12:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is another kind of array (php&gt;=&nbsp; 5.3.0) produced by <br />
<br />
$array = new SplFixedArray(5);<br />
<br />
Standard arrays, as documented here, are marvellously flexible and, due to the underlying hashtable, extremely fast for certain kinds of lookup operation. <br />
<br />
Supposing a large string-keyed array <br />
<br />
$arr=['string1'=&gt;$data1, 'string2'=&gt;$data2 etc....]<br />
<br />
when getting the keyed data with <br />
<br />
$data=$arr['string1'];<br />
<br />
php does *not* have to search through the array comparing each key string to the given key ('string1') one by one, which could take a long time with a large array. Instead the hashtable means that php takes the given key string and computes from it the memory location of the keyed data, and then instantly retrieves the data. Marvellous! And so quick. And no need to know anything about hashtables as it's all hidden away.<br />
<br />
However, there is a lot of overhead in that. It uses lots of memory, as hashtables tend to (also nearly doubling on a 64bit server), and should be significantly slower for integer keyed arrays than old-fashioned (non-hashtable) integer-keyed arrays. For that see more on SplFixedArray :<br />
<br />
<a href="http://uk3.php.net/SplFixedArray" rel="nofollow" target="_blank">http://uk3.php.net/SplFixedArray</a><br />
<br />
Unlike a standard php (hashtabled) array, if you lookup by integer then the integer itself denotes the memory location of the data, no hashtable computation on the integer key needed. This is much quicker. It's also quicker to build the array compared to the complex operations needed for hashtables. And it uses a lot less memory as there is no hashtable data structure. This is really an optimisation decision, but in some cases of large integer keyed arrays it may significantly reduce server memory and increase performance (including the avoiding of expensive memory deallocation of hashtable arrays at the exiting of the script).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113258""></a>
  <div class="note">
   <strong class="user">azuleta at eycambiental dot com</strong>
   <a href="#113258" class="date">19-Sep-2013 02:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think there's a mistake in the las example:<br />
...'<span class="default">&lt;?php<br />
$arr1 </span><span class="keyword">= array(</span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$arr2 </span><span class="keyword">= </span><span class="default">$arr1</span><span class="keyword">;<br />
</span><span class="default">$arr2</span><span class="keyword">[] = </span><span class="default">4</span><span class="keyword">; </span><span class="comment">// $arr2 ha cambiado,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // $arr1 sigue siendo array(2, 3)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="default">$arr3 </span><span class="keyword">= &amp;</span><span class="default">$arr1</span><span class="keyword">;<br />
</span><span class="default">$arr3</span><span class="keyword">[] = </span><span class="default">4</span><span class="keyword">; </span><span class="comment">// ahora $arr1 y $arr3 son iguales<br />
</span><span class="default">?&gt;</span>'<br />
<br />
I think it should be: ...'ahora $arr2 y $arr3 son iguales'...<br />
<br />
Thanks.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113086""></a>
  <div class="note">
   <strong class="user">ivegner at yandex dot ru</strong>
   <a href="#113086" class="date">28-Aug-2013 05:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that objects of classes extending ArrayObject SPL class are treated as arrays, and not as objects when converting to array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">ArrayObjectExtended </span><span class="keyword">extends </span><span class="default">ArrayObject<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$private </span><span class="keyword">= </span><span class="string">'private'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$hello </span><span class="keyword">= </span><span class="string">'world'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$object </span><span class="keyword">= new </span><span class="default">ArrayObjectExtended</span><span class="keyword">();<br />
</span><span class="default">$array </span><span class="keyword">= (array) </span><span class="default">$object</span><span class="keyword">;<br />
<br />
</span><span class="comment">// This will not expose $private and $hello properties of $object,<br />
// but return an empty array instead.<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112524""></a>
  <div class="note">
   <strong class="user">harry at ddtechnologies dot com</strong>
   <a href="#112524" class="date">26-Jun-2013 05:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP array_diff_assoc() Function<br />
<br />
You can compare the keys and values of two arrays, and return the differences:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;$a1</span><span class="keyword">=array(</span><span class="string">"red"</span><span class="keyword">,</span><span class="string">"green"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">,</span><span class="string">"yellow"</span><span class="keyword">);<br />
</span><span class="default">$a2</span><span class="keyword">=array(</span><span class="string">"red"</span><span class="keyword">,</span><span class="string">"green"</span><span class="keyword">,</span><span class="string">"blue"</span><span class="keyword">);<br />
<br />
</span><span class="default">$result</span><span class="keyword">=</span><span class="default">array_diff_assoc</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span> <br />
<br />
<a href="http://www.show-ip.org" rel="nofollow" target="_blank">http://www.show-ip.org</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112289""></a>
  <div class="note">
   <strong class="user">chris at ocportal dot com</strong>
   <a href="#112289" class="date">28-May-2013 06:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that array value buckets are reference-safe, even through serialization.
<br />

<br />
<span class="default">&lt;?php
<br />
$x</span><span class="keyword">=</span><span class="string">'initial'</span><span class="keyword">;
<br />
</span><span class="default">$test</span><span class="keyword">=array(</span><span class="string">'A'</span><span class="keyword">=&gt;&amp;</span><span class="default">$x</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">=&gt;&amp;</span><span class="default">$x</span><span class="keyword">);
<br />
</span><span class="default">$test</span><span class="keyword">=</span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">));
<br />
</span><span class="default">$test</span><span class="keyword">[</span><span class="string">'A'</span><span class="keyword">]=</span><span class="string">'changed'</span><span class="keyword">;
<br />
echo </span><span class="default">$test</span><span class="keyword">[</span><span class="string">'B'</span><span class="keyword">]; </span><span class="comment">// Outputs "changed"
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This can be useful in some cases, for example saving RAM within complex structures.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111367""></a>
  <div class="note">
   <strong class="user">gtisza at gmail dot com</strong>
   <a href="#111367" class="date">12-Feb-2013 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be very careful when using a result as an array. <span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">][</span><span class="string">'bar'</span><span class="keyword">][</span><span class="string">'baz'</span><span class="keyword">] </span><span class="default">?&gt;</span> will throw an error if $a is an object, and throw a warning if $a is an array but does not have the right keys, but it will silently return true if $a is null or boolean or int, and if $a is a string, it will return its first character. (This is true even with E_STRICT set.) This can be a major gotcha with functions which return null or false if they are unsuccessful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110232""></a>
  <div class="note">
   <strong class="user">cromney at pointslope dot com</strong>
   <a href="#110232" class="date">04-Oct-2012 12:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One thing to be careful of is making any assumptions about the underlying implementation with respect to performance. For example, the documentation talks about hash-maps, which might lead you to expect O(1) key lookups.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">find_val</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$t </span><span class="keyword">= array();<br />
&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; <br />
&nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$n</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="string">"" </span><span class="keyword">. </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">[] = </span><span class="default">$last</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$last</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">));<br />
}&nbsp; <br />
<br />
&nbsp; <br />
function </span><span class="default">find_key</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$t </span><span class="keyword">= array();<br />
&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; <br />
&nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$n</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="string">"" </span><span class="keyword">. </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">[</span><span class="default">$last</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$last</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">));<br />
}&nbsp; <br />
<br />
</span><span class="default">$n </span><span class="keyword">= </span><span class="default">1600000</span><span class="keyword">;<br />
<br />
</span><span class="default">find_val</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
</span><span class="comment">// Time taken: 1123ms<br />
<br />
</span><span class="default">find_key</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
</span><span class="comment">// Time taken: 803<br />
<br />
/* <br />
<br />
Additional Timings: <br />
<br />
n&nbsp; &nbsp; &nbsp; &nbsp; find_val(ms)&nbsp; find_key(ms)<br />
100000&nbsp;&nbsp; 99&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 82<br />
200000&nbsp;&nbsp; 169&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 130<br />
400000&nbsp;&nbsp; 301&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 217<br />
800000&nbsp;&nbsp; 570&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 416<br />
1600000&nbsp; 1123&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 803<br />
<br />
*/<br />
</span><span class="default">?&gt;<br />
</span><br />
In my tests, both in_array and array_key_exists exhibited the same order of growth.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108106""></a>
  <div class="note">
   <strong class="user">martijntje at martijnotto dot nl</strong>
   <a href="#108106" class="date">29-Mar-2012 04:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that adding the magic __toString() method to your objects will not allow you to seek an array with it, it still throws an Illegal Offset warning.<br />
<br />
The solution is to cast it to a string first, like this<br />
<br />
$array[(string) $stringableObject]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104064""></a>
  <div class="note">
   <strong class="user">mlvljr</strong>
   <a href="#104064" class="date">20-May-2011 03:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
please note that when arrays are copied, the "reference status" of their members is preserved (<a href="http://www.php.net/manual/en/language.references.whatdo.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.references.whatdo.php</a>).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99363""></a>
  <div class="note">
   <strong class="user">Walter Tross</strong>
   <a href="#99363" class="date">12-Aug-2010 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is true that "array assignment always involves value copying", but the copy is a "lazy copy". This means that the data of the two variables occupy the same memory as long as no array element changes.<br />
<br />
E.g., if you have to pass an array to a function that only needs to read it, there is no advantage at all in passing it by reference.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80311""></a>
  <div class="note">
   <strong class="user">ken underscore yap atsign email dot com</strong>
   <a href="#80311" class="date">09-Jan-2008 05:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"If you convert a NULL value to an array, you get an empty array."
<br />

<br />
This turns out to be a useful property. Say you have a search function that returns an array of values on success or NULL if nothing found.
<br />

<br />
<span class="default">&lt;?php $values </span><span class="keyword">= </span><span class="default">search</span><span class="keyword">(...); </span><span class="default">?&gt;
<br />
</span>
<br />
Now you want to merge the array with another array. What do we do if $values is NULL? No problem:
<br />

<br />
<span class="default">&lt;?php $combined </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">((array)</span><span class="default">$values</span><span class="keyword">, </span><span class="default">$other</span><span class="keyword">); </span><span class="default">?&gt;
<br />
</span>
<br />
Voila.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77642""></a>
  <div class="note">
   <strong class="user">carl at linkleaf dot com</strong>
   <a href="#77642" class="date">06-Sep-2007 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Its worth noting that there does not appear to be any functional limitations on the length or content of string indexes. The string indexes for your arrays can contain any characters, including new line characters, and can be of any length:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$key </span><span class="keyword">= </span><span class="string">"XXXXX"</span><span class="keyword">;<br />
</span><span class="default">$test </span><span class="keyword">= array(</span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="string">"test5"</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">500</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp; </span><span class="default">$key </span><span class="keyword">.= </span><span class="string">"X"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="string">"test" </span><span class="keyword">. </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$test</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Keep in mind that using extremely long array indexes is not a good practice and could cost you lots of extra CPU time. However, if you have to use a long string as an array index you won't have to worry about the length or content.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73936""></a>
  <div class="note">
   <strong class="user">Spudley</strong>
   <a href="#73936" class="date">16-Mar-2007 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On array recursion...
<br />

<br />
Given the following code:
<br />

<br />
<span class="default">&lt;?php
<br />
$myarray </span><span class="keyword">= array(</span><span class="string">'test'</span><span class="keyword">,</span><span class="default">123</span><span class="keyword">);
<br />
</span><span class="default">$myarray</span><span class="keyword">[] = &amp;</span><span class="default">$myarray</span><span class="keyword">;
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$myarray</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
The print_r() will display *RECURSION* when it gets to the third element of the array.
<br />

<br />
There doesn't appear to be any other way to scan an array for recursive references, so if you need to check for them, you'll have to use print_r() with its second parameter to capture the output and look for the word *RECURSION*.
<br />

<br />
It's not an elegant solution, but it's the only one I've found, so I hope it helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70730""></a>
  <div class="note">
   
   <a href="#70730" class="date">25-Oct-2006 06:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This page should include details about how associative arrays are implemened inside PHP; e.g. using hash-maps or b-trees.<br />
<br />
This has important implictions on the permance characteristics of associative arrays and how they should be used; e.g. b-tree are slow to insert but handle collisions better than hashmaps.&nbsp; Hashmaps are faster if there are no collisions, but are slower to retrieve when there are collisions.&nbsp; These factors have implictions on how associative arrays should be used.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57312""></a>
  <div class="note">
   <strong class="user">ia [AT] zoznam [DOT] sk</strong>
   <a href="#57312" class="date">30-Sep-2005 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the previous comment, beware of the fact that reference to the last value of the array remains stored in $value after the foreach:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach ( </span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$value </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// without next line you can get bad results...<br />
//unset( $value );<br />
<br />
</span><span class="default">$value </span><span class="keyword">= </span><span class="default">159</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Now the last element of $arr has the value of '159'. If we remove the comment in the unset() line, everything works as expected ($arr has all values of '1').<br />
<br />
Bad results can also appear in nested foreach loops (the same reason as above).<br />
<br />
So either unset $value after each foreach or better use the longer form:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach ( </span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[ </span><span class="default">$key </span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56234""></a>
  <div class="note">
   <strong class="user">caifara aaaat im dooaat be</strong>
   <a href="#56234" class="date">28-Aug-2005 11:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's note: You can achieve what you're looking for by referencing $single, rather than copying it by value in your foreach statement. See <a href="http://php.net/foreach for more details.]" rel="nofollow" target="_blank">http://php.net/foreach for more details.]</a>
<br />

<br />
Don't know if this is known or not, but it did eat some of my time and maybe it won't eat your time now...
<br />

<br />
I tried to add something to a multidimensional array, but that didn't work at first, look at the code below to see what I mean:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
$a1 </span><span class="keyword">= array( </span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="default">1 </span><span class="keyword">);
<br />
</span><span class="default">$a2 </span><span class="keyword">= array( </span><span class="string">"aa" </span><span class="keyword">=&gt; </span><span class="default">00</span><span class="keyword">, </span><span class="string">"bb" </span><span class="keyword">=&gt; </span><span class="default">11 </span><span class="keyword">);
<br />

<br />
</span><span class="default">$together </span><span class="keyword">= array( </span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2 </span><span class="keyword">);
<br />

<br />
foreach( </span><span class="default">$together </span><span class="keyword">as </span><span class="default">$single </span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$single</span><span class="keyword">[ </span><span class="string">"c" </span><span class="keyword">] = </span><span class="default">3 </span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$together </span><span class="keyword">); 
<br />
</span><span class="comment">/* nothing changed result is:
<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [a] =&gt; 0
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [b] =&gt; 1
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [aa] =&gt; 0
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [bb] =&gt; 11
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )
<br />
) */
<br />

<br />
</span><span class="keyword">foreach( </span><span class="default">$together </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$together</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">"c"</span><span class="keyword">] = </span><span class="default">3 </span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$together </span><span class="keyword">);
<br />

<br />
</span><span class="comment">/* now it works, this prints
<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [a] =&gt; 0
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [b] =&gt; 1
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [c] =&gt; 3
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [aa] =&gt; 0
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [bb] =&gt; 11
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [c] =&gt; 3
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )
<br />
)
<br />
*/
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52124""></a>
  <div class="note">
   <strong class="user">jeff splat codedread splot com</strong>
   <a href="#52124" class="date">21-Apr-2005 06:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware that if you're using strings as indices in the $_POST array, that periods are transformed into underscores:<br />
<br />
&lt;html&gt;<br />
&lt;body&gt;<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; printf</span><span class="keyword">(</span><span class="string">"POST: "</span><span class="keyword">); </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">); </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>&lt;form method="post" action="<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]; </span><span class="default">?&gt;</span>"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="hidden" name="Windows3.1" value="Sux"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;input type="submit" value="Click" /&gt;<br />
&lt;/form&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;<br />
<br />
Once you click on the button, the page displays the following:<br />
<br />
POST: Array ( [Windows3_1] =&gt; Sux )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51348""></a>
  <div class="note">
   <strong class="user">lars-phpcomments at ukmix dot net</strong>
   <a href="#51348" class="date">28-Mar-2005 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Used to creating arrays like this in Perl?<br />
<br />
@array = ("All", "A".."Z");<br />
<br />
Looks like we need the range() function in PHP:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(array(</span><span class="string">'All'</span><span class="keyword">), </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
You don't need to array_merge if it's just one range:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
