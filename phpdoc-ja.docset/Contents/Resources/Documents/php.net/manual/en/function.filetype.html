<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>ファイルタイプを取得する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.filesize.html">≪ filesize</a></li>
      <li style="float: right;"><a href="function.flock.html">flock ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.filesystem.html">ファイルシステム 関数</a></li>
    <li>ファイルタイプを取得する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.filetype" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">filetype</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">filetype</span> &mdash; <span class="dc-title">ファイルタイプを取得する</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.filetype-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>filetype</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   )</div>

  <p class="para rdfs-comment">
   指定したファイルのタイプを返します。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.filetype-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       ファイルへのパス。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.filetype-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   ファイルのタイプを返します。返される値は fifo、char、dir、
   block、link、file、socket および unknown のいずれかです。
  </p>
  <p class="para">
   エラーが発生すると <strong><code>FALSE</code></strong> を返します。
   また <span class="function"><strong>filetype()</strong></span> は stat コールに失敗したり、
   未知のファイルタイプであったりした場合に
   <strong><code>E_NOTICE</code></strong> メッセージを発行します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.filetype-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-2473">
    <p><strong>例1 <span class="function"><strong>filetype()</strong></span> の例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filetype</span><span style="color: #007700">(</span><span style="color: #DD0000">'/etc/passwd'</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ファイル<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">filetype</span><span style="color: #007700">(</span><span style="color: #DD0000">'/etc/'</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ディレクトリ<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.filetype-errors">
  <h3 class="title">エラー / 例外</h3>
  <p class="para">
失敗したときは <strong><code>E_WARNING</code></strong> が発生します。
</p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.filetype-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: <span class="simpara">この関数の結果は
キャッシュされます。詳細は、<span class="function"><a href="function.clearstatcache.html" class="function">clearstatcache()</a></span>
を参照してください。</span></p></blockquote>
  <div class="tip"><strong class="tip">ヒント</strong><p class="simpara">
<em>PHP 5.0.0</em> 以降、この関数は、
<em class="emphasis">何らかの</em> URL ラッパーと組合せて使用することができます。
どのラッパーが <span class="function"><a href="function.stat.html" class="function">stat()</a></span> ファミリーをサポートしているかを調べるには
<a href="wrappers.html" class="xref">サポートするプロトコル/ラッパー</a> を参照してください。</p></div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.filetype-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-dir.html" class="function" rel="rdfs-seeAlso">is_dir()</a> - ファイルがディレクトリかどうかを調べる</span></li>
    <li class="member"><span class="function"><a href="function.is-file.html" class="function" rel="rdfs-seeAlso">is_file()</a> - 通常ファイルかどうかを調べる</span></li>
    <li class="member"><span class="function"><a href="function.is-link.html" class="function" rel="rdfs-seeAlso">is_link()</a> - ファイルがシンボリックリンクかどうかを調べる</span></li>
    <li class="member"><span class="function"><a href="function.file-exists.html" class="function" rel="rdfs-seeAlso">file_exists()</a> - ファイルまたはディレクトリが存在するかどうか調べる</span></li>
    <li class="member"><span class="function"><a href="function.mime-content-type.html" class="function" rel="rdfs-seeAlso">mime_content_type()</a> - ファイルの MIME Content-type を検出する (非推奨)</span></li>
    <li class="member"><span class="function"><a href="function.pathinfo.html" class="function" rel="rdfs-seeAlso">pathinfo()</a> - ファイルパスに関する情報を返す</span></li>
    <li class="member"><span class="function"><a href="function.stat.html" class="function" rel="rdfs-seeAlso">stat()</a> - ファイルに関する情報を取得する</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114255""></a>
  <div class="note">
   <strong class="user">r dot koelpin at evisionteam dot de</strong>
   <a href="#114255" class="date">30-Jan-2014 03:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/* COPY/PASTE */<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//https://php.net/manual/de/function.filetype.php#104308 <br />
<br />
</span><span class="keyword">echo </span><span class="string">"Zum testen mussen tatsachlich existente Namen verwendet werden.&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Pfad und Dateiname mussen getrennt eingetragen und durch einen Punkt verbunden sein.&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Example: [filetype(\"../dir/u_dir/\".\"temp.jpg\")] liefert -&gt; file&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104308""></a>
  <div class="note">
   <strong class="user">Abhi Jain</strong>
   <a href="#104308" class="date">08-Jun-2011 09:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Putting @ in front of the filetype() function does not prevent it from raising a warning (Lstat failed), if E_WARNING is enabled on your error_reporting.<br />
<br />
The most common cause of filetype() raising this warning and not showing a filetype() in the output (it actually returns NULL) is, if you happened to pass just the 'Dir or File Name' and not the complete "Absolute or Relative Path" to that 'file or Dir'. It may still read that file and return its filetype as "file" but for Dir's it shows warning and outputs NULL.<br />
eg:<br />
$pathToFile = '/var/www';<br />
$file = 'test.php';<br />
$dir = 'somedir';<br />
<br />
Output for filetype($file) will be returned as 'file' and possibly without any warning, but for filetype($dir), it will return NULL with the warning "Lstat failed", unless you pass a complete path to that dir, i.e. filetype($pathToFile.'/'.$dir).<br />
<br />
This happened to me and found this solution after a lot of trial and error. Thought, it might help someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100319""></a>
  <div class="note">
   <strong class="user">adlerweb</strong>
   <a href="#100319" class="date">07-Oct-2010 10:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
filetype() does not work for files &gt;=2GB on x86 Linux. You can use stat as a workarround:<br />
<br />
$type=trim(`stat -c%F $file`);<br />
<br />
Note that stat returns diffenerent strings ("regular file","directory",...)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87161""></a>
  <div class="note">
   <strong class="user">7r6ivyeo at mail dot com</strong>
   <a href="#87161" class="date">22-Nov-2008 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I use the CLI version of PHP on Windows Vista.&nbsp; Here's how to determine if a file is marked "hidden" by NTFS:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_hidden_file</span><span class="keyword">(</span><span class="default">$fn</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$attr </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">exec</span><span class="keyword">(</span><span class="string">'FOR %A IN ("'</span><span class="keyword">.</span><span class="default">$fn</span><span class="keyword">.</span><span class="string">'") DO @ECHO %~aA'</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] === </span><span class="string">'h'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Changing <span class="default">&lt;?php </span><span class="keyword">if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] === </span><span class="string">'h'</span><span class="keyword">) </span><span class="default">?&gt;</span> to <span class="default">&lt;?php </span><span class="keyword">if(</span><span class="default">$attr</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] === </span><span class="string">'s'</span><span class="keyword">) </span><span class="default">?&gt;</span> will check for system files.<br />
<br />
This should work on any Windows OS that provides DOS shell commands.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40660""></a>
  <div class="note">
   <strong class="user">ruach at chpc dot utah dot edu</strong>
   <a href="#40660" class="date">11-Mar-2004 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are 7 values that can be returned. Here is a list of them and what each one means<br />
<br />
block: block special device<br />
<br />
char: character special device<br />
<br />
dir: directory<br />
<br />
fifo: FIFO (named pipe)<br />
<br />
file: regular file<br />
<br />
link: symbolic link<br />
<br />
unknown: unknown file type</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
