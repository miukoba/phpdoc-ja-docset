<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>オブジェクトの親クラスの名前を取得する</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.get-object-vars.html">≪ get_object_vars</a></li>
      <li style="float: right;"><a href="function.interface-exists.html">interface_exists ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.classobj.html">クラス/オブジェクト関数</a></li>
    <li>オブジェクトの親クラスの名前を取得する</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.get-parent-class" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_parent_class</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">get_parent_class</span> &mdash; <span class="dc-title">オブジェクトの親クラスの名前を取得する</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.get-parent-class-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>get_parent_class</strong></span>
    ([ <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$object</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   オブジェクトあるいはクラスの親クラスの名前を取得します。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.get-parent-class-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">object</code></dt>

     <dd>

      <p class="para">
       調べたいオブジェクトあるいはクラスの名前。
       オブジェクトのメソッドからコールされた場合、このパラメータはオプションとなります。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.get-parent-class-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   <code class="parameter">object</code>
   がインスタンスあるいは名前であるクラスの親クラス名を返します。
  </p>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
    オブジェクトが親を持たない場合や指定したクラスが存在しない場合は <strong><code>FALSE</code></strong> を返します。
   </p>
  </p></blockquote>
  <p class="para">
   オブジェクトの外部からこのパラメータを省略してコールすると、
   この関数は <strong><code>FALSE</code></strong> を返します
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.get-parent-class-changelog">
  <h3 class="title">変更履歴</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.1.0</td>
       <td>
        オブジェクトの外部からパラメータなしでコールすると、
        この関数は警告を発生したうえで <strong><code>NULL</code></strong> を返していました。しかし、今は <strong><code>FALSE</code></strong> を返します。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.get-parent-class-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5167">
    <p><strong>例1 <span class="function"><strong>get_parent_class()</strong></span> の使用例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">dad&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">dad</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ロジックを実装する<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">child&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">dad&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">child</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"I'm&nbsp;"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">get_parent_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;,&nbsp;</span><span style="color: #DD0000">"'s&nbsp;son\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">child2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">dad&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">child2</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"I'm&nbsp;"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">get_parent_class</span><span style="color: #007700">(</span><span style="color: #DD0000">'child2'</span><span style="color: #007700">)&nbsp;,&nbsp;</span><span style="color: #DD0000">"'s&nbsp;son&nbsp;too\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">child</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">child2</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
I&#039;m dad&#039;s son
I&#039;m dad&#039;s son too
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.get-parent-class-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.get-class.html" class="function" rel="rdfs-seeAlso">get_class()</a> - オブジェクトのクラス名を返す</span></li>
    <li class="member"><span class="function"><a href="function.is-subclass-of.html" class="function" rel="rdfs-seeAlso">is_subclass_of()</a> - あるオブジェクトが指定したクラスのサブクラスに属するかどうかを調べる</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="108273""></a>
  <div class="note">
   <strong class="user">falundir at gmail dot com</strong>
   <a href="#108273" class="date">13-Apr-2012 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use this function to find common parent of multiple objects or classes.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Returns name of the first (in class hierarchy) common parent class of all provided objects or classes.<br />
&nbsp;* Returns FALSE when common class is not found.<br />
&nbsp;*<br />
&nbsp;* @param mixed $objects Array that can contain objects or class names.<br />
&nbsp;* @return mixed<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">get_first_common_parent</span><span class="keyword">(</span><span class="default">$objects</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$common_ancestors </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$objects </span><span class="keyword">as </span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$class_name </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$class_name </span><span class="keyword">= </span><span class="default">$object</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent_class_names </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent_class_name </span><span class="keyword">= </span><span class="default">$class_name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parent_class_names</span><span class="keyword">[] = </span><span class="default">$parent_class_name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } while(</span><span class="default">$parent_class_name </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$parent_class_name</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$common_ancestors </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$common_ancestors </span><span class="keyword">= </span><span class="default">$parent_class_names</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$common_ancestors </span><span class="keyword">= </span><span class="default">array_intersect</span><span class="keyword">(</span><span class="default">$common_ancestors</span><span class="keyword">, </span><span class="default">$parent_class_names</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$common_ancestors</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
}<br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; class </span><span class="default">D </span><span class="keyword">extends </span><span class="default">B </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; class </span><span class="default">E </span><span class="keyword">extends </span><span class="default">B </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; class </span><span class="default">F </span><span class="keyword">extends </span><span class="default">C </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; class </span><span class="default">G </span><span class="keyword">extends </span><span class="default">F </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
class </span><span class="default">H </span><span class="keyword">{<br />
}<br />
<br />
</span><span class="comment">//returns "A"<br />
</span><span class="default">get_first_common_parent</span><span class="keyword">(array(</span><span class="string">'G'</span><span class="keyword">, </span><span class="string">'E'</span><span class="keyword">));<br />
<br />
</span><span class="comment">//returns "F"<br />
</span><span class="default">get_first_common_parent</span><span class="keyword">(array(new </span><span class="default">G</span><span class="keyword">(), </span><span class="string">'F'</span><span class="keyword">));<br />
<br />
</span><span class="comment">//returns false (no common parent)<br />
</span><span class="default">get_first_common_parent</span><span class="keyword">(array(</span><span class="string">'C'</span><span class="keyword">, </span><span class="string">'H'</span><span class="keyword">));<br />
<br />
</span><span class="comment">//returns false (non-existent class provided)<br />
</span><span class="default">get_first_common_parent</span><span class="keyword">(array(new </span><span class="default">B</span><span class="keyword">(), </span><span class="string">'X'</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103562""></a>
  <div class="note">
   <strong class="user">levu</strong>
   <a href="#103562" class="date">20-Apr-2011 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a simple function doing the reverse thing: get the children:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_child</span><span class="keyword">(</span><span class="default">$instance</span><span class="keyword">, </span><span class="default">$classname</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= </span><span class="default">$classname</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$instance</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; while ((</span><span class="default">$p </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$p </span><span class="keyword">== </span><span class="default">$class</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$t</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">$p</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
abstract class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">someFunction</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">get_child</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">__CLASS__</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
<br />
}<br />
<br />
class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">B </span><span class="keyword">{<br />
<br />
}<br />
<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">();<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">someFunction</span><span class="keyword">(); </span><span class="comment">//displays B<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90202""></a>
  <div class="note">
   <strong class="user">michael at getsprink dot -- com</strong>
   <a href="#90202" class="date">09-Apr-2009 09:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This little snippet to get the inheritance tree might be useful to someone.<br />
<br />
<span class="default">&lt;?php<br />
<br />
header</span><span class="keyword">(</span><span class="string">"Content-Type: text/plain;"</span><span class="keyword">);<br />
<br />
class </span><span class="default">Top </span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">getParents</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$plist</span><span class="keyword">=array()) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= </span><span class="default">$class </span><span class="keyword">? </span><span class="default">$class </span><span class="keyword">: </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$parent </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$parent</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$plist</span><span class="keyword">[] = </span><span class="default">$parent</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">/*Do not use $this. Use 'self' here instead, or you<br />
&nbsp;&nbsp; &nbsp; &nbsp; * will get an infinite loop. */<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$plist </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">getParents</span><span class="keyword">(</span><span class="default">$parent</span><span class="keyword">, </span><span class="default">$plist</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$plist</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Middle </span><span class="keyword">extends </span><span class="default">Top </span><span class="keyword">{<br />
&nbsp; <br />
}<br />
<br />
class </span><span class="default">Bottom </span><span class="keyword">extends </span><span class="default">Middle </span><span class="keyword">{<br />
&nbsp; <br />
}<br />
<br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">Bottom</span><span class="keyword">();<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">getParents</span><span class="keyword">());<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83183""></a>
  <div class="note">
   <strong class="user">ssb45 at cornell dot edu</strong>
   <a href="#83183" class="date">14-May-2008 05:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"'If called without parameter outside object' What on earth does that mean?"<br />
<br />
There are two places this could be called:<br />
1. From within a member function of an object.&nbsp; In this case, it may be called with no parameters and will return the parent class of the object owning the member function.&nbsp; (If the parameter is included, then it will return the parent class of the specified class as normal.)<br />
<br />
2. From outside an object (i.e., global or function scope).&nbsp; In this case, PHP doesn't know what class you're talking about if you don't include a parameter, so it returns FALSE.&nbsp; (But, of course, it works if you specify the class with the parameter.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82564""></a>
  <div class="note">
   <strong class="user">marcus at synchromedia dot co dot uk</strong>
   <a href="#82564" class="date">16-Apr-2008 06:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"If called without parameter outside object" What on earth does that mean?<br />
<br />
What I can tell you, and that is not documented, is that if the object in question does not have an explicitly declared parent class, it does return boolean false. It doesn't for example return 'stdClass' on the basis that all objects are derived from that.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57548""></a>
  <div class="note">
   <strong class="user">birkholz at web dot de</strong>
   <a href="#57548" class="date">07-Oct-2005 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
tim at correctclick dot com wrote:<br />
&lt;quote&gt;<br />
A slightly more cryptic but faster get_ancestors function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_ancestors </span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; for (</span><span class="default">$classes</span><span class="keyword">[] = </span><span class="default">$class</span><span class="keyword">; </span><span class="default">$class </span><span class="keyword">= </span><span class="default">get_parent_class </span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">); </span><span class="default">$classes</span><span class="keyword">[] = </span><span class="default">$class</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$classes</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span>(The second part of the for is implicitly testing for $class != "").&nbsp; Recursion is considerably slower than looping, so you probably want to use this function.<br />
<br />
Hope someone finds it useful.<br />
&lt;/quote&gt;<br />
<br />
I would prefer this version, because it will create no duplicates:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_ancestors </span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$classes </span><span class="keyword">= array(</span><span class="default">$class</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$class </span><span class="keyword">= </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">)) { </span><span class="default">$classes</span><span class="keyword">[] = </span><span class="default">$class</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$classes</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">Greets</span><span class="keyword">, </span><span class="default">Dennis<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47057""></a>
  <div class="note">
   <strong class="user">matt-php at DONT-SPAM-ME dot bitdifferent dot com</strong>
   <a href="#47057" class="date">01-Nov-2004 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP (4 at least, dunno about 5) stores classnames in lower case, so:<br />
<br />
<span class="default">&lt;?PHP<br />
<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
}<br />
<br />
class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
}<br />
<br />
echo </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="string">'Bar'</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
echo </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="string">'bar'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
will output:<br />
<br />
foo<br />
foo</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41353""></a>
  <div class="note">
   <strong class="user">radu dot rendec at ines dot ro</strong>
   <a href="#41353" class="date">07-Apr-2004 03:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the argument obj is a string and the class is not defined, then the function returns FALSE.<br />
<br />
If the argument obj is an object created from a class with no ancestors (or a string representing a class with no ancestors), then the function returns FALSE.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30999""></a>
  <div class="note">
   <strong class="user">tim at correctclick dot com</strong>
   <a href="#30999" class="date">06-Apr-2003 04:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A slightly more cryptic but faster get_ancestors function:<br />
<br />
function get_ancestors ($class) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; for ($classes[] = $class; $class = get_parent_class ($class); $classes[] = $class); <br />
&nbsp;&nbsp; &nbsp;&nbsp; return $classes;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
}<br />
<br />
(The second part of the for is implicitly testing for $class != "").&nbsp; Recursion is considerably slower than looping, so you probably want to use this function.<br />
<br />
Hope someone finds it useful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18563""></a>
  <div class="note">
   <strong class="user">eric dot brison at anakeen dot com</strong>
   <a href="#18563" class="date">28-Jan-2002 01:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To return all ancestors class of an object<br />
<br />
function get_ancestors_class($classname) {<br />
&nbsp; $father = get_parent_class($classname);<br />
<br />
&nbsp; if ($father != "") {<br />
<br />
&nbsp;&nbsp;&nbsp; $ancestors = get_ancestors_class($father);<br />
&nbsp;&nbsp;&nbsp; $ancestors[] = $father;<br />
&nbsp; }<br />
&nbsp; return $ancestors;<br />
}<br />
<br />
example :<br />
-----------<br />
Class C&nbsp; {<br />
<br />
}<br />
<br />
Class B extends C {<br />
<br />
}<br />
<br />
Class A extends B {<br />
<br />
}<br />
print_r (get_ancestors_class("a"));<br />
print_r (get_ancestors_class("b"));<br />
<br />
example result :<br />
---------------<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; c<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; c<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
