<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>HTTP 関数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="httpresponse.status.html">≪ HttpResponse::status</a></li>
      <li style="float: right;"><a href="function.http-cache-etag.html">http_cache_etag ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.http.html">HTTP</a></li>
    <li>HTTP 関数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.http" class="reference">
 <h1 class="title">HTTP 関数</h1>
 <div class="partintro">
  <p class="simpara">
   このページですでに取り上げられた組み込みの HTTP 関連関数については
   <a href="ref.network.html" class="link">ネットワーク関数</a>
   に説明があります。
  </p>
  <p class="simpara">
   以下の関数は、HTTP モジュールを必要としません。
   <span class="function"><a href="function.header.html" class="function">header()</a></span>、<span class="function"><a href="function.headers-list.html" class="function">headers_list()</a></span>、<span class="function"><a href="function.headers-sent.html" class="function">headers_sent()</a></span>、
   <span class="function"><a href="function.setcookie.html" class="function">setcookie()</a></span>  そして <span class="function"><a href="function.setrawcookie.html" class="function">setrawcookie()</a></span>。
  </p>

  <div class="section" id="http.functions">
   <h2 class="title">関数群</h2>
   <div class="section">
    <h2 class="title">キャッシュ</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-cache-etag.html" class="function">http_cache_etag()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-cache-last-modified.html" class="function">http_cache_last_modified()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">エンコーディング</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-chunked-decode.html" class="function">http_chunked_decode()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-deflate.html" class="function">http_deflate()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-inflate.html" class="function">http_inflate()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">雑多な関数</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-build-cookie.html" class="function">http_build_cookie()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-date.html" class="function">http_date()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-get-request-body-stream.html" class="function">http_get_request_body_stream()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-get-request-body.html" class="function">http_get_request_body()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-get-request-headers.html" class="function">http_get_request_headers()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-match-etag.html" class="function">http_match_etag()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-match-modified.html" class="function">http_match_modified()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-match-request-header.html" class="function">http_match_request_header()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-support.html" class="function">http_support()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">ネゴシエーション</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-negotiate-charset.html" class="function">http_negotiate_charset()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-negotiate-content-type.html" class="function">http_negotiate_content_type()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-negotiate-language.html" class="function">http_negotiate_language()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">出力ハンドラ</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.ob-deflatehandler.html" class="function">ob_deflatehandler()</a></span></li>
     <li class="member"><span class="function"><a href="function.ob-etaghandler.html" class="function">ob_etaghandler()</a></span></li>
     <li class="member"><span class="function"><a href="function.ob-inflatehandler.html" class="function">ob_inflatehandler()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">パーサ</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-parse-cookie.html" class="function">http_parse_cookie()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-parse-headers.html" class="function">http_parse_headers()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-parse-message.html" class="function">http_parse_message()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-parse-params.html" class="function">http_parse_params()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">リクエスト</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-get.html" class="function">http_get()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-head.html" class="function">http_head()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-post-data.html" class="function">http_post_data()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-post-fields.html" class="function">http_post_fields()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-put-data.html" class="function">http_put_data()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-put-file.html" class="function">http_put_file()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-put-stream.html" class="function">http_put_stream()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request-body-encode.html" class="function">http_request_body_encode()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request-method-exists.html" class="function">http_request_method_exists()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request-method-name.html" class="function">http_request_method_name()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request-method-register.html" class="function">http_request_method_register()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request-method-unregister.html" class="function">http_request_method_unregister()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-request.html" class="function">http_request()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">レスポンス</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-redirect.html" class="function">http_redirect()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-content-disposition.html" class="function">http_send_content_disposition()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-content-type.html" class="function">http_send_content_type()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-data.html" class="function">http_send_data()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-file.html" class="function">http_send_file()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-last-modified.html" class="function">http_send_last_modified()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-status.html" class="function">http_send_status()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-send-stream.html" class="function">http_send_stream()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-throttle.html" class="function">http_throttle()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">URL</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-build-str.html" class="function">http_build_str()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-build-url.html" class="function">http_build_url()</a></span></li>
    </ul>
   </div>
   <div class="section">
    <h2 class="title">持続的なハンドル</h2>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="function.http-persistent-handles-count.html" class="function">http_persistent_handles_count()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-persistent-handles-ident.html" class="function">http_persistent_handles_ident()</a></span></li>
     <li class="member"><span class="function"><a href="function.http-persistent-handles-clean.html" class="function">http_persistent_handles_clean()</a></span></li>
    </ul>
   </div>
  </div>

 </div>

 














 





















 































































 





















 





















 




























 





















 



























































































 































































 















<h2>目次</h2><ul class="chunklist chunklist_reference"><li><a href="function.http-cache-etag.html">http_cache_etag</a> &mdash; ETag でキャッシュする</li><li><a href="function.http-cache-last-modified.html">http_cache_last_modified</a> &mdash; 最終更新日時でキャッシュする</li><li><a href="function.http-chunked-decode.html">http_chunked_decode</a> &mdash; chunked-encoded データをデコードする</li><li><a href="function.http-deflate.html">http_deflate</a> &mdash; データを圧縮する</li><li><a href="function.http-inflate.html">http_inflate</a> &mdash; データを展開する</li><li><a href="function.http-build-cookie.html">http_build_cookie</a> &mdash; クッキー文字列を作成する</li><li><a href="function.http-date.html">http_date</a> &mdash; HTTP の RFC に準拠した日付を作成する</li><li><a href="function.http-get-request-body-stream.html">http_get_request_body_stream</a> &mdash; リクエストの本文をストリームとして取得する</li><li><a href="function.http-get-request-body.html">http_get_request_body</a> &mdash; リクエストの本文を文字列として取得する</li><li><a href="function.http-get-request-headers.html">http_get_request_headers</a> &mdash; リクエストヘッダを配列として取得する</li><li><a href="function.http-match-etag.html">http_match_etag</a> &mdash; ETag を比較する</li><li><a href="function.http-match-modified.html">http_match_modified</a> &mdash; 最終更新日時を比較する</li><li><a href="function.http-match-request-header.html">http_match_request_header</a> &mdash; 任意のヘッダを比較する</li><li><a href="function.http-support.html">http_support</a> &mdash; 組み込みの HTTP サポートを調べる</li><li><a href="function.http-negotiate-charset.html">http_negotiate_charset</a> &mdash; クライアントが希望している文字セットを選択する</li><li><a href="function.http-negotiate-content-type.html">http_negotiate_content_type</a> &mdash; クライアントが希望している content type を選択する</li><li><a href="function.http-negotiate-language.html">http_negotiate_language</a> &mdash; クライアントが希望している言語を選択する</li><li><a href="function.ob-deflatehandler.html">ob_deflatehandler</a> &mdash; 圧縮出力ハンドラ</li><li><a href="function.ob-etaghandler.html">ob_etaghandler</a> &mdash; ETag 出力ハンドラ</li><li><a href="function.ob-inflatehandler.html">ob_inflatehandler</a> &mdash; 展開出力ハンドラ</li><li><a href="function.http-parse-cookie.html">http_parse_cookie</a> &mdash; HTTP クッキーをパースする</li><li><a href="function.http-parse-headers.html">http_parse_headers</a> &mdash; HTTP ヘッダをパースする</li><li><a href="function.http-parse-message.html">http_parse_message</a> &mdash; HTTP メッセージをパースする</li><li><a href="function.http-parse-params.html">http_parse_params</a> &mdash; パラメータリストをパースする</li><li><a href="function.http-persistent-handles-clean.html">http_persistent_handles_clean</a> &mdash; 持続ハンドルを消去する</li><li><a href="function.http-persistent-handles-count.html">http_persistent_handles_count</a> &mdash; 持続ハンドルの状況</li><li><a href="function.http-persistent-handles-ident.html">http_persistent_handles_ident</a> &mdash; 持続ハンドルの ident を取得/設定する</li><li><a href="function.http-get.html">http_get</a> &mdash; GET リクエストを実行する</li><li><a href="function.http-head.html">http_head</a> &mdash; HEAD リクエストを実行する</li><li><a href="function.http-post-data.html">http_post_data</a> &mdash; エンコードされたデータを使用して POST リクエストを実行する</li><li><a href="function.http-post-fields.html">http_post_fields</a> &mdash; エンコードされる前のデータを使用して POST リクエストを実行する</li><li><a href="function.http-put-data.html">http_put_data</a> &mdash; データを使用して PUT リクエストを実行する</li><li><a href="function.http-put-file.html">http_put_file</a> &mdash; ファイルを使用して PUT リクエストを実行する</li><li><a href="function.http-put-stream.html">http_put_stream</a> &mdash; ストリームを使用して PUT リクエストを実行する</li><li><a href="function.http-request-body-encode.html">http_request_body_encode</a> &mdash; リクエスト本文をエンコードする</li><li><a href="function.http-request-method-exists.html">http_request_method_exists</a> &mdash; リクエストメソッドが存在するかどうかを調べる</li><li><a href="function.http-request-method-name.html">http_request_method_name</a> &mdash; リクエストメソッド名を取得する</li><li><a href="function.http-request-method-register.html">http_request_method_register</a> &mdash; リクエストメソッドを登録する</li><li><a href="function.http-request-method-unregister.html">http_request_method_unregister</a> &mdash; リクエストメソッドの登録を解除する</li><li><a href="function.http-request.html">http_request</a> &mdash; 独自のリクエストを実行する</li><li><a href="function.http-redirect.html">http_redirect</a> &mdash; HTTP リダイレクトを発行する</li><li><a href="function.http-send-content-disposition.html">http_send_content_disposition</a> &mdash; Content-Disposition を送信する</li><li><a href="function.http-send-content-type.html">http_send_content_type</a> &mdash; Content-Type を送信する</li><li><a href="function.http-send-data.html">http_send_data</a> &mdash; 任意のデータを送信する</li><li><a href="function.http-send-file.html">http_send_file</a> &mdash; ファイルを送信する</li><li><a href="function.http-send-last-modified.html">http_send_last_modified</a> &mdash; Last-Modified を送信する</li><li><a href="function.http-send-status.html">http_send_status</a> &mdash; HTTP レスポンスステータスを送信する</li><li><a href="function.http-send-stream.html">http_send_stream</a> &mdash; ストリームを送信する</li><li><a href="function.http-throttle.html">http_throttle</a> &mdash; HTTP 抑止処理</li><li><a href="function.http-build-str.html">http_build_str</a> &mdash; クエリ文字列を組み立てる</li><li><a href="function.http-build-url.html">http_build_url</a> &mdash; URL を組み立てる</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="60709""></a>
  <div class="note">
   <strong class="user">henke dot andersson at comhem dot se</strong>
   <a href="#60709" class="date">14-Jan-2006 10:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to make outgoing http connections with php, concider the curl extension.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59247""></a>
  <div class="note">
   <strong class="user">woei at xs4all dot nl</strong>
   <a href="#59247" class="date">30-Nov-2005 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Actually, if you want to redirect a user why let HTML or JavaScript do it? Simply do this:<br />
<br />
header("Location: <a href="http://www.example.com/" rel="nofollow" target="_blank">http://www.example.com/</a>");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43893""></a>
  <div class="note">
   <strong class="user">WeeJames</strong>
   <a href="#43893" class="date">07-Jul-2004 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding what the guy before said.&nbsp; We've experienced problems where certain firewalls have encrypted the HTTP_REFERER meaning that it doesnt always contain the place you've come from.<br />
<br />
Better to track where the user has come from either in a form post or in the url.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41968""></a>
  <div class="note">
   
   <a href="#41968" class="date">28-Apr-2004 04:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in reference to toashwinisidhu's and breaker's note, a more effective way would be to use meta-tag redirect, for example.<br />
<br />
<span class="default">&lt;?php<br />
$url </span><span class="keyword">= </span><span class="string">"<a href="http://somesite.com/index.php" rel="nofollow" target="_blank">http://somesite.com/index.php</a>"</span><span class="keyword">; </span><span class="comment">// target of the redirect<br />
</span><span class="default">$delay </span><span class="keyword">= </span><span class="string">"3"</span><span class="keyword">; </span><span class="comment">// 3 second delay<br />
<br />
</span><span class="keyword">echo </span><span class="string">'&lt;meta http-equiv="refresh" content="'</span><span class="keyword">.</span><span class="default">$delay</span><span class="keyword">.</span><span class="string">';url='</span><span class="keyword">.</span><span class="default">$url</span><span class="keyword">.</span><span class="string">'"&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The meta goes in the head of the HTML.<br />
This method does not require javascript and is supported by most browsers and is rarely, if ever, filterd out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41732""></a>
  <div class="note">
   <strong class="user">toashwinisidhu at yahoo dot com</strong>
   <a href="#41732" class="date">21-Apr-2004 12:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The method given below may not sometimes work.<br />
The following method has always worked with me:<br />
just put the following 3 lines in your PHP code<br />
<br />
?&gt;<br />
&lt;body onload=setTimeout("location.href='$url'",$sec)&gt;<br />
<span class="default">&lt;?PHP<br />
</span><span class="keyword">-------</span><span class="default">?&gt;<br />
</span><br />
$sec is the time in second after which the browser would automatically go to the url. Set it to 0 if you do not want to give any time.<br />
You can use this function on the events of various html/form objects (eg.-onclick for button).eg.<br />
&lt;input type=button value="Go to Php.net" onclick=setTimeout("location.href='php.net'",0)&gt;<br />
Use this to one step back<br />
&lt;input type="button" value="Back" onclick=history.go(-1)&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="10461""></a>
  <div class="note">
   <strong class="user">jeffp-php at outofservice dot com</strong>
   <a href="#10461" class="date">05-Jan-2001 05:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$HTTP_RAW_POST_DATA --
<br />

<br />
You'll usually access variables from forms sent via POST method by just accessing the associated PHP global variable.
<br />

<br />
However, if your POST data is not URI encoded (i.e., custom application that's not form-based) PHP won't parse the data into nice variables for you.&nbsp; You will need to use $HTTP_RAW_POST_DATA to access the raw data directly. (This should return a copy of the data given to the PHP process on STDIN; note that you wan't be able to open STDIN and read it yourself because PHP already did so itself.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
