<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>実行時設定</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="memcached.installation.html">≪ インストール手順</a></li>
      <li style="float: right;"><a href="memcached.resources.html">リソース型 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="memcached.setup.html">インストール/設定</a></li>
    <li>実行時設定</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="memcached.configuration" class="section">
 <h2 class="title">実行時設定</h2>
 <p class="simpara">
<var class="filename">php.ini</var> の設定により動作が変化します。
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>Memcached 設定オプション</strong></caption>
   
    <thead>
     <tr>
      <th>名前</th>
      <th>デフォルト</th>
      <th>変更可能</th>
      <th>変更履歴</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-locking" class="link">memcached.sess_locking</a></td>
      <td>1</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-consistent-hash" class="link">memcached.sess_consistent_hash</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-binary" class="link">memcached.sess_binary</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-lock-wait" class="link">memcached.sess_lock_wait</a></td>
      <td>150000</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-prefix" class="link">memcached.sess_prefix</a></td>
      <td>memc.sess.key.</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-number-of-replicas" class="link">memcached.sess_number_of_replicas</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-randomize-replica-read" class="link">memcached.sess_randomize_replica_read</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.sess-remove-failed" class="link">memcached.sess_remove_failed</a></td>
      <td>0</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.compression-type" class="link">memcached.compression_type</a></td>
      <td>fastlz</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.compression-factor" class="link">memcached.compression_factor</a></td>
      <td>1.3</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.compression-threshold" class="link">memcached.compression_threshold</a></td>
      <td>2000</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.serializer" class="link">memcached.serializer</a></td>
      <td>php</td>
      <td>PHP_INI_ALL</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="memcached.configuration.html#ini.memcached.use-sasl" class="link">memcached.use_sasl</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

    </tbody>
   
  </table>

 </p>

 <p class="para">以下に設定ディレクティブに関する
簡単な説明を示します。</p>

 <p class="para">
  <dl>


   
     <dt id="ini.memcached.sess-locking">
      <code class="parameter">memcached.sess_locking</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       セッション単位のロックを使う。設定値として On, Off が使えます。デフォルトは ON です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-consistent-hash">
      <code class="parameter">memcached.sess_consistent_hash</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       セッション管理の コンシステント・ハッシュ モードです。
       On にすると、セッション管理にコンシステント・ハッシュ法を使います。
       コンシステント・ハッシュ法を使うと、既存のキーに煩わされることなく
       ノードを追加したり削除したりできます。デフォルトは Off です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-binary">
      <code class="parameter">memcached.sess_binary</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       セッション管理にmemcachedのバイナリプロトコルを使います。
       Libmemcached のレプリカはこのバイナリモードが有効になっている場合にのみ動作します。
       デフォルトは Off です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-lock-wait">
      <code class="parameter">memcached.sess_lock_wait</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       セッションデータを書き込むときの spin lock の待ち時間をマイクロ秒単位で指定します。
       この値を設定するときは注意してください。数値の値が設定できますが、
       0 はデフォルトの値を使うと解釈されます。負の値を設定するとロックを掛けようと試みる
       回数が減ってしまいます。デフォルトは 150000 です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-prefix">
      <code class="parameter">memcached.sess_prefix</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       セッション管理に使うキーのプレフィックスです。
       219バイト以下の文字列が使えます。デフォルトの値は &quot;memc.sess.key&quot; です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-number-of-replicas">
      <code class="parameter">memcached.sess_number_of_replicas</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       セッションデータのレプリカの数です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-randomize-replica-read">
      <code class="parameter">memcached.sess_randomize_replica_read</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       複数のサーバのレプリカからセッションデータを読み取る際、読み取りを始める最初のサーバをランダムに選ぶかを指定します。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.sess-remove-failed">
      <code class="parameter">memcached.sess_remove_failed</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       通信に失敗した memcached サーバを自動的にサーバリストから外すかを指定します。       
      </p>
     </dd>

    

    
     <dt id="ini.memcached.compression-type">
      <code class="parameter">memcached.compression_type</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       圧縮のタイプを指定します。fastlz か zlib が指定できます。デフォルトは fastlz です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.compression-factor">
      <code class="parameter">memcached.compression_factor</code>
      <span class="type"><a href="language.types.float.html" class="type float">float</a></span>
     </dt>

     <dd>

      <p class="para">
       圧縮係数。圧縮後のサイズが圧縮係数の限界値を超えていた場合にだけ値を圧縮して保存します。
       <em>元のサイズ &gt; 圧縮後のサイズ * 圧縮係数</em>の場合にだけ値を圧縮して保存します。
       デフォルト値は 1.3 (23%強の圧縮率) です。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.compression-threshold">
      <code class="parameter">memcached.compression_threshold</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       圧縮のしきい値。このしきい値を下回るシリアライズ済みの値は圧縮しません。
       デフォルトは2000バイトです。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.serializer">
      <code class="parameter">memcached.serializer</code>
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
     </dt>

     <dd>

      <p class="para">
       新しい memcached オブジェクトのデフォルトのシリアライザを設定します。設定値として php, igbinary, json, json_array が使えます。
      </p>
      <dl>

       
        <dt>
json</dt>

        <dd>

         <p class="para">
          標準的な JSON を使います。このシリアライザは高速でコンパクトですが、UTF-8 でエンコードされたデータでしか動作しませんし、完全なシリアライズを実装していません。詳細は JSONエクステンション を参照して下さい。
         </p>
        </dd>

       
       
        <dt>
json_array</dt>

        <dd>

         <p class="para">
          json と同じですが、シリアライズしたデータを配列に入れます。
         </p>
        </dd>

       
       
        <dt>
php</dt>

        <dd>

         <p class="para">
          標準的なPHPのシリアライザです。
         </p>
        </dd>

       
       
        <dt>
igbinary</dt>

        <dd>

         <p class="para">
          バイナリデータのシリアライザです。
         </p>
        </dd>

       
      </dl>

      <p class="para">
       デフォルトは 利用可能な場合 igbinary です。
       利用できない場合は php がデフォルトになります。
      </p>
     </dd>

    

    
     <dt id="ini.memcached.use-sasl">
      <code class="parameter">memcached.use_sasl</code>
      <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
     </dt>

     <dd>

      <p class="para">
       接続時に SASL認証 を使います。設定値として On, Off が使えます。デフォルトは Off です。
      </p>
     </dd>

    

  </dl>

 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="114565""></a>
  <div class="note">
   <strong class="user">senz</strong>
   <a href="#114565" class="date">06-Mar-2014 10:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In case, you are wondering why your sessions are "killed" after 1440 seconds, take a look at session.gc_maxlifetime. It's value is used in memcached expiration field according to memcache protocol rules. Also, do not forget about cookie expiration time</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106887""></a>
  <div class="note">
   <strong class="user">adolfoabegg at gmail dot com</strong>
   <a href="#106887" class="date">15-Dec-2011 06:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
you can get the list of the possible options for the memcached.ini configuration file here:<br />
https://github.com/php-memcached-dev/php-memcached/blob/master/memcached.ini</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
