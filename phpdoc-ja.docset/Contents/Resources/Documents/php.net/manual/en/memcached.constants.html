<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>定義済み定数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="memcached.resources.html">≪ リソース型</a></li>
      <li style="float: right;"><a href="memcached.expiration.html">有効期限 ≫</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.memcached.html">Memcached</a></li>
    <li>定義済み定数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="memcached.constants" class="appendix">
 <h1>定義済み定数</h1>

 <p class="simpara">
以下の定数が定義されています。
この関数の拡張モジュールが PHP 組み込みでコンパイルされているか、
実行時に動的にロードされている場合のみ使用可能です。
</p>
 <dl>


  
   <dt id="memcached.constants.opt-compression"><strong><code>Memcached::OPT_COMPRESSION</code></strong></dt>

   <dd>

    <p class="para">ペイロードの圧縮を有効あるいは無効にします。有効にすると、
     有効にすると、一定の閾値 (現在は 100 バイト) を超える長さのアイテムは
     格納時に圧縮され、取得時に伸長されます。この操作は透過的に行われます。
    </p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>TRUE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-serializer"><strong><code>Memcached::OPT_SERIALIZER</code></strong></dt>

   <dd>

    <p class="para">
     非スカラ値のシリアライズに使うシリアライザを指定します。
     有効なシリアライザは <strong><code>Memcached::SERIALIZER_PHP</code></strong>
     あるいは <strong><code>Memcached::SERIALIZER_IGBINARY</code></strong> です。
     後者のシリアライザをサポートするのは memcached の configure 時に
     <em>--enable-memcached-igbinary</em> オプションを指定して
     <em>igbinary</em> 拡張を読み込んだときだけです。
    </p>
    <p class="para">型: <em>integer</em>、デフォルト: <strong><code>Memcached::SERIALIZER_PHP</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.serializer-php"><strong><code>Memcached::SERIALIZER_PHP</code></strong></dt>

   <dd>

    <p class="para">デフォルトの PHP シリアライザ。</p>
   </dd>

  

  
   <dt id="memcached.constants.serializer-igbinary"><strong><code>Memcached::SERIALIZER_IGBINARY</code></strong></dt>

   <dd>

    <p class="para"><a href="https://github.com/igbinary/igbinary" class="link external" title="Link : https://github.com/igbinary/igbinary">&raquo;&nbsp;igbinary</a> シリアライザ。
     テキスト表現ではなく、PHP のデータ構造をコンパクトなバイナリ形式で格納します。
     その結果、容量と時間を節約できます。</p>
   </dd>

  

  
   <dt id="memcached.constants.serializer-json"><strong><code>Memcached::SERIALIZER_JSON</code></strong></dt>

   <dd>

    <p class="para">JSON シリアライザ。PHP 5.2.10 以降が必要です。</p>
   </dd>

  

  
   <dt id="memcached.constants.opt-prefix-key"><strong><code>Memcached::OPT_PREFIX_KEY</code></strong></dt>

   <dd>

    <p class="para">これを使うと、アイテムのキーに「ドメイン」を作成できます。
     ここで指定した値がキーの名前の先頭に付きます。
     <em>128</em> 文字より長くはできず、
     ここで指定した値の分だけキーに指定できる長さが小さくなります。
     プレフィックスが付くのはアイテムのキーだけであり、
     サーバーのキーには付きません。</p>
    <p class="para">型: <em>string</em>、デフォルト: <em>&quot;&quot;</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-hash"><strong><code>Memcached::OPT_HASH</code></strong></dt>

   <dd>

    <p class="para">アイテムのキーに使うハッシュアルゴリズムを指定します。
     有効な値は、定数 <strong><code>Memcached::HASH_*</code></strong> のいずれかです。
     どのハッシュアルゴリズムにもそれぞれ利点や欠点があります。
     よくわからない場合やあまり難しく考えたくない場合はデフォルトで進めましょう。
    </p>
    <p class="para">型: <em>integer</em>、デフォルト: <strong><code>Memcached::HASH_DEFAULT</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.hash-default"><strong><code>Memcached::HASH_DEFAULT</code></strong></dt>

   <dd>

    <p class="para">デフォルトのハッシュアルゴリズム (Jenkins one-at-a-time)。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-md5"><strong><code>Memcached::HASH_MD5</code></strong></dt>

   <dd>

    <p class="para">MD5 ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-crc"><strong><code>Memcached::HASH_CRC</code></strong></dt>

   <dd>

    <p class="para">CRC ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-fnv1-64"><strong><code>Memcached::HASH_FNV1_64</code></strong></dt>

   <dd>

    <p class="para">FNV1_64 ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-fnv1a-64"><strong><code>Memcached::HASH_FNV1A_64</code></strong></dt>

   <dd>

    <p class="para">FNV1_64A ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-fnv1-32"><strong><code>Memcached::HASH_FNV1_32</code></strong></dt>

   <dd>

    <p class="para">FNV1_32 ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-fnv1a-32"><strong><code>Memcached::HASH_FNV1A_32</code></strong></dt>

   <dd>

    <p class="para">FNV1_32A ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-hsieh"><strong><code>Memcached::HASH_HSIEH</code></strong></dt>

   <dd>

    <p class="para">Hsieh ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.hash-murmur"><strong><code>Memcached::HASH_MURMUR</code></strong></dt>

   <dd>

    <p class="para">Murmur ハッシュアルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.opt-distribution"><strong><code>Memcached::OPT_DISTRIBUTION</code></strong></dt>

   <dd>

    <p class="para">アイテムのキーをサーバーに振り分ける方式を指定します。
     現在サポートしている方式は、モジュロとコンシステント・ハッシュの二種類です。
     コンシステント・ハッシュのほうがよりうまく分散させられ、
     サーバーをクラスタに追加するときにもキャッシュのロスを最小限に抑えられます。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <strong><code>Memcached::DISTRIBUTION_MODULA</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.distribution-modula"><strong><code>Memcached::DISTRIBUTION_MODULA</code></strong></dt>

   <dd>

    <p class="para">モジュロベースのキー分散アルゴリズム。</p>
   </dd>

  

  
   <dt id="memcached.constants.distribution-consistent"><strong><code>Memcached::DISTRIBUTION_CONSISTENT</code></strong></dt>

   <dd>

    <p class="para">コンシステント・ハッシュを使ったキー分散アルゴリズム (libketama を利用)。</p>
   </dd>

  

  
   <dt id="memcached.constants.opt-libketama-compatible"><strong><code>Memcached::OPT_LIBKETAMA_COMPATIBLE</code></strong></dt>

   <dd>

    <p class="para">libketama 風の挙動との互換性を有効あるいは無効にします。
     有効にすると、アイテムのキーのハッシュアルゴリズムは MD5、
     そして分散方式は重み付きコンシステント・ハッシュになります。
     これを使うと、他の libketama ベースのクライアント (Python や Ruby など)
     を同じサーバー設定で使え、キーも透過的にアクセスできるようになるので有用です。
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <p class="para">
      コンシステント・ハッシュを使うときは、このオプションを有効にしておくことを強く推奨します。
      将来のリリースでは、これはデフォルトで有効になる予定です。
     </p>
    </p></blockquote>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-buffer-writes"><strong><code>Memcached::OPT_BUFFER_WRITES</code></strong></dt>

   <dd>

    <p class="para">バッファ入出力を有効あるいは無効にします。
     バッファ入出力を有効にすると、ストレージへのコマンドを送信する代わりに
     「バッファ」に向けるようになります。
     データを取得するアクションを実行すると、このバッファをリモート接続に送信します。
     接続を終了したり閉じたりしたときも、バッファに入ったデータをリモート接続に送信します。</p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-binary-protocol"><strong><code>Memcached::OPT_BINARY_PROTOCOL</code></strong></dt>

   <dd>

    <p class="para">バイナリプロトコルを使えるようにします。
     既に開いている接続ではこのオプションを切り替えられないことに注意しましょう。</p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-no-block"><strong><code>Memcached::OPT_NO_BLOCK</code></strong></dt>

   <dd>

    <p class="para">非同期入出力を有効あるいは無効にします。
     これは、ストレージ関数で使える転送の中でも最も高速なものです。</p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-tcp-nodelay"><strong><code>Memcached::OPT_TCP_NODELAY</code></strong></dt>

   <dd>

    <p class="para">ソケット接続用のno-delay機能
     (環境によってはそのほうが高速化する) を有効あるいは無効にします。</p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-socket-send-size"><strong><code>Memcached::OPT_SOCKET_SEND_SIZE</code></strong></dt>

   <dd>

    <p class="para">バッファに送信するソケットの最大のバイト数。</p>
    <p class="para">型: <em>integer</em>、デフォルト: プラットフォームやカーネルの設定によって異なる</p>
   </dd>

  

  
   <dt id="memcached.constants.opt-socket-recv-size"><strong><code>Memcached::OPT_SOCKET_RECV_SIZE</code></strong></dt>

   <dd>

    <p class="para">ソケットの受信バッファの最大のバイト数。</p>
    <p class="para">The maximum socket receive buffer in bytes.</p>
    <p class="para">型: <em>integer</em>、デフォルト: プラットフォームやカーネルの設定によって異なる</p>
   </dd>

  

  
   <dt id="memcached.constants.opt-connect-timeout"><strong><code>Memcached::OPT_CONNECT_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">非ブロックモードの場合、ここにはソケット接続のタイムアウト値をミリ秒単位で指定します。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>1000</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-retry-timeout"><strong><code>Memcached::OPT_RETRY_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">接続に失敗したときに、どれだけ失敗するまで接続を再試行するかどうかを、秒数で表す。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>0</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-send-timeout"><strong><code>Memcached::OPT_SEND_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">ソケットの送信タイムアウトをマイクロ秒で指定します。
     非ブロックモードの入出力を使えない場合でも、
     これを使ってデータ送信のタイムアウトを指定できます。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>0</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-recv-timeout"><strong><code>Memcached::OPT_RECV_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">ソケットの読み込みタイムアウトをマイクロ秒で指定します。
     非ブロックモードの入出力を使えない場合でも、
     これを使ってデータ読み込みのタイムアウトを指定できます。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>0</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-poll-timeout"><strong><code>Memcached::OPT_POLL_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">接続をポーリングする際のタイムアウト時間をミリ秒単位で指定します。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>1000</em></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-cache-lookups"><strong><code>Memcached::OPT_CACHE_LOOKUPS</code></strong></dt>

   <dd>

    <p class="para">DNS ルックアップのキャッシュを有効あるいは無効にします。</p>
    <p class="para">型: <em>boolean</em>、デフォルト: <strong><code>FALSE</code></strong></p>
   </dd>

  

  
   <dt id="memcached.constants.opt-server-failure-limit"><strong><code>Memcached::OPT_SERVER_FAILURE_LIMIT</code></strong></dt>

   <dd>

    <p class="para">サーバーへの接続の最大試行回数を指定します。
     指定した回数だけ接続の失敗が続くと、サーバーが削除されます。</p>
    <p class="para">型: <em>integer</em>、デフォルト: <em>0</em></p>
   </dd>

  

  
   <dt id="memcached.constants.have-igbinary"><strong><code>Memcached::HAVE_IGBINARY</code></strong></dt>

   <dd>

    <p class="para">igbqinary シリアライザのサポートが有効かどうかを示します。</p>
    <p class="para">型: <em>boolean</em></p>
   </dd>

  

  
   <dt id="memcached.constants.have-json"><strong><code>Memcached::HAVE_JSON</code></strong></dt>

   <dd>

    <p class="para">JSON シリアライザのサポートが有効かどうかを示します。</p>
    <p class="para">型: <em>boolean</em></p>
   </dd>

  

  
   <dt id="memcached.constants.get-preserve-order"><strong><code>Memcached::GET_PRESERVE_ORDER</code></strong></dt>

   <dd>

    <p class="para"><span class="function"><a href="memcached.getmulti.html" class="function">Memcached::getMulti()</a></span> や
     <span class="function"><a href="memcached.getmultibykey.html" class="function">Memcached::getMultiByKey()</a></span> のフラグで、
     リクエストしたときと同じ順番でキーを返すことを示します。
     存在しないキーを指定すると、デフォルト値の NULL を返します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-success"><strong><code>Memcached::RES_SUCCESS</code></strong></dt>

   <dd>

    <p class="para">実行しようとした操作が成功したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-failure"><strong><code>Memcached::RES_FAILURE</code></strong></dt>

   <dd>

    <p class="para">実行しようとした操作が何らかの点で失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-host-lookup-failure"><strong><code>Memcached::RES_HOST_LOOKUP_FAILURE</code></strong></dt>

   <dd>

    <p class="para">DNSの名前解決が失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-unknown-read-failure"><strong><code>Memcached::RES_UNKNOWN_READ_FAILURE</code></strong></dt>

   <dd>

    <p class="para">ネットワーク経由でのデータの読み取りに失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-protocol-error"><strong><code>Memcached::RES_PROTOCOL_ERROR</code></strong></dt>

   <dd>

    <p class="para">memcached プロトコル内で不正なコマンドが実行されたことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-client-error"><strong><code>Memcached::RES_CLIENT_ERROR</code></strong></dt>

   <dd>

    <p class="para">クライアント側でエラーが起きたことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-server-error"><strong><code>Memcached::RES_SERVER_ERROR</code></strong></dt>

   <dd>

    <p class="para">サーバー側でエラーが起きたことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-write-failure"><strong><code>Memcached::RES_WRITE_FAILURE</code></strong></dt>

   <dd>

    <p class="para">ネットワーク経由でのデータの書き込みに失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-data-exists"><strong><code>Memcached::RES_DATA_EXISTS</code></strong></dt>

   <dd>

    <p class="para">比較と交換に失敗したことを示します。格納しようとしたアイテムは、
     最後に取得したあとで変更されています。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-notstored"><strong><code>Memcached::RES_NOTSTORED</code></strong></dt>

   <dd>

    <p class="para">アイテムが格納されなかったが、その原因はエラーではないということを示します。
     これは通常、&quot;add&quot; や &quot;replace&quot; コマンドの要件を満たさなかったか
     あるいはアイテムが削除キューに入っていることを意味します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-notfound"><strong><code>Memcached::RES_NOTFOUND</code></strong></dt>

   <dd>

    <p class="para">このキーのアイテムが (&quot;get&quot; や &quot;cas&quot;
     の操作で) 見つからなかったことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-partial-read"><strong><code>Memcached::RES_PARTIAL_READ</code></strong></dt>

   <dd>

    <p class="para">ネットワーク経由でのデータの読み取りが一部失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-some-errors"><strong><code>Memcached::RES_SOME_ERRORS</code></strong></dt>

   <dd>

    <p class="para">multi-get を実行中にエラーが発生したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-no-servers"><strong><code>Memcached::RES_NO_SERVERS</code></strong></dt>

   <dd>

    <p class="para">サーバーリストが空であることを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-end"><strong><code>Memcached::RES_END</code></strong></dt>

   <dd>

    <p class="para">結果セットの末尾を示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-errno"><strong><code>Memcached::RES_ERRNO</code></strong></dt>

   <dd>

    <p class="para">システムエラーを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-buffered"><strong><code>Memcached::RES_BUFFERED</code></strong></dt>

   <dd>

    <p class="para">実行している操作がバッファリングされていることを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-timeout"><strong><code>Memcached::RES_TIMEOUT</code></strong></dt>

   <dd>

    <p class="para">実行がタイムアウトしたことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-bad-key-provided"><strong><code>Memcached::RES_BAD_KEY_PROVIDED</code></strong></dt>

   <dd>

    <p class="para">不正なキーを与えたことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-connection-socket-create-failure"><strong><code>Memcached::RES_CONNECTION_SOCKET_CREATE_FAILURE</code></strong></dt>

   <dd>

    <p class="para">ネットワークソケットの作成が失敗したことを示します。</p>
   </dd>

  

  
   <dt id="memcached.constants.res-payload-failure"><strong><code>Memcached::RES_PAYLOAD_FAILURE</code></strong></dt>

   <dd>

    <p class="para">ペイロードに関するエラー: つまり、値を シリアライズ/復元 したり、圧縮/解凍 することができなかったことを示します。</p>
   </dd>

  

 </dl>

</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104120""></a>
  <div class="note">
   <strong class="user">Allen Tsai</strong>
   <a href="#104120" class="date">25-May-2011 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Memcached::OPT_SERVER_FAILURE_LIMIT - once a server has hit this limit, the client's getResultMessage() will return "SERVER IS MARKED DEAD."&nbsp; Further gets() for keys hashing to this server will continue returning this message, as will sets() hashing to the dead server.<br />
<br />
Version 2.0.01b supports a constant Memcached::OPT_AUTO_EJECT_HOSTS which allows automatic rebalancing of the cluster/automatic failover handling.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101601""></a>
  <div class="note">
   <strong class="user">akenney at onesite dot com</strong>
   <a href="#101601" class="date">29-Dec-2010 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Apparently there is a bug in libmemcached where connect timeout does not work when OPT_NO_BLOCK is set as well.<br />
<br />
The bug and related blocking bugs are discussed here:<br />
https://bugs.launchpad.net/libmemcached/+bug/583031<br />
<br />
We confirmed this in libmemcached version 0.43 <br />
<br />
Be sure to test some memcache servers in your pool being unavailable (no route to host and memcache service down) to ensure that timeout settings are working correctly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95793""></a>
  <div class="note">
   <strong class="user">tyliu2 at gmail dot com</strong>
   <a href="#95793" class="date">22-Jan-2010 07:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
RES_SUCCESS = 0<br />
RES_FAILURE = 1<br />
RES_HOST_LOOKUP_FAILURE = 2<br />
RES_UNKNOWN_READ_FAILURE = 7<br />
RES_PROTOCOL_ERROR = 8<br />
RES_CLIENT_ERROR = 9<br />
RES_SERVER_ERROR = 10<br />
RES_WRITE_FAILURE = 5<br />
RES_DATA_EXISTS = 12<br />
RES_NOTSTORED = 14<br />
RES_NOTFOUND = 16<br />
RES_PARTIAL_READ = 18<br />
RES_SOME_ERRORS = 19<br />
RES_NO_SERVERS = 20<br />
RES_END = 21<br />
RES_ERRNO = 26<br />
RES_BUFFERED = 32<br />
RES_TIMEOUT = 31<br />
RES_BAD_KEY_PROVIDED = 33<br />
RES_CONNECTION_SOCKET_CREATE_FAILURE = 11<br />
RES_PAYLOAD_FAILURE = -1001</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
